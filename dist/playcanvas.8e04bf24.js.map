{"version":3,"sources":["js/lib/playcanvas.js"],"names":["root","factory","define","amd","module","exports","pc","Math","log2","x","log","LOG2E","Object","assign","defineProperty","value","target","varArgs","TypeError","to","index","arguments","length","nextSource","nextKey","prototype","hasOwnProperty","call","writable","configurable","navigator","document","pointer","webkitPointer","mozPointer","pointerlockchange","e","createEvent","initCustomEvent","dispatchEvent","pointerlockerror","addEventListener","Element","mozRequestPointerLock","requestPointerLock","webkitRequestPointerLock","el","pointerLockElement","lock","exitPointerLock","webkitExitPointerLock","mozExitPointerLock","unlock","window","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","max","id","setTimeout","clearTimeout","String","endsWith","search","this_len","undefined","substring","includes","start","indexOf","startsWith","pos","substr","_typeLookup","result","names","i","toLowerCase","version","revision","config","common","apps","data","unpack","console","warn","makeArray","arr","ret","push","type","obj","toString","extend","ex","prop","copy","isDefined","o","a","Color","r","g","b","clone","rhs","set","lerp","lhs","alpha","fromString","hex","parseInt","replace","bytes","math","intToBytes32","intToBytes24","s","round","slice","guid","create","c","random","v","Timer","_isRunning","_a","_b","now","stop","getMilliseconds","performance","timing","hashCode","str","hash","len","charCodeAt","createURI","options","authority","scheme","host","hostpath","Error","path","query","fragment","URI","uri","re","match","getQuery","vars","pair","decodeURIComponent","split","forEach","item","setQuery","params","q","key","encodeURIComponent","write","text","open","info","debug","error","warning","alert","assert","condition","logINFO","logDEBUG","logWARNING","logERROR","logALERT","logASSERT","delimiter","join","num","one","two","normalize","lead","trail","parts","cleaned","tail","head","getBasename","getDirectory","getExtension","ext","pop","isRelativePath","charAt","extractPath","string","ASCII_LOWERCASE","ASCII_UPPERCASE","ASCII_LETTERS","HIGH_SURROGATE_BEGIN","HIGH_SURROGATE_END","LOW_SURROGATE_BEGIN","LOW_SURROGATE_END","ZERO_WIDTH_JOINER","REGIONAL_INDICATOR_BEGIN","REGIONAL_INDICATOR_END","FITZPATRICK_MODIFIER_BEGIN","FITZPATRICK_MODIFIER_END","DIACRITICAL_MARKS_BEGIN","DIACRITICAL_MARKS_END","VARIATION_MODIFIER_BEGIN","VARIATION_MODIFIER_END","getCodePointData","size","first","second","code","isCodeBetween","begin","end","codeData","numCharsToTakeForNextSymbol","format","regexp","args","shift","RegExp","subs","toBool","strict","getCodePoint","codePointData","getCodePoints","codePoint","getSymbols","output","take","ch","char","fromCodePoint","chars","current","units","Number","fromCharCode","apply","table","row","title","field","display","init","createElement","style","cssText","top","left","border","body","appendChild","innerHTML","cloneNode","t","f","textContent","EventHandler","_callbacks","_callbackActive","on","name","scope","off","events","count","fire","arg1","arg2","arg3","arg4","arg5","arg6","arg7","arg8","callbacks","evt","once","ind","splice","hasEvent","attach","ev","TagsCache","_index","_key","addItem","tags","_list","add","removeItem","remove","tag","list","keys","find","self","items","n","tagsRest","missingIndex","sort","Array","has","Tags","parent","_parent","constructor","changed","_processArguments","clear","_has","multiple","flat","tmp","get","AllocatePool","_constructor","_pool","_count","_resize","allocate","freeAll","platform","desktop","mobile","ios","android","windows","xbox","gamepads","touch","workers","ua","userAgent","test","maxTouchPoints","Worker","IndexedList","location","idx","DEG_TO_RAD","PI","RAD_TO_DEG","clamp","min","bytesToInt24","bytesToInt32","lerpAngle","powerOfTwo","nextPowerOfTwo","val","diff","smoothstep","smootherstep","Vec2","y","add2","distance","sqrt","dot","equals","lengthSq","mul","mul2","invLength","scale","scalar","sub","sub2","right","down","zero","Vec3","z","cross","lx","ly","lz","rx","ry","rz","project","a_dot_b","b_dot_b","back","forward","Vec4","w","Mat3","Float32Array","src","dst","l","isIdentity","m","setIdentity","transpose","identity","Mat4","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b0","b1","b2","b3","transformPoint","vec","res","transformVector","transformVec4","setLookAt","position","up","setFrustum","bottom","znear","zfar","temp1","temp2","temp3","temp4","setPerspective","fov","aspect","fovIsHorizontal","xmax","ymax","tan","setOrtho","near","far","setFromAxisAngle","axis","angle","tx","ty","cos","sin","setTranslate","setScale","invert","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","invDet","setTRS","tz","qx","qy","qz","qw","sx","sy","sz","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","invertTo3x3","idet","m0","m1","m2","m4","m5","m6","m8","m9","m10","getTranslation","getX","getY","getZ","getScale","setFromEulerAngles","ey","ez","s1","c1","s2","c2","s3","c3","getEulerAngles","eulers","halfPi","asin","atan2","Quat","conjugate","getAxisAngle","rad","acos","a2","q1x","q1y","q1z","q1w","q2x","q2y","q2z","q2w","sa","ca","cx","cy","cz","halfToRad","setFromMat4","m00","m01","m02","m11","m12","m20","m21","m22","tr","rs","slerp","lw","rw","cosHalfTheta","abs","halfTheta","sinHalfTheta","ratioA","ratioB","ix","iy","iz","iw","CURVE_LINEAR","CURVE_SMOOTHSTEP","CURVE_CATMULL","CURVE_CARDINAL","CURVE_SPLINE","CURVE_STEP","Curve","tension","_eval","CurveEvaluator","time","evaluate","closest","quantize","precision","values","step","quantizeClamped","CurveSet","curves","_type","arg","numCurves","curve","_curve","_left","Infinity","_right","_recip","_p0","_p1","_m0","_m1","_reset","forceReset","_evaluateHermite","isFinite","_isHermite","_calcTangents","d","s1_","s2_","a_","d_","p0","p1","t2","twot","omt","omt2","tmpVecA","tmpVecB","tmpVecC","tmpVecD","tmpVecE","BoundingBox","center","halfExtents","_min","_max","other","tc","tcx","tcy","tcz","th","thx","thy","thz","tminx","tmaxx","tminy","tmaxy","tminz","tmaxz","oc","ocx","ocy","ocz","oh","ohx","ohy","ohz","ominx","omaxx","ominy","omaxy","ominz","omaxz","intersects","aMax","getMax","aMin","getMin","bMax","bMin","_intersectsRay","ray","point","tMin","origin","tMax","dir","direction","MAX_VALUE","realMin","realMax","minMax","maxMin","_fastIntersectsRay","prod","absDiff","absDir","rayDir","intersectsRay","setMinMax","containsPoint","setFromTransformedAabb","aabb","bc","br","ac","ar","mx0","mx1","mx2","my0","my1","my2","mz0","mz1","mz2","mx0a","mx1a","mx2a","my0a","my1a","my2a","mz0a","mz1a","mz2a","compute","vertices","numVerts","intersectsBoundingSphere","sphere","sq","_distanceToBoundingSphereSq","radius","boxMin","boxMax","out","pn","BoundingSphere","lenSq","vertex","avgVertex","sum","addSelf","maxDistSq","centerToVert","discr","totalRadius","viewProj","Frustum","projectionMatrix","viewMatrix","planes","update","vpm","p","containsSphere","sr","sc","scx","scy","scz","plane","Plane","normal","intersectsLine","d0","d1","pointToOrigin","Ray","tmpRay","tmpVec3","tmpSphere","tmpMat4","OrientedBox","worldTransform","_modelTransform","_worldTransform","_aabb","enums","ADDRESS_REPEAT","ADDRESS_CLAMP_TO_EDGE","ADDRESS_MIRRORED_REPEAT","BLENDMODE_ZERO","BLENDMODE_ONE","BLENDMODE_SRC_COLOR","BLENDMODE_ONE_MINUS_SRC_COLOR","BLENDMODE_DST_COLOR","BLENDMODE_ONE_MINUS_DST_COLOR","BLENDMODE_SRC_ALPHA","BLENDMODE_SRC_ALPHA_SATURATE","BLENDMODE_ONE_MINUS_SRC_ALPHA","BLENDMODE_DST_ALPHA","BLENDMODE_ONE_MINUS_DST_ALPHA","BLENDEQUATION_ADD","BLENDEQUATION_SUBTRACT","BLENDEQUATION_REVERSE_SUBTRACT","BLENDEQUATION_MIN","BLENDEQUATION_MAX","BUFFER_STATIC","BUFFER_DYNAMIC","BUFFER_STREAM","BUFFER_GPUDYNAMIC","CLEARFLAG_COLOR","CLEARFLAG_DEPTH","CLEARFLAG_STENCIL","CUBEFACE_POSX","CUBEFACE_NEGX","CUBEFACE_POSY","CUBEFACE_NEGY","CUBEFACE_POSZ","CUBEFACE_NEGZ","CULLFACE_NONE","CULLFACE_BACK","CULLFACE_FRONT","CULLFACE_FRONTANDBACK","TYPE_INT8","TYPE_UINT8","TYPE_INT16","TYPE_UINT16","TYPE_INT32","TYPE_UINT32","TYPE_FLOAT32","FILTER_NEAREST","FILTER_LINEAR","FILTER_NEAREST_MIPMAP_NEAREST","FILTER_NEAREST_MIPMAP_LINEAR","FILTER_LINEAR_MIPMAP_NEAREST","FILTER_LINEAR_MIPMAP_LINEAR","FUNC_NEVER","FUNC_LESS","FUNC_EQUAL","FUNC_LESSEQUAL","FUNC_GREATER","FUNC_NOTEQUAL","FUNC_GREATEREQUAL","FUNC_ALWAYS","INDEXFORMAT_UINT8","INDEXFORMAT_UINT16","INDEXFORMAT_UINT32","PIXELFORMAT_A8","PIXELFORMAT_L8","PIXELFORMAT_L8_A8","PIXELFORMAT_R5_G6_B5","PIXELFORMAT_R5_G5_B5_A1","PIXELFORMAT_R4_G4_B4_A4","PIXELFORMAT_R8_G8_B8","PIXELFORMAT_R8_G8_B8_A8","PIXELFORMAT_DXT1","PIXELFORMAT_DXT3","PIXELFORMAT_DXT5","PIXELFORMAT_RGB16F","PIXELFORMAT_RGBA16F","PIXELFORMAT_RGB32F","PIXELFORMAT_RGBA32F","PIXELFORMAT_R32F","PIXELFORMAT_DEPTH","PIXELFORMAT_DEPTHSTENCIL","PIXELFORMAT_111110F","PIXELFORMAT_SRGB","PIXELFORMAT_SRGBA","PIXELFORMAT_ETC1","PIXELFORMAT_ETC2_RGB","PIXELFORMAT_ETC2_RGBA","PIXELFORMAT_PVRTC_2BPP_RGB_1","PIXELFORMAT_PVRTC_2BPP_RGBA_1","PIXELFORMAT_PVRTC_4BPP_RGB_1","PIXELFORMAT_PVRTC_4BPP_RGBA_1","PIXELFORMAT_ASTC_4x4","PIXELFORMAT_ATC_RGB","PIXELFORMAT_ATC_RGBA","PRIMITIVE_POINTS","PRIMITIVE_LINES","PRIMITIVE_LINELOOP","PRIMITIVE_LINESTRIP","PRIMITIVE_TRIANGLES","PRIMITIVE_TRISTRIP","PRIMITIVE_TRIFAN","SEMANTIC_POSITION","SEMANTIC_NORMAL","SEMANTIC_TANGENT","SEMANTIC_BLENDWEIGHT","SEMANTIC_BLENDINDICES","SEMANTIC_COLOR","SEMANTIC_TEXCOORD0","SEMANTIC_TEXCOORD1","SEMANTIC_TEXCOORD2","SEMANTIC_TEXCOORD3","SEMANTIC_TEXCOORD4","SEMANTIC_TEXCOORD5","SEMANTIC_TEXCOORD6","SEMANTIC_TEXCOORD7","SEMANTIC_ATTR0","SEMANTIC_ATTR1","SEMANTIC_ATTR2","SEMANTIC_ATTR3","SEMANTIC_ATTR4","SEMANTIC_ATTR5","SEMANTIC_ATTR6","SEMANTIC_ATTR7","SEMANTIC_ATTR8","SEMANTIC_ATTR9","SEMANTIC_ATTR10","SEMANTIC_ATTR11","SEMANTIC_ATTR12","SEMANTIC_ATTR13","SEMANTIC_ATTR14","SEMANTIC_ATTR15","SHADERTAG_MATERIAL","STENCILOP_KEEP","STENCILOP_ZERO","STENCILOP_REPLACE","STENCILOP_INCREMENT","STENCILOP_INCREMENTWRAP","STENCILOP_DECREMENT","STENCILOP_DECREMENTWRAP","STENCILOP_INVERT","TEXTURELOCK_READ","TEXTURELOCK_WRITE","TEXHINT_NONE","TEXHINT_SHADOWMAP","TEXHINT_ASSET","TEXHINT_LIGHTMAP","UNIFORMTYPE_BOOL","UNIFORMTYPE_INT","UNIFORMTYPE_FLOAT","UNIFORMTYPE_VEC2","UNIFORMTYPE_VEC3","UNIFORMTYPE_VEC4","UNIFORMTYPE_IVEC2","UNIFORMTYPE_IVEC3","UNIFORMTYPE_IVEC4","UNIFORMTYPE_BVEC2","UNIFORMTYPE_BVEC3","UNIFORMTYPE_BVEC4","UNIFORMTYPE_MAT2","UNIFORMTYPE_MAT3","UNIFORMTYPE_MAT4","UNIFORMTYPE_TEXTURE2D","UNIFORMTYPE_TEXTURECUBE","UNIFORMTYPE_FLOATARRAY","UNIFORMTYPE_TEXTURE2D_SHADOW","UNIFORMTYPE_TEXTURECUBE_SHADOW","UNIFORMTYPE_TEXTURE3D","gfx","ScopeId","versionObject","VersionedObject","setValue","increment","getValue","ScopeSpace","variables","namespaces","resolve","getSubSpace","Version","globalId","notequals","reset","idCounter","VertexIteratorAccessor","buffer","vertexElement","dataType","array","Int8Array","offset","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","numComponents","VertexIteratorAccessor_set1","VertexIteratorAccessor_set2","VertexIteratorAccessor_set3","VertexIteratorAccessor_set4","VertexIterator","vertexBuffer","accessors","vertexFormat","getFormat","elements","next","numAccessors","accessor","BYTES_PER_ELEMENT","_typeSize","VertexFormat","graphicsDevice","description","hasUv0","hasUv1","hasColor","hasTangents","elementDesc","semantic","stride","stream","scopeId","components","ceil","VertexBuffer","numVertices","usage","initialData","numBytes","_vram","vb","device","setData","storage","ArrayBuffer","buffers","destroy","bufferId","gl","deleteBuffer","byteLength","boundBuffer","vertexBuffers","vbOffsets","attributesInvalidated","loc","enabledAttributes","disableVertexAttribArray","getUsage","getNumVertices","createBuffer","glUsage","STATIC_DRAW","DYNAMIC_DRAW","STREAM_DRAW","webgl2","DYNAMIC_COPY","bindBuffer","ARRAY_BUFFER","bufferData","IndexBuffer","numIndices","bytesPerIndex","glFormat","UNSIGNED_BYTE","UNSIGNED_SHORT","UNSIGNED_INT","ib","indexBuffer","getNumIndices","ELEMENT_ARRAY_BUFFER","TransformFeedback","inputBuffer","_inputBuffer","_outputBuffer","createShader","vsCode","shaderChunks","createShaderFromCode","process","shader","swap","setRenderTarget","updateBegin","setVertexBuffer","setRaster","setTransformFeedbackBuffer","setShader","draw","base","indexed","updateEnd","Texture","_width","_height","_depth","_format","rgbm","_cubemap","_volume","fixCubemapSeams","_flipY","_premultiplyAlpha","_mipmaps","_minFilter","_magFilter","_anisotropy","_addressU","_addressV","_addressW","_compareOnRead","_compareFunc","width","height","mipmaps","autoMipmap","_levels","levels","cubemap","minFilter","magFilter","anisotropy","addressU","addressV","compareOnRead","flipY","premultiplyAlpha","depth","volume","addressW","_compressed","_invalid","_lockedLevel","dirtyAll","_gpuSize","_parameterFlags","_minFilterDirty","_needsMipmapsUpload","_pixelFormat2Size","mips","pot","mipWidth","mipHeight","mipDepth","floor","DXT_BLOCK_WIDTH","DXT_BLOCK_HEIGHT","blockSize","numBlocksAcross","numBlocksDown","numBlocks","_needsUpload","destroyTexture","_levelsUpdated","_mipmapsUploaded","level","face","mode","setSource","source","mipLevel","invalid","HTMLImageElement","HTMLCanvasElement","HTMLVideoElement","upload","getSource","getDds","fsize","j","mipSize","buff","header","DDS_MAGIC","DDS_HEADER_SIZE","DDS_FLAGS_REQUIRED","DDS_FLAGS_MIPMAP","DDS_PIXELFORMAT_SIZE","DDS_PIXELFLAGS_RGBA8","DDS_CAPS_REQUIRED","DDS_CAPS_MIPMAP","DDS_CAPS_COMPLEX","DDS_CAPS2_CUBEMAP","flags","caps","caps2","mip","defaultOptions","RenderTarget","_arg2","_arg3","GraphicsDevice","_colorBuffer","colorBuffer","_glFrameBuffer","_glDepthBuffer","_depthBuffer","depthBuffer","_face","_stencil","stencil","_samples","samples","autoResolve","_glResolveFrameBuffer","_glMsaaColorBuffer","_glMsaaDepthBuffer","_device","targets","deleteFramebuffer","deleteRenderbuffer","color","bindFramebuffer","READ_FRAMEBUFFER","DRAW_FRAMEBUFFER","blitFramebuffer","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","NEAREST","FRAMEBUFFER","copyRenderTarget","ShaderInput","locationId","Shader","definition","attributes","uniforms","samplers","ready","destroyShader","ProgramLibrary","_cache","_generators","_isClearingCache","_precached","_programsCollection","_defaultStdMatOption","_defaultStdMatOptionMin","StandardMaterial","shaderOptBuilder","updateRef","SHADER_FORWARD","updateMinRef","SHADER_SHADOW","register","generator","isRegistered","unregister","getProgram","gd","generateKey","lights","map","lcopy","storeNewProgram","shaderDefinition","createShaderDefinition","opt","defaultMat","_getDefaultStdMatOptions","pass","JSON","stringify","dumpPrograms","setAttribute","click","removeChild","clearCache","cache","removeFromCache","SHADER_FORWARDHDR","SHADER_PICK","precompile","shaders","useTexCubeLod","EVENT_RESIZE","_downsampleImage","image","srcW","srcH","dstW","dstH","canvas","context","getContext","drawImage","testRenderable","pixelFormat","texture","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","texImage2D","RGBA","framebuffer","createFramebuffer","framebufferTexture2D","COLOR_ATTACHMENT0","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","deleteTexture","testTextureFloatHighPrecision","textureFloatRenderable","chunks","test1","fullscreenQuadVS","precisionTestPS","test2","precisionTest2PS","textureOptions","tex1","targ1","drawQuadWithShader","tex2","targ2","constantTexSource","prevFramebuffer","activeFramebuffer","setFramebuffer","pixels","readPixels","_enableAutoInstancing","autoInstancingMaxObjects","boundElementBuffer","instancedAttribs","transformFeedbackBuffer","textureUnit","textureUnits","_maxPixelRatio","renderTarget","feedback","updateClientRect","vertexShaderCache","fragmentShaderCache","textures","contextLost","_contextLostHandler","event","preventDefault","bind","_contextRestoredHandler","initializeContext","preferWebGl2","initializeExtensions","initializeCapabilities","initializeRenderState","maxCombinedTextures","defaultClearOptions","glAddress","REPEAT","MIRRORED_REPEAT","glBlendEquation","FUNC_ADD","FUNC_SUBTRACT","FUNC_REVERSE_SUBTRACT","MIN","extBlendMinmax","MIN_EXT","MAX","MAX_EXT","glBlendFunction","ZERO","ONE","SRC_COLOR","ONE_MINUS_SRC_COLOR","DST_COLOR","ONE_MINUS_DST_COLOR","SRC_ALPHA","SRC_ALPHA_SATURATE","ONE_MINUS_SRC_ALPHA","DST_ALPHA","ONE_MINUS_DST_ALPHA","glComparison","NEVER","LESS","EQUAL","LEQUAL","GREATER","NOTEQUAL","GEQUAL","ALWAYS","glStencilOp","KEEP","REPLACE","INCR","INCR_WRAP","DECR","DECR_WRAP","INVERT","glClearFlag","STENCIL_BUFFER_BIT","glCull","BACK","FRONT","FRONT_AND_BACK","glFilter","LINEAR","NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_NEAREST","LINEAR_MIPMAP_LINEAR","glPrimitive","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","glType","BYTE","SHORT","INT","FLOAT","pcUniformType","BOOL","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","INT_VEC2","INT_VEC3","INT_VEC4","BOOL_VEC2","BOOL_VEC3","BOOL_VEC4","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","SAMPLER_2D","SAMPLER_CUBE","SAMPLER_2D_SHADOW","SAMPLER_CUBE_SHADOW","SAMPLER_3D","targetToSlot","TEXTURE_CUBE_MAP","TEXTURE_3D","scopeX","scopeY","scopeZ","scopeW","uniformValue","commitFunction","uniform","uniform1i","uniform1f","uniform2fv","uniform3fv","uniform4fv","uniform2iv","uniform3iv","uniform4iv","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv","uniform1fv","programLib","programlib","supportsBoneTextures","extTextureFloat","maxVertexTextures","extTextureLod","maxTextures","numUniforms","vertexUniformsCount","boneLimit","unmaskedRenderer","_drawCallsPerFrame","_shaderSwitchesPerFrame","_primsPerFrame","_renderTargetCreationTime","tex","_shaderStats","vsCompiled","fsCompiled","linked","materialShaders","compileTime","extColorBufferFloat","extTextureHalfFloat","textureHalfFloatRenderable","HALF_FLOAT_OES","_textureFloatHighPrecision","createGrabPass","getPrecision","getShaderPrecisionFormat","vertexShaderPrecisionHighpFloat","VERTEX_SHADER","HIGH_FLOAT","vertexShaderPrecisionMediumpFloat","MEDIUM_FLOAT","fragmentShaderPrecisionHighpFloat","FRAGMENT_SHADER","fragmentShaderPrecisionMediumpFloat","highpAvailable","mediumpAvailable","supportedExtensions","getSupportedExtensions","extension","extDrawBuffers","extInstancing","extStandardDerivatives","extTextureHalfFloatLinear","extUintElement","extVertexArrayObject","drawArraysInstanced","drawArraysInstancedANGLE","drawElementsInstanced","drawElementsInstancedANGLE","vertexAttribDivisor","vertexAttribDivisorANGLE","createVertexArray","createVertexArrayOES","deleteVertexArray","deleteVertexArrayOES","isVertexArray","isVertexArrayOES","bindVertexArray","bindVertexArrayOES","extDebugRendererInfo","extTextureFloatLinear","extTextureFilterAnisotropic","extCompressedTextureETC1","extCompressedTextureETC","extCompressedTexturePVRTC","extCompressedTextureS3TC","extCompressedTextureATC","extCompressedTextureASTC","extParallelShaderCompile","maxPrecision","contextAttribs","getContextAttributes","supportsMsaa","antialias","supportsStencil","maxTextureSize","getParameter","MAX_TEXTURE_SIZE","maxCubeMapSize","MAX_CUBE_MAP_TEXTURE_SIZE","maxRenderBufferSize","MAX_RENDERBUFFER_SIZE","MAX_TEXTURE_IMAGE_UNITS","MAX_COMBINED_TEXTURE_IMAGE_UNITS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_VERTEX_UNIFORM_VECTORS","fragmentUniformsCount","MAX_FRAGMENT_UNIFORM_VECTORS","maxDrawBuffers","MAX_DRAW_BUFFERS","maxColorAttachments","MAX_COLOR_ATTACHMENTS","maxVolumeSize","MAX_3D_TEXTURE_SIZE","MAX_DRAW_BUFFERS_EXT","MAX_COLOR_ATTACHMENTS_EXT","UNMASKED_RENDERER_WEBGL","unmaskedVendor","UNMASKED_VENDOR_WEBGL","maxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","SAMPLES","blending","disable","BLEND","blendSrc","blendDst","blendSrcAlpha","blendDstAlpha","separateAlphaBlend","blendEquation","blendAlphaEquation","separateAlphaEquation","blendFunc","writeRed","writeGreen","writeBlue","writeAlpha","colorMask","cullMode","enable","CULL_FACE","cullFace","depthTest","DEPTH_TEST","depthFunc","depthWrite","depthMask","STENCIL_TEST","stencilFuncFront","stencilFuncBack","stencilRefFront","stencilRefBack","stencilMaskFront","stencilMaskBack","stencilFunc","stencilFailFront","stencilFailBack","stencilZfailFront","stencilZfailBack","stencilZpassFront","stencilZpassBack","stencilWriteMaskFront","stencilWriteMaskBack","stencilOp","stencilMask","alphaToCoverage","raster","SAMPLE_ALPHA_TO_COVERAGE","RASTERIZER_DISCARD","depthBiasEnabled","POLYGON_OFFSET_FILL","clearDepth","clearRed","clearBlue","clearGreen","clearAlpha","clearColor","clearStencil","vx","vy","vw","vh","sw","sh","hint","FRAGMENT_SHADER_DERIVATIVE_HINT","NICEST","FRAGMENT_SHADER_DERIVATIVE_HINT_OES","SCISSOR_TEST","pixelStorei","UNPACK_COLORSPACE_CONVERSION_WEBGL","NONE","unpackFlipY","UNPACK_FLIP_Y_WEBGL","unpackPremultiplyAlpha","UNPACK_PREMULTIPLY_ALPHA_WEBGL","compileAndLinkShader","grabPassTexture","grabPassTextureId","updateGrabPass","_glFormat","copyTexImage2D","destroyGrabPass","clientRect","getBoundingClientRect","setViewport","h","viewport","setScissor","scissor","getProgramLibrary","setProgramLibrary","fb","_checkFbo","status","FRAMEBUFFER_INCOMPLETE_ATTACHMENT","FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT","FRAMEBUFFER_INCOMPLETE_DIMENSIONS","FRAMEBUFFER_UNSUPPORTED","dest","prevRt","_copyShader","outputTex2DPS","_glTexture","setTexture","TEXTURE_CUBE_MAP_POSITIVE_X","DEPTH_STENCIL_ATTACHMENT","DEPTH_ATTACHMENT","willRenderMsaa","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","DEPTH_STENCIL","framebufferRenderbuffer","DEPTH_COMPONENT16","renderbufferStorageMultisample","_glInternalFormat","DEPTH24_STENCIL8","DEPTH_COMPONENT32F","activeTexture","generateMipmap","_glTarget","initializeTexture","ALPHA","_glPixelType","LUMINANCE","LUMINANCE_ALPHA","RGB","UNSIGNED_SHORT_5_6_5","UNSIGNED_SHORT_5_5_5_1","UNSIGNED_SHORT_4_4_4_4","RGB8","RGBA8","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","COMPRESSED_RGBA_ASTC_4x4_KHR","COMPRESSED_RGB_ATC_WEBGL","COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL","RGB16F","HALF_FLOAT","RGBA16F","RGB32F","RGBA32F","RED","R32F","DEPTH_COMPONENT","UNSIGNED_INT_24_8","R11F_G11F_B10F","SRGB8","SRGB8_ALPHA8","uniformName","setUnpackFlipY","setUnpackPremultiplyAlpha","uploadTexture","mipObject","resMult","requiredMipLevels","pow","texData","compressedTexImage2D","compressedTexImage3D","texImage3D","gpuSize","TEXTURE0","textureTarget","textureObject","slot","bindTextureOnUnit","setTextureParameters","filter","TEXTURE_WRAP_R","TEXTURE_COMPARE_MODE","COMPARE_REF_TO_TEXTURE","TEXTURE_COMPARE_FUNC","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","setBuffers","numInstances","attribute","vbOffset","enableVertexAttribArray","vertexAttribPointer","primitive","sampler","samplerValue","numTextures","uniformVersion","programVersion","uniform1iv","bindBufferBase","TRANSFORM_FEEDBACK_BUFFER","beginTransformFeedback","drawElements","drawArrays","endTransformFeedback","setClearColor","setClearDepth","setClearStencil","getRenderTarget","getDepthTest","setDepthTest","setDepthFunc","func","getDepthWrite","setDepthWrite","writeDepth","setColorWrite","setAlphaToCoverage","state","tf","createTransformFeedback","bindTransformFeedback","TRANSFORM_FEEDBACK","setDepthBias","setDepthBiasValues","constBias","slopeBias","polygonOffset","getBlending","setBlending","setStencilTest","setStencilFunc","ref","mask","setStencilFuncFront","stencilFuncSeparate","setStencilFuncBack","setStencilOperation","fail","zfail","zpass","writeMask","setStencilOperationFront","stencilOpSeparate","stencilMaskSeparate","setStencilOperationBack","setBlendFunction","setBlendFunctionSeparate","blendFuncSeparate","setBlendEquation","setBlendEquationSeparate","blendEquationSeparate","setCullMode","getCullMode","setIndexBuffer","numElements","compileShaderSource","isVertexShader","glShader","shaderSource","compileShader","glVertexShader","vshader","glFragmentShader","fshader","glProgram","createProgram","attachShader","useTransformFeedback","attrs","outNames","attr","transformFeedbackVaryings","INTERLEAVED_ATTRIBS","linkProgram","_glVertexShader","_glFragmentShader","_glProgram","deleteProgram","removeShaderFromCache","_addLineNumbers","lines","postLink","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","getProgramParameter","LINK_STATUS","getProgramInfoLog","shaderInput","numAttributes","ACTIVE_ATTRIBUTES","getActiveAttrib","getAttribLocation","ACTIVE_UNIFORMS","getActiveUniform","getUniformLocation","useProgram","getHdrFormat","getBoneLimit","setBoneLimit","maxBones","resizeCanvas","ratio","devicePixelRatio","setResolution","clearShaderCache","shaderSrc","deleteShader","deleteTransformFeedback","removeEventListener","drawingBufferWidth","drawingBufferHeight","fullscreenElement","fullscreen","requestFullscreen","exitFullscreen","attrib2Semantic","vertex_position","vertex_normal","vertex_tangent","vertex_texCoord0","vertex_texCoord1","vertex_texCoord2","vertex_texCoord3","vertex_texCoord4","vertex_texCoord5","vertex_texCoord6","vertex_texCoord7","vertex_color","vertex_boneIndices","vertex_boneWeights","collectAttribs","attribs","found","endOfLine","startOfAttribName","lastIndexOf","attribName","vsName","psName","psCode","precisionCode","versionCode","gles3VS","gles3PS","uName","shaderCache","cached","dummyFragmentCode","_postEffectQuadVB","_postEffectQuadDraw","rect","scissorRect","useBlend","iterator","oldRt","oldVx","oldVy","oldVw","oldVh","oldSx","oldSy","oldSw","oldSh","oldDepthTest","oldDepthWrite","oldCullMode","oldWR","oldWG","oldWB","oldWA","destroyPostEffectQuad","syncToCpu","targ","prefilterCubemap","sourceCubemap","method","cpuSync","rgbmSource","rgbmPS","prefilterCubemapPS","shader2","outputCubemapPS","constantParams","cmapsList","filteredFixed","filteredRgbm","filteredFixedRgbm","gloss","numMips","rgbFormat","isImg","nextCubemap","log128","logSize","steps","sampleGloss","sourceCubemapRgbm","unblurredGloss","startPass","filtered","singleFilteredFixed","concat","_prefilteredMips","singleFilteredFixedRgbm","areaElement","texelCoordSolidAngle","u","_u","_v","invResolution","x0","y0","x1","y1","solidAngle","shFromCubemap","dontFlipX","cubeSize","Application","getApplication","fullscreenQuadPS","img","dirs","coef1","coef2","coef3","coef4","coef5","coef6","coef7","coef8","coef9","nx","px","ny","py","nz","pz","addr","weight","dx","dy","dz","weight1","weight2","weight3","weight4","weight5","accum","dpMult","paraboloidFromCubemap","fixSeamsAmount","fixCubemapSeamsStretchPS","fixCubemapSeamsNonePS","genParaboloidPS","getDpAtlasRect","generateDpAtlas","sixCubemaps","dp","dpAtlasQuadPS","borderSize","mip0Width","scaleFactor","scaleAmount","TBNPS","TBNderivativePS","TBNfastPS","alphaTestPS","ambientConstantPS","ambientPrefilteredCubePS","ambientPrefilteredCubeLodPS","ambientSHPS","aoPS","aoSpecOccPS","aoSpecOccConstPS","aoSpecOccConstSimplePS","aoSpecOccSimplePS","bakeDirLmEndPS","bakeLmEndPS","basePS","baseVS","baseNineSlicedPS","baseNineSlicedVS","baseNineSlicedTiledPS","biasConstPS","blurVSMPS","combineDiffusePS","combineDiffuseSpecularPS","combineDiffuseSpecularNoConservePS","combineDiffuseSpecularNoReflPS","combineDiffuseSpecularNoReflSeparateAmbientPS","combineDiffuseSpecularOldPS","cookiePS","cubeMapProjectBoxPS","cubeMapProjectNonePS","diffusePS","dilatePS","emissivePS","endPS","envConstPS","envMultiplyPS","extensionPS","extensionVS","falloffInvSquaredPS","falloffLinearPS","fogExpPS","fogExp2PS","fogLinearPS","fogNonePS","fresnelSchlickPS","gamma1_0PS","gamma2_2PS","glossPS","instancingVS","lightDiffuseLambertPS","lightDirPointPS","lightSpecularBlinnPS","lightSpecularPhongPS","lightmapDirPS","lightmapSinglePS","lightmapSingleVertPS","metalnessPS","msdfPS","normalVS","normalInstancedVS","normalMapPS","normalMapFloatPS","normalMapFloatTBNfastPS","normalSkinnedVS","normalVertexPS","normalXYPS","normalXYZPS","opacityPS","outputAlphaPS","outputAlphaOpaquePS","outputAlphaPremulPS","packDepthPS","packDepthMaskPS","parallaxPS","particlePS","particleVS","particleAnimFrameClampVS","particleAnimFrameLoopVS","particleAnimTexVS","particleInputFloatPS","particleInputRgba8PS","particleOutputFloatPS","particleOutputRgba8PS","particleUpdaterAABBPS","particleUpdaterEndPS","particleUpdaterInitPS","particleUpdaterNoRespawnPS","particleUpdaterOnStopPS","particleUpdaterRespawnPS","particleUpdaterSpherePS","particleUpdaterStartPS","particle_TBNVS","particle_billboardVS","particle_blendAddPS","particle_blendMultiplyPS","particle_blendNormalPS","particle_cpuVS","particle_cpu_endVS","particle_customFaceVS","particle_endPS","particle_endVS","particle_halflambertPS","particle_initVS","particle_lambertPS","particle_lightingPS","particle_localShiftVS","particle_meshVS","particle_normalVS","particle_normalMapPS","particle_pointAlongVS","particle_softPS","particle_softVS","particle_stretchVS","particle_wrapVS","reflDirPS","reflectionCubePS","reflectionDpAtlasPS","reflectionPrefilteredCubePS","reflectionPrefilteredCubeLodPS","reflectionSpherePS","reflectionSphereLowPS","refractionPS","screenDepthPS","shadowCommonPS","shadowCoordPS","shadowCoordVS","shadowCoordPerspZbufferPS","shadowEVSMPS","shadowEVSMnPS","shadowStandardPS","shadowStandardGL2PS","shadowStandardGL2VSPS","shadowStandardVSPS","shadowVSM8PS","shadowVSMVSPS","shadowVSM_commonPS","skinBatchConstVS","skinBatchTexVS","skinConstVS","skinTexVS","skyboxPS","skyboxVS","skyboxHDRPS","skyboxPrefilteredCubePS","specularPS","specularAaNonePS","specularAaToksvigPS","specularAaToksvigFloatPS","spotPS","startPS","startVS","startNineSlicedPS","startNineSlicedTiledPS","storeEVSMPS","tangentBinormalVS","tonemappingAcesPS","tonemappingAces2PS","tonemappingFilmicPS","tonemappingHejlPS","tonemappingLinearPS","tonemappingNonePS","transformVS","transformDeclVS","uv0VS","uv1VS","viewDirPS","viewNormalVS","gammaCode","GAMMA_SRGB","GAMMA_SRGBFAST","GAMMA_SRGBHDR","tonemapCode","TONEMAP_FILMIC","TONEMAP_LINEAR","TONEMAP_HEJL","TONEMAP_ACES","TONEMAP_ACES2","tonemapingNonePS","fogCode","skinCode","pcode","basic","fog","alphaTest","vertexColors","diffuseMap","skin","transformSkinnedVS","SHADER_DEPTH","alphatest","particle","_animTex","chunk","animTexLoop","mesh","localSpace","animTex","soft","faceVS","customFace","useCpu","pack8","wrap","alignToMotion","stretch","srgb","gamma","toneMap","halflambert","blend","BLEND_NORMAL","BLEND_ADDITIVE","BLEND_MULTIPLICATIVE","_oldChunkWarn","oldName","newName","_oldChunkFloat","_oldChunkColor","_oldChunkTex","_oldChunkTexColor","_oldChunkTexFloat","_oldChunkVert","_oldChunkVertColor","_oldChunkVertFloat","_oldChunkTransformSkin","_oldChunkTransformDynbatch","_oldChunkTransformInstanced","_oldChunkTransformPixelSnap","_oldChunkTransformScreenSpace","_oldChunkTransformScreenSpaceBatch","_oldChunkTransformUv1","standard","_oldChunkToNew","aoTexPS","aoVertPS","diffuseConstPS","diffuseTexPS","diffuseTexConstPS","diffuseVertPS","diffuseVertConstPS","emissiveConstPS","emissiveTexPS","emissiveTexConstPS","emissiveTexConstFloatPS","emissiveVertPS","emissiveVertConstPS","emissiveVertConstFloatPS","glossConstPS","glossTexPS","glossTexConstPS","glossVertPS","glossVertConstPS","metalnessConstPS","metalnessTexPS","metalnessTexConstPS","metalnessVertPS","metalnessVertConstPS","opacityConstPS","opacityTexPS","opacityTexConstPS","opacityVertPS","opacityVertConstPS","specularConstPS","specularTexPS","specularTexConstPS","specularVertPS","specularVertConstPS","transformBatchSkinnedVS","transformInstancedVS","transformPixelSnapVS","transformScreenSpaceVS","transformScreenSpaceBatchSkinned","transformSkinned","transformUv1","optionsContext","optionsContextMin","buildPropertiesList","props","propsMin","_correctChannel","chan","_matTex2D","chr","addLen","_setMapTransform","codes","uv","checkId","_getUvSourceExpression","transformPropName","uVPropName","transformId","uvChannel","expression","isMainPass","nineSlicedMode","SPRITE_RENDERMODE_SLICED","SPRITE_RENDERMODE_TILED","heightMap","_addMapDef","enabled","_addMapDefs","float","_addMap","propName","chunkName","samplerFormat","mapPropName","channelPropName","vertexColorChannelPropName","tintPropName","vertexColorPropName","tintOption","vertexColorOption","textureOption","subCode","fmt","isFloatTint","isVecTint","_nonPointShadowMapProjection","light","shadowCoordArgs","_normalOffsetBias","_isVsm","LIGHTTYPE_SPOT","_isPcf","_addVaryingIfNeeded","_vsAddTransformCode","_vsAddBaseCode","_fsAddBaseCode","_fsAddStartCode","lighting","dirLightMap","useSpecular","shadingModel","SPECULAR_PHONG","fresnelModel","specularAntialias","prefilteredCubemap","dpAtlas","ambientSH","FRESNEL_SCHLICK","cubemapReflection","cubeMap","sphereMap","reflections","specularMap","glossMap","needsNormal","shadowPass","codeBody","varyings","lightType","customChunks","newP","mainShadowLight","noShadow","twoSidedLighting","castShadows","LIGHTTYPE_DIRECTIONAL","useInstancing","instance_line1","instance_line2","instance_line3","instance_line4","normalMap","useUv","useUnmodifiedUv","maxUvSets","cname","mname","tname","uname","uvSet","forceUv1","screenSpace","pixelSnap","oldVars","startCode","forceFragmentPrecision","smode","numShadowModes","shadowType","SHADOW_VSM32","textureFloatHighPrecision","SHADOW_VSM16","SHADOW_PCF3","LIGHTTYPE_POINT","SHADOW_VSM8","isVsm","SHADOW_PCF5","customFragmentShader","codeBegin","numShadowLights","shadowTypeUsed","useVsm","usePerspZbufferShadow","_shadowType","_cookie","_cookieTransform","tbn","fastTbn","packedNormal","transformedNormalMapUv","needsNormalFloat","useRgbm","fixSeams","cubeMapProjection","skyboxIntensity","blendType","BLEND_NONE","emissiveFormat","specularPropName","useMetalness","FRESNEL_SIMPLE","fresnelSimplePS","FRESNEL_COMPLEX","fresnelComplexPS","transformedHeightMapUv","useAo","aoMap","aoVertexColor","occludeSpecular","SPECOCC_AO","occludeSpecularFloat","reflectionDecode","rgbmReflection","hdrReflection","scode","refraction","useOldAmbient","conserveEnergy","addAmbient","lightMap","lightVertexColor","lightmapChunkPropName","lightMapFormat","lightMapWithoutAmbient","ambientDecode","rgbmAmbient","hdrAmbient","ambientTint","msdf","hasPointLights","usesLinearFalloff","usesInvSquaredFalloff","usesSpot","usesCookie","usesCookieNow","opacityParallax","opacityMap","occludeDirect","_cookieFalloff","_cookieChannel","_falloffMode","LIGHTFALLOFF_LINEAR","shadowReadMode","evsmExp","BLEND_ADDITIVEALPHA","BLEND_PREMULTIPLIED","structCode","skybox","hdr","toneMapping","useIntensity","mip2size","aPosition","PostEffect","depthMap","createFullscreenQuad","needsDepthBuffer","render","inputTarget","outputTarget","drawFullscreenQuad","oldBlending","BLEND_SUBTRACTIVE","BLEND_MULTIPLICATIVE2X","BLEND_SCREEN","BLEND_MIN","BLEND_MAX","FOG_NONE","FOG_LINEAR","FOG_EXP","FOG_EXP2","FRESNEL_NONE","LAYER_HUD","LAYER_GIZMO","LAYER_FX","LAYER_WORLD","LAYERID_WORLD","LAYERID_DEPTH","LAYERID_SKYBOX","LAYERID_IMMEDIATE","LAYERID_UI","LIGHTFALLOFF_INVERSESQUARED","SHADOW_DEPTH","BLUR_BOX","BLUR_GAUSSIAN","PARTICLESORT_NONE","PARTICLESORT_DISTANCE","PARTICLESORT_NEWER_FIRST","PARTICLESORT_OLDER_FIRST","PARTICLEMODE_GPU","PARTICLEMODE_CPU","EMITTERSHAPE_BOX","EMITTERSHAPE_SPHERE","PARTICLEORIENTATION_SCREEN","PARTICLEORIENTATION_WORLD","PARTICLEORIENTATION_EMITTER","PROJECTION_PERSPECTIVE","PROJECTION_ORTHOGRAPHIC","RENDERSTYLE_SOLID","RENDERSTYLE_WIREFRAME","RENDERSTYLE_POINTS","CUBEPROJ_NONE","CUBEPROJ_BOX","SPECULAR_BLINN","GAMMA_NONE","SPECOCC_NONE","SPECOCC_GLOSSDEPENDENT","SHADERDEF_NOSHADOW","SHADERDEF_SKIN","SHADERDEF_UV0","SHADERDEF_UV1","SHADERDEF_VCOLOR","SHADERDEF_INSTANCING","SHADERDEF_LM","SHADERDEF_DIRLM","SHADERDEF_SCREENSPACE","SHADERDEF_TANGENTS","LINEBATCH_WORLD","LINEBATCH_OVERLAY","LINEBATCH_GIZMO","SHADOWUPDATE_NONE","SHADOWUPDATE_THISFRAME","SHADOWUPDATE_REALTIME","SORTKEY_FORWARD","SORTKEY_DEPTH","MASK_DYNAMIC","MASK_BAKED","MASK_LIGHTMAP","BAKE_COLOR","BAKE_COLORDIR","VIEW_CENTER","VIEW_LEFT","VIEW_RIGHT","SORTMODE_NONE","SORTMODE_MANUAL","SORTMODE_MATERIALMESH","SORTMODE_BACK2FRONT","SORTMODE_FRONT2BACK","SORTMODE_CUSTOM","COMPUPDATED_INSTANCES","COMPUPDATED_LIGHTS","COMPUPDATED_CAMERAS","COMPUPDATED_BLEND","ASPECT_AUTO","ASPECT_MANUAL","ORIENTATION_HORIZONTAL","ORIENTATION_VERTICAL","scene","Scene","_gravity","_layers","_fog","fogColor","fogStart","fogEnd","fogDensity","ambientLight","_gammaCorrection","_toneMapping","exposure","_skyboxPrefiltered","_skyboxCubeMap","skyboxModel","_skyboxIntensity","_skyboxMip","lightmapSizeMultiplier","lightmapMaxResolution","lightmapMode","_stats","meshInstances","dynamicLights","bakedLights","lastStaticPrepareFullTime","lastStaticPrepareSearchTime","lastStaticPrepareWriteTime","lastStaticPrepareTriAabbTime","lastStaticPrepareCombineTime","updateShadersTime","updateShaders","updateSkybox","_shaderVersion","_statsUpdated","_models","defaultMaterial","_resetSkyboxModel","drawCalls","layers","_meshInstances","_update","prev","applySettings","settings","physics","gravity","global_ambient","fog_color","fog_start","fog_end","fog_density","gamma_correction","tonemapping","skyboxMip","_updateSkybox","material","Material","updateShader","dev","defs","staticLightList","library","gammaCorrection","usedTex","mip2tex","mipTex","setParameter","cull","skyLayer","getLayerById","node","GraphNode","createBox","meshInstance","MeshInstance","_noDepthDrawGl1","model","Model","graph","addMeshInstances","removeMeshInstances","setSkybox","cubemaps","different","addModel","containsModel","layer","addShadowCaster","addShadowCasters","removeModel","removeShadowCasters","getModels","scaleShift","opChanId","pointLightRotations","shadowMapCache","directionalShadowEpsilon","pixelOffset","blurScissorRect","shadowCamView","shadowCamViewProj","c2sc","viewInvMat","viewMat","viewMat3","viewProjMat","projMat","viewInvL","viewInvR","viewL","viewR","viewPosL","viewPosR","projL","projR","viewMat3L","viewMat3R","viewProjMatL","viewProjMatR","worldMatX","worldMatY","worldMatZ","frustumDiagonal","tempSphere","meshPos","visibleSceneAabb","boneTextureSize","boneTexture","instancingData","modelMatrix","normalMatrix","shadowMapCubeCache","maxBlurSize","keyA","keyB","frustumPoints","fp","_getFrustumPoints","camera","farClip","points","nearClip","_nearClip","_fov","_aspect","projection","_projection","_orthoHeight","_sceneAABB_LS","_getZFromAABBSimple","w2sc","aabbMin","aabbMax","lcamMinX","lcamMaxX","lcamMinY","lcamMaxY","minz","maxz","getShadowFormat","getShadowFiltering","createShadowMap","shadowMap","compareFunc","createShadowCubeMap","gauss","sigma","exp","gaussWeights","kernelSize","halfWidth","createShadowCamera","hwPcf","shadowCam","Camera","clearFlags","_node","getShadowMapFromCache","shadowBuffer","createShadowBuffer","_cacheShadowMap","_shadowResolution","_shadowCamera","_shadowCubeMap","_isCachedShadowMap","getDepthKey","skinInstance","opChan","opacityMapChannel","ForwardRenderer","_shadowDrawCalls","_forwardDrawCalls","_skinDrawCalls","_camerasRendered","_materialSwitches","_shadowMapUpdates","_shadowMapTime","_depthMapTime","_forwardTime","_cullTime","_sortTime","_skinTime","_morphTime","_instancingTime","projId","viewId","viewId3","viewInvId","viewProjId","viewPos","viewPosId","nearClipId","farClipId","cameraParamsId","shadowMapLightRadiusId","fogColorId","fogStartId","fogEndId","fogDensityId","modelMatrixId","normalMatrixId","poseMatrixId","boneTextureId","boneTextureSizeId","alphaTestId","opacityMapId","ambientId","exposureId","skyboxIntensityId","lightColorId","lightDir","lightDirId","lightShadowMapId","lightShadowMatrixId","lightShadowParamsId","lightShadowMatrixVsId","lightShadowParamsVsId","lightDirVs","lightDirVsId","lightRadiusId","lightPos","lightPosId","lightInAngleId","lightOutAngleId","lightPosVsId","lightCookieId","lightCookieIntId","lightCookieMatrixId","lightCookieOffsetId","depthMapId","screenSizeId","_screenSize","sourceId","pixelOffsetId","weightId","blurVsmShaderCode","packed","blurPackedVsmShaderCode","blurVsmShader","blurPackedVsmShader","blurVsmWeights","polygonOffsetId","ambientColor","mat3FromMat4","m3","sortCompare","drawCallA","drawCallB","drawOrder","zdist","zdist2","sortCompareMesh","depthSortCompare","lightCompare","lightA","lightB","_isVisible","visible","isVisibleFunc","_radiusVer","_aabbVer","_radius","frustum","getShadowCamera","updateCameraFrustum","vrDisplay","presenting","combinedProj","getWorldTransform","combinedViewInv","combinedView","getProjectionMatrix","overrideCalculateProjection","calculateProjection","overrideCalculateTransform","calculateTransform","getPosition","rot","getRotation","setCamera","cullBorder","cameraPos","leftProj","rightProj","transform","leftViewInv","rightViewInv","leftView","rightView","_farClip","_shaderParams","getRect","pixelWidth","pixelHeight","_clearOptions","_scissorRect","dispatchGlobalLights","mainLight","_resolveLight","dispatchDirectLights","numDirs","directional","wtm","cnt","_mask","_linearFinalColor","_finalColor","_direction","bias","shadowBias","normalBias","vsmBias","_shadowMatrix","_rendererParams","dispatchPointLight","attenuationEnd","_position","cookieIntensity","dispatchSpotLight","spot","_innerConeAngleCos","_outerConeAngleCos","shadowCamNode","setPosition","setRotation","rotateLocal","aspectRatio","_outerConeAngle","_cookieTransformUniform","_cookieOffsetUniform","_cookieOffset","dispatchLocalLights","sortedLights","usedDirLights","pnts","spts","numPnts","numSpts","isStatic","staticId","visibleList","visibleLength","drawCall","drawCallsCount","cullingMask","frustumCulling","command","visibleThisFrame","cullLights","_enabled","shadowUpdateMode","getBoundingSphere","updateCpuSkinMatrices","updateMatrices","_dirty","updateGpuSkinMatrices","updateMatrixPalette","updateMorphedBounds","morph","morphInstance","updateBounds","updateMorphing","setBaseConstants","setSkinning","matrixPalette","drawInstance","_instancedDrawCalls","_removedByInstancing","_buffer","_autoInstanceBuffer","_dirtyNormal","drawInstance2","renderShadows","cameraPass","shadowShader","passes","passFlag","paramName","parameter","parameters","_visibleLength","_visibleCameraSettings","orthoHeight","_visibleList","dirty","updateUniforms","passFlags","_shader","_shaderDefs","renderStyle","_vertexBuffer","filterSize","_vsmBlurSize","origShadowMap","tempRt","isVsm8","blurMode","vsmBlurMode","blurShader","blurVS","blurFS","blurShaderName","objDefs","_scene","cullFaces","flip","flipFaces","wt","renderForward","drawCallback","lightHash","_lightHash","variantKey","lightMask","prevMaterial","prevObjDefs","prevLightMask","prevStatic","stencilFront","stencilBack","variants","_staticLightList","redWrite","greenWrite","blueWrite","alphaWrite","depthBias","slopeDepthBias","_cullFaces","_flipFaces","readMask","STENCILOP_KEEPP","setupInstancing","_instanceVertexFormat","formatDesc","enableAutoInstancing","_autoInstanceBufferData","revertStaticMeshes","newDrawCalls","prevStaticSource","_staticSource","prepareStaticMeshes","k","indices","verts","numTris","elems","vertSize","offsetP","baseIndex","_x","_y","_z","minx","miny","maxx","maxy","minv","maxv","minVec","maxVec","localLightBounds","invMatrix","triLightComb","triLightCombUsed","combIndices","combIbName","combIb","lightTypePass","lightAabb","triBounds","staticLights","bit","lht","ib2","chunkAabb","mesh2","Mesh","instance","castShadow","_receiveShadow","pick","materials","mat","clearVariants","updateLitShaders","useLighting","emitter","beginFrame","comp","_lights","beginLayers","layerList","shaderVersion","_postRenderCounter","transparent","_preRenderCalledForCameras","_postRenderCalledForCameras","subLayerList","_postRenderCounterMax","cameras","instances","visibleOpaque","VisibleInstanceList","visibleTransparent","done","_needsStaticPrepare","_staticLightHash","_staticPrepareDone","opaqueMeshInstances","transparentMeshInstances","cullLocalShadowmap","vlen","lightNode","cullDirectionalShadowmap","frustumSize","unitPerTexel","delta","centerx","centery","emptyAabb","drawCallAabb","shadowDistance","translateLocal","lpos","gpuUpdate","clearView","setSceneConstants","renderComposition","renderedRt","_renderedRt","renderedByCam","_renderedByCam","renderedLayer","_renderedLayer","rt","processedThisCamera","processedThisCameraAndLayer","processedThisCameraAndRt","updated","renderedLength","objects","subLayerEnabled","frameBegin","onPreCull","onPostCull","frameEnd","casters","_lightShadowCasters","globalLightCounter","_globalLightCameras","_globalLightCameraIds","_sortedLights","sortTime","draws","drawTime","_renderList","_renderListCamera","onPreRenderOpaque","onPreRenderTransparent","onPreRender","overrideClear","_sortVisible","_activeCamera","shaderPass","onDrawCall","onPostRenderOpaque","onPostRenderTransparent","onPostRender","scaleCompensatePosTransform","scaleCompensatePos","scaleCompensateRot","scaleCompensateRot2","scaleCompensateScale","scaleCompensateScaleForParent","tmpQuat","_labels","localPosition","localRotation","localScale","localEulerAngles","rotation","eulerAngles","_scale","localTransform","_dirtyLocal","_frozen","_dirtyWorld","_up","_forward","_children","_graphDepth","_enabledInHierarchy","scaleCompensation","_notifyHierarchyStateChanged","_onHierarchyStateChanged","_unfreezeParentToRoot","_cloneInternal","results","descendants","Function","fn","testValue","findOne","findByTag","_findByTag","findByName","findByPath","currentParent","imax","part","children","jmax","thisArg","isDescendantOf","isAncestorOf","getLocalEulerAngles","getLocalPosition","getLocalRotation","getLocalScale","getLocalTransform","_sync","reparent","insertChild","addChild","setLocalEulerAngles","_dirtifyLocal","setLocalPosition","setLocalRotation","setLocalScale","_dirtifyWorld","_dirtifyWorldInternal","invParentWtm","invParentRot","parentRot","setEulerAngles","_onInsertChild","addChildAndSaveTransform","wPos","wRot","enabledInHierarchy","_updateGraphDepth","child","parentWorldScale","parentToUseScaleFrom","tmatrix","syncHierarchy","lookAt","matrix","ux","uy","uz","UP","translate","translation","rotate","quaternion","_deviceCoord","_far","_farW","_invViewProjMat","_aspectRatioMode","_horizontalFov","_renderDepthRequests","_projMatDirty","_projMat","_viewMatDirty","_viewMat","_viewProjMatDirty","_viewProjMat","_rect","_depthTarget","_component","setClearOptions","getClearOptions","worldToScreen","worldCoord","cw","screenCoord","getViewMatrix","screenToWorld","range","setRect","setScissorRect","requestDepthMap","releaseDepthMap","spotCenter","spotEndPoint","tmpVec","chanId","Light","_color","_intensity","_castShadows","bakeDir","attenuationStart","_cookieTransformSet","_cookieOffsetSet","_innerConeAngle","_destroyShadowMap","setColor","intensity","falloffMode","vsmBlurSize","innerConeAngle","outerConeAngle","normalOffsetBias","shadowResolution","getColor","getBoundingBox","box","scl","_updateFinalColor","finalColor","linearFinalColor","updateShadow","updateKey","_dirtyLights","stype","cookieOffset","xformNew","cookieTransform","_dirtyBlend","prevBlend","_updateMeshInstanceKeys","clearParameters","getParameters","uniformObject","param","deleteParameter","setParameters","_material","getDefaultMaterial","BasicMaterial","colorUniform","colorMap","DepthMaterial","_assetReferences","_validator","StandardMaterialOptionsBuilder","_propsSerial","_propsSerialDefaultVal","_propsInternalNull","_propsInternalVec3","_prop2Uniform","_defineTex2D","channels","defChannel","privMap","privMapTiling","privMapOffset","mapTransform","mapTransformUniform","privMapUv","privMapChannel","privMapVertexColor","privMapVertexColorChannel","channel","oldVal","dirtyShader","mapTiling","mapOffset","changeMat","tform","_updateMapTransform","_propsColor","_defineColor","defaultValue","hasMultiplier","priv","uform","mult","pmult","dirtyColor","newValue","oldValue","wasRound","isRound","useGammaTonemap","_defineFloat","_defineObject","_defineAlias","_defineChunks","_chunks","_defineFlag","Chunks","from","defVal","cubeMapMinUniform","cubeMapMaxUniform","pname","tiling","_setParameter","_propsSet","_clearParameters","_updateMap","getUniform","varName","ambientUniform","diffuseTint","diffuseUniform","specularTint","specularUniform","metalnessMap","metalness","shininess","emissiveMap","emissiveTint","emissiveUniform","emissiveIntensity","refractionIndex","opacity","occludeSpecularIntensity","cubeMapProjectionBox","bumpiness","heightMapFactor","prefilteredCubeMap128","prefilteredCubeMap64","prefilteredCubeMap32","prefilteredCubeMap16","prefilteredCubeMap8","prefilteredCubeMap4","reflectivity","_processColor","clr","_colorProcessed","useDp","globalSky128","globalSky64","globalSky32","globalSky16","globalSky8","globalSky4","useSkybox","allMips","atlas","minimalOptions","onUpdateShader","_defineMaterialProps","bmin","bmax","PARAMETER_TYPES","mappingFormat","_engine","ambient","aoVertexColorChannel","aoMapChannel","aoMapUv","aoMapTiling","aoMapOffset","diffuse","diffuseVertexColor","diffuseVertexColorChannel","diffuseMapChannel","diffuseMapUv","diffuseMapTiling","diffuseMapOffset","specular","specularVertexColor","specularVertexColorChannel","specularMapChannel","specularMapUv","specularMapTiling","specularMapOffset","metalnessTint","metalnessVertexColor","metalnessVertexColorChannel","metalnessMapChannel","metalnessMapUv","metalnessMapTiling","metalnessMapOffset","glossVertexColor","glossVertexColorChannel","glossMapChannel","glossMapUv","glossMapTiling","glossMapOffset","emissive","emissiveVertexColor","emissiveVertexColorChannel","emissiveMapChannel","emissiveMapUv","emissiveMapTiling","emissiveMapOffset","normalMapTiling","normalMapOffset","normalMapUv","heightMapChannel","heightMapUv","heightMapTiling","heightMapOffset","opacityVertexColor","opacityVertexColorChannel","opacityMapUv","opacityMapTiling","opacityMapOffset","lightVertexColorChannel","lightMapChannel","lightMapUv","lightMapTiling","lightMapOffset","useFog","TEXTURE_PARAMETERS","CUBEMAP_PARAMETERS","StandardMaterialValidator","removeInvalid","valid","enumValidators","_createEnumValidator","setInvalid","validate","TYPES","pathMapping","enumType","chunkNames","validated","_mapXForms","stdMat","_updateSharedOptions","_updateMinOptions","_updateUVOptions","_updateEnvOptions","_updateMaterialOptions","_updateLightOptions","hasVcolor","_updateTexOptions","opacityTint","blendMapsWithColors","glossTint","normalizeNormalMap","msdfMap","aoUvSet","lightMapTransform","lightsFiltered","_collectLights","vname","vcname","isOpacity","allow","_getMapTransformID","lType","xform","same","newID","_tmpAabb","_refCount","boneAabb","_baseAabb","_calculateAabb","_mesh","_screenSpace","_updateAabb","_updateAabbFunc","_skinInstance","_boneAabb","numBones","boneNames","boneUsed","offsetI","offsetW","data8","dataF","offsetPF","offsetWF","vertSizeF","boneMin","boneMax","vertIndex","_targets","minMorphedPos","maxMorphedPos","mtIndices","mtIndicesLength","deltaPos","deltaPositions","matrices","rootNodeTransform","prevMat","_layer","toggles","syncAabb","getKey","Command","InstancingData","numObjects","dynamic","instanceSize","isCommand","materialId","_getDrawcallSortKey","_invMatrix","Skin","ibp","inverseBindPose","SkinInstance","bones","rootNode","pe","mp","PartitionedVertex","boneIndices","SkinPartition","partition","vertexStart","vertexCount","indexStart","indexCount","indexMap","addVertex","vertexArray","remappedIndex","influence","blendWeight","originalBoneIndex","blendIndices","getBoneRemap","addPrimitive","vertexIndices","bonesToAdd","bonesToAddCount","boneIndex","needToAdd","boneRemap","indicesToReferences","skins","meshes","referencesToIndices","partitionSkin","materialMappings","vertexArrays","getVertex","vert","meshesToSplit","partitions","primitiveVertices","primitiveIndices","basePartition","iIndex","added","iBonePartition","originalMesh","partitionedVertices","partitionedIndices","iSour","iDest","splitSkins","inverseBindMatrices","splitSkin","attrib","splitVertexArray","dstBoneIndices","srcBoneIndices","_morphMin","_morphMax","MorphTarget","deltaNormals","deltaTangents","Morph","_baseBuffer","_aabbDirty","_baseData","_offsetPF","_offsetNF","_offsetTF","_vertSizeF","_setBaseMesh","baseMesh","offsetN","offsetT","baseData","addTarget","removeTarget","getTarget","MorphInstance","_vertexData","_weights","getWeight","setWeight","weights","j3","j4","offsetNF","offsetTF","vdata","skinInstances","morphInstances","_shadersVersion","getGraph","setGraph","getCameras","setCameras","getLights","setLights","getMaterials","srcNodes","cloneNodes","_duplicate","newNode","cloneGraph","cloneMeshInstances","cloneSkinInstances","cloneMorphInstances","cloneSkinInstance","boneName","bone","cloneMorphInstance","nodeIndex","cloneMeshInstance","skinInstanceIndex","morphInstanceIndex","boneTex","generateWireframe","i1","i2","wireBuffer","srcIndices","dstIndices","offsets","uniqueLineIndices","line","particleVerts","_createTexture","pixelData","mult8Bit","mipFilter","temp","saturate","default0Curve","default1Curve","default0Curve3","default1Curve3","particleTexHeight","particleTexChannels","extentsInnerRatioUniform","spawnMatrix","setPropertyTarget","setPropertyOptions","setProperty","pName","defaultVal","pack3NFloats","packTextureXYZ_NXYZ","qXYZ","qXYZ2","colors","packTextureRGBA","qRGB","qA","packTexture5Floats","qB","qC","qD","qE","packTexture2Floats","ParticleEmitter","_addTimeTime","DEFAULT_PARAM_TEXTURE","resolution","centerPoint","dtex","xgrad","ygrad","numParticles","rate","startAngle","_gpuUpdater","ParticleGPUUpdater","_cpuUpdater","ParticleCPUUpdater","constantLightCube","emitterPosUniform","wrapBoundsUniform","emitterScaleUniform","colorGraph","scaleGraph","alphaGraph","localVelocityGraph","velocityGraph","rotationSpeedGraph","radialSpeedGraph","lightCube","lightCubeDir","animParams","internalTex0","internalTex1","internalTex2","colorParam","vbToSort","vbOld","particleDistance","swapTex","useMesh","localBounds","worldBoundsNoTrail","worldBoundsTrail","worldBounds","worldBoundsSize","prevWorldBoundsSize","prevWorldBoundsCenter","worldBoundsMul","worldBoundsAdd","timeToSwitchBounds","shaderParticleUpdateRespawn","shaderParticleUpdateNoRespawn","shaderParticleUpdateOnStop","numParticleVerts","numParticleIndices","seed","fixedTimeStep","maxSubSteps","simTime","simTimeTotal","beenReset","rebuild","calcEndTime","interval","rate2","lifetime","subGraph","A","B","maxUnsignedGraphValue","outUMax","chans","normalizeGraph","uMax","divGraphFrom2Curves","curve1","curve2","onChangeCamera","regenShader","resetMaterial","calculateBoundsMad","calculateWorldBounds","nodeWT","resetWorldBounds","IDENTITY","calculateLocalBounds","maxR","maxScale","stepWeight","wVels","qVelocity","qVelocity2","lVels","qLocalVelocity","qLocalVelocity2","accumX","accumY","accumZ","accumR","accumW","qRadialSpeed","qRadialSpeed2","qScale","emitterShape","emitterExtents","emitterRadius","spawnBounds","forceCpuParticles","_destroyResources","totalVertCount","numParticlesPot","rebuildGraphs","iSort","randomize","particleTex","emitterPos","emitterExtentsInner","calcSpawnPosition","particleTexStart","particleTexIN","particleTexOUT","rtParticleTexIN","rtParticleTexOUT","shaderCodeStart","shaderCodeRespawn","shaderCodeNoRespawn","shaderCodeOnStop","_allocate","wasVisible","_initializeTextures","resetTime","addTime","preWarm","prewarm","_isAnimated","animNumFrames","animTilesX","animTilesY","qColor","qRotSpeed","qAlpha","localVelocityGraph2","velocityGraph2","qColor2","colorGraph2","qRotSpeed2","rotationSpeedGraph2","qScale2","scaleGraph2","qAlpha2","alphaGraph2","radialSpeedGraph2","localVelocityUMax","velocityUMax","colorUMax","rotSpeedUMax","scaleUMax","alphaUMax","radialSpeedUMax","qLocalVelocityDiv","qVelocityDiv","qColorDiv","qRotSpeedDiv","qScaleDiv","qAlphaDiv","qRadialSpeedDiv","umax","umax2","lumax","lumax2","rumax","rumax2","maxVel","lmaxVel","maxRad","internalTex3","hasNormal","normalOption","halfLambert","depthSoftening","noFog","wrapBounds","animLoop","orientation","_setInputBounds","inBoundsSizeUniform","inBoundsCenterUniform","_compParticleFaceParams","tangent","binormal","particleNormal","emitterMat","psysVertCount","psysIndexCount","particleFormat","meshData","texCoordOffset","elem","vertID","vbCPU","origLoop","loop","lifetimeFraction","iterations","stepDelta","endTime","finishFrame","isOnStop","animSpeed","emitterScale","onFinished","nonUniformScale","uniformScale","rotMat","rotMatInv","randomPosTformed","randomPos","rndFactor3Vec","particlePosPrev","velocityVec","localVelocityVec","velocityVec2","localVelocityVec2","radialVelocityVec","particlePos","particleFinalPos","moveDirVec","frac","glMod","encodeFloatRGBA","encX","encY","encZ","encW","encodeFloatRG","_emitter","rX","rY","rZ","rW","edgeX","edgeY","edgeZ","sign","spawnBoundsSphereInnerRatio","emitterRadiusInner","particleRate","startSpawnTime","packX","packY","packZ","packA","startAngle2","rg0","ba0","rg1","ba1","maxNegLife","maxPosLife","rgba3","fullMat","posCam","cf","cc","rotSpeed","rotSpeed2","scale2","alpha2","radialSpeed","radialSpeed2","precision1","rndFactor","particleLifetime","life","nlife","alphaDiv","respawn","particleEnabled","initialVelocity","FORWARD","quadX","quadY","quadZ","vbStride","p2","spawnMatrix3","emitterMatrix3","emitterMatrix3Inv","mat4ToMat3","mat4","mat3","frameRandomUniform","worldBoundsMulUniform","worldBoundsAddUniform","constantParticleTexIN","constantParticleTexOUT","constantEmitterPos","constantEmitterScale","constantSpawnBounds","constantSpawnPosInnerRatio","constantSpawnBoundsSphere","constantSpawnBoundsSphereInnerRatio","constantInitialVelocity","constantFrameRandom","constantDelta","constantRate","constantRateDiv","constantLifetime","constantGraphSampleSize","constantGraphNumSamples","constantInternalTex0","constantInternalTex1","constantInternalTex2","constantInternalTex3","constantEmitterMatrix","constantEmitterMatrixInv","constantNumParticles","constantNumParticlesPot","constantLocalVelocityDivMult","constantVelocityDivMult","constantRotSpeedDivMult","constantSeed","constantStartAngle","constantStartAngle2","constantOutBoundsMul","constantOutBoundsAdd","constantInBoundsSize","constantInBoundsCenter","constantMaxVel","constantFaceTangent","constantFaceBinorm","emitterMatrix","texIN","texOUT","_deviceDeprecationWarning","_getSelectionDeprecationWarning","_prepareDeprecationWarning","Picker","app","pickColor","layerComp","clearOptions","_clearDepthOptions","clearDepthCommand","resize","_ignoreOpacityFor","getSelection","prevRenderTarget","selection","selectedMeshInstance","prepare","sourceLayer","sourceRt","Layer","pickColorId","opaqueSortMode","onEnable","onDisable","LayerComposition","pushOpaque","_instancesVersion","instanceList","instanceListLength","clearMeshInstances","isTransparent","layerCamId","_clearDepthBuffer","_pickerCleared","_version","clearCameras","addCamera","onLayerPreRender","renderer","onLayerPostRender","oldClear","oldAspectMode","aspectRatioMode","oldAspect","calculateAspectRatio","primitiveUv1Padding","primitiveUv1PaddingScale","calculateNormals","positions","triangleCount","i3","p3","p1p2","p1p3","faceNormal","normals","invLen","calculateTangents","uvs","z1","t1","sdir","tdir","v1","v2","v3","w1","w2","w3","tan1","tan2","tangents","area","ndott","createMesh","opts","uvs1","blendWeights","vertexDesc","createTorus","rc","tubeRadius","ringRadius","segments","sides","third","fourth","_createConeData","baseRadius","peakRadius","heightSegments","capSegments","roundedCaps","bottomToTop","norm","theta","cosTheta","sinTheta","phi","sinPhi","cosPhi","lat","lon","latitudeBands","longitudeBands","capOffset","createCylinder","createCapsule","createCone","createSphere","createPlane","he","ws","widthSegments","ls","lengthSegments","vcounter","hs","corners","faceAxes","faceNormals","TOP","BOTTOM","RIGHT","LEFT","generateFace","side","uSegments","vSegments","sortPos","sortDir","sortManual","sortMaterialMesh","sortBackToFront","sortFrontToBack","sortCallbacks","sortCameras","camA","camB","priority","sortLights","layerCounter","InstanceList","shadowCasters","clearVisibleLists","_refCounter","transparentSortMode","passThrough","_clearColor","_clearColorBuffer","clearColorBuffer","clearDepthBuffer","_clearStencilBuffer","clearStencilBuffer","layerReference","customSortCallback","customCalculateSortValues","_lightComponents","_dirtyCameras","_cameraHash","_lightCube","incrementCounter","decrementCounter","_updateClearFlags","skipShadowCasters","sceneShaderVer","spliceOffset","spliceCount","opaque","addLight","_generateLightHash","removeLight","clearLights","strStatic","_generateCameraHash","entity","getGuid","removeCamera","_sortCameras","_calculateSortDistances","camPos","camFwd","tempx","tempy","tempz","cameraNode","sortMode","_opaqueOrder","_transparentOrder","_sortLights","mi","opaqueOld","transparentOld","opaqueNew","transparentNew","lid","globalLights","hash2","groupLength","cam","skipCount","isPostEffect","_isLayerAdded","_isSublayerAdded","insert","_updateOpaqueOrder","_updateTransparentOrder","insertOpaque","removeOpaque","pushTransparent","insertTransparent","removeTransparent","_getSublayerIndex","getOpaqueIndex","getTransparentIndex","getLayerByName","startIndex","endIndex","_sortLayersDescending","layersA","layersB","order","topLayerA","topLayerB","sortTransparentLayers","sortOpaqueLayers","SPRITE_RENDERMODE_SIMPLE","spriteNormals","spriteIndices","Sprite","_pixelsPerUnit","pixelsPerUnit","_renderMode","renderMode","_atlas","_frameKeys","frameKeys","_meshes","_updatingProperties","_meshesDirty","_createMeshes","len2","createMeshFunc","_create9SliceMesh","_createSimpleMesh","frame","frames","texWidth","texHeight","hp","pivot","vp","lu","bv","ru","tv","_onSetFrames","_onFrameChanged","frameKey","_onFrameRemoved","startUpdate","endUpdate","SyncQueue","_values","runSync","erase","bs","TextureAtlas","_texture","_frames","setFrame","removeFrame","StencilParameters","Key","Node","_name","_keys","Animation","duration","_nodes","_nodeDict","getDuration","getName","getNode","getNodes","setDuration","setName","addNode","InterpolatedKey","_written","_keyFrames","_quat","_pos","_targetNode","setTarget","Skeleton","_animation","_time","looping","_interpolatedKeys","_interpolatedKeyDict","_currKeyIndices","addInterpolatedKeys","interpKey","nodeName","k1","k2","nodes","foundKey","currKeyIndex","skel1","skel2","numNodes","key1","key2","dstKey","currentTime","getAnimation","updateGraph","getCurrentTime","setCurrentTime","getNumNodes","setAnimation","animation","graphNode","setLooping","getLooping","hasAudio","Audio","hasAudioContext","AudioContext","webkitAudioContext","SoundManager","forceWebAudioApi","resumeContext","resume","createBufferSource","connect","destination","disconnect","listener","Listener","suspended","suspend","close","getListener","getVolume","setVolume","playSound","sound","Channel","play","playSound3d","Channel3d","setLoop","maxDistance","setMaxDistance","minDistance","setMinDistance","rollOffFactor","setRollOffFactor","distanceModel","setDistanceModel","AudioManager","Sound","resource","audio","manager","velocity","getVelocity","setVelocity","setOrientation","getOrientation","SoundInstance","STATE_PLAYING","STATE_PAUSED","STATE_STOPPED","capTime","_pitch","pitch","_loop","_sound","_state","_suspended","_suspendEndEvent","_suspendInstanceEvents","_startTime","startTime","_duration","_startedAt","_startOffset","_currentTime","_currentOffset","_playWhenLoaded","_manager","_inputNode","_connectorNode","_firstNode","_lastNode","_initializeNodes","_onPlayCallback","onPlay","_onPauseCallback","onPause","_onResumeCallback","onResume","_onStopCallback","onStop","_onEndCallback","onEnd","_endedHandler","_onEnded","gain","createGain","_createSource","_onManagerVolumeChange","_onManagerSuspend","_onManagerResume","_onManagerDestroy","_onPlay","pause","_updateCurrentTime","_onPause","_onResume","_onStop","setExternalNodes","firstNode","lastNode","speakers","clearExternalNodes","getExternalNodes","onended","loopStart","loopEnd","playbackRate","_isReady","_loadedMetadataHandler","_onLoadedMetadata","_timeUpdateHandler","_onTimeUpdate","paused","isPlaying","MAX_DISTANCE","SoundInstance3d","_velocity","refDistance","DISTANCE_LINEAR","panner","createPanner","rolloffFactor","fallOff","posOne","posTwo","DISTANCE_INVERSE","DISTANCE_EXPONENTIAL","_maxDistance","_refDistance","_rollOffFactor","_distanceModel","factor","startOffset","setPitch","onManagerVolumeChange","onManagerSuspend","onManagerResume","unpause","playbackState","PLAYING_STATE","isNaN","getLoop","getPitch","getMaxDistance","getMinDistance","getRollOffFactor","getDistanceModel","pannel","ACTION_MOUSE","ACTION_KEYBOARD","ACTION_GAMEPAD","AXIS_MOUSE_X","AXIS_MOUSE_Y","AXIS_PAD_L_X","AXIS_PAD_L_Y","AXIS_PAD_R_X","AXIS_PAD_R_Y","AXIS_KEY","EVENT_KEYDOWN","EVENT_KEYUP","EVENT_MOUSEDOWN","EVENT_MOUSEMOVE","EVENT_MOUSEUP","EVENT_MOUSEWHEEL","EVENT_TOUCHSTART","EVENT_TOUCHEND","EVENT_TOUCHMOVE","EVENT_TOUCHCANCEL","KEY_BACKSPACE","KEY_TAB","KEY_RETURN","KEY_ENTER","KEY_SHIFT","KEY_CONTROL","KEY_ALT","KEY_PAUSE","KEY_CAPS_LOCK","KEY_ESCAPE","KEY_SPACE","KEY_PAGE_UP","KEY_PAGE_DOWN","KEY_END","KEY_HOME","KEY_LEFT","KEY_UP","KEY_RIGHT","KEY_DOWN","KEY_PRINT_SCREEN","KEY_INSERT","KEY_DELETE","KEY_0","KEY_1","KEY_2","KEY_3","KEY_4","KEY_5","KEY_6","KEY_7","KEY_8","KEY_9","KEY_SEMICOLON","KEY_EQUAL","KEY_A","KEY_B","KEY_C","KEY_D","KEY_E","KEY_F","KEY_G","KEY_H","KEY_I","KEY_J","KEY_K","KEY_L","KEY_M","KEY_N","KEY_O","KEY_P","KEY_Q","KEY_R","KEY_S","KEY_T","KEY_U","KEY_V","KEY_W","KEY_X","KEY_Y","KEY_Z","KEY_WINDOWS","KEY_CONTEXT_MENU","KEY_NUMPAD_0","KEY_NUMPAD_1","KEY_NUMPAD_2","KEY_NUMPAD_3","KEY_NUMPAD_4","KEY_NUMPAD_5","KEY_NUMPAD_6","KEY_NUMPAD_7","KEY_NUMPAD_8","KEY_NUMPAD_9","KEY_MULTIPLY","KEY_ADD","KEY_SEPARATOR","KEY_SUBTRACT","KEY_DECIMAL","KEY_DIVIDE","KEY_F1","KEY_F2","KEY_F3","KEY_F4","KEY_F5","KEY_F6","KEY_F7","KEY_F8","KEY_F9","KEY_F10","KEY_F11","KEY_F12","KEY_COMMA","KEY_PERIOD","KEY_SLASH","KEY_OPEN_BRACKET","KEY_BACK_SLASH","KEY_CLOSE_BRACKET","KEY_META","MOUSEBUTTON_NONE","MOUSEBUTTON_LEFT","MOUSEBUTTON_MIDDLE","MOUSEBUTTON_RIGHT","PAD_1","PAD_2","PAD_3","PAD_4","PAD_FACE_1","PAD_FACE_2","PAD_FACE_3","PAD_FACE_4","PAD_L_SHOULDER_1","PAD_R_SHOULDER_1","PAD_L_SHOULDER_2","PAD_R_SHOULDER_2","PAD_SELECT","PAD_START","PAD_L_STICK_BUTTON","PAD_R_STICK_BUTTON","PAD_UP","PAD_DOWN","PAD_LEFT","PAD_RIGHT","PAD_VENDOR","PAD_L_STICK_X","PAD_L_STICK_Y","PAD_R_STICK_X","PAD_R_STICK_Y","input","MouseEvent","mouse","coords","_getTargetCoords","Mouse","isPointerLocked","detail","wheel","wheelDelta","movementX","webkitMovementX","mozMovementX","movementY","webkitMovementY","mozMovementY","_lastX","_lastY","button","buttons","_buttons","ctrlKey","altKey","shiftKey","metaKey","_lastbuttons","_upHandler","_handleUp","_downHandler","_handleDown","_moveHandler","_handleMove","_wheelHandler","_handleWheel","_contextMenuHandler","_target","_attached","mozPointerLockElement","webkitPointerLockElement","detach","disableContextMenu","enableContextMenu","enablePointerLock","success","disablePointerLock","isPressed","wasPressed","wasReleased","clientX","clientWidth","clientY","clientHeight","KeyboardEvent","keyboard","keyCode","_keyboardEvent","makeKeyboardEvent","toKeyCode","toUpperCase","_keyCodeToKeyIdentifier","Keyboard","_element","_keyDownHandler","_handleKeyDown","_keyUpHandler","_handleKeyUp","_keyPressHandler","_handleKeyPress","_keymap","_lastmap","stopPropagation","toKeyIdentifier","charCode","GamePads","gamepadsSupported","getGamepads","webkitGetGamepads","previous","deadZone","MAPS","DEFAULT","axes","PS3","PRODUCT_CODES","buttonsLen","pad","pressed","pads","poll","padDevices","getMap","getAxis","Touch","getTouchTargetCoords","identifier","TouchEvent","touches","changedTouches","getTouchById","TouchDevice","_startHandler","_handleTouchStart","_endHandler","_handleTouchEnd","_handleTouchMove","_cancelHandler","_handleTouchCancel","totalOffsetX","totalOffsetY","HTMLElement","parentNode","currentElement","offsetLeft","scrollLeft","offsetTop","scrollTop","offsetParent","pageX","pageY","Controller","_keyboard","_mouse","_gamepads","_actions","_axes","_axesValues","_enableMouse","dt","registerKeys","action","_enableKeyboard","registerMouse","registerPadButton","registerAxis","controller","positive","positiveKey","negativeKey","negative","actionName","targetX","targetY","vecA","vecB","_pq","_pa","_pb","_pc","_pd","_m","_sct","_accumulatedScale","_paddingTop","_paddingBottom","_paddingLeft","_paddingRight","_cornerBottomLeft","_cornerBottomRight","_cornerTopRight","_cornerTopLeft","ZERO_VEC4","scalarTriple","intersectLineQuad","ElementInputEvent","_stopPropagation","stopImmediatePropagation","ElementMouseEvent","lastX","lastY","ElementTouchEvent","ElementInput","domElement","_app","_touchstartHandler","_touchendHandler","_touchcancelHandler","_touchmoveHandler","_sortHandler","_sortElements","_elements","_hoveredElement","_pressedElement","_touchedElements","_touchesForWhichTouchLeaveHasFired","_useMouse","useMouse","_useTouch","useTouch","_clickedEntities","passive","addElement","removeElement","_calcMouseCoords","_onElementMouseEvent","_determineTouchedElements","touchedElements","systems","_calcTouchCoords","_getTargetElement","newTouchedElements","newTouchInfo","oldTouchInfo","_fireEvent","touchId","touchInfo","hovered","layerOrder","screen","_checkElement2d","_checkElement3d","_buildHitCorners","screenOrWorldCorners","scaleX","scaleY","hitCorners","hitPadding","_calculateScaleToScreen","screenScale","maskedBy","cameraWidth","cameraHeight","cameraLeft","cameraRight","cameraBottom","cameraTop","screenCorners","worldCorners","VrManager","isSupported","displays","_onDisplayConnect","_onDisplayDisconnect","_attach","_getDisplays","err","_addDisplay","getVRDisplays","_detach","_camera","then","displayId","VrDisplay","_frameData","VRFrameData","sitToStandInv","leftPos","rightPos","combinedPos","combinedFov","combinedAspect","_presentChange","vrdisplay","isPresenting","leftEye","getEyeParameters","rightEye","renderWidth","renderHeight","_allowResize","setCanvasResolution","RESOLUTION_AUTO","getFrameData","leftProjectionMatrix","rightProjectionMatrix","stage","stageParameters","sittingToStandingTransform","leftViewMatrix","rightViewMatrix","maxFov","view","deltaX","deltaY","deltaZ","dist","fwdX","fwdY","fwdZ","depthNear","depthFar","requestPresent","exitPresent","submitFrame","resetPose","setClipPlanes","capabilities","Http","ContentType","FORM_URLENCODED","GIF","JPEG","DDS","PNG","TEXT","XML","WAV","OGG","MP3","MP4","AAC","BIN","BASIS","ResponseType","BLOB","DOCUMENT","binaryExtensions","retryDelay","url","request","post","postdata","put","del","timestamp","xhr","errored","retry","retries","maxRetries","async","headers","Document","FormData","contentType","bFirstItem","escape","XMLHttpRequest","withCredentials","responseType","_guessResponseType","setRequestHeader","onreadystatechange","_onReadyStateChange","onerror","_onError","send","_isBinaryContentType","binTypes","readyState","_onSuccess","response","getResponseHeader","trim","parse","responseText","responseXML","retrying","maxRetryDelay","http","ScriptRegistry","_scripts","script","__name","old","_components","scriptInstance","scriptInstances","scriptInstancesInitialized","loopIndex","component","_scriptsIndex","awaiting","_scriptsData","preloading","__initializeAttributes","_initialized","initialize","_postInitialized","postInitialize","rawToValue","Asset","assets","getEntityFromIndex","CurveType","ScriptAttributes","scriptType","createScript","reservedAttributes","__attributes","raw","legacy","reservedScripts","_enabledOld","__destroyed","__attributesRaw","__scriptType","__executionOrder","force","methods","_destroyed","_scriptMethod","ScriptComponent","scriptMethods","_beingEnabled","registry","scripts","ScriptHandler","_push","Bundle","files","_blobUrls","hasBlobUrl","getBlobUrl","URL","revokeObjectURL","BundleRegistry","_assets","_bundleAssets","_assetsInBundles","_urlsInBundles","_fileRequests","_onAssetAdded","_onAssetRemoved","asset","_registerBundleEventListeners","_indexAssetInBundle","_indexAssetFileUrls","bundleAssetId","_onBundleLoaded","_onBundleError","_unregisterBundleEventListeners","assetId","bundleAsset","bundles","urls","_getAssetFileUrls","getFileUrl","_normalizeUrl","numFiles","maps","decodedUrl","requests","bundle","_findLoadedOrLoadingBundleForUrl","loaded","loading","listBundlesForAsset","hasUrl","canLoadUrl","loadUrl","I18nParser","_validate","isArray","entry","locale","messages","PLURALS","definePluralFn","locales","getLang","replaceLang","desiredLang","DEFAULT_LOCALE","DEFAULT_LOCALE_FALLBACKS","isInteger","mod10","mod100","DEFAULT_PLURAL_FN","getPluralFn","lang","I18n","_translations","_availableLangs","_parser","findAvailableLocale","desiredLocale","availableLocales","fallback","getText","_locale","_lang","translations","_findFallbackLocale","getPluralText","pluralFn","_pluralFn","addData","parsed","removeData","hasAny","_onAssetAdd","_onAssetRemove","_onAssetLoad","_onAssetChange","_onAssetUnload","Template","_data","_expandedData","_templateRoot","instantiate","_parseTemplate","getExpandedData","entities","TemplateUtils","expandTemplateEntities","parser","SceneParser","waitForTemplatesInScene","collapsedInstances","_getAllCollapsedEntities","waitForTemplateAssets","templateIds","_extractTemplateIds","loader","AssetListLoader","load","instanceEntities","template_id","collapsed_entity","expandEntity","_legacy","_createdLoadingScreen","ScriptType","_pcScriptName","createLoadingScreen","_applications","_currentApplication","timeScale","maxDeltaTime","autoRender","renderNextFrame","useLegacyScriptAttributeCloning","_librariesLoaded","_fillMode","FILLMODE_KEEP_ASPECT","_resolutionMode","RESOLUTION_FIXED","graphicsDeviceOptions","stats","ApplicationStats","_audioManager","ResourceLoader","_entityIndex","Entity","_enableList","AssetRegistry","assetPrefix","prefix","enableBundles","TextDecoder","scriptsOrder","i18n","_sceneRegistry","SceneRegistry","defaultLayerWorld","defaultLayerDepth","srcFbo","FRAMEBUFFER_BINDING","depthClearOptions","visibleObjects","layerVisibleList","layerVisibleListLength","rgbaDepthClearOptions","defaultLayerSkybox","defaultLayerUi","defaultLayerImmediate","defaultLayerComposition","_immediateLayer","oldComp","newComp","lightmapper","Lightmapper","_firstBake","batcher","BatchManager","_firstBatch","elementInput","vr","_inTools","_skyboxLast","_scriptPrefix","scriptPrefix","addHandler","BundleHandler","AnimationHandler","ModelHandler","MaterialHandler","TextureHandler","TextHandler","JsonHandler","AudioHandler","SceneHandler","CubemapHandler","HtmlHandler","CssHandler","ShaderHandler","HierarchyHandler","SceneSettingsHandler","FolderHandler","FontHandler","BinaryHandler","TextureAtlasHandler","SpriteHandler","TemplateHandler","ComponentSystemRegistry","RigidBodyComponentSystem","CollisionComponentSystem","AnimationComponentSystem","ModelComponentSystem","CameraComponentSystem","LightComponentSystem","ScriptLegacyComponentSystem","ScriptComponentSystem","AudioSourceComponentSystem","SoundComponentSystem","AudioListenerComponentSystem","ParticleSystemComponentSystem","ScreenComponentSystem","ElementComponentSystem","ButtonComponentSystem","ScrollViewComponentSystem","ScrollbarComponentSystem","SpriteComponentSystem","LayoutGroupComponentSystem","LayoutChildComponentSystem","ZoneComponentSystem","_visibilityChangeHandler","onVisibilityChange","hidden","_hiddenAttr","mozHidden","msHidden","webkitHidden","tick","makeTick","Progress","inc","configure","application_properties","scenes","_parseApplicationProperties","_parseScenes","_parseAssets","preload","total","_done","onAssetLoad","onAssetError","getSceneUrl","loadSceneHierarchy","loadSceneSettings","loadScene","_preloadScripts","sceneData","_getScriptReferences","progress","scriptUrl","regex","onLoad","useDevicePixelRatio","use_device_pixel_ratio","resolutionMode","resolution_mode","fillMode","fill_mode","maxPixelRatio","setCanvasFillMode","composition","sublayer","batchGroups","grp","addGroup","maxAabbSize","i18nAssets","_loadLibraries","libraries","onLibrariesLoaded","scriptsIndex","bundlesIndex","file","loadingType","addLocalizedAssetId","priorityScripts","priority_scripts","ComponentSystem","fixedUpdate","postUpdate","updateAll","_skipRenderCounter","_fillFrameStats","ms","_timeToCountFrames","fps","_fpsAccum","shadowMapUpdates","shadowMapTime","depthMapTime","forwardTime","prims","triangles","cullTime","skinTime","morphTime","instancingTime","otherPrimitives","culled","_numDrawCallsCulled","shadow","skinned","immediate","instanced","removedByInstancing","misc","_depthDrawCalls","_immediateRendered","renderTargetCreationTime","particles","updatesPerFrame","_updatesPerFrame","frameTime","_frameTime","isHidden","windowWidth","innerWidth","windowHeight","innerHeight","winR","FILLMODE_FILL_WINDOW","rigidbody","onLibraryLoaded","collision","applySceneSettings","Ammo","loadFaces","_skyboxLoad","_onSkyboxChange","_skyboxRemove","resources","enableVr","disableVr","bake","generate","_processTimestamp","canvasId","unload","getHandler","destroyManager","_frameEndData","FILLMODE_NONE","updateStart","updateTime","renderStart","renderTime","physicsStart","physicsTime","vram","SceneRegistryItem","_urlIndex","findByUrl","handler","ABSOLUTE_URL","_loaded","patch","system","store","schema","_helper","_init","_postInit","inTools","_toolsUpdate","_fixedUpdate","_postUpdate","_erase","unbind","addComponent","ComponentType","componentData","DataType","initializeComponentData","removeComponent","record","cloneComponent","properties","descriptor","convertValue","getPropertiesOfType","matchingProperties","Component","_accessorsBuilt","buildAccessors","onSetEnabled","_buildAccessors","onPostStateChange","ComponentData","AnimationComponent","animationsIndex","onSetAnimations","onSetAssets","onSetLoop","blendTime","animations","prevAnim","currAnim","blendTimeRemaining","fromSkel","skeleton","toSkel","playing","setModel","loadAnimationAssets","ids","onAssetReady","onAssetAdd","onAssetChanged","onAssetRemoved","_stopCurrentAnimation","modelComponent","activate","animName","onSetCurrentTime","onBeforeRemove","defineProperties","_schema","AnimationComponentData","onUpdate","speed","clonedAnimations","clonedAnimationsIndex","ModelComponent","_asset","_model","_mapping","_receiveShadows","_materialAsset","_castShadowsLightmap","_lightmapped","_lightmapSizeMultiplier","_isStatic","_batchGroupId","_area","_assetOld","_materialEvents","_dirtyModelAsset","_dirtyMaterialAsset","_clonedModel","setVisible","addModelToLayers","removeModelFromLayers","onRemove","materialAsset","_unsetMaterialEvents","onLayersChanged","onLayerAdded","onLayerRemoved","_setMaterialEvent","_getAssetByIdOrPath","idOrPath","isPath","_getMaterialAssetUrl","getByUrl","modelAsset","fileUrl","dirUrl","_loadAndSetMeshInstanceMaterial","isAsset","_bindModelAsset","_bindMaterialAsset","BatchGroup","MODEL","batchGroupId","hide","show","_onMaterialAssetLoad","_onMaterialAssetUnload","_onMaterialAssetRemove","_onMaterialAssetChange","_unbindMaterialAsset","_onMaterialAssetAdd","_unbindModelAsset","_onModelAssetLoad","_onModelAssetUnload","_onModelAssetChange","_onModelAssetRemove","_onModelAssetAdded","_onModelAssetAdd","_new","_old","mapping","capsule","cone","cylinder","_id","_prev","_entity","receiveShadow","lightmapped","rcv","assetMapping","ModelComponentData","receiveShadows","castShadowsLightmap","meshInstancesClone","CameraComponent","onSetAspectRatioMode","onSetAspectRatio","onSetCamera","onSetClearColor","onSetFov","onSetOrthoHeight","onSetNearClip","onSetFarClip","onSetProjection","onSetPriority","updateClearFlags","onSetRenderTarget","onSetRect","onSetScissorRect","onSetHorizontalFov","onSetFrustumCulling","onSetCalculateTransform","onSetCalculateProjection","onSetCullFaces","onSetFlipFaces","onSetLayers","screenx","screeny","cameraz","onPrerender","horizontalFov","_calculateTransform","_calculateProjection","addCameraToLayers","removeCameraFromLayers","postEffects","isRendering","enterVr","canPresent","exitVr","CameraComponentData","property","PostEffectQueue","sortCamerasByPriority","depthLayer","effects","depthTarget","renderTargetScale","resizeTimeout","resizeLast","_resizeTimeoutCallback","resizeRenderTargets","onCameraRectChanged","_origOverrideClear","_origClearColorBuffer","_origDepthColorBuffer","_origStencilColorBuffer","_createOffscreenTarget","useDepth","useStencil","_resizeOffscreenTarget","_destroyOffscreenTarget","setRenderTargetScale","addEffect","effect","isFirstEffect","newEntry","_commandList","_sourceLayers","layerID","_sourceTarget","_newPostEffect","_requestDepthMap","removeEffect","_releaseDepthMap","_requestDepthMaps","_releaseDepthMaps","_onCanvasResized","fx","desiredWidth","desiredHeight","_backbufferRt","_constInput","_constScreenSize","_constScreenSizeValue","_constScreenSizeValueUniform","_postEffectChain","_backbufferRtUsed","_backbufferRt2Used","_backbufferRtWrittenByPost","_regexUniforms","_regexUniformStart","_regexUniformEnd","_regexVariables","_regexVariableSurroundings","_regexIrrelevantVariables","_regexIrrelevantVariableSurroundings","_regexVersion","_regexFragColor","_regexFragColor2","_regexFragColor3","_regexColorBuffer","_regexUv","_regexColorBufferSample","_regexMain","_createBackbufferRt","_destroyBackbufferRt","_collectUniforms","strs","_uniformsCollide","chain","uniforms2","_collectGlobalTempVars","scopeStart","scopeEnd","scopeDepth","codeStart","codeWithoutScopes","collisions","decls","irrelevantDecls","PostEffectPass","srcRenderTarget","setup","_postEffectCombined","_postEffectCombinedSrc","_backbufferRtId","_postEffectCombinedShader","_postEffectCombinedBilinear","postEffectBilinear","unmodifiedUvs","bilinear","postEffect","destRenderTarget","_backbufferMsaa","rtId","backbufferRtFormat","breakChain","cachedName","mainCode","globalTempVars","addToComposition","LightComponent","_cookieAsset","_cookieAssetId","_cookieAssetAdd","_cookieMatrix","_props","_propsDefault","_defineProperty","setFunc","skipEqualsCheck","_defineProps","changeType","refreshProperties","onCookieAssetRemove","cookieAsset","onCookieAssetAdd","cookie","cookieFalloff","cookieChannel","cookieScale","cookieAngle","affectLightmapped","addLightToLayers","removeLightFromLayers","onCookieAssetSet","forceLoad","onCookieAssetLoad","_lightProps","_lightPropsDefault","lightTypes","LightComponentData","_onRemoveComponent","_updateList","SortedLoopArray","sortBy","_postUpdateList","_destroyedScripts","_oldState","_isLoopingThroughScripts","_executionOrder","_onSetEnabled","_checkState","wasLooping","_beginLooping","_endLooping","wasLoopingBefore","_removeDestroyedScripts","_addComponentToEnabled","_removeComponentFromEnabled","_onBeforeRemove","_removeScriptInstance","_resetExecutionOrder","_onInitializeAttributes","_onInitialize","_onPostInitialize","_onUpdate","_onPostUpdate","_insertScriptInstance","scriptsLength","append","scriptName","onSwap","scriptData","scriptInstanceOld","resolveDuplicatedEntityReferenceProperties","oldScriptComponent","duplicatedIdsMap","newScriptComponent","newAttributesRaw","newAttributes","oldAttributes","attributeName","oldGuidArray","newGuidArray","oldGuid","move","indOld","METHOD_INITIALIZE_ATTRIBUTES","METHOD_INITIALIZE","METHOD_POST_INITIALIZE","METHOD_UPDATE","METHOD_POST_UPDATE","executionOrderCounter","ScriptComponentData","_enabledComponents","MAX_SAFE_INTEGER","_callComponentMethod","ScriptLegacyComponent","onSetScripts","functionName","areScriptsLoaded","initialized","_initializeScriptComponent","_enableScriptComponent","postInitialized","_postInitializeScriptComponent","_disableScriptComponent","runInTools","_updateScriptAttributes","_destroyScriptComponent","_loadFromCache","_loadScripts","onlyUpdateAttributes","_updateAccessors","getFromCache","_preRegisterInstance","onInitialize","onPostInitialize","_url","_unprefixed","INITIALIZE","POST_INITIALIZE","UPDATE","POST_UPDATE","FIXED_UPDATE","TOOLS_UPDATE","ON_ENABLE","ON_DISABLE","ScriptLegacyComponentData","instancesWithUpdate","instancesWithFixedUpdate","instancesWithPostUpdate","instancesWithToolsUpdate","onFixedUpdate","onPostUpdate","onToolsUpdate","dict","_cloneAttributes","_registerInstances","_callInstancesMethod","toolsUpdate","_updateInstances","updateList","broadcast","dataStore","_instances","preRegistered","instanceName","_createAccessors","_createAccessor","_convertAttributeValue","scriptComponent","previousAttributes","oldAttribute","onAttributeChanged","findByGuid","curveType","instanceOptions","SoundSlot","_overlap","overlap","_autoPlay","autoPlay","_onInstancePlayHandler","_onInstancePlay","_onInstancePauseHandler","_onInstancePause","_onInstanceResumeHandler","_onInstanceResume","_onInstanceStopHandler","_onInstanceStop","_onInstanceEndHandler","_onInstanceEnd","_createInstance","isLoaded","playWhenLoaded","resumed","stopped","_hasAsset","positional","updatePosition","assetDuration","oldAsset","isPaused","isStopped","SoundComponent","onSetSlots","onSetVolume","onSetPitch","onSetRefDistance","onSetMaxDistance","onSetRollOffFactor","onSetDistanceModel","onSetPositional","slots","isSuspended","playingBeforeDisable","addSlot","removeSlot","SoundComponentData","oldData","newData","oldSlot","AudioSourceComponent","onSetMinDistance","onSet3d","sources","currentSource","newAssets","loadAudioSourceAssets","_error","AudioSourceComponentData","audiosource","AudioListenerComponent","setCurrentListener","audiolistener","AudioListenerComponentData","BODYTYPE_STATIC","BODYTYPE_DYNAMIC","BODYTYPE_KINEMATIC","BODYFLAG_STATIC_OBJECT","BODYFLAG_KINEMATIC_OBJECT","BODYFLAG_NORESPONSE_OBJECT","BODYSTATE_ACTIVE_TAG","BODYSTATE_ISLAND_SLEEPING","BODYSTATE_WANTS_DEACTIVATION","BODYSTATE_DISABLE_DEACTIVATION","BODYSTATE_DISABLE_SIMULATION","BODYGROUP_NONE","BODYGROUP_DEFAULT","BODYGROUP_DYNAMIC","BODYGROUP_STATIC","BODYGROUP_KINEMATIC","BODYGROUP_ENGINE_1","BODYGROUP_TRIGGER","BODYGROUP_ENGINE_2","BODYGROUP_ENGINE_3","BODYGROUP_USER_1","BODYGROUP_USER_2","BODYGROUP_USER_3","BODYGROUP_USER_4","BODYGROUP_USER_5","BODYGROUP_USER_6","BODYGROUP_USER_7","BODYGROUP_USER_8","BODYMASK_NONE","BODYMASK_ALL","BODYMASK_STATIC","BODYMASK_NOT_STATIC","BODYMASK_NOT_STATIC_KINEMATIC","ammoTransform","ammoVec1","ammoVec2","ammoQuat","ammoOrigin","RigidBodyComponent","btTransform","btVector3","btQuaternion","onSetMass","onSetLinearDamping","onSetAngularDamping","onSetLinearFactor","onSetAngularFactor","onSetFriction","onSetRestitution","onSetType","onSetGroupOrMask","onSetBody","_displacement","_linearVelocity","_angularVelocity","isKinematic","vel","getLinearVelocity","lv","setLinearVelocity","getAngularVelocity","av","setAngularVelocity","createBody","shape","trigger","isStaticOrKinematic","mass","localInertia","calculateLocalInertia","startTransform","getOrigin","motionState","btDefaultMotionState","bodyInfo","btRigidBodyConstructionInfo","btRigidBody","setRestitution","restitution","setFriction","friction","setDamping","linearDamping","angularDamping","linearFactor","setLinearFactor","angularFactor","setAngularFactor","setCollisionFlags","getCollisionFlags","setActivationState","enableSimulation","isActive","simulationEnabled","addBody","group","forceActivationState","BODYFLAG_ACTIVE_TAG","syncEntityToBody","disableSimulation","removeBody","applyForce","applyTorque","applyImpulse","applyTorqueImpulse","getMotionState","setWorldTransform","syncBodyToEntity","teleport","_updateKinematic","isEnabled","getCollisionShape","setMassProps","updateInertiaTensor","ammoRayStart","ammoRayEnd","frameCollisions","WARNED_RAYCAST_CALLBACK","RaycastResult","SingleContactResult","contactPoint","localPointA","localPointB","pointA","pointB","localPoint","localPointOther","pointOther","ContactPoint","ContactResult","contacts","RigidBodyComponentData","contactPointPool","contactResultPool","singleContactResultPool","collisionConfiguration","btDefaultCollisionConfiguration","dispatcher","btCollisionDispatcher","overlappingPairCache","btDbvtBroadphase","solver","btSequentialImpulseConstraintSolver","dynamicsWorld","btDiscreteDynamicsWorld","bodyType","addRigidBody","removeRigidBody","addConstraint","constraint","removeConstraint","raycastFirst","rayCallback","ClosestRayResultCallback","rayTest","hasHit","collisionObj","get_m_collisionObject","castObject","get_m_hitPointWorld","get_m_hitNormalWorld","_storeCollision","isNewCollision","others","_createContactPointFromAmmo","get_m_localPointA","get_m_localPointB","positionWorldOnA","getPositionWorldOnA","positionWorldOnB","getPositionWorldOnB","normalWorldOnB","get_m_normalWorldOnB","contact","_createReverseContactPointFromAmmo","_createSingleContactResult","_createContactResult","_cleanOldCollisions","frameCollision","entityCollision","entityRigidbody","_hasContactEvent","getGravity","setGravity","stepSimulation","getDispatcher","numManifolds","getNumManifolds","manifold","getManifoldByIndexInternal","body0","getBody0","body1","getBody1","wb0","wb1","e0","e1","flags0","flags1","numContacts","getNumContacts","forwardContacts","reverseContacts","newCollision","e0Events","e1Events","globalEvents","btContactPoint","getContactPoint","reverseContactPoint","forwardResult","reverseResult","RIGIDBODY_TYPE_STATIC","RIGIDBODY_TYPE_DYNAMIC","RIGIDBODY_TYPE_KINEMATIC","RIGIDBODY_CF_STATIC_OBJECT","RIGIDBODY_CF_KINEMATIC_OBJECT","RIGIDBODY_CF_NORESPONSE_OBJECT","RIGIDBODY_ACTIVE_TAG","RIGIDBODY_ISLAND_SLEEPING","RIGIDBODY_WANTS_DEACTIVATION","RIGIDBODY_DISABLE_DEACTIVATION","RIGIDBODY_DISABLE_SIMULATION","Trigger","CollisionComponent","_compoundParent","_onInsert","onSetHalfExtents","onSetRadius","onSetHeight","onSetAxis","onSetAsset","onSetModel","recreatePhysicalShapes","implementations","doRecreatePhysicalShape","_getCompoundChildShapeIndex","compound","shapes","getNumChildShapes","childShape","getChildShape","ptr","ancestor","_getNodeTransform","addChildShape","_destroying","_removeCompoundChild","vec3","quat","CollisionSystemImpl","beforeInitialize","afterInitialize","createPhysicalShape","_addEachDescendant","_updateEachDescendant","updateCompoundChildTransform","updateTransform","beforeRemove","CollisionBoxSystemImpl","ammoHe","btBoxShape","CollisionSphereSystemImpl","btSphereShape","CollisionCapsuleSystemImpl","btCapsuleShapeX","btCapsuleShape","btCapsuleShapeZ","CollisionCylinderSystemImpl","btCylinderShapeX","btCylinderShape","btCylinderShapeZ","CollisionConeSystemImpl","btConeShapeX","btConeShape","btConeShapeZ","CollisionMeshSystemImpl","btCompoundShape","triMesh","_triMeshCache","numTriangles","btTriangleMesh","addTriangle","useQuantizedAabbCompression","triMeshShape","btBvhTriangleMeshShape","scaling","_getNodeScaling","setLocalScaling","entityTransform","loadModelAsset","worldScale","previousScale","getLocalScaling","numShapes","CollisionCompoundSystemImpl","_updateEachDescendantTransform","CollisionComponentData","impl","_createImplementation","_getImplementation","removeChildShapeByIndex","onTransformChanged","previousType","newType","_calculateNodeRelativeTransform","relative","SIMPLE_PROPERTIES","COMPLEX_PROPERTIES","GRAPH_PROPERTIES","ASSET_PROPERTIES","ParticleSystemComponent","onSetColorMapAsset","onSetNormalMapAsset","onSetMeshAsset","onSetMesh","onSetBlendType","onSetDepthSoftening","onSetSimpleProperty","onSetComplexProperty","onSetGraphProperty","_requestedDepth","_bindColorMapAsset","_onColorMapAssetLoad","_onColorMapAssetUnload","_onColorMapAssetRemove","_onColorMapAssetChange","_unbindColorMapAsset","colorMapAsset","_bindNormalMapAsset","_onNormalMapAssetLoad","_onNormalMapAssetUnload","_onNormalMapAssetRemove","_onNormalMapAssetChange","_unbindNormalMapAsset","normalMapAsset","_bindMeshAsset","_onMeshAssetLoad","_onMeshAssetUnload","_onMeshAssetRemove","_onMeshAssetChange","_unbindMeshAsset","_onMeshChanged","meshAsset","_requestDepth","_releaseDepth","psys","ParticleSystemComponentData","propertyTypes","types","particlesystem","sourceProp","numSteps","SpriteAnimationClip","_frame","_sprite","_spriteAsset","spriteAsset","_playing","_paused","_onSpriteAssetAdded","_bindSpriteAsset","_onSpriteAssetLoad","_onSpriteAssetRemove","_unbindSpriteAsset","textureAtlasAsset","_onTextureAtlasLoad","sprite","atlasAssetId","atlasAsset","_onSpriteMeshesChange","currentClip","_showFrame","_onSpritePpuChanged","_setTime","_setFrame","_destroy","_meshInstance","_hideModel","_showModel","MIN_VALUE","SPRITETYPE_SIMPLE","SPRITETYPE_ANIMATED","PARAM_EMISSIVE_MAP","PARAM_OPACITY_MAP","PARAM_EMISSIVE","PARAM_OPACITY","PARAM_INNER_OFFSET","PARAM_OUTER_SCALE","PARAM_ATLAS_RECT","SpriteComponent","_colorUniform","_speed","_flipX","_drawOrder","_outerScale","_outerScaleUniform","_innerOffset","_innerOffsetUniform","_atlasRect","_atlasRectUniform","_batchGroup","_addedModel","_autoPlayClip","_clips","_defaultClip","_currentClip","_onLayersChanged","_onLayerAdded","_onLayerRemoved","_tryAutoPlay","SPRITE","onDestroy","default9SlicedMaterialSlicedMode","default9SlicedMaterialTiledMode","frameData","borderWidthScale","borderHeightScale","_updateTransform","flipX","posX","posY","scaleMulX","scaleMulY","clip","addClip","removeClip","SpriteComponentData","_defaultTexture","emissiveMapTint","clips","autoPlayClip","SCALEMODE_NONE","SCALEMODE_BLEND","ScreenComponent","_resolution","_referenceResolution","_scaleMode","_scaleBlend","_priority","_screenMatrix","_onResize","_transform","syncDrawOrder","queueDrawOrderSync","_processDrawOrderSync","_recurseDrawOrderSync","prevDrawOrder","markGroupDirty","_calcProjectionMatrix","_updateScale","_calcScale","referenceResolution","ScreenComponentData","windowResolution","_drawOrderSyncQueue","onRemoveComponent","scaleMode","scaleBlend","processDrawOrderSyncQueue","ELEMENTTYPE_GROUP","ELEMENTTYPE_IMAGE","ELEMENTTYPE_TEXT","matA","matB","matC","matD","ElementComponent","_beingInitialized","_anchor","_localAnchor","_pivot","_calculatedWidth","_calculatedHeight","_margin","_screenToWorld","_anchorTransform","_anchorDirty","_parentWorldTransform","_screenTransform","_screenCorners","_canvasCorners","_worldCorners","_cornersDirty","_canvasCornersDirty","_worldCornersDirty","_patch","_image","_text","_group","_useInput","_addedModels","_offsetReadAt","_maskOffset","_maskedBy","_setPosition","_setLocalPosition","_unpatch","pvt","resx","resy","calculatedWidth","calculatedHeight","anchor","_calculateLocalAnchors","_sizeDirty","_calculateSize","parentWorldTransform","depthOffset","pivotOffset","_absLeft","_absBottom","_parseUpToScreen","_updateScreen","_dirtifyMask","_prerender","_onPrerender","syncMask","_bindScreen","_onScreenResize","_onScreenSpaceChange","_onScreenRemove","_unbindScreen","previousScreen","_hasSplitAnchorsX","_hasSplitAnchorsY","_updateMask","_setMaskedBy","renderableElement","_maskRef","sp","_setStencil","currentMask","getOffsetPosition","useInput","ELEMENT","propagateCalculatedWidth","propagateCalculatedHeight","newWidth","_absRight","newHeight","_absTop","_setWidth","_setCalculatedWidth","_setHeight","_setCalculatedHeight","updateMargins","_flagChildrenAsDirty","getMaskOffset","mo","isVisibleForCamera","clipL","clipR","clipT","clipB","_isScreenSpace","_isScreenCulled","ImageElement","TextElement","wr","wl","wb","prevX","prevY","mx","my","parentBottomLeft","localPos","_renderable","_define","ElementComponentData","_unicodeConverter","_rtlReorder","defaultImageMaterial","defaultImage9SlicedMaterial","defaultImage9TiledMaterial","defaultImageMaskMaterial","defaultImage9SlicedMaskMaterial","defaultImage9TiledMaskMaterial","defaultScreenSpaceImageMaterial","defaultScreenSpaceImage9SlicedMaterial","defaultScreenSpaceImage9TiledMaterial","defaultScreenSpaceImageMask9SlicedMaterial","defaultScreenSpaceImageMask9TiledMaterial","defaultScreenSpaceImageMaskMaterial","defaultTextMaterial","defaultBitmapTextMaterial","defaultScreenSpaceTextMaterial","defaultScreenSpaceBitmapTextMaterial","defaultImageMaterials","splitHorAnchors","splitVerAnchors","_marginChange","margin","shouldForceSetAnchor","textureAsset","spriteFrame","autoWidth","autoHeight","rtlReorder","unicodeConverter","spacing","fontSize","lineHeight","maxLines","wrapLines","minFontSize","maxFontSize","autoFitWidth","autoFitHeight","fontAsset","font","alignment","outlineColor","outlineThickness","shadowColor","shadowOffset","enableMarkup","_meshDirty","_updateMesh","getTextElementMaterial","_createBaseImageMaterial","getImageElementMaterial","nineSliced","nineSliceTiled","registerUnicodeConverter","registerRtlReorder","getUnicodeConverter","getRtlReorder","ImageRenderable","unmaskMeshInstance","setMaterial","setMesh","forceUpdateAabb","setMask","setUnmaskDrawOrder","getLastChild","last","lastChild","setDrawOrder","setCull","visibleFn","setScreenSpace","setLayer","setAabbFunc","_system","_textureAsset","_spriteFrame","_defaultMesh","_createMesh","_onScreenChange","_onParentResizeOrPivotChange","_onDrawOrderChange","_onResolutionChange","_updateMaterial","_hasUserMaterial","_use9Slicing","nineTiled","vertexData","vertexDataF32","ppu","atlasTextureWidth","atlasTextureHeight","_updateSprite","nineSlice","_toggleMask","_onMaterialLoad","_onMaterialAdded","_onMaterialChange","_onMaterialRemove","_onTextureAdded","_bindTextureAsset","_onTextureLoad","_onTextureChange","_onTextureRemove","_unbindTextureAsset","_onSpriteAssetChange","_bindSprite","_onSpritePpuChange","_onAtlasTextureChange","_unbindSprite","stencilParams","MeshInfo","quad","_symbols","_colorPalette","_symbolColors","_i18nKey","_fontAsset","LocalizedAsset","disableLocalization","_onFontLoad","_onFontChange","_onFontRemove","_font","_spacing","_fontSize","_fontMinY","_fontMaxY","_originalFontSize","_maxFontSize","_minFontSize","_autoFitWidth","_autoFitHeight","_maxLines","_lineHeight","_scaledLineHeight","_wrapLines","_alignment","_autoWidth","_autoHeight","_meshInfo","_noResize","_currentMaterialType","_maskedMaterialSrc","_rtl","_outlineColor","_outlineColorUniform","_outlineThicknessScale","_outlineThickness","_shadowColor","_shadowColorUniform","_shadowOffsetScale","_shadowOffset","_shadowOffsetUniform","_enableMarkup","_onParentResize","_onPivotChange","_onLocaleSet","_onLocalizationData","_rangeStart","_rangeEnd","LINE_BREAK_CHAR","WHITESPACE_CHAR","WORD_BOUNDARY_CHAR","_setMaterial","_updateText","_resetLocalizedText","_setText","unicodeConverterFunc","Markup","symbols","rtlReorderFunc","rtl","paletteMap","charactersPerTexture","_calculateCharsPerTexture","removedModel","screenCulled","meshInfo","_removeMeshInstance","_setTextureParams","_getPxRange","_updateMeshes","_updateRenderRange","iblen","oldMesh","FONT_MSDF","json","minFont","maxFont","autoFit","_shouldAutoFit","MAGIC","_xMinusTrailingWhitespace","wordStartX","wordStartIndex","lineStartIndex","numWordsThisLine","numCharsThisLine","numBreaksThisLine","splitHorizontalAnchors","maxLineWidth","POSITIVE_INFINITY","fontMinY","fontMaxY","breakLine","lineBreakIndex","lineBreakX","_lineWidths","sliceStart","sliceEnd","_lineContents","retryUpdateMeshes","color_r","color_g","color_b","advance","quadsize","dataScale","kerning","kernTable","kernLeft","xadvance","xoffset","yoffset","isLineBreak","isWhitespace","candidateLineWidth","backtrack","backtrackStart","backtrackEnd","backChar","backCharData","backMeshInfo","_shouldAutoFitWidth","_shouldAutoFitHeight","isWordBoundary","_getUv","colorIdx","ha","va","prevQuad","hoffset","voffset","tmp0","tmp1","vertMax","it","_onFontRender","FONT_BITMAP","space","edge","autoLoad","symbolIndex","startChars","endChars","localizedAsset","defaultAsset","previousFontType","charId","bounds","newFontSize","rangeStart","rangeEnd","Scanner","_last","_cur","_buf","_mode","EOF_TOKEN","ERROR_TOKEN","TEXT_TOKEN","OPEN_BRACKET_TOKEN","CLOSE_BRACKET_TOKEN","EQUALS_TOKEN","STRING_TOKEN","IDENTIFIER_TOKEN","WHITESPACE_TOKEN","WHITESPACE_CHARS","IDENTIFIER_REGEX","read","token","_read","buf","debugPrint","tokenStrings","_eof","_tag","_next","_store","_output","_whitespace","_string","_isIdentifierSymbol","_identifier","Parser","_scanner","_parseTag","merge","combineTags","resolveMarkupTags","numSymbols","edges","tagStack","removeTags","addTags","edgeKeys","resolvedTags","prevTag","resolvedTag","evaluateMarkup","stripped_symbols","invalidTag","resolved_tags","_inputScreenPosition","_inputWorldPosition","_rayOrigin","_rayDirection","_planeOrigin","_planeNormal","_entityRotation","OPPOSITE_AXIS","ElementDragHelper","_axis","_dragScale","_dragStartMousePosition","_dragStartHandlePosition","_deltaMousePosition","_deltaHandlePosition","_isDragging","_toggleLifecycleListeners","onOrOff","_onMouseDownOrTouchStart","_toggleDragListeners","isOn","addOrRemoveEventListener","_hasDragListeners","_handleMouseUpOrTouchEnd","_onMouseUpOrTouchEnd","_onMove","_dragCamera","_calculateDragScale","currentMousePosition","_screenToLocal","_determineInputPosition","_chooseRayOriginAndDirection","denominator","rayOriginToPlaneOrigin","collisionDistance","isWithin2DScreen","dragScale","currentPosition","constrainedAxis","BUTTON_TRANSITION_MODE_TINT","BUTTON_TRANSITION_MODE_SPRITE_CHANGE","VisualState","HOVER","PRESSED","INACTIVE","STATES_TO_TINT_NAMES","STATES_TO_SPRITE_ASSET_NAMES","STATES_TO_SPRITE_FRAME_NAMES","ButtonComponent","_visualState","_isHovering","_isPressed","_defaultTint","_defaultSpriteAsset","_defaultSpriteFrame","_imageReference","EntityReference","_onImageElementGain","_onImageElementLose","_onSetColor","_onSetOpacity","_onSetSpriteAsset","_onSetSpriteFrame","_onSetActive","_onSetTransitionMode","_onSetTransitionValue","_onElementComponentAdd","_onElementComponentRemove","_updateVisualState","_cancelTween","_resetToDefaultVisualState","_forceReapplyVisualState","_toggleHitElementListeners","transitionMode","_storeDefaultVisualState","isAdding","_hasHitElementListeners","_onMouseEnter","_onMouseLeave","_onMouseDown","_onMouseUp","_onTouchStart","_onTouchEnd","_onTouchLeave","_onTouchCancel","_onClick","hasComponent","_storeDefaultColor","_storeDefaultOpacity","_storeDefaultSpriteAsset","_storeDefaultSpriteFrame","_isApplyingTint","_isApplyingSprite","_fireIfActive","active","oldVisualState","newVisualState","_determineVisualState","tintName","tintColor","_applyTint","spriteAssetName","spriteFrameName","_applySprite","_applyTintImmediately","fadeDuration","_applyTintWithTween","toColor3","_tweenInfo","lerpColor","_updateTintTween","elapsedTime","elapsedProportion","onParentComponentEnable","color4","ButtonComponentData","imageEntity","hoverTint","pressedTint","inactiveTint","hoverSpriteAsset","hoverSpriteFrame","pressedSpriteAsset","pressedSpriteFrame","inactiveSpriteAsset","inactiveSpriteFrame","SCROLL_MODE_CLAMP","SCROLL_MODE_BOUNCE","SCROLL_MODE_INFINITE","SCROLLBAR_VISIBILITY_SHOW_ALWAYS","SCROLLBAR_VISIBILITY_SHOW_WHEN_REQUIRED","_tempScrollValue","ScrollViewComponent","_viewportReference","_onViewportElementGain","_onSetContentOrViewportSize","_contentReference","_onContentElementGain","_onContentElementLose","_scrollbarUpdateFlags","_scrollbarReferences","_onSetHorizontalScrollbarValue","_onHorizontalScrollbarGain","_onSetVerticalScrollbarValue","_onVerticalScrollbarGain","_prevContentSizes","_scroll","_dragStartPosition","_disabledContentInput","_disabledContentInputEntities","_toggleElementListeners","_onSetHorizontalScrollingEnabled","_onSetVerticalScrollingEnabled","_hasElementListeners","_syncAll","_destroyDragHelper","_contentDragHelper","_onContentDragStart","_onContentDragEnd","_onContentDragMove","_prevContentDragPosition","_enableContentInput","_wasDragged","_setScrollFromContentPosition","_setVelocityFromContentPositionDelta","dragThreshold","_disableContentInput","scrollValueX","_onSetScroll","scrollValueY","_syncScrollbarEnabledState","_syncScrollbarPosition","resetVelocity","hasChanged","_updateAxis","scrollValue","_determineNewScrollValue","_syncContentPosition","_getScrollingEnabled","scrollMode","_getMaxScrollValue","_setVelocityFromOvershoot","_getAxis","_getSign","contentEntity","prevContentSize","currContentSize","_getContentSize","prevMaxOffset","_getMaxOffset","currMaxOffset","contentPosition","scrollbarEntity","scrollbar","handleSize","_getScrollbarHandleSize","isScrollingEnabled","requestedVisibility","_getScrollbarVisibility","_contentIsLargerThanViewport","_getViewportSize","_contentPositionToScrollValue","maxOffsetH","maxOffsetV","contentSize","viewportSize","overshoot","_toOvershoot","_getSize","entityReference","_getCalculatedDimension","horizontal","vertical","horizontalScrollbarVisibility","verticalScrollbarVisibility","_updateVelocity","_hasOvershoot","scroll","maxScrollValue","overshootValue","overshootPixels","bounceAmount","_applyScrollValueTension","log10","isDragging","_setScrollbarComponentsEnabled","_setContentDraggingEnabled","_disableInput","DEFAULT_DRAG_THRESHOLD","ScrollViewComponentData","scrollview","ScrollbarComponent","_handleReference","_onHandleElementGain","_onHandleElementLose","_onSetHandleAlignment","_onSetValue","_onSetHandleSize","_onSetOrientation","_handleDragHelper","_onHandleDrag","_updateHandlePositionAndSize","_handlePositionToScrollValue","_getOppositeDimension","handleEntity","handleElement","_getHandlePosition","_getDimension","_getHandleLength","handlePosition","_getUsableTrackLength","_scrollValueToHandlePosition","_getTrackLength","_setHandleDraggingEnabled","ScrollbarComponentData","FITTING_NONE","FITTING_STRETCH","FITTING_SHRINK","FITTING_BOTH","LayoutGroupComponent","_orientation","_reverseX","_reverseY","_padding","_widthFitting","_heightFitting","_wrap","_layoutCalculator","LayoutCalculator","_listenForReflowEvents","_onChildInsert","_onChildRemove","_onElementOrLayoutComponentAdd","_onElementOrLayoutComponentRemove","layoutchild","_isSelfOrChild","onOff","_scheduleReflow","_isPerformingReflow","scheduleReflow","reflow","container","getElement","isEnabledAndHasEnabledElement","containerWidth","containerHeight","reverseX","reverseY","padding","widthFitting","heightFitting","containerSize","layoutInfo","calculateLayout","defineReflowSchedulingProperty","MAX_ITERATIONS","LayoutGroupComponentData","_reflowQueue","layoutGroup","layoutgroup","_processReflowQueue","iterationCount","queue","componentA","componentB","graphDepth","AXIS_MAPPINGS","calculatedSize","minSize","maxSize","fitting","fittingProportion","OPPOSITE_ORIENTATION","PROPERTY_DEFAULTS","minWidth","minHeight","maxWidth","maxHeight","fitWidthProportion","fitHeightProportion","FITTING_ACTION","APPLY_STRETCHING","APPLY_SHRINKING","availableSpace","createCalculator","minExtentA","minExtentB","maxExtentA","maxExtentB","calculateAll","allElements","layoutOptions","shouldIncludeInLayout","resetAnchors","reverseLinesIfRequired","splitLines","sizes","calculateSizesOnAxisB","calculateSizesOnAxisA","calculateBasePositions","applyAlignmentAndPadding","applySizesAndPositions","createLayoutInfo","layoutChildComponent","excludeFromLayout","getElementSizeProperties","runningSize","allowOverrun","idealElementSize","reverseAxisA","reverseAxisB","lineIndex","reverse","sizesAllLines","sizesThisLine","idealRequiredSpace","calculateTotalSpace","fittingAction","determineFittingAction","stretchSizesToFitContainer","shrinkSizesToFitContainer","largestElementsForEachLine","largestSizesForEachLine","elementIndex","largestElement","largestSize","NEGATIVE_INFINITY","sizesThisElement","sizesForThisElement","currentSize","availableSize","elementFittingAction","fittingMode","totalSizes","sumValues","totalSpacing","ascendingMaxSizeOrder","getTraversalOrder","fittingProportions","getNormalizedValues","fittingProportionSums","createSumArray","remainingUndershoot","targetIncrease","calculateAdjustment","targetSize","actualSize","actualIncrease","appliedIncrease","descendingMinSizeOrder","inverseFittingProportions","invertNormalizedValues","inverseFittingProportionSums","remainingOvershoot","targetReduction","actualReduction","appliedReduction","remainingAdjustment","proportion","sumOfRemainingProportions","cursor","positionsAllLines","positionsThisLine","alignmentA","alignmentB","paddingA","paddingB","axisAOffset","axisBOffset","withinLineAxisBOffset","layoutWidth","layoutHeight","xOffset","yOffset","sizeProperties","getProperty","propertyName","reduce","accumulator","normalizedValues","numItems","invertedValues","numValues","orderBy","descending","assignIndex","itemA","itemB","getIndex","sumArray","CALCULATE_FNS","calculateFn","LayoutChildComponent","_minWidth","_minHeight","_maxWidth","_maxHeight","_fitWidthProportion","_fitHeightProportion","_excludeFromLayout","defineResizeProperty","LayoutChildComponentData","layoutChild","Font","em","DEFAULT_TEXTURE_SIZE","CanvasFont","fontWeight","glyphSize","fontName","createTextures","_chars","_normalizeCharsSet","_renderAtlas","updateTextures","newCharsSet","_getAndClearContext","ctx","clearRect","fillStyle","fillRect","_colorToRgbString","renderCharacter","fillText","charsArray","TEXT_ALIGN","TEXT_BASELINE","textAlign","textBaseline","_createJson","prevNumTextures","maxDescent","metrics","_getTextMetrics","descent","_xOffset","_yOffset","fs","measureText","_addChar","mapNum","mapW","mapH","textSpan","block","div","ascent","ZoneComponent","_size","ZoneComponentData","zone","_batchHandle","_guid","_request","findComponent","findComponents","setGuid","enableFirst","_onHierarchyStatePostChanged","setRequest","getRequest","_cloneRecursively","oldChild","newChild","oldSubtreeRoot","oldEntity","newEntity","componentName","entityProperties","propertyDescriptor","oldEntityReferenceId","entityIsWithinOldSubtree","newEntityReferenceId","parentComponent","entityPropertyName","eventConfig","_parentComponent","_entityPropertyName","_configureEventListeners","_onEntityDestroy","externalEventConfig","internalEventConfig","externalEventListenerConfigs","_parseEventListenerConfig","internalEventListenerConfigs","_eventListenerConfigs","_listenerStatusFlags","_gainListeners","_loseListeners","listenerDescription","listenerDescriptionParts","sourceName","eventName","_onSetEntity","_onParentComponentRemove","_onSceneLoaded","allComponentSystems","componentSystem","_onComponentAdd","_onComponentRemove","_updateEntityReference","nextEntityGuid","nextEntity","isOnSceneGraph","_onBeforeEntityChange","_onAfterEntityChange","_toggleEntityListeners","_callAllGainOrLoseListeners","_callGainOrLoseListener","_toggleComponentListeners","listenerMap","isDestroying","_safeToggleListener","_getEventSource","_sortBy","_doSort","_binarySearch","middle","_handlers","_requests","_loader","removeHandler","handleLoad","urlObj","extra","original","normalizedUrl","fileUrlFromBundle","enableRetry","retryRequests","disableRetry","ResourceHandler","_worker","_untar","UntarWorker","untar","hasPendingRequests","archive","Untar","UntarScope","isWorker","utfDecoder","asciiDecoder","PaxHeader","fields","_fields","paxArray","bytesRead","spaceIndex","fieldLength","decode","fieldText","applyHeader","fieldName","fieldValue","UntarInternal","arrayBuffer","_arrayBuffer","_bufferView","DataView","_globalPaxHeader","_paxHeader","_bytesRead","_hasNext","getUint32","_readNextFile","headersDataView","ustarFormat","normalFile","blob","Blob","createObjectURL","remainder","namePrefix","filenamePrefix","onmessage","postMessage","workerUrl","getWorkerUrl","_requestId","_pendingRequests","_filenamePrefix","_onMessage","terminate","_parseAnimationV3","animData","anim","_parseAnimationV4","defPos","defaults","defRot","defScl","ie","msie","trident","rv","_isSupported","toMIME","msg","message","_createSound","decodeAudioData","onReady","assetCubeMap","_dds","_patchTextureFaces","_patchTexture","levelsUpdated","_levelsEvents","assetReady","evtAsset","assetAdded","PLACEHOLDER_MAP","_placeholderTextures","JsonStandardMaterialParser","_createPlaceholders","white","gray","black","_bindAndAssignAssets","_assignTexture","parameterName","_assignPlaceholderTexture","placeholder","_onTextureAdd","_assignCubemap","_onCubemapLoad","cubemapAsset","_onCubemapAdd","_onCubemapRemove","migrate","TEXTURES","assetReference","AssetReference","CUBEMAPS","_parsers","_defaultMaterial","addParser","JsonModelParser","decider","handleMaterial","_types","Type","_loadScript","onload","DDSD_CAPS","DDSD_HEIGHT","DDSD_WIDTH","DDSD_PITCH","DDSD_PIXELFORMAT","DDSD_MIPMAPCOUNT","DDSD_LINEARSIZE","DDSD_DEPTH","DDSCAPS2_CUBEMAP","DDSCAPS2_CUBEMAP_POSITIVEX","DDSCAPS2_CUBEMAP_NEGATIVEX","DDSCAPS2_CUBEMAP_POSITIVEY","DDSCAPS2_CUBEMAP_NEGATIVEY","DDSCAPS2_CUBEMAP_POSITIVEZ","DDSCAPS2_CUBEMAP_NEGATIVEZ","DDS_CUBEMAP_ALLFACES","DDPF_ALPHAPIXELS","DDPF_ALPHA","DDPF_FOURCC","DDPF_RGB","DDPF_YUV","DDPF_LUMINANCE","makeFourCC","FCC_DXT1","FCC_DXT5","FCC_DX10","FCC_FP32","FCC_ETC1","FCC_PVRTC_2BPP_RGB_1","FCC_PVRTC_2BPP_RGBA_1","FCC_PVRTC_4BPP_RGB_1","FCC_PVRTC_4BPP_RGBA_1","fccToFormat","DdsParser","headerU32","magic","pitchOrLinearSize","mipMapCount","ddspf","fourCc","rgbBitCount","rBitMask","gBitMask","bBitMask","aBitMask","caps3","caps4","isFcc","fcc","isCubeMap","numFaces","mipCnt","bytesPerBlock","mipData","IDENTIFIER","KNOWN_FORMATS","KtxParser","endianness","glTypeSize","glInternalFormat","glBaseInternalFormat","pixelDepth","numberOfArrayElements","numberOfFaces","numberOfMipmapLevels","bytesOfKeyValueData","mipmapLevel","imageSizeInBytes","faceSizeInBytes","JSON_ADDRESS_MODE","JSON_FILTER_MODE","arrayBufferCopy","dstByteOffset","dst32Offset","src32","dst32","_legacyDdsLoader","srcSize","Module","_malloc","HEAPU8","_crn_decompress_get_data","dstSize","_crn_decompress_get_size","isFourCc","bpp","isCubemap","compressed","floating","etc1","pvrtc2","pvrtc4","texOptions","faces","mipBuff","_completePartialMipmapChain","isHtmlElement","object","downsample","sampledWidth","sampledHeight","sampledData","xs","ys","xsys","crossOrigin","urlWithoutParams","basisTranscode","_loadImage","blobStart","originalUrl","Image","retryTimeout","separator","textureData","minfilter","magfilter","addressu","addressv","createStyle","cssString","styleSheet","createTextNode","errMsg","stack","upgradeDataSchema","newChars","existing","newKey","letter","_loadTextures","numLoaded","loadTexture","onLoaded","regexFrame","textureUrl","__data","onTextureAtlasLoaded","onTextureAtlasAdded","_updateAtlas","JSON_PRIMITIVE_TYPE","JSON_VERTEX_ELEMENT_TYPE","modelData","_parseNodes","_parseSkins","morphs","_parseMorphs","_parseVertexBuffers","_parseIndexBuffers","_parseMeshes","_initMorphs","_parseMeshInstances","nodeData","parents","skinData","ibm","morphTarget","morphTargetArray","targetAabb","_calculateTangentsMorphTarget","sdirx","sdiry","sdirz","tdirx","tdiry","tdirz","v1x","v1y","v1z","v2x","v2y","v2z","v3x","v3y","v3z","w1x","w1y","w2x","w2y","w3x","w3y","t1x","t1y","t1z","t2x","t2y","t2z","mtIndexCount","triA","triB","triC","flagged","basePos","baseNorm","baseUv","tpos","tnorm","mtTriIndices","processed","vid","texCoord0","targetTangents","numMtIndices","numMtTriIndices","deltaNorm","attributeMap","texCoord1","texCoord2","texCoord3","texCoord4","texCoord5","texCoord6","texCoord7","indexData","maxVerts","indexBase","meshAabb","meshInstanceData","skinIndex","morphIndex","isTemplate","_isTemplate","_addCollapsedToEntities","_createEntity","resource_id","_openComponentData","template","labels","label","addLabel","systemsList","entityData","expanded","migrated","mapping_format","RENAMED_PROPERTIES","DEPRECATED_PROPERTIES","BASIS_FORMAT","cTFETC1","cTFETC2","cTFBC1","cTFBC3","cTFPVRTC1_4_RGB","cTFPVRTC1_4_RGBA","cTFASTC_4x4","cTFATC_RGB","cTFATC_RGBA_INTERPOLATED_ALPHA","cTFRGB565","cTFRGBA4444","opaqueMapping","astc","dxt","etc2","pvr","atc","none","alphaMapping","basisToEngineMapping","BasisWorker","transcode","basis","funcStart","basisFile","BasisFile","getImageWidth","getImageHeight","images","getNumImages","getNumLevels","hasAlpha","getHasAlpha","basisFormat","startTranscoding","levelData","getImageTranscodedSizeInBytes","transcodeImage","dst16","transcodeTime","workerTranscode","workerInit","basisModule","instantiateWasmFunc","imports","successCallback","WebAssembly","instantiateWasm","initializeBasis","worker","wasmSupported","of","Instance","handleWorkerResponse","basisInitialize","basisCode","basisDownload","glueUrl","wasmUrl","fallbackUrl","glueCode","compiledModule","downloadCompleted","compileStreaming","fetch","selectTextureCompressionFormat","assetIdCounter","VARIANT_SUPPORT","VARIANT_DEFAULT_PRIORITY","_preload","AssetVariants","_file","_resources","_i18n","getPreferredFile","variant","getLocalizedAssetId","removeLocalizedAssetId","reload","valueAsBool","fileAsBool","filename","ASSET_ANIMATION","ASSET_AUDIO","ASSET_IMAGE","ASSET_JSON","ASSET_MODEL","ASSET_MATERIAL","ASSET_TEXT","ASSET_TEXTURE","ASSET_CUBEMAP","ASSET_SHADER","ASSET_CSS","ASSET_HTML","ASSET_SCRIPT","defineVariantProperty","fieldAsBool","_names","_tags","_urls","filters","include","_onTagAdd","_onTagRemove","_load","_open","loadFromUrl","_loadModel","loadedAsset","basename","_loadAsset","assetToLoad","mappingUrl","_loadMaterials","loadedMaterials","onLoadAsset","materialAssets","used","materialData","pi","texturePath","findAll","idxs","getAssetById","_scope","_registry","_bind","_onLoad","_onAdd","_onRemove","_unbind","_onSetLocale","_autoLoad","_disableLocalization","_defaultAsset","_localizedAsset","_bindDefaultAsset","_onDefaultAssetAdd","_unbindDefaultAsset","_onLocaleAdd","_onLocaleRemove","_onDefaultAssetRemove","_bindLocalizedAsset","_onLocalizedAssetLoad","_onLocalizedAssetChange","_onLocalizedAssetRemove","_unbindLocalizedAsset","_onLocalizedAssetAdd","localizedAssetId","assetList","assetRegistry","_total","_failed","_waitingAssets","_waitForAsset","_onAddAsset","_callback","_loadingComplete","inherits","Self","Super","Temp","Func","_super","fw","FillMode","FILL_WINDOW","KEEP_ASPECT","ResolutionMode","AUTO","FIXED","ContextCreationError","Device","UnsupportedBrowserError","INV_LOG2","intToBytes","bytesToInt","posteffect","procedural","PhongMaterial","PickMaterial","Projection","ORTHOGRAPHIC","PERSPECTIVE","Aabb","Sphere","intersectRay","ELEMENTTYPE_INT8","ELEMENTTYPE_UINT8","ELEMENTTYPE_INT16","ELEMENTTYPE_UINT16","ELEMENTTYPE_INT32","ELEMENTTYPE_UINT32","ELEMENTTYPE_FLOAT32","_data3","getShader","_dirtify","local","getLabels","hasLabel","removeLabel","findByLabel","getChildren","getPath","getRoot","getParent","isFullscreen","enableFullscreen","ALLOW_KEYBOARD_INPUT","disableFullscreen","tempGraphNode","identityGraphNode","meshInstanceArray","_deprecationWarning","ImmediateData","lineVertexFormat","lineBatches","layerToBatch","quadMesh","cubeLocalPos","cubeWorldPos","addLayer","getLayerIdx","addLayerIdx","LineBatch","numLinesAllocated","vbRam","linesUsed","linesToAdd","addLines","multiColor","setFloat32","setUint8","finalize","_initImmediate","_immediateData","_preRenderImmediate","_postRenderImmediate","_addLines","batch","renderLine","endColor","renderLines","renderWireCube","renderMeshInstance","renderMesh","renderQuad","quadVb","maskBaked","maskLightmap","sceneLightmaps","sceneLightmapsNode","lmCamera","tempVec","lightBounds","PASS_COLOR","PASS_DIR","passTexName","passMaterial","collectModels","nodesMeshInstances","allNodes","isInstance","notInstancedMeshInstances","calculateLightmapSize","sizeMult","areaMult","totalArea","passCount","revertStatic","texSize","lmaps","texPool","blackTex","activeComp","origMask","origShadowMode","origEnabled","sceneLights","xformUv1","bakeLmEnd","dilate","dilateShader","constantPixelOffset","constantBakeDir","origFog","origAmbientR","origAmbientG","origAmbientB","lm","origShaderDefs","shaderDefs","origCastShadows","origMat","nodeBounds","nodeTarg","targTmp","texTmp","nodeLightCount","lmMaterial","nbounds","lightArray","shadersUpdatedOn1stPass","shadowMapRendered","nodeVisible","sceneLmaps","numDilates2x","Batch","origMeshInstances","refCounter","_ui","_obj","SkinBatchInstance","_batchGroups","_batchGroupCounter","_batchList","_dirtyGroups","removeGroup","newBatchList","_removeModelsFromBatchGroup","getGroupByName","groups","getBatches","groupId","_extractModel","groupMeshInstances","nodeMeshInstances","_extractElement","_collectAndRemoveModels","groupIds","newDirtyGroups","lists","groupData","paramsIdentical","equalParamSets","params1","params2","equalLightLists","lightList1","lightList2","getScaleSign","translucent","halfMaxAabbSize","maxInstanceCount","vertCount","lightList","scaleSign","testAabb","skipTranslucentAabb","meshInstancesLeftA","meshInstancesLeftB","skipMesh","sf","vertexFormats","hasPos","hasUv","hasUv2","hasTangent","batchNumVerts","batchNumIndices","visibleMeshInstanceCount","entityIndexSizeF","batchVertSizeF","batchOffsetNF","batchOffsetUF","batchOffsetU2F","batchOffsetTF","batchOffsetCF","batchOffsetEF","batchData","batchData8","batchIndexData","verticesOffset","indexOffset","offsetUF","offsetU2F","offsetCF","vertexFormatId","newModel","clonedMeshInstances","batch2","decrement"],"mappings":"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","file":"playcanvas.8e04bf24.js","sourceRoot":"..\\www","sourcesContent":["/*\n * PlayCanvas Engine v1.24.0 revision 8f3ad75\n * Copyright 2011-2019 PlayCanvas Ltd. All rights reserved.\n */\n;(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define([], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = factory();\n    } else {\n        root.pc = factory();\n    }\n}(this, function () {\n\nMath.log2 = Math.log2 || function(x) {\n  return Math.log(x) * Math.LOG2E;\n};\nif (typeof Object.assign != \"function\") {\n  Object.defineProperty(Object, \"assign\", {value:function assign(target, varArgs) {\n    if (target == null) {\n      throw new TypeError(\"Cannot convert undefined or null to object\");\n    }\n    var to = Object(target);\n    for (var index = 1;index < arguments.length;index++) {\n      var nextSource = arguments[index];\n      if (nextSource != null) {\n        for (var nextKey in nextSource) {\n          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n    return to;\n  }, writable:true, configurable:true});\n}\n;(function() {\n  if (typeof navigator === \"undefined\" || typeof document === \"undefined\") {\n    return;\n  }\n  navigator.pointer = navigator.pointer || navigator.webkitPointer || navigator.mozPointer;\n  var pointerlockchange = function() {\n    var e = document.createEvent(\"CustomEvent\");\n    e.initCustomEvent(\"pointerlockchange\", true, false, null);\n    document.dispatchEvent(e);\n  };\n  var pointerlockerror = function() {\n    var e = document.createEvent(\"CustomEvent\");\n    e.initCustomEvent(\"pointerlockerror\", true, false, null);\n    document.dispatchEvent(e);\n  };\n  document.addEventListener(\"webkitpointerlockchange\", pointerlockchange, false);\n  document.addEventListener(\"webkitpointerlocklost\", pointerlockchange, false);\n  document.addEventListener(\"mozpointerlockchange\", pointerlockchange, false);\n  document.addEventListener(\"mozpointerlocklost\", pointerlockchange, false);\n  document.addEventListener(\"webkitpointerlockerror\", pointerlockerror, false);\n  document.addEventListener(\"mozpointerlockerror\", pointerlockerror, false);\n  if (Element.prototype.mozRequestPointerLock) {\n    Element.prototype.requestPointerLock = function() {\n      this.mozRequestPointerLock();\n    };\n  } else {\n    Element.prototype.requestPointerLock = Element.prototype.requestPointerLock || Element.prototype.webkitRequestPointerLock || Element.prototype.mozRequestPointerLock;\n  }\n  if (!Element.prototype.requestPointerLock && navigator.pointer) {\n    Element.prototype.requestPointerLock = function() {\n      var el = this;\n      document.pointerLockElement = el;\n      navigator.pointer.lock(el, pointerlockchange, pointerlockerror);\n    };\n  }\n  document.exitPointerLock = document.exitPointerLock || document.webkitExitPointerLock || document.mozExitPointerLock;\n  if (!document.exitPointerLock) {\n    document.exitPointerLock = function() {\n      if (navigator.pointer) {\n        document.pointerLockElement = null;\n        navigator.pointer.unlock();\n      }\n    };\n  }\n})();\n(function() {\n  if (typeof window === \"undefined\") {\n    return;\n  }\n  var lastTime = 0;\n  var vendors = [\"ms\", \"moz\", \"webkit\", \"o\"];\n  for (var x = 0;x < vendors.length && !window.requestAnimationFrame;++x) {\n    window.requestAnimationFrame = window[vendors[x] + \"RequestAnimationFrame\"];\n    window.cancelAnimationFrame = window[vendors[x] + \"CancelAnimationFrame\"] || window[vendors[x] + \"CancelRequestAnimationFrame\"];\n  }\n  if (!window.requestAnimationFrame) {\n    window.requestAnimationFrame = function(callback, element) {\n      var currTime = (new Date).getTime();\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      var id = window.setTimeout(function() {\n        callback(currTime + timeToCall);\n      }, timeToCall);\n      lastTime = currTime + timeToCall;\n      return id;\n    };\n  }\n  if (!window.cancelAnimationFrame) {\n    window.cancelAnimationFrame = function(id) {\n      clearTimeout(id);\n    };\n  }\n})();\nif (!String.prototype.endsWith) {\n  String.prototype.endsWith = function(search, this_len) {\n    if (this_len === undefined || this_len > this.length) {\n      this_len = this.length;\n    }\n    return this.substring(this_len - search.length, this_len) === search;\n  };\n}\nif (!String.prototype.includes) {\n  String.prototype.includes = function(search, start) {\n    if (typeof start !== \"number\") {\n      start = 0;\n    }\n    if (start + search.length > this.length) {\n      return false;\n    } else {\n      return this.indexOf(search, start) !== -1;\n    }\n  };\n}\nif (!String.prototype.startsWith) {\n  String.prototype.startsWith = function(search, pos) {\n    return this.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n  };\n}\n;var _typeLookup = function() {\n  var result = {};\n  var names = [\"Array\", \"Object\", \"Function\", \"Date\", \"RegExp\", \"Float32Array\"];\n  for (var i = 0;i < names.length;i++) {\n    result[\"[object \" + names[i] + \"]\"] = names[i].toLowerCase();\n  }\n  return result;\n}();\nvar pc = {version:\"1.24.0\", revision:\"8f3ad75\", config:{}, common:{}, apps:{}, data:{}, unpack:function() {\n  console.warn(\"pc.unpack has been deprecated and will be removed shortly. Please update your code.\");\n}, makeArray:function(arr) {\n  var i, ret = [], length = arr.length;\n  for (i = 0;i < length;++i) {\n    ret.push(arr[i]);\n  }\n  return ret;\n}, type:function(obj) {\n  if (obj === null) {\n    return \"null\";\n  }\n  var type = typeof obj;\n  if (type === \"undefined\" || type === \"number\" || type === \"string\" || type === \"boolean\") {\n    return type;\n  }\n  return _typeLookup[Object.prototype.toString.call(obj)];\n}, extend:function(target, ex) {\n  var prop, copy;\n  for (prop in ex) {\n    copy = ex[prop];\n    if (pc.type(copy) == \"object\") {\n      target[prop] = pc.extend({}, copy);\n    } else {\n      if (pc.type(copy) == \"array\") {\n        target[prop] = pc.extend([], copy);\n      } else {\n        target[prop] = copy;\n      }\n    }\n  }\n  return target;\n}, isDefined:function(o) {\n  var a;\n  return o !== a;\n}};\nif (typeof exports !== \"undefined\") {\n  exports.pc = pc;\n}\n;Object.assign(pc, function() {\n  var Color = function(r, g, b, a) {\n    var length = r && r.length;\n    if (length === 3 || length === 4) {\n      this.r = r[0];\n      this.g = r[1];\n      this.b = r[2];\n      this.a = r[3] !== undefined ? r[3] : 1;\n    } else {\n      this.r = r || 0;\n      this.g = g || 0;\n      this.b = b || 0;\n      this.a = a !== undefined ? a : 1;\n    }\n  };\n  Object.assign(Color.prototype, {clone:function() {\n    return new pc.Color(this.r, this.g, this.b, this.a);\n  }, copy:function(rhs) {\n    this.r = rhs.r;\n    this.g = rhs.g;\n    this.b = rhs.b;\n    this.a = rhs.a;\n    return this;\n  }, set:function(r, g, b, a) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n    this.a = a === undefined ? 1 : a;\n    return this;\n  }, lerp:function(lhs, rhs, alpha) {\n    this.r = lhs.r + alpha * (rhs.r - lhs.r);\n    this.g = lhs.g + alpha * (rhs.g - lhs.g);\n    this.b = lhs.b + alpha * (rhs.b - lhs.b);\n    this.a = lhs.a + alpha * (rhs.a - lhs.a);\n    return this;\n  }, fromString:function(hex) {\n    var i = parseInt(hex.replace(\"#\", \"0x\"), 16);\n    var bytes;\n    if (hex.length > 7) {\n      bytes = pc.math.intToBytes32(i);\n    } else {\n      bytes = pc.math.intToBytes24(i);\n      bytes[3] = 255;\n    }\n    this.set(bytes[0] / 255, bytes[1] / 255, bytes[2] / 255, bytes[3] / 255);\n    return this;\n  }, toString:function(alpha) {\n    var s = \"#\" + ((1 << 24) + (Math.round(this.r * 255) << 16) + (Math.round(this.g * 255) << 8) + Math.round(this.b * 255)).toString(16).slice(1);\n    if (alpha === true) {\n      var a = Math.round(this.a * 255).toString(16);\n      if (this.a < 16 / 255) {\n        s += \"0\" + a;\n      } else {\n        s += a;\n      }\n    }\n    return s;\n  }});\n  return {Color:Color};\n}());\npc.guid = function() {\n  return {create:function() {\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n      var r = Math.random() * 16 | 0, v = c == \"x\" ? r : r & 3 | 8;\n      return v.toString(16);\n    });\n  }};\n}();\nObject.assign(pc, function() {\n  var Timer = function Timer() {\n    this._isRunning = false;\n    this._a = 0;\n    this._b = 0;\n  };\n  Object.assign(Timer.prototype, {start:function() {\n    this._isRunning = true;\n    this._a = pc.now();\n  }, stop:function() {\n    this._isRunning = false;\n    this._b = pc.now();\n  }, getMilliseconds:function() {\n    return this._b - this._a;\n  }});\n  return {Timer:Timer, now:typeof window !== \"undefined\" && window.performance && window.performance.now && window.performance.timing ? function() {\n    return window.performance.now();\n  } : Date.now};\n}());\nObject.assign(pc, function() {\n  return {hashCode:function(str) {\n    var hash = 0;\n    for (var i = 0, len = str.length;i < len;i++) {\n      hash = (hash << 5) - hash + str.charCodeAt(i);\n      hash |= 0;\n    }\n    return hash;\n  }};\n}());\nObject.assign(pc, function() {\n  return {createURI:function(options) {\n    var s = \"\";\n    if ((options.authority || options.scheme) && (options.host || options.hostpath)) {\n      throw new Error(\"Can't have 'scheme' or 'authority' and 'host' or 'hostpath' option\");\n    }\n    if (options.host && options.hostpath) {\n      throw new Error(\"Can't have 'host' and 'hostpath' option\");\n    }\n    if (options.path && options.hostpath) {\n      throw new Error(\"Can't have 'path' and 'hostpath' option\");\n    }\n    if (options.scheme) {\n      s += options.scheme + \":\";\n    }\n    if (options.authority) {\n      s += \"//\" + options.authority;\n    }\n    if (options.host) {\n      s += options.host;\n    }\n    if (options.path) {\n      s += options.path;\n    }\n    if (options.hostpath) {\n      s += options.hostpath;\n    }\n    if (options.query) {\n      s += \"?\" + options.query;\n    }\n    if (options.fragment) {\n      s += \"#\" + options.fragment;\n    }\n    return s;\n  }, URI:function(uri) {\n    var re = /^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/, result = uri.match(re);\n    this.scheme = result[2];\n    this.authority = result[4];\n    this.path = result[5];\n    this.query = result[7];\n    this.fragment = result[9];\n    this.toString = function() {\n      var s = \"\";\n      if (this.scheme) {\n        s += this.scheme + \":\";\n      }\n      if (this.authority) {\n        s += \"//\" + this.authority;\n      }\n      s += this.path;\n      if (this.query) {\n        s += \"?\" + this.query;\n      }\n      if (this.fragment) {\n        s += \"#\" + this.fragment;\n      }\n      return s;\n    };\n    this.getQuery = function() {\n      var vars;\n      var pair;\n      var result = {};\n      if (this.query) {\n        vars = decodeURIComponent(this.query).split(\"&\");\n        vars.forEach(function(item, index, arr) {\n          pair = item.split(\"=\");\n          result[pair[0]] = pair[1];\n        }, this);\n      }\n      return result;\n    };\n    this.setQuery = function(params) {\n      var q = \"\";\n      for (var key in params) {\n        if (params.hasOwnProperty(key)) {\n          if (q !== \"\") {\n            q += \"&\";\n          }\n          q += encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]);\n        }\n      }\n      this.query = q;\n    };\n  }};\n}());\nObject.assign(pc, function() {\n  var log = {write:function(text) {\n    console.log(text);\n  }, open:function() {\n    pc.log.write(\"Powered by PlayCanvas \" + pc.version + \" \" + pc.revision);\n  }, info:function(text) {\n    console.info(\"INFO:    \" + text);\n  }, debug:function(text) {\n    console.debug(\"DEBUG:   \" + text);\n  }, error:function(text) {\n    console.error(\"ERROR:   \" + text);\n  }, warning:function(text) {\n    console.warn(\"WARNING: \" + text);\n  }, alert:function(text) {\n    pc.log.write(\"ALERT:   \" + text);\n    alert(text);\n  }, assert:function(condition, text) {\n    if (condition === false) {\n      pc.log.write(\"ASSERT:  \" + text);\n    }\n  }};\n  return {log:log};\n}());\nvar logINFO = pc.log.info;\nvar logDEBUG = pc.log.debug;\nvar logWARNING = pc.log.warning;\nvar logERROR = pc.log.error;\nvar logALERT = pc.log.alert;\nvar logASSERT = pc.log.assert;\npc.path = function() {\n  return {delimiter:\"/\", join:function() {\n    var index;\n    var num = arguments.length;\n    var result = arguments[0];\n    for (index = 0;index < num - 1;++index) {\n      var one = arguments[index];\n      var two = arguments[index + 1];\n      if (!pc.isDefined(one) || !pc.isDefined(two)) {\n        throw new Error(\"undefined argument to pc.path.join\");\n      }\n      if (two[0] === pc.path.delimiter) {\n        result = two;\n        continue;\n      }\n      if (one && two && one[one.length - 1] !== pc.path.delimiter && two[0] !== pc.path.delimiter) {\n        result += pc.path.delimiter + two;\n      } else {\n        result += two;\n      }\n    }\n    return result;\n  }, normalize:function(path) {\n    var lead = path.startsWith(pc.path.delimiter);\n    var trail = path.endsWith(pc.path.delimiter);\n    var parts = path.split(\"/\");\n    var result = \"\";\n    var cleaned = [];\n    for (var i = 0;i < parts.length;i++) {\n      if (parts[i] === \"\") {\n        continue;\n      }\n      if (parts[i] === \".\") {\n        continue;\n      }\n      if (parts[i] === \"..\" && cleaned.length > 0) {\n        cleaned = cleaned.slice(0, cleaned.length - 2);\n        continue;\n      }\n      if (i > 0) {\n        cleaned.push(pc.path.delimiter);\n      }\n      cleaned.push(parts[i]);\n    }\n    result = cleaned.join(\"\");\n    if (!lead && result[0] === pc.path.delimiter) {\n      result = result.slice(1);\n    }\n    if (trail && result[result.length - 1] !== pc.path.delimiter) {\n      result += pc.path.delimiter;\n    }\n    return result;\n  }, split:function(path) {\n    var parts = path.split(pc.path.delimiter);\n    var tail = parts.slice(parts.length - 1)[0];\n    var head = parts.slice(0, parts.length - 1).join(pc.path.delimiter);\n    return [head, tail];\n  }, getBasename:function(path) {\n    return pc.path.split(path)[1];\n  }, getDirectory:function(path) {\n    var parts = path.split(pc.path.delimiter);\n    return parts.slice(0, parts.length - 1).join(pc.path.delimiter);\n  }, getExtension:function(path) {\n    var ext = path.split(\"?\")[0].split(\".\").pop();\n    if (ext !== path) {\n      return \".\" + ext;\n    }\n    return \"\";\n  }, isRelativePath:function(s) {\n    return s.charAt(0) !== \"/\" && s.match(/:\\/\\//) === null;\n  }, extractPath:function(s) {\n    var path = \".\", parts = s.split(\"/\"), i = 0;\n    if (parts.length > 1) {\n      if (pc.path.isRelativePath(s) === false) {\n        path = \"\";\n      }\n      for (i = 0;i < parts.length - 1;++i) {\n        path += \"/\" + parts[i];\n      }\n    }\n    return path;\n  }};\n}();\npc.string = function() {\n  var ASCII_LOWERCASE = \"abcdefghijklmnopqrstuvwxyz\";\n  var ASCII_UPPERCASE = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n  var ASCII_LETTERS = ASCII_LOWERCASE + ASCII_UPPERCASE;\n  var HIGH_SURROGATE_BEGIN = 55296;\n  var HIGH_SURROGATE_END = 56319;\n  var LOW_SURROGATE_BEGIN = 56320;\n  var LOW_SURROGATE_END = 57343;\n  var ZERO_WIDTH_JOINER = 8205;\n  var REGIONAL_INDICATOR_BEGIN = 127462;\n  var REGIONAL_INDICATOR_END = 127487;\n  var FITZPATRICK_MODIFIER_BEGIN = 127995;\n  var FITZPATRICK_MODIFIER_END = 127999;\n  var DIACRITICAL_MARKS_BEGIN = 8400;\n  var DIACRITICAL_MARKS_END = 8447;\n  var VARIATION_MODIFIER_BEGIN = 65024;\n  var VARIATION_MODIFIER_END = 65039;\n  function getCodePointData(string, i) {\n    var size = string.length;\n    i = i || 0;\n    if (i < 0 || i >= size) {\n      return null;\n    }\n    var first = string.charCodeAt(i);\n    var second;\n    if (size > 1 && first >= HIGH_SURROGATE_BEGIN && first <= HIGH_SURROGATE_END) {\n      second = string.charCodeAt(i + 1);\n      if (second >= LOW_SURROGATE_BEGIN && second <= LOW_SURROGATE_END) {\n        return {code:(first - HIGH_SURROGATE_BEGIN) * 1024 + second - LOW_SURROGATE_BEGIN + 65536, \"long\":true};\n      }\n    }\n    return {code:first, \"long\":false};\n  }\n  function isCodeBetween(string, begin, end) {\n    if (!string) {\n      return false;\n    }\n    var codeData = getCodePointData(string);\n    if (codeData) {\n      var code = codeData.code;\n      return code >= begin && code <= end;\n    }\n    return false;\n  }\n  function numCharsToTakeForNextSymbol(string, index) {\n    if (index === string.length - 1) {\n      return 1;\n    }\n    if (isCodeBetween(string[index], HIGH_SURROGATE_BEGIN, HIGH_SURROGATE_END)) {\n      var first = string.substring(index, index + 2);\n      var second = string.substring(index + 2, index + 4);\n      if (isCodeBetween(second, FITZPATRICK_MODIFIER_BEGIN, FITZPATRICK_MODIFIER_END) || isCodeBetween(first, REGIONAL_INDICATOR_BEGIN, REGIONAL_INDICATOR_END) && isCodeBetween(second, REGIONAL_INDICATOR_BEGIN, REGIONAL_INDICATOR_END)) {\n        return 4;\n      }\n      if (isCodeBetween(second, VARIATION_MODIFIER_BEGIN, VARIATION_MODIFIER_END)) {\n        return 3;\n      }\n      return 2;\n    }\n    if (isCodeBetween(string[index + 1], VARIATION_MODIFIER_BEGIN, VARIATION_MODIFIER_END)) {\n      return 2;\n    }\n    return 1;\n  }\n  return {ASCII_LOWERCASE:ASCII_LOWERCASE, ASCII_UPPERCASE:ASCII_UPPERCASE, ASCII_LETTERS:ASCII_LETTERS, format:function(s) {\n    var i = 0, regexp, args = pc.makeArray(arguments);\n    args.shift();\n    for (i = 0;i < args.length;i++) {\n      regexp = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gi\");\n      s = s.replace(regexp, args[i]);\n    }\n    return s;\n  }, startsWith:function(s, subs) {\n    console.warn(\"WARNING: startsWith: Function is deprecated. Use String.startsWith instead.\");\n    return s.startsWith(subs);\n  }, endsWith:function(s, subs) {\n    console.warn(\"WARNING: endsWith: Function is deprecated. Use String.endsWith instead.\");\n    return s.endsWith(subs);\n  }, toBool:function(s, strict) {\n    if (s === \"true\") {\n      return true;\n    }\n    if (strict) {\n      if (s === \"false\") {\n        return false;\n      }\n      throw new TypeError(\"Not a boolean string\");\n    }\n    return false;\n  }, getCodePoint:function(string, i) {\n    var codePointData = getCodePointData(string, i);\n    return codePointData && codePointData.code;\n  }, getCodePoints:function(string) {\n    if (typeof string !== \"string\") {\n      throw new TypeError(\"Not a string\");\n    }\n    var i = 0;\n    var arr = [];\n    var codePoint;\n    while (!!(codePoint = getCodePointData(string, i))) {\n      arr.push(codePoint.code);\n      i += codePoint[\"long\"] ? 2 : 1;\n    }\n    return arr;\n  }, getSymbols:function(string) {\n    if (typeof string !== \"string\") {\n      throw new TypeError(\"Not a string\");\n    }\n    var index = 0;\n    var length = string.length;\n    var output = [];\n    var take = 0;\n    var ch;\n    while (index < length) {\n      take += numCharsToTakeForNextSymbol(string, index + take);\n      ch = string[index + take];\n      if (isCodeBetween(ch, DIACRITICAL_MARKS_BEGIN, DIACRITICAL_MARKS_END)) {\n        ch = string[index + take++];\n      }\n      if (isCodeBetween(ch, VARIATION_MODIFIER_BEGIN, VARIATION_MODIFIER_END)) {\n        ch = string[index + take++];\n      }\n      if (ch && ch.charCodeAt(0) === ZERO_WIDTH_JOINER) {\n        ch = string[index + take++];\n        continue;\n      }\n      var char = string.substring(index, index + take);\n      output.push(char);\n      index += take;\n      take = 0;\n    }\n    return output;\n  }, fromCodePoint:function() {\n    var chars = [];\n    var current;\n    var codePoint;\n    var units;\n    for (var i = 0;i < arguments.length;++i) {\n      current = Number(arguments[i]);\n      codePoint = current - 65536;\n      units = current > 65535 ? [(codePoint >> 10) + 55296, codePoint % 1024 + 56320] : [current];\n      chars.push(String.fromCharCode.apply(null, units));\n    }\n    return chars.join(\"\");\n  }};\n}();\npc.debug = function() {\n  var table = null;\n  var row = null;\n  var title = null;\n  var field = null;\n  return {display:function(data) {\n    function init() {\n      table = document.createElement(\"table\");\n      row = document.createElement(\"tr\");\n      title = document.createElement(\"td\");\n      field = document.createElement(\"td\");\n      table.style.cssText = \"position:absolute;font-family:sans-serif;font-size:12px;color:#cccccc\";\n      table.style.top = \"0px\";\n      table.style.left = \"0px\";\n      table.style.border = \"thin solid #cccccc\";\n      document.body.appendChild(table);\n    }\n    if (!table) {\n      init();\n    }\n    table.innerHTML = \"\";\n    for (var key in data) {\n      var r = row.cloneNode();\n      var t = title.cloneNode();\n      var f = field.cloneNode();\n      t.textContent = key;\n      f.textContent = data[key];\n      r.appendChild(t);\n      r.appendChild(f);\n      table.appendChild(r);\n    }\n  }};\n}();\nObject.assign(pc, function() {\n  var EventHandler = function() {\n    this._callbacks = {};\n    this._callbackActive = {};\n  };\n  Object.assign(EventHandler.prototype, {on:function(name, callback, scope) {\n    if (!name || typeof name !== \"string\" || !callback) {\n      return this;\n    }\n    if (!this._callbacks[name]) {\n      this._callbacks[name] = [];\n    }\n    if (this._callbackActive[name] && this._callbackActive[name] === this._callbacks[name]) {\n      this._callbackActive[name] = this._callbackActive[name].slice();\n    }\n    this._callbacks[name].push({callback:callback, scope:scope || this});\n    return this;\n  }, off:function(name, callback, scope) {\n    if (name) {\n      if (this._callbackActive[name] && this._callbackActive[name] === this._callbacks[name]) {\n        this._callbackActive[name] = this._callbackActive[name].slice();\n      }\n    } else {\n      for (var key in this._callbackActive) {\n        if (!this._callbacks[key]) {\n          continue;\n        }\n        if (this._callbacks[key] !== this._callbackActive[key]) {\n          continue;\n        }\n        this._callbackActive[key] = this._callbackActive[key].slice();\n      }\n    }\n    if (!name) {\n      this._callbacks = {};\n    } else {\n      if (!callback) {\n        if (this._callbacks[name]) {\n          this._callbacks[name] = [];\n        }\n      } else {\n        var events = this._callbacks[name];\n        if (!events) {\n          return this;\n        }\n        var count = events.length;\n        for (var i = 0;i < count;i++) {\n          if (events[i].callback !== callback) {\n            continue;\n          }\n          if (scope && events[i].scope !== scope) {\n            continue;\n          }\n          events[i--] = events[--count];\n        }\n        events.length = count;\n      }\n    }\n    return this;\n  }, fire:function(name, arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8) {\n    if (!name || !this._callbacks[name]) {\n      return this;\n    }\n    var callbacks;\n    if (!this._callbackActive[name]) {\n      this._callbackActive[name] = this._callbacks[name];\n    } else {\n      if (this._callbackActive[name] === this._callbacks[name]) {\n        this._callbackActive[name] = this._callbackActive[name].slice();\n      }\n      callbacks = this._callbacks[name].slice();\n    }\n    for (var i = 0;(callbacks || this._callbackActive[name]) && i < (callbacks || this._callbackActive[name]).length;i++) {\n      var evt = (callbacks || this._callbackActive[name])[i];\n      evt.callback.call(evt.scope, arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8);\n      if (evt.callback.once) {\n        var ind = this._callbacks[name].indexOf(evt);\n        if (ind !== -1) {\n          if (this._callbackActive[name] === this._callbacks[name]) {\n            this._callbackActive[name] = this._callbackActive[name].slice();\n          }\n          this._callbacks[name].splice(ind, 1);\n        }\n      }\n    }\n    if (!callbacks) {\n      this._callbackActive[name] = null;\n    }\n    return this;\n  }, once:function(name, callback, scope) {\n    callback.once = true;\n    this.on(name, callback, scope);\n    return this;\n  }, hasEvent:function(name) {\n    return this._callbacks[name] && this._callbacks[name].length !== 0 || false;\n  }});\n  return {EventHandler:EventHandler};\n}());\npc.events = {attach:function(target) {\n  var ev = pc.events;\n  target.on = ev.on;\n  target.off = ev.off;\n  target.fire = ev.fire;\n  target.once = ev.once;\n  target.hasEvent = ev.hasEvent;\n  target._callbacks = {};\n  target._callbackActive = {};\n  return target;\n}, on:pc.EventHandler.prototype.on, off:pc.EventHandler.prototype.off, fire:pc.EventHandler.prototype.fire, once:pc.EventHandler.prototype.once, hasEvent:pc.EventHandler.prototype.hasEvent};\nObject.assign(pc, function() {\n  var TagsCache = function(key) {\n    this._index = {};\n    this._key = key || null;\n  };\n  Object.assign(TagsCache.prototype, {addItem:function(item) {\n    var tags = item.tags._list;\n    for (var i = 0;i < tags.length;i++) {\n      this.add(tags[i], item);\n    }\n  }, removeItem:function(item) {\n    var tags = item.tags._list;\n    for (var i = 0;i < tags.length;i++) {\n      this.remove(tags[i], item);\n    }\n  }, add:function(tag, item) {\n    if (this._index[tag] && this._index[tag].list.indexOf(item) !== -1) {\n      return;\n    }\n    if (!this._index[tag]) {\n      this._index[tag] = {list:[]};\n      if (this._key) {\n        this._index[tag].keys = {};\n      }\n    }\n    this._index[tag].list.push(item);\n    if (this._key) {\n      this._index[tag].keys[item[this._key]] = item;\n    }\n  }, remove:function(tag, item) {\n    if (!this._index[tag]) {\n      return;\n    }\n    if (this._key) {\n      if (!this._index[tag].keys[item[this._key]]) {\n        return;\n      }\n    }\n    var ind = this._index[tag].indexOf(item);\n    if (ind === -1) {\n      return;\n    }\n    this._index[tag].list.splice(ind, 1);\n    if (this._key) {\n      delete this._index[tag].keys[item[this._key]];\n    }\n    if (this._index[tag].list.length === 0) {\n      delete this._index[tag];\n    }\n  }, find:function(args) {\n    var self = this;\n    var index = {};\n    var items = [];\n    var i, n, t;\n    var item, tag, tags, tagsRest, missingIndex;\n    var sort = function(a, b) {\n      return self._index[a].list.length - self._index[b].list.length;\n    };\n    for (i = 0;i < args.length;i++) {\n      tag = args[i];\n      if (tag instanceof Array) {\n        if (tag.length === 0) {\n          continue;\n        }\n        if (tag.length === 1) {\n          tag = tag[0];\n        } else {\n          missingIndex = false;\n          for (t = 0;t < tag.length;t++) {\n            if (!this._index[tag[t]]) {\n              missingIndex = true;\n              break;\n            }\n          }\n          if (missingIndex) {\n            continue;\n          }\n          tags = tag.slice(0).sort(sort);\n          tagsRest = tags.slice(1);\n          if (tagsRest.length === 1) {\n            tagsRest = tagsRest[0];\n          }\n          for (n = 0;n < this._index[tags[0]].list.length;n++) {\n            item = this._index[tags[0]].list[n];\n            if ((this._key ? !index[item[this._key]] : items.indexOf(item) === -1) && item.tags.has(tagsRest)) {\n              if (this._key) {\n                index[item[this._key]] = true;\n              }\n              items.push(item);\n            }\n          }\n          continue;\n        }\n      }\n      if (tag && typeof tag === \"string\" && this._index[tag]) {\n        for (n = 0;n < this._index[tag].list.length;n++) {\n          item = this._index[tag].list[n];\n          if (this._key) {\n            if (!index[item[this._key]]) {\n              index[item[this._key]] = true;\n              items.push(item);\n            }\n          } else {\n            if (items.indexOf(item) === -1) {\n              items.push(item);\n            }\n          }\n        }\n      }\n    }\n    return items;\n  }});\n  var Tags = function(parent) {\n    pc.EventHandler.call(this);\n    this._index = {};\n    this._list = [];\n    this._parent = parent;\n  };\n  Tags.prototype = Object.create(pc.EventHandler.prototype);\n  Tags.prototype.constructor = Tags;\n  Object.assign(Tags.prototype, {add:function() {\n    var changed = false;\n    var tags = this._processArguments(arguments, true);\n    if (!tags.length) {\n      return changed;\n    }\n    for (var i = 0;i < tags.length;i++) {\n      if (this._index[tags[i]]) {\n        continue;\n      }\n      changed = true;\n      this._index[tags[i]] = true;\n      this._list.push(tags[i]);\n      this.fire(\"add\", tags[i], this._parent);\n    }\n    if (changed) {\n      this.fire(\"change\", this._parent);\n    }\n    return changed;\n  }, remove:function() {\n    var changed = false;\n    if (!this._list.length) {\n      return changed;\n    }\n    var tags = this._processArguments(arguments, true);\n    if (!tags.length) {\n      return changed;\n    }\n    for (var i = 0;i < tags.length;i++) {\n      if (!this._index[tags[i]]) {\n        continue;\n      }\n      changed = true;\n      delete this._index[tags[i]];\n      this._list.splice(this._list.indexOf(tags[i]), 1);\n      this.fire(\"remove\", tags[i], this._parent);\n    }\n    if (changed) {\n      this.fire(\"change\", this._parent);\n    }\n    return changed;\n  }, clear:function() {\n    if (!this._list.length) {\n      return;\n    }\n    var tags = this._list.slice(0);\n    this._list = [];\n    this._index = {};\n    for (var i = 0;i < tags.length;i++) {\n      this.fire(\"remove\", tags[i], this._parent);\n    }\n    this.fire(\"change\", this._parent);\n  }, has:function() {\n    if (!this._list.length) {\n      return false;\n    }\n    return this._has(this._processArguments(arguments));\n  }, _has:function(tags) {\n    if (!this._list.length || !tags.length) {\n      return false;\n    }\n    for (var i = 0;i < tags.length;i++) {\n      if (tags[i].length === 1) {\n        if (this._index[tags[i][0]]) {\n          return true;\n        }\n      } else {\n        var multiple = true;\n        for (var t = 0;t < tags[i].length;t++) {\n          if (this._index[tags[i][t]]) {\n            continue;\n          }\n          multiple = false;\n          break;\n        }\n        if (multiple) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }, list:function() {\n    return this._list.slice(0);\n  }, _processArguments:function(args, flat) {\n    var tags = [];\n    var tmp = [];\n    if (!args || !args.length) {\n      return tags;\n    }\n    for (var i = 0;i < args.length;i++) {\n      if (args[i] instanceof Array) {\n        if (!flat) {\n          tmp = [];\n        }\n        for (var t = 0;t < args[i].length;t++) {\n          if (typeof args[i][t] !== \"string\") {\n            continue;\n          }\n          if (flat) {\n            tags.push(args[i][t]);\n          } else {\n            tmp.push(args[i][t]);\n          }\n        }\n        if (!flat && tmp.length) {\n          tags.push(tmp);\n        }\n      } else {\n        if (typeof args[i] === \"string\") {\n          if (flat) {\n            tags.push(args[i]);\n          } else {\n            tags.push([args[i]]);\n          }\n        }\n      }\n    }\n    return tags;\n  }});\n  Object.defineProperty(Tags.prototype, \"size\", {get:function() {\n    return this._list.length;\n  }});\n  return {TagsCache:TagsCache, Tags:Tags};\n}());\nObject.assign(pc, function() {\n  var AllocatePool = function(constructor, size) {\n    this._constructor = constructor;\n    this._pool = [];\n    this._count = 0;\n    this._resize(size);\n  };\n  Object.assign(AllocatePool.prototype, {_resize:function(size) {\n    if (size > this._pool.length) {\n      for (var i = this._pool.length;i < size;i++) {\n        this._pool[i] = new this._constructor;\n      }\n    }\n  }, allocate:function() {\n    if (this._count >= this._pool.length) {\n      this._resize(this._pool.length * 2);\n    }\n    return this._pool[this._count++];\n  }, freeAll:function() {\n    this._count = 0;\n  }});\n  return {AllocatePool:AllocatePool};\n}());\nObject.assign(pc, function() {\n  var platform = {desktop:false, mobile:false, ios:false, android:false, windows:false, xbox:false, gamepads:false, touch:false, workers:false};\n  if (typeof navigator !== \"undefined\") {\n    var ua = navigator.userAgent;\n    if (/(windows|mac os|linux|cros)/i.test(ua)) {\n      platform.desktop = true;\n    }\n    if (/xbox/i.test(ua)) {\n      platform.xbox = true;\n    }\n    if (/(windows phone|iemobile|wpdesktop)/i.test(ua)) {\n      platform.desktop = false;\n      platform.mobile = true;\n      platform.windows = true;\n    } else {\n      if (/android/i.test(ua)) {\n        platform.desktop = false;\n        platform.mobile = true;\n        platform.android = true;\n      } else {\n        if (/ip([ao]d|hone)/i.test(ua)) {\n          platform.desktop = false;\n          platform.mobile = true;\n          platform.ios = true;\n        }\n      }\n    }\n    if (typeof window !== \"undefined\") {\n      platform.touch = \"ontouchstart\" in window || \"maxTouchPoints\" in navigator && navigator.maxTouchPoints > 0;\n    }\n    platform.gamepads = \"getGamepads\" in navigator;\n    platform.workers = typeof Worker !== \"undefined\";\n  }\n  return {platform:platform};\n}());\nObject.assign(pc, function() {\n  var IndexedList = function() {\n    this._list = [];\n    this._index = {};\n  };\n  Object.assign(IndexedList.prototype, {push:function(key, item) {\n    if (this._index[key]) {\n      throw Error(\"Key already in index \" + key);\n    }\n    var location = this._list.push(item) - 1;\n    this._index[key] = location;\n  }, has:function(key) {\n    return this._index[key] !== undefined;\n  }, get:function(key) {\n    var location = this._index[key];\n    if (location !== undefined) {\n      return this._list[location];\n    }\n    return null;\n  }, remove:function(key) {\n    var location = this._index[key];\n    if (location !== undefined) {\n      this._list.splice(location, 1);\n      delete this._index[key];\n      for (key in this._index) {\n        var idx = this._index[key];\n        if (idx > location) {\n          this._index[key] = idx - 1;\n        }\n      }\n      return true;\n    }\n    return false;\n  }, list:function() {\n    return this._list;\n  }, clear:function() {\n    this._list.length = 0;\n    for (var prop in this._index) {\n      delete this._index[prop];\n    }\n  }});\n  return {IndexedList:IndexedList};\n}());\npc.math = {DEG_TO_RAD:Math.PI / 180, RAD_TO_DEG:180 / Math.PI, clamp:function(value, min, max) {\n  if (value >= max) {\n    return max;\n  }\n  if (value <= min) {\n    return min;\n  }\n  return value;\n}, intToBytes24:function(i) {\n  var r, g, b;\n  r = i >> 16 & 255;\n  g = i >> 8 & 255;\n  b = i & 255;\n  return [r, g, b];\n}, intToBytes32:function(i) {\n  var r, g, b, a;\n  r = i >> 24 & 255;\n  g = i >> 16 & 255;\n  b = i >> 8 & 255;\n  a = i & 255;\n  return [r, g, b, a];\n}, bytesToInt24:function(r, g, b) {\n  if (r.length) {\n    b = r[2];\n    g = r[1];\n    r = r[0];\n  }\n  return r << 16 | g << 8 | b;\n}, bytesToInt32:function(r, g, b, a) {\n  if (r.length) {\n    a = r[3];\n    b = r[2];\n    g = r[1];\n    r = r[0];\n  }\n  return (r << 24 | g << 16 | b << 8 | a) >>> 32;\n}, lerp:function(a, b, alpha) {\n  return a + (b - a) * pc.math.clamp(alpha, 0, 1);\n}, lerpAngle:function(a, b, alpha) {\n  if (b - a > 180) {\n    b -= 360;\n  }\n  if (b - a < -180) {\n    b += 360;\n  }\n  return pc.math.lerp(a, b, pc.math.clamp(alpha, 0, 1));\n}, powerOfTwo:function(x) {\n  return x !== 0 && !(x & x - 1);\n}, nextPowerOfTwo:function(val) {\n  val--;\n  val |= val >> 1;\n  val |= val >> 2;\n  val |= val >> 4;\n  val |= val >> 8;\n  val |= val >> 16;\n  val++;\n  return val;\n}, random:function(min, max) {\n  var diff = max - min;\n  return Math.random() * diff + min;\n}, smoothstep:function(min, max, x) {\n  if (x <= min) {\n    return 0;\n  }\n  if (x >= max) {\n    return 1;\n  }\n  x = (x - min) / (max - min);\n  return x * x * (3 - 2 * x);\n}, smootherstep:function(min, max, x) {\n  if (x <= min) {\n    return 0;\n  }\n  if (x >= max) {\n    return 1;\n  }\n  x = (x - min) / (max - min);\n  return x * x * x * (x * (x * 6 - 15) + 10);\n}};\nObject.assign(pc, function() {\n  var Vec2 = function(x, y) {\n    if (x && x.length === 2) {\n      this.x = x[0];\n      this.y = x[1];\n    } else {\n      this.x = x || 0;\n      this.y = y || 0;\n    }\n  };\n  Object.assign(Vec2.prototype, {add:function(rhs) {\n    this.x += rhs.x;\n    this.y += rhs.y;\n    return this;\n  }, add2:function(lhs, rhs) {\n    this.x = lhs.x + rhs.x;\n    this.y = lhs.y + rhs.y;\n    return this;\n  }, clone:function() {\n    return (new Vec2).copy(this);\n  }, copy:function(rhs) {\n    this.x = rhs.x;\n    this.y = rhs.y;\n    return this;\n  }, distance:function(rhs) {\n    var x = this.x - rhs.x;\n    var y = this.y - rhs.y;\n    return Math.sqrt(x * x + y * y);\n  }, dot:function(rhs) {\n    return this.x * rhs.x + this.y * rhs.y;\n  }, equals:function(rhs) {\n    return this.x === rhs.x && this.y === rhs.y;\n  }, length:function() {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  }, lengthSq:function() {\n    return this.x * this.x + this.y * this.y;\n  }, lerp:function(lhs, rhs, alpha) {\n    this.x = lhs.x + alpha * (rhs.x - lhs.x);\n    this.y = lhs.y + alpha * (rhs.y - lhs.y);\n    return this;\n  }, mul:function(rhs) {\n    this.x *= rhs.x;\n    this.y *= rhs.y;\n    return this;\n  }, mul2:function(lhs, rhs) {\n    this.x = lhs.x * rhs.x;\n    this.y = lhs.y * rhs.y;\n    return this;\n  }, normalize:function() {\n    var lengthSq = this.x * this.x + this.y * this.y;\n    if (lengthSq > 0) {\n      var invLength = 1 / Math.sqrt(lengthSq);\n      this.x *= invLength;\n      this.y *= invLength;\n    }\n    return this;\n  }, scale:function(scalar) {\n    this.x *= scalar;\n    this.y *= scalar;\n    return this;\n  }, set:function(x, y) {\n    this.x = x;\n    this.y = y;\n    return this;\n  }, sub:function(rhs) {\n    this.x -= rhs.x;\n    this.y -= rhs.y;\n    return this;\n  }, sub2:function(lhs, rhs) {\n    this.x = lhs.x - rhs.x;\n    this.y = lhs.y - rhs.y;\n    return this;\n  }, toString:function() {\n    return \"[\" + this.x + \", \" + this.y + \"]\";\n  }});\n  Object.defineProperty(Vec2, \"ONE\", {get:function() {\n    var one = new Vec2(1, 1);\n    return function() {\n      return one;\n    };\n  }()});\n  Object.defineProperty(Vec2, \"RIGHT\", {get:function() {\n    var right = new Vec2(1, 0);\n    return function() {\n      return right;\n    };\n  }()});\n  Object.defineProperty(Vec2, \"UP\", {get:function() {\n    var down = new Vec2(0, 1);\n    return function() {\n      return down;\n    };\n  }()});\n  Object.defineProperty(Vec2, \"ZERO\", {get:function() {\n    var zero = new Vec2(0, 0);\n    return function() {\n      return zero;\n    };\n  }()});\n  return {Vec2:Vec2};\n}());\nObject.assign(pc, function() {\n  var Vec3 = function(x, y, z) {\n    if (x && x.length === 3) {\n      this.x = x[0];\n      this.y = x[1];\n      this.z = x[2];\n    } else {\n      this.x = x || 0;\n      this.y = y || 0;\n      this.z = z || 0;\n    }\n  };\n  Object.assign(Vec3.prototype, {add:function(rhs) {\n    this.x += rhs.x;\n    this.y += rhs.y;\n    this.z += rhs.z;\n    return this;\n  }, add2:function(lhs, rhs) {\n    this.x = lhs.x + rhs.x;\n    this.y = lhs.y + rhs.y;\n    this.z = lhs.z + rhs.z;\n    return this;\n  }, clone:function() {\n    return (new Vec3).copy(this);\n  }, copy:function(rhs) {\n    this.x = rhs.x;\n    this.y = rhs.y;\n    this.z = rhs.z;\n    return this;\n  }, cross:function(lhs, rhs) {\n    var lx = lhs.x;\n    var ly = lhs.y;\n    var lz = lhs.z;\n    var rx = rhs.x;\n    var ry = rhs.y;\n    var rz = rhs.z;\n    this.x = ly * rz - ry * lz;\n    this.y = lz * rx - rz * lx;\n    this.z = lx * ry - rx * ly;\n    return this;\n  }, distance:function(rhs) {\n    var x = this.x - rhs.x;\n    var y = this.y - rhs.y;\n    var z = this.z - rhs.z;\n    return Math.sqrt(x * x + y * y + z * z);\n  }, dot:function(rhs) {\n    return this.x * rhs.x + this.y * rhs.y + this.z * rhs.z;\n  }, equals:function(rhs) {\n    return this.x === rhs.x && this.y === rhs.y && this.z === rhs.z;\n  }, length:function() {\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n  }, lengthSq:function() {\n    return this.x * this.x + this.y * this.y + this.z * this.z;\n  }, lerp:function(lhs, rhs, alpha) {\n    this.x = lhs.x + alpha * (rhs.x - lhs.x);\n    this.y = lhs.y + alpha * (rhs.y - lhs.y);\n    this.z = lhs.z + alpha * (rhs.z - lhs.z);\n    return this;\n  }, mul:function(rhs) {\n    this.x *= rhs.x;\n    this.y *= rhs.y;\n    this.z *= rhs.z;\n    return this;\n  }, mul2:function(lhs, rhs) {\n    this.x = lhs.x * rhs.x;\n    this.y = lhs.y * rhs.y;\n    this.z = lhs.z * rhs.z;\n    return this;\n  }, normalize:function() {\n    var lengthSq = this.x * this.x + this.y * this.y + this.z * this.z;\n    if (lengthSq > 0) {\n      var invLength = 1 / Math.sqrt(lengthSq);\n      this.x *= invLength;\n      this.y *= invLength;\n      this.z *= invLength;\n    }\n    return this;\n  }, project:function(rhs) {\n    var a_dot_b = this.x * rhs.x + this.y * rhs.y + this.z * rhs.z;\n    var b_dot_b = rhs.x * rhs.x + rhs.y * rhs.y + rhs.z * rhs.z;\n    var s = a_dot_b / b_dot_b;\n    this.x = rhs.x * s;\n    this.y = rhs.y * s;\n    this.z = rhs.z * s;\n    return this;\n  }, scale:function(scalar) {\n    this.x *= scalar;\n    this.y *= scalar;\n    this.z *= scalar;\n    return this;\n  }, set:function(x, y, z) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    return this;\n  }, sub:function(rhs) {\n    this.x -= rhs.x;\n    this.y -= rhs.y;\n    this.z -= rhs.z;\n    return this;\n  }, sub2:function(lhs, rhs) {\n    this.x = lhs.x - rhs.x;\n    this.y = lhs.y - rhs.y;\n    this.z = lhs.z - rhs.z;\n    return this;\n  }, toString:function() {\n    return \"[\" + this.x + \", \" + this.y + \", \" + this.z + \"]\";\n  }});\n  Object.defineProperty(Vec3, \"BACK\", {get:function() {\n    var back = new Vec3(0, 0, 1);\n    return function() {\n      return back;\n    };\n  }()});\n  Object.defineProperty(Vec3, \"DOWN\", {get:function() {\n    var down = new Vec3(0, -1, 0);\n    return function() {\n      return down;\n    };\n  }()});\n  Object.defineProperty(Vec3, \"FORWARD\", {get:function() {\n    var forward = new Vec3(0, 0, -1);\n    return function() {\n      return forward;\n    };\n  }()});\n  Object.defineProperty(Vec3, \"LEFT\", {get:function() {\n    var left = new Vec3(-1, 0, 0);\n    return function() {\n      return left;\n    };\n  }()});\n  Object.defineProperty(Vec3, \"ONE\", {get:function() {\n    var one = new Vec3(1, 1, 1);\n    return function() {\n      return one;\n    };\n  }()});\n  Object.defineProperty(Vec3, \"RIGHT\", {get:function() {\n    var right = new Vec3(1, 0, 0);\n    return function() {\n      return right;\n    };\n  }()});\n  Object.defineProperty(Vec3, \"UP\", {get:function() {\n    var down = new Vec3(0, 1, 0);\n    return function() {\n      return down;\n    };\n  }()});\n  Object.defineProperty(Vec3, \"ZERO\", {get:function() {\n    var zero = new Vec3(0, 0, 0);\n    return function() {\n      return zero;\n    };\n  }()});\n  return {Vec3:Vec3};\n}());\nObject.assign(pc, function() {\n  var Vec4 = function(x, y, z, w) {\n    if (x && x.length === 4) {\n      this.x = x[0];\n      this.y = x[1];\n      this.z = x[2];\n      this.w = x[3];\n    } else {\n      this.x = x || 0;\n      this.y = y || 0;\n      this.z = z || 0;\n      this.w = w || 0;\n    }\n  };\n  Object.assign(Vec4.prototype, {add:function(rhs) {\n    this.x += rhs.x;\n    this.y += rhs.y;\n    this.z += rhs.z;\n    this.w += rhs.w;\n    return this;\n  }, add2:function(lhs, rhs) {\n    this.x = lhs.x + rhs.x;\n    this.y = lhs.y + rhs.y;\n    this.z = lhs.z + rhs.z;\n    this.w = lhs.w + rhs.w;\n    return this;\n  }, clone:function() {\n    return (new Vec4).copy(this);\n  }, copy:function(rhs) {\n    this.x = rhs.x;\n    this.y = rhs.y;\n    this.z = rhs.z;\n    this.w = rhs.w;\n    return this;\n  }, dot:function(rhs) {\n    return this.x * rhs.x + this.y * rhs.y + this.z * rhs.z + this.w * rhs.w;\n  }, equals:function(rhs) {\n    return this.x === rhs.x && this.y === rhs.y && this.z === rhs.z && this.w === rhs.w;\n  }, length:function() {\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n  }, lengthSq:function() {\n    return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n  }, lerp:function(lhs, rhs, alpha) {\n    this.x = lhs.x + alpha * (rhs.x - lhs.x);\n    this.y = lhs.y + alpha * (rhs.y - lhs.y);\n    this.z = lhs.z + alpha * (rhs.z - lhs.z);\n    this.w = lhs.w + alpha * (rhs.w - lhs.w);\n    return this;\n  }, mul:function(rhs) {\n    this.x *= rhs.x;\n    this.y *= rhs.y;\n    this.z *= rhs.z;\n    this.w *= rhs.w;\n    return this;\n  }, mul2:function(lhs, rhs) {\n    this.x = lhs.x * rhs.x;\n    this.y = lhs.y * rhs.y;\n    this.z = lhs.z * rhs.z;\n    this.w = lhs.w * rhs.w;\n    return this;\n  }, normalize:function() {\n    var lengthSq = this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n    if (lengthSq > 0) {\n      var invLength = 1 / Math.sqrt(lengthSq);\n      this.x *= invLength;\n      this.y *= invLength;\n      this.z *= invLength;\n      this.w *= invLength;\n    }\n    return this;\n  }, scale:function(scalar) {\n    this.x *= scalar;\n    this.y *= scalar;\n    this.z *= scalar;\n    this.w *= scalar;\n    return this;\n  }, set:function(x, y, z, w) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.w = w;\n    return this;\n  }, sub:function(rhs) {\n    this.x -= rhs.x;\n    this.y -= rhs.y;\n    this.z -= rhs.z;\n    this.w -= rhs.w;\n    return this;\n  }, sub2:function(lhs, rhs) {\n    this.x = lhs.x - rhs.x;\n    this.y = lhs.y - rhs.y;\n    this.z = lhs.z - rhs.z;\n    this.w = lhs.w - rhs.w;\n    return this;\n  }, toString:function() {\n    return \"[\" + this.x + \", \" + this.y + \", \" + this.z + \", \" + this.w + \"]\";\n  }});\n  Object.defineProperty(Vec4, \"ONE\", {get:function() {\n    var one = new Vec4(1, 1, 1, 1);\n    return function() {\n      return one;\n    };\n  }()});\n  Object.defineProperty(Vec4, \"ZERO\", {get:function() {\n    var zero = new Vec4(0, 0, 0, 0);\n    return function() {\n      return zero;\n    };\n  }()});\n  return {Vec4:Vec4};\n}());\nObject.assign(pc, function() {\n  var Mat3 = function() {\n    var data;\n    data = new Float32Array(9);\n    data[0] = data[4] = data[8] = 1;\n    this.data = data;\n  };\n  Object.assign(Mat3.prototype, {clone:function() {\n    return (new pc.Mat3).copy(this);\n  }, copy:function(rhs) {\n    var src = rhs.data;\n    var dst = this.data;\n    dst[0] = src[0];\n    dst[1] = src[1];\n    dst[2] = src[2];\n    dst[3] = src[3];\n    dst[4] = src[4];\n    dst[5] = src[5];\n    dst[6] = src[6];\n    dst[7] = src[7];\n    dst[8] = src[8];\n    return this;\n  }, set:function(src) {\n    var dst = this.data;\n    dst[0] = src[0];\n    dst[1] = src[1];\n    dst[2] = src[2];\n    dst[3] = src[3];\n    dst[4] = src[4];\n    dst[5] = src[5];\n    dst[6] = src[6];\n    dst[7] = src[7];\n    dst[8] = src[8];\n    return this;\n  }, equals:function(rhs) {\n    var l = this.data;\n    var r = rhs.data;\n    return l[0] === r[0] && l[1] === r[1] && l[2] === r[2] && l[3] === r[3] && l[4] === r[4] && l[5] === r[5] && l[6] === r[6] && l[7] === r[7] && l[8] === r[8];\n  }, isIdentity:function() {\n    var m = this.data;\n    return m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 0 && m[4] === 1 && m[5] === 0 && m[6] === 0 && m[7] === 0 && m[8] === 1;\n  }, setIdentity:function() {\n    var m = this.data;\n    m[0] = 1;\n    m[1] = 0;\n    m[2] = 0;\n    m[3] = 0;\n    m[4] = 1;\n    m[5] = 0;\n    m[6] = 0;\n    m[7] = 0;\n    m[8] = 1;\n    return this;\n  }, toString:function() {\n    var t = \"[\";\n    for (var i = 0;i < 9;i++) {\n      t += this.data[i];\n      t += i !== 8 ? \", \" : \"\";\n    }\n    t += \"]\";\n    return t;\n  }, transpose:function() {\n    var m = this.data;\n    var tmp;\n    tmp = m[1];\n    m[1] = m[3];\n    m[3] = tmp;\n    tmp = m[2];\n    m[2] = m[6];\n    m[6] = tmp;\n    tmp = m[5];\n    m[5] = m[7];\n    m[7] = tmp;\n    return this;\n  }});\n  Object.defineProperty(Mat3, \"IDENTITY\", {get:function() {\n    var identity = new Mat3;\n    return function() {\n      return identity;\n    };\n  }()});\n  Object.defineProperty(Mat3, \"ZERO\", {get:function() {\n    var zero = (new Mat3).set([0, 0, 0, 0, 0, 0, 0, 0, 0]);\n    return function() {\n      return zero;\n    };\n  }()});\n  return {Mat3:Mat3};\n}());\nObject.assign(pc, function() {\n  var Mat4 = function() {\n    var data = new Float32Array(16);\n    data[0] = data[5] = data[10] = data[15] = 1;\n    this.data = data;\n  };\n  Object.assign(Mat4.prototype, {add2:function(lhs, rhs) {\n    var a = lhs.data, b = rhs.data, r = this.data;\n    r[0] = a[0] + b[0];\n    r[1] = a[1] + b[1];\n    r[2] = a[2] + b[2];\n    r[3] = a[3] + b[3];\n    r[4] = a[4] + b[4];\n    r[5] = a[5] + b[5];\n    r[6] = a[6] + b[6];\n    r[7] = a[7] + b[7];\n    r[8] = a[8] + b[8];\n    r[9] = a[9] + b[9];\n    r[10] = a[10] + b[10];\n    r[11] = a[11] + b[11];\n    r[12] = a[12] + b[12];\n    r[13] = a[13] + b[13];\n    r[14] = a[14] + b[14];\n    r[15] = a[15] + b[15];\n    return this;\n  }, add:function(rhs) {\n    return this.add2(this, rhs);\n  }, clone:function() {\n    return (new pc.Mat4).copy(this);\n  }, copy:function(rhs) {\n    var src = rhs.data, dst = this.data;\n    dst[0] = src[0];\n    dst[1] = src[1];\n    dst[2] = src[2];\n    dst[3] = src[3];\n    dst[4] = src[4];\n    dst[5] = src[5];\n    dst[6] = src[6];\n    dst[7] = src[7];\n    dst[8] = src[8];\n    dst[9] = src[9];\n    dst[10] = src[10];\n    dst[11] = src[11];\n    dst[12] = src[12];\n    dst[13] = src[13];\n    dst[14] = src[14];\n    dst[15] = src[15];\n    return this;\n  }, equals:function(rhs) {\n    var l = this.data, r = rhs.data;\n    return l[0] === r[0] && l[1] === r[1] && l[2] === r[2] && l[3] === r[3] && l[4] === r[4] && l[5] === r[5] && l[6] === r[6] && l[7] === r[7] && l[8] === r[8] && l[9] === r[9] && l[10] === r[10] && l[11] === r[11] && l[12] === r[12] && l[13] === r[13] && l[14] === r[14] && l[15] === r[15];\n  }, isIdentity:function() {\n    var m = this.data;\n    return m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 0 && m[4] === 0 && m[5] === 1 && m[6] === 0 && m[7] === 0 && m[8] === 0 && m[9] === 0 && m[10] === 1 && m[11] === 0 && m[12] === 0 && m[13] === 0 && m[14] === 0 && m[15] === 1;\n  }, mul2:function(lhs, rhs) {\n    var a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33, b0, b1, b2, b3, a = lhs.data, b = rhs.data, r = this.data;\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    a30 = a[12];\n    a31 = a[13];\n    a32 = a[14];\n    a33 = a[15];\n    b0 = b[0];\n    b1 = b[1];\n    b2 = b[2];\n    b3 = b[3];\n    r[0] = a00 * b0 + a10 * b1 + a20 * b2 + a30 * b3;\n    r[1] = a01 * b0 + a11 * b1 + a21 * b2 + a31 * b3;\n    r[2] = a02 * b0 + a12 * b1 + a22 * b2 + a32 * b3;\n    r[3] = a03 * b0 + a13 * b1 + a23 * b2 + a33 * b3;\n    b0 = b[4];\n    b1 = b[5];\n    b2 = b[6];\n    b3 = b[7];\n    r[4] = a00 * b0 + a10 * b1 + a20 * b2 + a30 * b3;\n    r[5] = a01 * b0 + a11 * b1 + a21 * b2 + a31 * b3;\n    r[6] = a02 * b0 + a12 * b1 + a22 * b2 + a32 * b3;\n    r[7] = a03 * b0 + a13 * b1 + a23 * b2 + a33 * b3;\n    b0 = b[8];\n    b1 = b[9];\n    b2 = b[10];\n    b3 = b[11];\n    r[8] = a00 * b0 + a10 * b1 + a20 * b2 + a30 * b3;\n    r[9] = a01 * b0 + a11 * b1 + a21 * b2 + a31 * b3;\n    r[10] = a02 * b0 + a12 * b1 + a22 * b2 + a32 * b3;\n    r[11] = a03 * b0 + a13 * b1 + a23 * b2 + a33 * b3;\n    b0 = b[12];\n    b1 = b[13];\n    b2 = b[14];\n    b3 = b[15];\n    r[12] = a00 * b0 + a10 * b1 + a20 * b2 + a30 * b3;\n    r[13] = a01 * b0 + a11 * b1 + a21 * b2 + a31 * b3;\n    r[14] = a02 * b0 + a12 * b1 + a22 * b2 + a32 * b3;\n    r[15] = a03 * b0 + a13 * b1 + a23 * b2 + a33 * b3;\n    return this;\n  }, mul:function(rhs) {\n    return this.mul2(this, rhs);\n  }, transformPoint:function(vec, res) {\n    var x, y, z, m;\n    m = this.data;\n    x = vec.x;\n    y = vec.y;\n    z = vec.z;\n    res = res === undefined ? new pc.Vec3 : res;\n    res.x = x * m[0] + y * m[4] + z * m[8] + m[12];\n    res.y = x * m[1] + y * m[5] + z * m[9] + m[13];\n    res.z = x * m[2] + y * m[6] + z * m[10] + m[14];\n    return res;\n  }, transformVector:function(vec, res) {\n    var x, y, z, m;\n    m = this.data;\n    x = vec.x;\n    y = vec.y;\n    z = vec.z;\n    res = res === undefined ? new pc.Vec3 : res;\n    res.x = x * m[0] + y * m[4] + z * m[8];\n    res.y = x * m[1] + y * m[5] + z * m[9];\n    res.z = x * m[2] + y * m[6] + z * m[10];\n    return res;\n  }, transformVec4:function(vec, res) {\n    var x, y, z, w, m;\n    m = this.data;\n    x = vec.x;\n    y = vec.y;\n    z = vec.z;\n    w = vec.w;\n    res = res === undefined ? new pc.Vec4 : res;\n    res.x = x * m[0] + y * m[4] + z * m[8] + w * m[12];\n    res.y = x * m[1] + y * m[5] + z * m[9] + w * m[13];\n    res.z = x * m[2] + y * m[6] + z * m[10] + w * m[14];\n    res.w = x * m[3] + y * m[7] + z * m[11] + w * m[15];\n    return res;\n  }, setLookAt:function() {\n    var x, y, z;\n    x = new pc.Vec3;\n    y = new pc.Vec3;\n    z = new pc.Vec3;\n    return function(position, target, up) {\n      z.sub2(position, target).normalize();\n      y.copy(up).normalize();\n      x.cross(y, z).normalize();\n      y.cross(z, x);\n      var r = this.data;\n      r[0] = x.x;\n      r[1] = x.y;\n      r[2] = x.z;\n      r[3] = 0;\n      r[4] = y.x;\n      r[5] = y.y;\n      r[6] = y.z;\n      r[7] = 0;\n      r[8] = z.x;\n      r[9] = z.y;\n      r[10] = z.z;\n      r[11] = 0;\n      r[12] = position.x;\n      r[13] = position.y;\n      r[14] = position.z;\n      r[15] = 1;\n      return this;\n    };\n  }(), setFrustum:function(left, right, bottom, top, znear, zfar) {\n    var temp1, temp2, temp3, temp4, r;\n    temp1 = 2 * znear;\n    temp2 = right - left;\n    temp3 = top - bottom;\n    temp4 = zfar - znear;\n    r = this.data;\n    r[0] = temp1 / temp2;\n    r[1] = 0;\n    r[2] = 0;\n    r[3] = 0;\n    r[4] = 0;\n    r[5] = temp1 / temp3;\n    r[6] = 0;\n    r[7] = 0;\n    r[8] = (right + left) / temp2;\n    r[9] = (top + bottom) / temp3;\n    r[10] = (-zfar - znear) / temp4;\n    r[11] = -1;\n    r[12] = 0;\n    r[13] = 0;\n    r[14] = -temp1 * zfar / temp4;\n    r[15] = 0;\n    return this;\n  }, setPerspective:function(fov, aspect, znear, zfar, fovIsHorizontal) {\n    var xmax, ymax;\n    if (!fovIsHorizontal) {\n      ymax = znear * Math.tan(fov * Math.PI / 360);\n      xmax = ymax * aspect;\n    } else {\n      xmax = znear * Math.tan(fov * Math.PI / 360);\n      ymax = xmax / aspect;\n    }\n    return this.setFrustum(-xmax, xmax, -ymax, ymax, znear, zfar);\n  }, setOrtho:function(left, right, bottom, top, near, far) {\n    var r = this.data;\n    r[0] = 2 / (right - left);\n    r[1] = 0;\n    r[2] = 0;\n    r[3] = 0;\n    r[4] = 0;\n    r[5] = 2 / (top - bottom);\n    r[6] = 0;\n    r[7] = 0;\n    r[8] = 0;\n    r[9] = 0;\n    r[10] = -2 / (far - near);\n    r[11] = 0;\n    r[12] = -(right + left) / (right - left);\n    r[13] = -(top + bottom) / (top - bottom);\n    r[14] = -(far + near) / (far - near);\n    r[15] = 1;\n    return this;\n  }, setFromAxisAngle:function(axis, angle) {\n    var x, y, z, c, s, t, tx, ty, m;\n    angle *= pc.math.DEG_TO_RAD;\n    x = axis.x;\n    y = axis.y;\n    z = axis.z;\n    c = Math.cos(angle);\n    s = Math.sin(angle);\n    t = 1 - c;\n    tx = t * x;\n    ty = t * y;\n    m = this.data;\n    m[0] = tx * x + c;\n    m[1] = tx * y + s * z;\n    m[2] = tx * z - s * y;\n    m[3] = 0;\n    m[4] = tx * y - s * z;\n    m[5] = ty * y + c;\n    m[6] = ty * z + s * x;\n    m[7] = 0;\n    m[8] = tx * z + s * y;\n    m[9] = ty * z - x * s;\n    m[10] = t * z * z + c;\n    m[11] = 0;\n    m[12] = 0;\n    m[13] = 0;\n    m[14] = 0;\n    m[15] = 1;\n    return this;\n  }, setTranslate:function(x, y, z) {\n    var m = this.data;\n    m[0] = 1;\n    m[1] = 0;\n    m[2] = 0;\n    m[3] = 0;\n    m[4] = 0;\n    m[5] = 1;\n    m[6] = 0;\n    m[7] = 0;\n    m[8] = 0;\n    m[9] = 0;\n    m[10] = 1;\n    m[11] = 0;\n    m[12] = x;\n    m[13] = y;\n    m[14] = z;\n    m[15] = 1;\n    return this;\n  }, setScale:function(x, y, z) {\n    var m = this.data;\n    m[0] = x;\n    m[1] = 0;\n    m[2] = 0;\n    m[3] = 0;\n    m[4] = 0;\n    m[5] = y;\n    m[6] = 0;\n    m[7] = 0;\n    m[8] = 0;\n    m[9] = 0;\n    m[10] = z;\n    m[11] = 0;\n    m[12] = 0;\n    m[13] = 0;\n    m[14] = 0;\n    m[15] = 1;\n    return this;\n  }, invert:function() {\n    var a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33, b00, b01, b02, b03, b04, b05, b06, b07, b08, b09, b10, b11, det, invDet, m;\n    m = this.data;\n    a00 = m[0];\n    a01 = m[1];\n    a02 = m[2];\n    a03 = m[3];\n    a10 = m[4];\n    a11 = m[5];\n    a12 = m[6];\n    a13 = m[7];\n    a20 = m[8];\n    a21 = m[9];\n    a22 = m[10];\n    a23 = m[11];\n    a30 = m[12];\n    a31 = m[13];\n    a32 = m[14];\n    a33 = m[15];\n    b00 = a00 * a11 - a01 * a10;\n    b01 = a00 * a12 - a02 * a10;\n    b02 = a00 * a13 - a03 * a10;\n    b03 = a01 * a12 - a02 * a11;\n    b04 = a01 * a13 - a03 * a11;\n    b05 = a02 * a13 - a03 * a12;\n    b06 = a20 * a31 - a21 * a30;\n    b07 = a20 * a32 - a22 * a30;\n    b08 = a20 * a33 - a23 * a30;\n    b09 = a21 * a32 - a22 * a31;\n    b10 = a21 * a33 - a23 * a31;\n    b11 = a22 * a33 - a23 * a32;\n    det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n    if (det === 0) {\n      this.setIdentity();\n    } else {\n      invDet = 1 / det;\n      m[0] = (a11 * b11 - a12 * b10 + a13 * b09) * invDet;\n      m[1] = (-a01 * b11 + a02 * b10 - a03 * b09) * invDet;\n      m[2] = (a31 * b05 - a32 * b04 + a33 * b03) * invDet;\n      m[3] = (-a21 * b05 + a22 * b04 - a23 * b03) * invDet;\n      m[4] = (-a10 * b11 + a12 * b08 - a13 * b07) * invDet;\n      m[5] = (a00 * b11 - a02 * b08 + a03 * b07) * invDet;\n      m[6] = (-a30 * b05 + a32 * b02 - a33 * b01) * invDet;\n      m[7] = (a20 * b05 - a22 * b02 + a23 * b01) * invDet;\n      m[8] = (a10 * b10 - a11 * b08 + a13 * b06) * invDet;\n      m[9] = (-a00 * b10 + a01 * b08 - a03 * b06) * invDet;\n      m[10] = (a30 * b04 - a31 * b02 + a33 * b00) * invDet;\n      m[11] = (-a20 * b04 + a21 * b02 - a23 * b00) * invDet;\n      m[12] = (-a10 * b09 + a11 * b07 - a12 * b06) * invDet;\n      m[13] = (a00 * b09 - a01 * b07 + a02 * b06) * invDet;\n      m[14] = (-a30 * b03 + a31 * b01 - a32 * b00) * invDet;\n      m[15] = (a20 * b03 - a21 * b01 + a22 * b00) * invDet;\n    }\n    return this;\n  }, set:function(src) {\n    var dst = this.data;\n    dst[0] = src[0];\n    dst[1] = src[1];\n    dst[2] = src[2];\n    dst[3] = src[3];\n    dst[4] = src[4];\n    dst[5] = src[5];\n    dst[6] = src[6];\n    dst[7] = src[7];\n    dst[8] = src[8];\n    dst[9] = src[9];\n    dst[10] = src[10];\n    dst[11] = src[11];\n    dst[12] = src[12];\n    dst[13] = src[13];\n    dst[14] = src[14];\n    dst[15] = src[15];\n    return this;\n  }, setIdentity:function() {\n    var m = this.data;\n    m[0] = 1;\n    m[1] = 0;\n    m[2] = 0;\n    m[3] = 0;\n    m[4] = 0;\n    m[5] = 1;\n    m[6] = 0;\n    m[7] = 0;\n    m[8] = 0;\n    m[9] = 0;\n    m[10] = 1;\n    m[11] = 0;\n    m[12] = 0;\n    m[13] = 0;\n    m[14] = 0;\n    m[15] = 1;\n    return this;\n  }, setTRS:function(t, r, s) {\n    var tx, ty, tz, qx, qy, qz, qw, sx, sy, sz, x2, y2, z2, xx, xy, xz, yy, yz, zz, wx, wy, wz, m;\n    tx = t.x;\n    ty = t.y;\n    tz = t.z;\n    qx = r.x;\n    qy = r.y;\n    qz = r.z;\n    qw = r.w;\n    sx = s.x;\n    sy = s.y;\n    sz = s.z;\n    x2 = qx + qx;\n    y2 = qy + qy;\n    z2 = qz + qz;\n    xx = qx * x2;\n    xy = qx * y2;\n    xz = qx * z2;\n    yy = qy * y2;\n    yz = qy * z2;\n    zz = qz * z2;\n    wx = qw * x2;\n    wy = qw * y2;\n    wz = qw * z2;\n    m = this.data;\n    m[0] = (1 - (yy + zz)) * sx;\n    m[1] = (xy + wz) * sx;\n    m[2] = (xz - wy) * sx;\n    m[3] = 0;\n    m[4] = (xy - wz) * sy;\n    m[5] = (1 - (xx + zz)) * sy;\n    m[6] = (yz + wx) * sy;\n    m[7] = 0;\n    m[8] = (xz + wy) * sz;\n    m[9] = (yz - wx) * sz;\n    m[10] = (1 - (xx + yy)) * sz;\n    m[11] = 0;\n    m[12] = tx;\n    m[13] = ty;\n    m[14] = tz;\n    m[15] = 1;\n    return this;\n  }, transpose:function() {\n    var tmp, m = this.data;\n    tmp = m[1];\n    m[1] = m[4];\n    m[4] = tmp;\n    tmp = m[2];\n    m[2] = m[8];\n    m[8] = tmp;\n    tmp = m[3];\n    m[3] = m[12];\n    m[12] = tmp;\n    tmp = m[6];\n    m[6] = m[9];\n    m[9] = tmp;\n    tmp = m[7];\n    m[7] = m[13];\n    m[13] = tmp;\n    tmp = m[11];\n    m[11] = m[14];\n    m[14] = tmp;\n    return this;\n  }, invertTo3x3:function(res) {\n    var a11, a21, a31, a12, a22, a32, a13, a23, a33, m, r, det, idet;\n    m = this.data;\n    r = res.data;\n    var m0 = m[0];\n    var m1 = m[1];\n    var m2 = m[2];\n    var m4 = m[4];\n    var m5 = m[5];\n    var m6 = m[6];\n    var m8 = m[8];\n    var m9 = m[9];\n    var m10 = m[10];\n    a11 = m10 * m5 - m6 * m9;\n    a21 = -m10 * m1 + m2 * m9;\n    a31 = m6 * m1 - m2 * m5;\n    a12 = -m10 * m4 + m6 * m8;\n    a22 = m10 * m0 - m2 * m8;\n    a32 = -m6 * m0 + m2 * m4;\n    a13 = m9 * m4 - m5 * m8;\n    a23 = -m9 * m0 + m1 * m8;\n    a33 = m5 * m0 - m1 * m4;\n    det = m0 * a11 + m1 * a12 + m2 * a13;\n    if (det === 0) {\n      return this;\n    }\n    idet = 1 / det;\n    r[0] = idet * a11;\n    r[1] = idet * a21;\n    r[2] = idet * a31;\n    r[3] = idet * a12;\n    r[4] = idet * a22;\n    r[5] = idet * a32;\n    r[6] = idet * a13;\n    r[7] = idet * a23;\n    r[8] = idet * a33;\n    return this;\n  }, getTranslation:function(t) {\n    t = t === undefined ? new pc.Vec3 : t;\n    return t.set(this.data[12], this.data[13], this.data[14]);\n  }, getX:function(x) {\n    x = x === undefined ? new pc.Vec3 : x;\n    return x.set(this.data[0], this.data[1], this.data[2]);\n  }, getY:function(y) {\n    y = y === undefined ? new pc.Vec3 : y;\n    return y.set(this.data[4], this.data[5], this.data[6]);\n  }, getZ:function(z) {\n    z = z === undefined ? new pc.Vec3 : z;\n    return z.set(this.data[8], this.data[9], this.data[10]);\n  }, getScale:function() {\n    var x, y, z;\n    x = new pc.Vec3;\n    y = new pc.Vec3;\n    z = new pc.Vec3;\n    return function(scale) {\n      scale = scale === undefined ? new pc.Vec3 : scale;\n      this.getX(x);\n      this.getY(y);\n      this.getZ(z);\n      scale.set(x.length(), y.length(), z.length());\n      return scale;\n    };\n  }(), setFromEulerAngles:function(ex, ey, ez) {\n    var s1, c1, s2, c2, s3, c3, m;\n    ex *= pc.math.DEG_TO_RAD;\n    ey *= pc.math.DEG_TO_RAD;\n    ez *= pc.math.DEG_TO_RAD;\n    s1 = Math.sin(-ex);\n    c1 = Math.cos(-ex);\n    s2 = Math.sin(-ey);\n    c2 = Math.cos(-ey);\n    s3 = Math.sin(-ez);\n    c3 = Math.cos(-ez);\n    m = this.data;\n    m[0] = c2 * c3;\n    m[1] = -c2 * s3;\n    m[2] = s2;\n    m[3] = 0;\n    m[4] = c1 * s3 + c3 * s1 * s2;\n    m[5] = c1 * c3 - s1 * s2 * s3;\n    m[6] = -c2 * s1;\n    m[7] = 0;\n    m[8] = s1 * s3 - c1 * c3 * s2;\n    m[9] = c3 * s1 + c1 * s2 * s3;\n    m[10] = c1 * c2;\n    m[11] = 0;\n    m[12] = 0;\n    m[13] = 0;\n    m[14] = 0;\n    m[15] = 1;\n    return this;\n  }, getEulerAngles:function() {\n    var scale = new pc.Vec3;\n    return function(eulers) {\n      var x, y, z, sx, sy, sz, m, halfPi;\n      eulers = eulers === undefined ? new pc.Vec3 : eulers;\n      this.getScale(scale);\n      sx = scale.x;\n      sy = scale.y;\n      sz = scale.z;\n      m = this.data;\n      y = Math.asin(-m[2] / sx);\n      halfPi = Math.PI * 0.5;\n      if (y < halfPi) {\n        if (y > -halfPi) {\n          x = Math.atan2(m[6] / sy, m[10] / sz);\n          z = Math.atan2(m[1] / sx, m[0] / sx);\n        } else {\n          z = 0;\n          x = -Math.atan2(m[4] / sy, m[5] / sy);\n        }\n      } else {\n        z = 0;\n        x = Math.atan2(m[4] / sy, m[5] / sy);\n      }\n      return eulers.set(x, y, z).scale(pc.math.RAD_TO_DEG);\n    };\n  }(), toString:function() {\n    var i, t;\n    t = \"[\";\n    for (i = 0;i < 16;i += 1) {\n      t += this.data[i];\n      t += i !== 15 ? \", \" : \"\";\n    }\n    t += \"]\";\n    return t;\n  }});\n  Object.defineProperty(Mat4, \"IDENTITY\", {get:function() {\n    var identity = new Mat4;\n    return function() {\n      return identity;\n    };\n  }()});\n  Object.defineProperty(Mat4, \"ZERO\", {get:function() {\n    var zero = (new Mat4).set([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n    return function() {\n      return zero;\n    };\n  }()});\n  return {Mat4:Mat4};\n}());\nObject.assign(pc, function() {\n  var Quat = function(x, y, z, w) {\n    if (x && x.length === 4) {\n      this.x = x[0];\n      this.y = x[1];\n      this.z = x[2];\n      this.w = x[3];\n    } else {\n      this.x = x === undefined ? 0 : x;\n      this.y = y === undefined ? 0 : y;\n      this.z = z === undefined ? 0 : z;\n      this.w = w === undefined ? 1 : w;\n    }\n  };\n  Object.assign(Quat.prototype, {clone:function() {\n    return new pc.Quat(this.x, this.y, this.z, this.w);\n  }, conjugate:function() {\n    this.x *= -1;\n    this.y *= -1;\n    this.z *= -1;\n    return this;\n  }, copy:function(rhs) {\n    this.x = rhs.x;\n    this.y = rhs.y;\n    this.z = rhs.z;\n    this.w = rhs.w;\n    return this;\n  }, equals:function(rhs) {\n    return this.x === rhs.x && this.y === rhs.y && this.z === rhs.z && this.w === rhs.w;\n  }, getAxisAngle:function(axis) {\n    var rad = Math.acos(this.w) * 2;\n    var s = Math.sin(rad / 2);\n    if (s !== 0) {\n      axis.x = this.x / s;\n      axis.y = this.y / s;\n      axis.z = this.z / s;\n      if (axis.x < 0 || axis.y < 0 || axis.z < 0) {\n        axis.x *= -1;\n        axis.y *= -1;\n        axis.z *= -1;\n        rad *= -1;\n      }\n    } else {\n      axis.x = 1;\n      axis.y = 0;\n      axis.z = 0;\n    }\n    return rad * pc.math.RAD_TO_DEG;\n  }, getEulerAngles:function(eulers) {\n    var x, y, z, qx, qy, qz, qw, a2;\n    eulers = eulers === undefined ? new pc.Vec3 : eulers;\n    qx = this.x;\n    qy = this.y;\n    qz = this.z;\n    qw = this.w;\n    a2 = 2 * (qw * qy - qx * qz);\n    if (a2 <= -0.99999) {\n      x = 2 * Math.atan2(qx, qw);\n      y = -Math.PI / 2;\n      z = 0;\n    } else {\n      if (a2 >= 0.99999) {\n        x = 2 * Math.atan2(qx, qw);\n        y = Math.PI / 2;\n        z = 0;\n      } else {\n        x = Math.atan2(2 * (qw * qx + qy * qz), 1 - 2 * (qx * qx + qy * qy));\n        y = Math.asin(a2);\n        z = Math.atan2(2 * (qw * qz + qx * qy), 1 - 2 * (qy * qy + qz * qz));\n      }\n    }\n    return eulers.set(x, y, z).scale(pc.math.RAD_TO_DEG);\n  }, invert:function() {\n    return this.conjugate().normalize();\n  }, length:function() {\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n  }, lengthSq:function() {\n    return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n  }, mul:function(rhs) {\n    var q1x, q1y, q1z, q1w, q2x, q2y, q2z, q2w;\n    q1x = this.x;\n    q1y = this.y;\n    q1z = this.z;\n    q1w = this.w;\n    q2x = rhs.x;\n    q2y = rhs.y;\n    q2z = rhs.z;\n    q2w = rhs.w;\n    this.x = q1w * q2x + q1x * q2w + q1y * q2z - q1z * q2y;\n    this.y = q1w * q2y + q1y * q2w + q1z * q2x - q1x * q2z;\n    this.z = q1w * q2z + q1z * q2w + q1x * q2y - q1y * q2x;\n    this.w = q1w * q2w - q1x * q2x - q1y * q2y - q1z * q2z;\n    return this;\n  }, mul2:function(lhs, rhs) {\n    var q1x, q1y, q1z, q1w, q2x, q2y, q2z, q2w;\n    q1x = lhs.x;\n    q1y = lhs.y;\n    q1z = lhs.z;\n    q1w = lhs.w;\n    q2x = rhs.x;\n    q2y = rhs.y;\n    q2z = rhs.z;\n    q2w = rhs.w;\n    this.x = q1w * q2x + q1x * q2w + q1y * q2z - q1z * q2y;\n    this.y = q1w * q2y + q1y * q2w + q1z * q2x - q1x * q2z;\n    this.z = q1w * q2z + q1z * q2w + q1x * q2y - q1y * q2x;\n    this.w = q1w * q2w - q1x * q2x - q1y * q2y - q1z * q2z;\n    return this;\n  }, normalize:function() {\n    var len = this.length();\n    if (len === 0) {\n      this.x = this.y = this.z = 0;\n      this.w = 1;\n    } else {\n      len = 1 / len;\n      this.x *= len;\n      this.y *= len;\n      this.z *= len;\n      this.w *= len;\n    }\n    return this;\n  }, set:function(x, y, z, w) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.w = w;\n    return this;\n  }, setFromAxisAngle:function(axis, angle) {\n    var sa, ca;\n    angle *= 0.5 * pc.math.DEG_TO_RAD;\n    sa = Math.sin(angle);\n    ca = Math.cos(angle);\n    this.x = sa * axis.x;\n    this.y = sa * axis.y;\n    this.z = sa * axis.z;\n    this.w = ca;\n    return this;\n  }, setFromEulerAngles:function(ex, ey, ez) {\n    var sx, cx, sy, cy, sz, cz, halfToRad;\n    halfToRad = 0.5 * pc.math.DEG_TO_RAD;\n    ex *= halfToRad;\n    ey *= halfToRad;\n    ez *= halfToRad;\n    sx = Math.sin(ex);\n    cx = Math.cos(ex);\n    sy = Math.sin(ey);\n    cy = Math.cos(ey);\n    sz = Math.sin(ez);\n    cz = Math.cos(ez);\n    this.x = sx * cy * cz - cx * sy * sz;\n    this.y = cx * sy * cz + sx * cy * sz;\n    this.z = cx * cy * sz - sx * sy * cz;\n    this.w = cx * cy * cz + sx * sy * sz;\n    return this;\n  }, setFromMat4:function(m) {\n    var m00, m01, m02, m10, m11, m12, m20, m21, m22, tr, s, rs, lx, ly, lz;\n    m = m.data;\n    m00 = m[0];\n    m01 = m[1];\n    m02 = m[2];\n    m10 = m[4];\n    m11 = m[5];\n    m12 = m[6];\n    m20 = m[8];\n    m21 = m[9];\n    m22 = m[10];\n    lx = m00 * m00 + m01 * m01 + m02 * m02;\n    if (lx === 0) {\n      return this;\n    }\n    lx = 1 / Math.sqrt(lx);\n    ly = m10 * m10 + m11 * m11 + m12 * m12;\n    if (ly === 0) {\n      return this;\n    }\n    ly = 1 / Math.sqrt(ly);\n    lz = m20 * m20 + m21 * m21 + m22 * m22;\n    if (lz === 0) {\n      return this;\n    }\n    lz = 1 / Math.sqrt(lz);\n    m00 *= lx;\n    m01 *= lx;\n    m02 *= lx;\n    m10 *= ly;\n    m11 *= ly;\n    m12 *= ly;\n    m20 *= lz;\n    m21 *= lz;\n    m22 *= lz;\n    tr = m00 + m11 + m22;\n    if (tr >= 0) {\n      s = Math.sqrt(tr + 1);\n      this.w = s * 0.5;\n      s = 0.5 / s;\n      this.x = (m12 - m21) * s;\n      this.y = (m20 - m02) * s;\n      this.z = (m01 - m10) * s;\n    } else {\n      if (m00 > m11) {\n        if (m00 > m22) {\n          rs = m00 - (m11 + m22) + 1;\n          rs = Math.sqrt(rs);\n          this.x = rs * 0.5;\n          rs = 0.5 / rs;\n          this.w = (m12 - m21) * rs;\n          this.y = (m01 + m10) * rs;\n          this.z = (m02 + m20) * rs;\n        } else {\n          rs = m22 - (m00 + m11) + 1;\n          rs = Math.sqrt(rs);\n          this.z = rs * 0.5;\n          rs = 0.5 / rs;\n          this.w = (m01 - m10) * rs;\n          this.x = (m20 + m02) * rs;\n          this.y = (m21 + m12) * rs;\n        }\n      } else {\n        if (m11 > m22) {\n          rs = m11 - (m22 + m00) + 1;\n          rs = Math.sqrt(rs);\n          this.y = rs * 0.5;\n          rs = 0.5 / rs;\n          this.w = (m20 - m02) * rs;\n          this.z = (m12 + m21) * rs;\n          this.x = (m10 + m01) * rs;\n        } else {\n          rs = m22 - (m00 + m11) + 1;\n          rs = Math.sqrt(rs);\n          this.z = rs * 0.5;\n          rs = 0.5 / rs;\n          this.w = (m01 - m10) * rs;\n          this.x = (m20 + m02) * rs;\n          this.y = (m21 + m12) * rs;\n        }\n      }\n    }\n    return this;\n  }, slerp:function(lhs, rhs, alpha) {\n    var lx, ly, lz, lw, rx, ry, rz, rw;\n    lx = lhs.x;\n    ly = lhs.y;\n    lz = lhs.z;\n    lw = lhs.w;\n    rx = rhs.x;\n    ry = rhs.y;\n    rz = rhs.z;\n    rw = rhs.w;\n    var cosHalfTheta = lw * rw + lx * rx + ly * ry + lz * rz;\n    if (cosHalfTheta < 0) {\n      rw = -rw;\n      rx = -rx;\n      ry = -ry;\n      rz = -rz;\n      cosHalfTheta = -cosHalfTheta;\n    }\n    if (Math.abs(cosHalfTheta) >= 1) {\n      this.w = lw;\n      this.x = lx;\n      this.y = ly;\n      this.z = lz;\n      return this;\n    }\n    var halfTheta = Math.acos(cosHalfTheta);\n    var sinHalfTheta = Math.sqrt(1 - cosHalfTheta * cosHalfTheta);\n    if (Math.abs(sinHalfTheta) < 0.001) {\n      this.w = lw * 0.5 + rw * 0.5;\n      this.x = lx * 0.5 + rx * 0.5;\n      this.y = ly * 0.5 + ry * 0.5;\n      this.z = lz * 0.5 + rz * 0.5;\n      return this;\n    }\n    var ratioA = Math.sin((1 - alpha) * halfTheta) / sinHalfTheta;\n    var ratioB = Math.sin(alpha * halfTheta) / sinHalfTheta;\n    this.w = lw * ratioA + rw * ratioB;\n    this.x = lx * ratioA + rx * ratioB;\n    this.y = ly * ratioA + ry * ratioB;\n    this.z = lz * ratioA + rz * ratioB;\n    return this;\n  }, transformVector:function(vec, res) {\n    if (res === undefined) {\n      res = new pc.Vec3;\n    }\n    var x = vec.x, y = vec.y, z = vec.z;\n    var qx = this.x, qy = this.y, qz = this.z, qw = this.w;\n    var ix = qw * x + qy * z - qz * y;\n    var iy = qw * y + qz * x - qx * z;\n    var iz = qw * z + qx * y - qy * x;\n    var iw = -qx * x - qy * y - qz * z;\n    res.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n    res.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n    res.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n    return res;\n  }, toString:function() {\n    return \"[\" + this.x + \", \" + this.y + \", \" + this.z + \", \" + this.w + \"]\";\n  }});\n  Object.defineProperty(Quat, \"IDENTITY\", {get:function() {\n    var identity = new Quat;\n    return function() {\n      return identity;\n    };\n  }()});\n  Object.defineProperty(Quat, \"ZERO\", {get:function() {\n    var zero = new Quat(0, 0, 0, 0);\n    return function() {\n      return zero;\n    };\n  }()});\n  return {Quat:Quat};\n}());\nObject.assign(pc, function() {\n  var CURVE_LINEAR = 0;\n  var CURVE_SMOOTHSTEP = 1;\n  var CURVE_CATMULL = 2;\n  var CURVE_CARDINAL = 3;\n  var CURVE_SPLINE = 4;\n  var CURVE_STEP = 5;\n  var Curve = function(data) {\n    this.keys = [];\n    this.type = CURVE_SMOOTHSTEP;\n    this.tension = 0.5;\n    this._eval = new pc.CurveEvaluator(this);\n    if (data) {\n      for (var i = 0;i < data.length - 1;i += 2) {\n        this.keys.push([data[i], data[i + 1]]);\n      }\n    }\n    this.sort();\n  };\n  Object.assign(Curve.prototype, {add:function(time, value) {\n    var keys = this.keys;\n    var len = keys.length;\n    var i = 0;\n    for (;i < len;i++) {\n      if (keys[i][0] > time) {\n        break;\n      }\n    }\n    var key = [time, value];\n    this.keys.splice(i, 0, key);\n    return key;\n  }, get:function(index) {\n    return this.keys[index];\n  }, sort:function() {\n    this.keys.sort(function(a, b) {\n      return a[0] - b[0];\n    });\n  }, value:function(time) {\n    return this._eval.evaluate(time, true);\n  }, closest:function(time) {\n    var keys = this.keys;\n    var length = keys.length;\n    var min = 2;\n    var result = null;\n    for (var i = 0;i < length;i++) {\n      var diff = Math.abs(time - keys[i][0]);\n      if (min >= diff) {\n        min = diff;\n        result = keys[i];\n      } else {\n        break;\n      }\n    }\n    return result;\n  }, clone:function() {\n    var result = new pc.Curve;\n    result.keys = pc.extend(result.keys, this.keys);\n    result.type = this.type;\n    result.tension = this.tension;\n    return result;\n  }, quantize:function(precision) {\n    precision = Math.max(precision, 2);\n    var values = new Float32Array(precision);\n    var step = 1.0 / (precision - 1);\n    values[0] = this._eval.evaluate(0, true);\n    for (var i = 1;i < precision;i++) {\n      values[i] = this._eval.evaluate(step * i);\n    }\n    return values;\n  }, quantizeClamped:function(precision, min, max) {\n    var result = this.quantize(precision);\n    for (var i = 0;i < result.length;++i) {\n      result[i] = Math.min(max, Math.max(min, result[i]));\n    }\n    return result;\n  }});\n  Object.defineProperty(Curve.prototype, \"length\", {get:function() {\n    return this.keys.length;\n  }});\n  return {Curve:Curve, CURVE_LINEAR:CURVE_LINEAR, CURVE_SMOOTHSTEP:CURVE_SMOOTHSTEP, CURVE_CATMULL:CURVE_CATMULL, CURVE_CARDINAL:CURVE_CARDINAL, CURVE_SPLINE:CURVE_SPLINE, CURVE_STEP:CURVE_STEP};\n}());\nObject.assign(pc, function() {\n  var CurveSet = function() {\n    var i;\n    this.curves = [];\n    this._type = pc.CURVE_SMOOTHSTEP;\n    if (arguments.length > 1) {\n      for (i = 0;i < arguments.length;i++) {\n        this.curves.push(new pc.Curve(arguments[i]));\n      }\n    } else {\n      if (arguments.length === 0) {\n        this.curves.push(new pc.Curve);\n      } else {\n        var arg = arguments[0];\n        if (pc.type(arg) === \"number\") {\n          for (i = 0;i < arg;i++) {\n            this.curves.push(new pc.Curve);\n          }\n        } else {\n          for (i = 0;i < arg.length;i++) {\n            this.curves.push(new pc.Curve(arg[i]));\n          }\n        }\n      }\n    }\n  };\n  Object.assign(CurveSet.prototype, {get:function(index) {\n    return this.curves[index];\n  }, value:function(time, result) {\n    var length = this.curves.length;\n    result = result || [];\n    result.length = length;\n    for (var i = 0;i < length;i++) {\n      result[i] = this.curves[i].value(time);\n    }\n    return result;\n  }, clone:function() {\n    var result = new pc.CurveSet;\n    result.curves = [];\n    for (var i = 0;i < this.curves.length;i++) {\n      result.curves.push(this.curves[i].clone());\n    }\n    result._type = this._type;\n    return result;\n  }, quantize:function(precision) {\n    precision = Math.max(precision, 2);\n    var numCurves = this.curves.length;\n    var values = new Float32Array(precision * numCurves);\n    var step = 1.0 / (precision - 1);\n    for (var c = 0;c < numCurves;c++) {\n      var ev = new pc.CurveEvaluator(this.curves[c]);\n      for (var i = 0;i < precision;i++) {\n        values[i * numCurves + c] = ev.evaluate(step * i);\n      }\n    }\n    return values;\n  }, quantizeClamped:function(precision, min, max) {\n    var result = this.quantize(precision);\n    for (var i = 0;i < result.length;++i) {\n      result[i] = Math.min(max, Math.max(min, result[i]));\n    }\n    return result;\n  }});\n  Object.defineProperty(CurveSet.prototype, \"length\", {get:function() {\n    return this.curves.length;\n  }});\n  Object.defineProperty(CurveSet.prototype, \"type\", {get:function() {\n    return this._type;\n  }, set:function(value) {\n    this._type = value;\n    for (var i = 0;i < this.curves.length;i++) {\n      this.curves[i].type = value;\n    }\n  }});\n  return {CurveSet:CurveSet};\n}());\nObject.assign(pc, function() {\n  var CurveEvaluator = function(curve, time) {\n    this._curve = curve;\n    this._left = -Infinity;\n    this._right = Infinity;\n    this._recip = 0;\n    this._p0 = 0;\n    this._p1 = 0;\n    this._m0 = 0;\n    this._m1 = 0;\n    this._reset(time || 0);\n  };\n  Object.assign(CurveEvaluator.prototype, {evaluate:function(time, forceReset) {\n    if (forceReset || time < this._left || time >= this._right) {\n      this._reset(time);\n    }\n    var result;\n    var type = this._curve.type;\n    if (type === pc.CURVE_STEP) {\n      result = this._p0;\n    } else {\n      var t = this._recip === 0 ? 0 : (time - this._left) * this._recip;\n      if (type === pc.CURVE_LINEAR) {\n        result = pc.math.lerp(this._p0, this._p1, t);\n      } else {\n        if (type === pc.CURVE_SMOOTHSTEP) {\n          result = pc.math.lerp(this._p0, this._p1, t * t * (3 - 2 * t));\n        } else {\n          result = this._evaluateHermite(this._p0, this._p1, this._m0, this._m1, t);\n        }\n      }\n    }\n    return result;\n  }, _reset:function(time) {\n    var keys = this._curve.keys;\n    var len = keys.length;\n    if (!len) {\n      this._left = -Infinity;\n      this._right = Infinity;\n      this._recip = 0;\n      this._p0 = this._p1 = this._m0 = this._m1 = 0;\n    } else {\n      if (time < keys[0][0]) {\n        this._left = -Infinity;\n        this._right = keys[0][0];\n        this._recip = 0;\n        this._p0 = this._p1 = keys[0][1];\n        this._m0 = this._m1 = 0;\n      } else {\n        if (time >= keys[len - 1][0]) {\n          this._left = keys[len - 1][0];\n          this._right = Infinity;\n          this._recip = 0;\n          this._p0 = this._p1 = keys[len - 1][1];\n          this._m0 = this._m1 = 0;\n        } else {\n          var index = 0;\n          while (time >= keys[index + 1][0]) {\n            index++;\n          }\n          this._left = keys[index][0];\n          this._right = keys[index + 1][0];\n          var diff = 1.0 / (this._right - this._left);\n          this._recip = isFinite(diff) ? diff : 0;\n          this._p0 = keys[index][1];\n          this._p1 = keys[index + 1][1];\n          if (this._isHermite()) {\n            this._calcTangents(keys, index);\n          }\n        }\n      }\n    }\n  }, _isHermite:function() {\n    return this._curve.type === pc.CURVE_CATMULL || this._curve.type === pc.CURVE_CARDINAL || this._curve.type === pc.CURVE_SPLINE;\n  }, _calcTangents:function(keys, index) {\n    var a;\n    var b = keys[index];\n    var c = keys[index + 1];\n    var d;\n    if (index === 0) {\n      a = [keys[0][0] + (keys[0][0] - keys[1][0]), keys[0][1] + (keys[0][1] - keys[1][1])];\n    } else {\n      a = keys[index - 1];\n    }\n    if (index == keys.length - 2) {\n      d = [keys[index + 1][0] + (keys[index + 1][0] - keys[index][0]), keys[index + 1][1] + (keys[index + 1][1] - keys[index][1])];\n    } else {\n      d = keys[index + 2];\n    }\n    if (this._curve.type === pc.CURVE_SPLINE) {\n      var s1_ = 2 * (c[0] - b[0]) / (c[0] - a[0]);\n      var s2_ = 2 * (c[0] - b[0]) / (d[0] - b[0]);\n      this._m0 = this._curve.tension * (isFinite(s1_) ? s1_ : 0) * (c[1] - a[1]);\n      this._m1 = this._curve.tension * (isFinite(s2_) ? s2_ : 0) * (d[1] - b[1]);\n    } else {\n      var s1 = (c[0] - b[0]) / (b[0] - a[0]);\n      var s2 = (c[0] - b[0]) / (d[0] - c[0]);\n      var a_ = b[1] + (a[1] - b[1]) * (isFinite(s1) ? s1 : 0);\n      var d_ = c[1] + (d[1] - c[1]) * (isFinite(s2) ? s2 : 0);\n      var tension = this._curve.type === pc.CURVE_CATMULL ? 0.5 : this._curve.tension;\n      this._m0 = tension * (c[1] - a_);\n      this._m1 = tension * (d_ - b[1]);\n    }\n  }, _evaluateHermite:function(p0, p1, m0, m1, t) {\n    var t2 = t * t;\n    var twot = t + t;\n    var omt = 1 - t;\n    var omt2 = omt * omt;\n    return p0 * ((1 + twot) * omt2) + m0 * (t * omt2) + p1 * (t2 * (3 - twot)) + m1 * (t2 * (t - 1));\n  }});\n  return {CurveEvaluator:CurveEvaluator};\n}());\nObject.assign(pc, function() {\n  var tmpVecA = new pc.Vec3;\n  var tmpVecB = new pc.Vec3;\n  var tmpVecC = new pc.Vec3;\n  var tmpVecD = new pc.Vec3;\n  var tmpVecE = new pc.Vec3;\n  var BoundingBox = function BoundingBox(center, halfExtents) {\n    this.center = center || new pc.Vec3(0, 0, 0);\n    this.halfExtents = halfExtents || new pc.Vec3(0.5, 0.5, 0.5);\n    this._min = new pc.Vec3;\n    this._max = new pc.Vec3;\n  };\n  Object.assign(BoundingBox.prototype, {add:function(other) {\n    var tc = this.center;\n    var tcx = tc.x;\n    var tcy = tc.y;\n    var tcz = tc.z;\n    var th = this.halfExtents;\n    var thx = th.x;\n    var thy = th.y;\n    var thz = th.z;\n    var tminx = tcx - thx;\n    var tmaxx = tcx + thx;\n    var tminy = tcy - thy;\n    var tmaxy = tcy + thy;\n    var tminz = tcz - thz;\n    var tmaxz = tcz + thz;\n    var oc = other.center;\n    var ocx = oc.x;\n    var ocy = oc.y;\n    var ocz = oc.z;\n    var oh = other.halfExtents;\n    var ohx = oh.x;\n    var ohy = oh.y;\n    var ohz = oh.z;\n    var ominx = ocx - ohx;\n    var omaxx = ocx + ohx;\n    var ominy = ocy - ohy;\n    var omaxy = ocy + ohy;\n    var ominz = ocz - ohz;\n    var omaxz = ocz + ohz;\n    if (ominx < tminx) {\n      tminx = ominx;\n    }\n    if (omaxx > tmaxx) {\n      tmaxx = omaxx;\n    }\n    if (ominy < tminy) {\n      tminy = ominy;\n    }\n    if (omaxy > tmaxy) {\n      tmaxy = omaxy;\n    }\n    if (ominz < tminz) {\n      tminz = ominz;\n    }\n    if (omaxz > tmaxz) {\n      tmaxz = omaxz;\n    }\n    tc.x = (tminx + tmaxx) * 0.5;\n    tc.y = (tminy + tmaxy) * 0.5;\n    tc.z = (tminz + tmaxz) * 0.5;\n    th.x = (tmaxx - tminx) * 0.5;\n    th.y = (tmaxy - tminy) * 0.5;\n    th.z = (tmaxz - tminz) * 0.5;\n  }, copy:function(src) {\n    this.center.copy(src.center);\n    this.halfExtents.copy(src.halfExtents);\n    this.type = src.type;\n  }, clone:function() {\n    return new pc.BoundingBox(this.center.clone(), this.halfExtents.clone());\n  }, intersects:function(other) {\n    var aMax = this.getMax();\n    var aMin = this.getMin();\n    var bMax = other.getMax();\n    var bMin = other.getMin();\n    return aMin.x <= bMax.x && aMax.x >= bMin.x && aMin.y <= bMax.y && aMax.y >= bMin.y && aMin.z <= bMax.z && aMax.z >= bMin.z;\n  }, _intersectsRay:function(ray, point) {\n    var tMin = tmpVecA.copy(this.getMin()).sub(ray.origin);\n    var tMax = tmpVecB.copy(this.getMax()).sub(ray.origin);\n    var dir = ray.direction;\n    if (dir.x === 0) {\n      tMin.x = tMin.x < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;\n      tMax.x = tMax.x < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;\n    } else {\n      tMin.x /= dir.x;\n      tMax.x /= dir.x;\n    }\n    if (dir.y === 0) {\n      tMin.y = tMin.y < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;\n      tMax.y = tMax.y < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;\n    } else {\n      tMin.y /= dir.y;\n      tMax.y /= dir.y;\n    }\n    if (dir.z === 0) {\n      tMin.z = tMin.z < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;\n      tMax.z = tMax.z < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;\n    } else {\n      tMin.z /= dir.z;\n      tMax.z /= dir.z;\n    }\n    var realMin = tmpVecC.set(Math.min(tMin.x, tMax.x), Math.min(tMin.y, tMax.y), Math.min(tMin.z, tMax.z));\n    var realMax = tmpVecD.set(Math.max(tMin.x, tMax.x), Math.max(tMin.y, tMax.y), Math.max(tMin.z, tMax.z));\n    var minMax = Math.min(Math.min(realMax.x, realMax.y), realMax.z);\n    var maxMin = Math.max(Math.max(realMin.x, realMin.y), realMin.z);\n    var intersects = minMax >= maxMin && maxMin >= 0;\n    if (intersects) {\n      point.copy(ray.direction).scale(maxMin).add(ray.origin);\n    }\n    return intersects;\n  }, _fastIntersectsRay:function(ray) {\n    var diff = tmpVecA;\n    var cross = tmpVecB;\n    var prod = tmpVecC;\n    var absDiff = tmpVecD;\n    var absDir = tmpVecE;\n    var rayDir = ray.direction;\n    diff.sub2(ray.origin, this.center);\n    absDiff.set(Math.abs(diff.x), Math.abs(diff.y), Math.abs(diff.z));\n    prod.mul2(diff, rayDir);\n    if (absDiff.x > this.halfExtents.x && prod.x >= 0) {\n      return false;\n    }\n    if (absDiff.y > this.halfExtents.y && prod.y >= 0) {\n      return false;\n    }\n    if (absDiff.z > this.halfExtents.z && prod.z >= 0) {\n      return false;\n    }\n    absDir.set(Math.abs(rayDir.x), Math.abs(rayDir.y), Math.abs(rayDir.z));\n    cross.cross(rayDir, diff);\n    cross.set(Math.abs(cross.x), Math.abs(cross.y), Math.abs(cross.z));\n    if (cross.x > this.halfExtents.y * absDir.z + this.halfExtents.z * absDir.y) {\n      return false;\n    }\n    if (cross.y > this.halfExtents.x * absDir.z + this.halfExtents.z * absDir.x) {\n      return false;\n    }\n    if (cross.z > this.halfExtents.x * absDir.y + this.halfExtents.y * absDir.x) {\n      return false;\n    }\n    return true;\n  }, intersectsRay:function(ray, point) {\n    if (point) {\n      return this._intersectsRay(ray, point);\n    }\n    return this._fastIntersectsRay(ray);\n  }, setMinMax:function(min, max) {\n    this.center.add2(max, min).scale(0.5);\n    this.halfExtents.sub2(max, min).scale(0.5);\n  }, getMin:function() {\n    return this._min.copy(this.center).sub(this.halfExtents);\n  }, getMax:function() {\n    return this._max.copy(this.center).add(this.halfExtents);\n  }, containsPoint:function(point) {\n    var min = this.getMin();\n    var max = this.getMax();\n    if (point.x < min.x || point.x > max.x || point.y < min.y || point.y > max.y || point.z < min.z || point.z > max.z) {\n      return false;\n    }\n    return true;\n  }, setFromTransformedAabb:function(aabb, m) {\n    var bc = this.center;\n    var br = this.halfExtents;\n    var ac = aabb.center;\n    var ar = aabb.halfExtents;\n    m = m.data;\n    var mx0 = m[0];\n    var mx1 = m[4];\n    var mx2 = m[8];\n    var my0 = m[1];\n    var my1 = m[5];\n    var my2 = m[9];\n    var mz0 = m[2];\n    var mz1 = m[6];\n    var mz2 = m[10];\n    var mx0a = Math.abs(mx0);\n    var mx1a = Math.abs(mx1);\n    var mx2a = Math.abs(mx2);\n    var my0a = Math.abs(my0);\n    var my1a = Math.abs(my1);\n    var my2a = Math.abs(my2);\n    var mz0a = Math.abs(mz0);\n    var mz1a = Math.abs(mz1);\n    var mz2a = Math.abs(mz2);\n    bc.set(m[12] + mx0 * ac.x + mx1 * ac.y + mx2 * ac.z, m[13] + my0 * ac.x + my1 * ac.y + my2 * ac.z, m[14] + mz0 * ac.x + mz1 * ac.y + mz2 * ac.z);\n    br.set(mx0a * ar.x + mx1a * ar.y + mx2a * ar.z, my0a * ar.x + my1a * ar.y + my2a * ar.z, mz0a * ar.x + mz1a * ar.y + mz2a * ar.z);\n  }, compute:function(vertices) {\n    var min = tmpVecA.set(vertices[0], vertices[1], vertices[2]);\n    var max = tmpVecB.set(vertices[0], vertices[1], vertices[2]);\n    var numVerts = vertices.length / 3;\n    for (var i = 1;i < numVerts;i++) {\n      var x = vertices[i * 3 + 0];\n      var y = vertices[i * 3 + 1];\n      var z = vertices[i * 3 + 2];\n      if (x < min.x) {\n        min.x = x;\n      }\n      if (y < min.y) {\n        min.y = y;\n      }\n      if (z < min.z) {\n        min.z = z;\n      }\n      if (x > max.x) {\n        max.x = x;\n      }\n      if (y > max.y) {\n        max.y = y;\n      }\n      if (z > max.z) {\n        max.z = z;\n      }\n    }\n    this.setMinMax(min, max);\n  }, intersectsBoundingSphere:function(sphere) {\n    var sq = this._distanceToBoundingSphereSq(sphere);\n    if (sq <= sphere.radius * sphere.radius) {\n      return true;\n    }\n    return false;\n  }, _distanceToBoundingSphereSq:function(sphere) {\n    var boxMin = this.getMin();\n    var boxMax = this.getMax();\n    var sq = 0;\n    var axis = [\"x\", \"y\", \"z\"];\n    for (var i = 0;i < 3;++i) {\n      var out = 0;\n      var pn = sphere.center[axis[i]];\n      var bMin = boxMin[axis[i]];\n      var bMax = boxMax[axis[i]];\n      var val = 0;\n      if (pn < bMin) {\n        val = bMin - pn;\n        out += val * val;\n      }\n      if (pn > bMax) {\n        val = pn - bMax;\n        out += val * val;\n      }\n      sq += out;\n    }\n    return sq;\n  }});\n  return {BoundingBox:BoundingBox};\n}());\nObject.assign(pc, function() {\n  var tmpVecA = new pc.Vec3;\n  var tmpVecB = new pc.Vec3;\n  var tmpVecC = new pc.Vec3;\n  var tmpVecD = new pc.Vec3;\n  function BoundingSphere(center, radius) {\n    this.center = center || new pc.Vec3(0, 0, 0);\n    this.radius = radius === undefined ? 0.5 : radius;\n  }\n  Object.assign(BoundingSphere.prototype, {containsPoint:function(point) {\n    var lenSq = tmpVecA.sub2(point, this.center).lengthSq();\n    var r = this.radius;\n    return lenSq < r * r;\n  }, compute:function(vertices) {\n    var i;\n    var numVerts = vertices.length / 3;\n    var vertex = tmpVecA;\n    var avgVertex = tmpVecB;\n    var sum = tmpVecC;\n    for (i = 0;i < numVerts;i++) {\n      vertex.set(vertices[i * 3], vertices[i * 3 + 1], vertices[i * 3 + 2]);\n      sum.addSelf(vertex);\n      if (i % 100 === 0) {\n        sum.scale(1 / numVerts);\n        avgVertex.add(sum);\n        sum.set(0, 0, 0);\n      }\n    }\n    sum.scale(1 / numVerts);\n    avgVertex.add(sum);\n    this.center.copy(avgVertex);\n    var maxDistSq = 0;\n    var centerToVert = tmpVecD;\n    for (i = 0;i < numVerts;i++) {\n      vertex.set(vertices[i * 3], vertices[i * 3 + 1], vertices[i * 3 + 2]);\n      centerToVert.sub2(vertex, this.center);\n      maxDistSq = Math.max(centerToVert.lengthSq(), maxDistSq);\n    }\n    this.radius = Math.sqrt(maxDistSq);\n  }, intersectsRay:function(ray, point) {\n    var m = tmpVecA.copy(ray.origin).sub(this.center);\n    var b = m.dot(tmpVecB.copy(ray.direction).normalize());\n    var c = m.dot(m) - this.radius * this.radius;\n    if (c > 0 && b > 0) {\n      return null;\n    }\n    var discr = b * b - c;\n    if (discr < 0) {\n      return false;\n    }\n    var t = Math.abs(-b - Math.sqrt(discr));\n    if (point) {\n      point.copy(ray.direction).scale(t).add(ray.origin);\n    }\n    return true;\n  }, intersectsBoundingSphere:function(sphere) {\n    tmpVecA.sub2(sphere.center, this.center);\n    var totalRadius = sphere.radius + this.radius;\n    if (tmpVecA.lengthSq() <= totalRadius * totalRadius) {\n      return true;\n    }\n    return false;\n  }});\n  return {BoundingSphere:BoundingSphere};\n}());\nObject.assign(pc, function() {\n  var viewProj = new pc.Mat4;\n  var Frustum = function Frustum(projectionMatrix, viewMatrix) {\n    projectionMatrix = projectionMatrix || (new pc.Mat4).setPerspective(90, 16 / 9, 0.1, 1000);\n    viewMatrix = viewMatrix || new pc.Mat4;\n    this.planes = [];\n    for (var i = 0;i < 6;i++) {\n      this.planes[i] = [];\n    }\n    this.update(projectionMatrix, viewMatrix);\n  };\n  Object.assign(Frustum.prototype, {update:function(projectionMatrix, viewMatrix) {\n    viewProj.mul2(projectionMatrix, viewMatrix);\n    var vpm = viewProj.data;\n    this.planes[0][0] = vpm[3] - vpm[0];\n    this.planes[0][1] = vpm[7] - vpm[4];\n    this.planes[0][2] = vpm[11] - vpm[8];\n    this.planes[0][3] = vpm[15] - vpm[12];\n    var t = Math.sqrt(this.planes[0][0] * this.planes[0][0] + this.planes[0][1] * this.planes[0][1] + this.planes[0][2] * this.planes[0][2]);\n    this.planes[0][0] /= t;\n    this.planes[0][1] /= t;\n    this.planes[0][2] /= t;\n    this.planes[0][3] /= t;\n    this.planes[1][0] = vpm[3] + vpm[0];\n    this.planes[1][1] = vpm[7] + vpm[4];\n    this.planes[1][2] = vpm[11] + vpm[8];\n    this.planes[1][3] = vpm[15] + vpm[12];\n    t = Math.sqrt(this.planes[1][0] * this.planes[1][0] + this.planes[1][1] * this.planes[1][1] + this.planes[1][2] * this.planes[1][2]);\n    this.planes[1][0] /= t;\n    this.planes[1][1] /= t;\n    this.planes[1][2] /= t;\n    this.planes[1][3] /= t;\n    this.planes[2][0] = vpm[3] + vpm[1];\n    this.planes[2][1] = vpm[7] + vpm[5];\n    this.planes[2][2] = vpm[11] + vpm[9];\n    this.planes[2][3] = vpm[15] + vpm[13];\n    t = Math.sqrt(this.planes[2][0] * this.planes[2][0] + this.planes[2][1] * this.planes[2][1] + this.planes[2][2] * this.planes[2][2]);\n    this.planes[2][0] /= t;\n    this.planes[2][1] /= t;\n    this.planes[2][2] /= t;\n    this.planes[2][3] /= t;\n    this.planes[3][0] = vpm[3] - vpm[1];\n    this.planes[3][1] = vpm[7] - vpm[5];\n    this.planes[3][2] = vpm[11] - vpm[9];\n    this.planes[3][3] = vpm[15] - vpm[13];\n    t = Math.sqrt(this.planes[3][0] * this.planes[3][0] + this.planes[3][1] * this.planes[3][1] + this.planes[3][2] * this.planes[3][2]);\n    this.planes[3][0] /= t;\n    this.planes[3][1] /= t;\n    this.planes[3][2] /= t;\n    this.planes[3][3] /= t;\n    this.planes[4][0] = vpm[3] - vpm[2];\n    this.planes[4][1] = vpm[7] - vpm[6];\n    this.planes[4][2] = vpm[11] - vpm[10];\n    this.planes[4][3] = vpm[15] - vpm[14];\n    t = Math.sqrt(this.planes[4][0] * this.planes[4][0] + this.planes[4][1] * this.planes[4][1] + this.planes[4][2] * this.planes[4][2]);\n    this.planes[4][0] /= t;\n    this.planes[4][1] /= t;\n    this.planes[4][2] /= t;\n    this.planes[4][3] /= t;\n    this.planes[5][0] = vpm[3] + vpm[2];\n    this.planes[5][1] = vpm[7] + vpm[6];\n    this.planes[5][2] = vpm[11] + vpm[10];\n    this.planes[5][3] = vpm[15] + vpm[14];\n    t = Math.sqrt(this.planes[5][0] * this.planes[5][0] + this.planes[5][1] * this.planes[5][1] + this.planes[5][2] * this.planes[5][2]);\n    this.planes[5][0] /= t;\n    this.planes[5][1] /= t;\n    this.planes[5][2] /= t;\n    this.planes[5][3] /= t;\n  }, containsPoint:function(point) {\n    for (var p = 0;p < 6;p++) {\n      if (this.planes[p][0] * point.x + this.planes[p][1] * point.y + this.planes[p][2] * point.z + this.planes[p][3] <= 0) {\n        return false;\n      }\n    }\n    return true;\n  }, containsSphere:function(sphere) {\n    var c = 0;\n    var d;\n    var p;\n    var sr = sphere.radius;\n    var sc = sphere.center;\n    var scx = sc.x;\n    var scy = sc.y;\n    var scz = sc.z;\n    var planes = this.planes;\n    var plane;\n    for (p = 0;p < 6;p++) {\n      plane = planes[p];\n      d = plane[0] * scx + plane[1] * scy + plane[2] * scz + plane[3];\n      if (d <= -sr) {\n        return 0;\n      }\n      if (d > sr) {\n        c++;\n      }\n    }\n    return c === 6 ? 2 : 1;\n  }});\n  return {Frustum:Frustum};\n}());\nObject.assign(pc, function() {\n  var tmpVecA = new pc.Vec3;\n  var Plane = function Plane(point, normal) {\n    this.normal = normal || new pc.Vec3(0, 0, 1);\n    this.point = point || new pc.Vec3(0, 0, 0);\n  };\n  Object.assign(Plane.prototype, {intersectsLine:function(start, end, point) {\n    var d = -this.normal.dot(this.point);\n    var d0 = this.normal.dot(start) + d;\n    var d1 = this.normal.dot(end) + d;\n    var t = d0 / (d0 - d1);\n    var intersects = t >= 0 && t <= 1;\n    if (intersects && point) {\n      point.lerp(start, end, t);\n    }\n    return intersects;\n  }, intersectsRay:function(ray, point) {\n    var pointToOrigin = tmpVecA.sub2(this.point, ray.origin);\n    var t = this.normal.dot(pointToOrigin) / this.normal.dot(ray.direction);\n    var intersects = t >= 0;\n    if (intersects && point) {\n      point.copy(ray.direction).scale(t).add(ray.origin);\n    }\n    return intersects;\n  }});\n  return {Plane:Plane};\n}());\nObject.assign(pc, function() {\n  var Ray = function Ray(origin, direction) {\n    this.origin = origin || new pc.Vec3(0, 0, 0);\n    this.direction = direction || new pc.Vec3(0, 0, -1);\n  };\n  return {Ray:Ray};\n}());\nObject.assign(pc, function() {\n  var tmpRay = new pc.Ray;\n  var tmpVec3 = new pc.Vec3;\n  var tmpSphere = new pc.BoundingSphere;\n  var tmpMat4 = new pc.Mat4;\n  var OrientedBox = function OrientedBox(worldTransform, halfExtents) {\n    this.halfExtents = halfExtents || new pc.Vec3(0.5, 0.5, 0.5);\n    worldTransform = worldTransform || tmpMat4.setIdentity();\n    this._modelTransform = worldTransform.clone().invert();\n    this._worldTransform = worldTransform.clone();\n    this._aabb = new pc.BoundingBox(new pc.Vec3, this.halfExtents);\n  };\n  Object.assign(OrientedBox.prototype, {intersectsRay:function(ray, point) {\n    this._modelTransform.transformPoint(ray.origin, tmpRay.origin);\n    this._modelTransform.transformVector(ray.direction, tmpRay.direction);\n    if (point) {\n      var result = this._aabb._intersectsRay(tmpRay, point);\n      tmpMat4.copy(this._modelTransform).invert().transformPoint(point, point);\n      return result;\n    }\n    return this._aabb._fastIntersectsRay(tmpRay);\n  }, containsPoint:function(point) {\n    this._modelTransform.transformPoint(point, tmpVec3);\n    return this._aabb.containsPoint(tmpVec3);\n  }, intersectsBoundingSphere:function(sphere) {\n    this._modelTransform.transformPoint(sphere.center, tmpSphere.center);\n    tmpSphere.radius = sphere.radius;\n    if (this._aabb.intersectsBoundingSphere(tmpSphere)) {\n      return true;\n    }\n    return false;\n  }});\n  Object.defineProperty(OrientedBox.prototype, \"worldTransform\", {get:function() {\n    return this._worldTransform;\n  }, set:function(value) {\n    this._worldTransform.copy(value);\n    this._modelTransform.copy(value).invert();\n  }});\n  return {OrientedBox:OrientedBox};\n}());\n(function() {\n  var enums = {ADDRESS_REPEAT:0, ADDRESS_CLAMP_TO_EDGE:1, ADDRESS_MIRRORED_REPEAT:2, BLENDMODE_ZERO:0, BLENDMODE_ONE:1, BLENDMODE_SRC_COLOR:2, BLENDMODE_ONE_MINUS_SRC_COLOR:3, BLENDMODE_DST_COLOR:4, BLENDMODE_ONE_MINUS_DST_COLOR:5, BLENDMODE_SRC_ALPHA:6, BLENDMODE_SRC_ALPHA_SATURATE:7, BLENDMODE_ONE_MINUS_SRC_ALPHA:8, BLENDMODE_DST_ALPHA:9, BLENDMODE_ONE_MINUS_DST_ALPHA:10, BLENDEQUATION_ADD:0, BLENDEQUATION_SUBTRACT:1, BLENDEQUATION_REVERSE_SUBTRACT:2, BLENDEQUATION_MIN:3, BLENDEQUATION_MAX:4, BUFFER_STATIC:0, \n  BUFFER_DYNAMIC:1, BUFFER_STREAM:2, BUFFER_GPUDYNAMIC:3, CLEARFLAG_COLOR:1, CLEARFLAG_DEPTH:2, CLEARFLAG_STENCIL:4, CUBEFACE_POSX:0, CUBEFACE_NEGX:1, CUBEFACE_POSY:2, CUBEFACE_NEGY:3, CUBEFACE_POSZ:4, CUBEFACE_NEGZ:5, CULLFACE_NONE:0, CULLFACE_BACK:1, CULLFACE_FRONT:2, CULLFACE_FRONTANDBACK:3, TYPE_INT8:0, TYPE_UINT8:1, TYPE_INT16:2, TYPE_UINT16:3, TYPE_INT32:4, TYPE_UINT32:5, TYPE_FLOAT32:6, FILTER_NEAREST:0, FILTER_LINEAR:1, FILTER_NEAREST_MIPMAP_NEAREST:2, FILTER_NEAREST_MIPMAP_LINEAR:3, FILTER_LINEAR_MIPMAP_NEAREST:4, \n  FILTER_LINEAR_MIPMAP_LINEAR:5, FUNC_NEVER:0, FUNC_LESS:1, FUNC_EQUAL:2, FUNC_LESSEQUAL:3, FUNC_GREATER:4, FUNC_NOTEQUAL:5, FUNC_GREATEREQUAL:6, FUNC_ALWAYS:7, INDEXFORMAT_UINT8:0, INDEXFORMAT_UINT16:1, INDEXFORMAT_UINT32:2, PIXELFORMAT_A8:0, PIXELFORMAT_L8:1, PIXELFORMAT_L8_A8:2, PIXELFORMAT_R5_G6_B5:3, PIXELFORMAT_R5_G5_B5_A1:4, PIXELFORMAT_R4_G4_B4_A4:5, PIXELFORMAT_R8_G8_B8:6, PIXELFORMAT_R8_G8_B8_A8:7, PIXELFORMAT_DXT1:8, PIXELFORMAT_DXT3:9, PIXELFORMAT_DXT5:10, PIXELFORMAT_RGB16F:11, PIXELFORMAT_RGBA16F:12, \n  PIXELFORMAT_RGB32F:13, PIXELFORMAT_RGBA32F:14, PIXELFORMAT_R32F:15, PIXELFORMAT_DEPTH:16, PIXELFORMAT_DEPTHSTENCIL:17, PIXELFORMAT_111110F:18, PIXELFORMAT_SRGB:19, PIXELFORMAT_SRGBA:20, PIXELFORMAT_ETC1:21, PIXELFORMAT_ETC2_RGB:22, PIXELFORMAT_ETC2_RGBA:23, PIXELFORMAT_PVRTC_2BPP_RGB_1:24, PIXELFORMAT_PVRTC_2BPP_RGBA_1:25, PIXELFORMAT_PVRTC_4BPP_RGB_1:26, PIXELFORMAT_PVRTC_4BPP_RGBA_1:27, PIXELFORMAT_ASTC_4x4:28, PIXELFORMAT_ATC_RGB:29, PIXELFORMAT_ATC_RGBA:30, PRIMITIVE_POINTS:0, PRIMITIVE_LINES:1, \n  PRIMITIVE_LINELOOP:2, PRIMITIVE_LINESTRIP:3, PRIMITIVE_TRIANGLES:4, PRIMITIVE_TRISTRIP:5, PRIMITIVE_TRIFAN:6, SEMANTIC_POSITION:\"POSITION\", SEMANTIC_NORMAL:\"NORMAL\", SEMANTIC_TANGENT:\"TANGENT\", SEMANTIC_BLENDWEIGHT:\"BLENDWEIGHT\", SEMANTIC_BLENDINDICES:\"BLENDINDICES\", SEMANTIC_COLOR:\"COLOR\", SEMANTIC_TEXCOORD0:\"TEXCOORD0\", SEMANTIC_TEXCOORD1:\"TEXCOORD1\", SEMANTIC_TEXCOORD2:\"TEXCOORD2\", SEMANTIC_TEXCOORD3:\"TEXCOORD3\", SEMANTIC_TEXCOORD4:\"TEXCOORD4\", SEMANTIC_TEXCOORD5:\"TEXCOORD5\", SEMANTIC_TEXCOORD6:\"TEXCOORD6\", \n  SEMANTIC_TEXCOORD7:\"TEXCOORD7\", SEMANTIC_ATTR0:\"ATTR0\", SEMANTIC_ATTR1:\"ATTR1\", SEMANTIC_ATTR2:\"ATTR2\", SEMANTIC_ATTR3:\"ATTR3\", SEMANTIC_ATTR4:\"ATTR4\", SEMANTIC_ATTR5:\"ATTR5\", SEMANTIC_ATTR6:\"ATTR6\", SEMANTIC_ATTR7:\"ATTR7\", SEMANTIC_ATTR8:\"ATTR8\", SEMANTIC_ATTR9:\"ATTR9\", SEMANTIC_ATTR10:\"ATTR10\", SEMANTIC_ATTR11:\"ATTR11\", SEMANTIC_ATTR12:\"ATTR12\", SEMANTIC_ATTR13:\"ATTR13\", SEMANTIC_ATTR14:\"ATTR14\", SEMANTIC_ATTR15:\"ATTR15\", SHADERTAG_MATERIAL:1, STENCILOP_KEEP:0, STENCILOP_ZERO:1, STENCILOP_REPLACE:2, \n  STENCILOP_INCREMENT:3, STENCILOP_INCREMENTWRAP:4, STENCILOP_DECREMENT:5, STENCILOP_DECREMENTWRAP:6, STENCILOP_INVERT:7, TEXTURELOCK_READ:1, TEXTURELOCK_WRITE:2, TEXHINT_NONE:0, TEXHINT_SHADOWMAP:1, TEXHINT_ASSET:2, TEXHINT_LIGHTMAP:3, UNIFORMTYPE_BOOL:0, UNIFORMTYPE_INT:1, UNIFORMTYPE_FLOAT:2, UNIFORMTYPE_VEC2:3, UNIFORMTYPE_VEC3:4, UNIFORMTYPE_VEC4:5, UNIFORMTYPE_IVEC2:6, UNIFORMTYPE_IVEC3:7, UNIFORMTYPE_IVEC4:8, UNIFORMTYPE_BVEC2:9, UNIFORMTYPE_BVEC3:10, UNIFORMTYPE_BVEC4:11, UNIFORMTYPE_MAT2:12, \n  UNIFORMTYPE_MAT3:13, UNIFORMTYPE_MAT4:14, UNIFORMTYPE_TEXTURE2D:15, UNIFORMTYPE_TEXTURECUBE:16, UNIFORMTYPE_FLOATARRAY:17, UNIFORMTYPE_TEXTURE2D_SHADOW:18, UNIFORMTYPE_TEXTURECUBE_SHADOW:19, UNIFORMTYPE_TEXTURE3D:20};\n  Object.assign(pc, enums);\n  pc.gfx = {};\n  Object.assign(pc.gfx, enums);\n})();\nObject.assign(pc, function() {\n  var ScopeId = function(name) {\n    this.name = name;\n    this.value = null;\n    this.versionObject = new pc.VersionedObject;\n  };\n  Object.assign(ScopeId.prototype, {setValue:function(value) {\n    this.value = value;\n    this.versionObject.increment();\n  }, getValue:function() {\n    return this.value;\n  }});\n  return {ScopeId:ScopeId};\n}());\nObject.assign(pc, function() {\n  var ScopeSpace = function(name) {\n    this.name = name;\n    this.variables = {};\n    this.namespaces = {};\n  };\n  Object.assign(ScopeSpace.prototype, {resolve:function(name) {\n    if (!this.variables.hasOwnProperty(name)) {\n      this.variables[name] = new pc.ScopeId(name);\n    }\n    return this.variables[name];\n  }, getSubSpace:function(name) {\n    if (!this.namespaces.hasOwnProperty(name)) {\n      this.namespaces[name] = new pc.ScopeSpace(name);\n    }\n    return this.namespaces[name];\n  }});\n  return {ScopeSpace:ScopeSpace};\n}());\nObject.assign(pc, function() {\n  var Version = function() {\n    this.globalId = 0;\n    this.revision = 0;\n  };\n  Object.assign(Version.prototype, {equals:function(other) {\n    return this.globalId === other.globalId && this.revision === other.revision;\n  }, notequals:function(other) {\n    return this.globalId !== other.globalId || this.revision !== other.revision;\n  }, copy:function(other) {\n    this.globalId = other.globalId;\n    this.revision = other.revision;\n  }, reset:function() {\n    this.globalId = 0;\n    this.revision = 0;\n  }});\n  return {Version:Version};\n}());\nObject.assign(pc, function() {\n  var idCounter = 0;\n  var VersionedObject = function() {\n    idCounter++;\n    this.version = new pc.Version;\n    this.version.globalId = idCounter;\n  };\n  Object.assign(VersionedObject.prototype, {increment:function() {\n    this.version.revision++;\n  }});\n  return {VersionedObject:VersionedObject};\n}());\nObject.assign(pc, function() {\n  function VertexIteratorAccessor(buffer, vertexElement) {\n    this.index = 0;\n    switch(vertexElement.dataType) {\n      case pc.TYPE_INT8:\n        this.array = new Int8Array(buffer, vertexElement.offset);\n        break;\n      case pc.TYPE_UINT8:\n        this.array = new Uint8Array(buffer, vertexElement.offset);\n        break;\n      case pc.TYPE_INT16:\n        this.array = new Int16Array(buffer, vertexElement.offset);\n        break;\n      case pc.TYPE_UINT16:\n        this.array = new Uint16Array(buffer, vertexElement.offset);\n        break;\n      case pc.TYPE_INT32:\n        this.array = new Int32Array(buffer, vertexElement.offset);\n        break;\n      case pc.TYPE_UINT32:\n        this.array = new Uint32Array(buffer, vertexElement.offset);\n        break;\n      case pc.TYPE_FLOAT32:\n        this.array = new Float32Array(buffer, vertexElement.offset);\n        break;\n    }\n    switch(vertexElement.numComponents) {\n      case 1:\n        this.set = VertexIteratorAccessor_set1;\n        break;\n      case 2:\n        this.set = VertexIteratorAccessor_set2;\n        break;\n      case 3:\n        this.set = VertexIteratorAccessor_set3;\n        break;\n      case 4:\n        this.set = VertexIteratorAccessor_set4;\n        break;\n    }\n  }\n  VertexIteratorAccessor.prototype.get = function(offset) {\n    return this.array[this.index + offset];\n  };\n  function VertexIteratorAccessor_set1(a) {\n    this.array[this.index] = a;\n  }\n  function VertexIteratorAccessor_set2(a, b) {\n    this.array[this.index] = a;\n    this.array[this.index + 1] = b;\n  }\n  function VertexIteratorAccessor_set3(a, b, c) {\n    this.array[this.index] = a;\n    this.array[this.index + 1] = b;\n    this.array[this.index + 2] = c;\n  }\n  function VertexIteratorAccessor_set4(a, b, c, d) {\n    this.array[this.index] = a;\n    this.array[this.index + 1] = b;\n    this.array[this.index + 2] = c;\n    this.array[this.index + 3] = d;\n  }\n  function VertexIterator(vertexBuffer) {\n    this.vertexBuffer = vertexBuffer;\n    this.buffer = this.vertexBuffer.lock();\n    this.accessors = [];\n    this.element = {};\n    var vertexFormat = this.vertexBuffer.getFormat();\n    for (var i = 0;i < vertexFormat.elements.length;i++) {\n      var vertexElement = vertexFormat.elements[i];\n      this.accessors[i] = new VertexIteratorAccessor(this.buffer, vertexElement);\n      this.element[vertexElement.name] = this.accessors[i];\n    }\n  }\n  Object.assign(VertexIterator.prototype, {next:function(count) {\n    if (count === undefined) {\n      count = 1;\n    }\n    var i = 0;\n    var accessors = this.accessors;\n    var numAccessors = this.accessors.length;\n    var vertexFormat = this.vertexBuffer.getFormat();\n    while (i < numAccessors) {\n      var accessor = accessors[i++];\n      accessor.index += count * vertexFormat.size / accessor.array.constructor.BYTES_PER_ELEMENT;\n    }\n  }, end:function() {\n    this.vertexBuffer.unlock();\n  }});\n  return {VertexIterator:VertexIterator};\n}());\nObject.assign(pc, function() {\n  var _typeSize = [];\n  _typeSize[pc.TYPE_INT8] = 1;\n  _typeSize[pc.TYPE_UINT8] = 1;\n  _typeSize[pc.TYPE_INT16] = 2;\n  _typeSize[pc.TYPE_UINT16] = 2;\n  _typeSize[pc.TYPE_INT32] = 4;\n  _typeSize[pc.TYPE_UINT32] = 4;\n  _typeSize[pc.TYPE_FLOAT32] = 4;\n  var VertexFormat = function(graphicsDevice, description) {\n    var i, len, element;\n    this.elements = [];\n    this.hasUv0 = false;\n    this.hasUv1 = false;\n    this.hasColor = false;\n    this.hasTangents = false;\n    this.size = 0;\n    for (i = 0, len = description.length;i < len;i++) {\n      var elementDesc = description[i];\n      element = {name:elementDesc.semantic, offset:0, stride:0, stream:-1, scopeId:graphicsDevice.scope.resolve(elementDesc.semantic), dataType:elementDesc.type, numComponents:elementDesc.components, normalize:elementDesc.normalize === undefined ? false : elementDesc.normalize, size:elementDesc.components * _typeSize[elementDesc.type]};\n      this.elements.push(element);\n      this.size += Math.ceil(element.size / 4) * 4;\n      if (elementDesc.semantic === pc.SEMANTIC_TEXCOORD0) {\n        this.hasUv0 = true;\n      } else {\n        if (elementDesc.semantic === pc.SEMANTIC_TEXCOORD1) {\n          this.hasUv1 = true;\n        } else {\n          if (elementDesc.semantic === pc.SEMANTIC_COLOR) {\n            this.hasColor = true;\n          } else {\n            if (elementDesc.semantic === pc.SEMANTIC_TANGENT) {\n              this.hasTangents = true;\n            }\n          }\n        }\n      }\n    }\n    var offset = 0;\n    for (i = 0, len = this.elements.length;i < len;i++) {\n      element = this.elements[i];\n      element.offset = offset;\n      element.stride = this.size;\n      offset += element.size;\n    }\n  };\n  return {VertexFormat:VertexFormat};\n}());\nObject.assign(pc, function() {\n  var VertexBuffer = function(graphicsDevice, format, numVertices, usage, initialData) {\n    this.usage = usage || pc.BUFFER_STATIC;\n    this.format = format;\n    this.numVertices = numVertices;\n    this.numBytes = format.size * numVertices;\n    graphicsDevice._vram.vb += this.numBytes;\n    this.device = graphicsDevice;\n    if (initialData) {\n      this.setData(initialData);\n    } else {\n      this.storage = new ArrayBuffer(this.numBytes);\n    }\n    this.device.buffers.push(this);\n  };\n  Object.assign(VertexBuffer.prototype, {destroy:function() {\n    var device = this.device;\n    var idx = device.buffers.indexOf(this);\n    if (idx !== -1) {\n      device.buffers.splice(idx, 1);\n    }\n    if (this.bufferId) {\n      var gl = device.gl;\n      gl.deleteBuffer(this.bufferId);\n      device._vram.vb -= this.storage.byteLength;\n      this.bufferId = null;\n      device.boundBuffer = null;\n      device.vertexBuffers.length = 0;\n      device.vbOffsets.length = 0;\n      device.attributesInvalidated = true;\n      for (var loc in device.enabledAttributes) {\n        gl.disableVertexAttribArray(Number(loc));\n      }\n      device.enabledAttributes = {};\n    }\n  }, getFormat:function() {\n    return this.format;\n  }, getUsage:function() {\n    return this.usage;\n  }, getNumVertices:function() {\n    return this.numVertices;\n  }, lock:function() {\n    return this.storage;\n  }, unlock:function() {\n    var gl = this.device.gl;\n    if (!this.bufferId) {\n      this.bufferId = gl.createBuffer();\n    }\n    var glUsage;\n    switch(this.usage) {\n      case pc.BUFFER_STATIC:\n        glUsage = gl.STATIC_DRAW;\n        break;\n      case pc.BUFFER_DYNAMIC:\n        glUsage = gl.DYNAMIC_DRAW;\n        break;\n      case pc.BUFFER_STREAM:\n        glUsage = gl.STREAM_DRAW;\n        break;\n      case pc.BUFFER_GPUDYNAMIC:\n        if (this.device.webgl2) {\n          glUsage = gl.DYNAMIC_COPY;\n        } else {\n          glUsage = gl.STATIC_DRAW;\n        }\n        break;\n    }\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.bufferId);\n    gl.bufferData(gl.ARRAY_BUFFER, this.storage, glUsage);\n  }, setData:function(data) {\n    if (data.byteLength !== this.numBytes) {\n      console.error(\"VertexBuffer: wrong initial data size: expected \" + this.numBytes + \", got \" + data.byteLength);\n      return false;\n    }\n    this.storage = data;\n    this.unlock();\n    return true;\n  }});\n  return {VertexBuffer:VertexBuffer};\n}());\nObject.assign(pc, function() {\n  var IndexBuffer = function(graphicsDevice, format, numIndices, usage, initialData) {\n    this.usage = usage || pc.BUFFER_STATIC;\n    this.format = format;\n    this.numIndices = numIndices;\n    this.device = graphicsDevice;\n    var gl = this.device.gl;\n    var bytesPerIndex;\n    if (format === pc.INDEXFORMAT_UINT8) {\n      bytesPerIndex = 1;\n      this.glFormat = gl.UNSIGNED_BYTE;\n    } else {\n      if (format === pc.INDEXFORMAT_UINT16) {\n        bytesPerIndex = 2;\n        this.glFormat = gl.UNSIGNED_SHORT;\n      } else {\n        if (format === pc.INDEXFORMAT_UINT32) {\n          bytesPerIndex = 4;\n          this.glFormat = gl.UNSIGNED_INT;\n        }\n      }\n    }\n    this.bytesPerIndex = bytesPerIndex;\n    this.numBytes = this.numIndices * bytesPerIndex;\n    if (initialData) {\n      this.setData(initialData);\n    } else {\n      this.storage = new ArrayBuffer(this.numBytes);\n    }\n    graphicsDevice._vram.ib += this.numBytes;\n    this.device.buffers.push(this);\n  };\n  Object.assign(IndexBuffer.prototype, {destroy:function() {\n    var device = this.device;\n    var idx = device.buffers.indexOf(this);\n    if (idx !== -1) {\n      device.buffers.splice(idx, 1);\n    }\n    if (this.bufferId) {\n      var gl = this.device.gl;\n      gl.deleteBuffer(this.bufferId);\n      this.device._vram.ib -= this.storage.byteLength;\n      this.bufferId = null;\n      if (this.device.indexBuffer === this) {\n        this.device.indexBuffer = null;\n      }\n    }\n  }, getFormat:function() {\n    return this.format;\n  }, getNumIndices:function() {\n    return this.numIndices;\n  }, lock:function() {\n    return this.storage;\n  }, unlock:function() {\n    var gl = this.device.gl;\n    if (!this.bufferId) {\n      this.bufferId = gl.createBuffer();\n    }\n    var glUsage;\n    switch(this.usage) {\n      case pc.BUFFER_STATIC:\n        glUsage = gl.STATIC_DRAW;\n        break;\n      case pc.BUFFER_DYNAMIC:\n        glUsage = gl.DYNAMIC_DRAW;\n        break;\n      case pc.BUFFER_STREAM:\n        glUsage = gl.STREAM_DRAW;\n        break;\n      case pc.BUFFER_GPUDYNAMIC:\n        if (this.device.webgl2) {\n          glUsage = gl.DYNAMIC_COPY;\n        } else {\n          glUsage = gl.STATIC_DRAW;\n        }\n        break;\n    }\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.bufferId);\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.storage, glUsage);\n  }, setData:function(data) {\n    if (data.byteLength !== this.numBytes) {\n      console.error(\"IndexBuffer: wrong initial data size: expected \" + this.numBytes + \", got \" + data.byteLength);\n      return false;\n    }\n    this.storage = data;\n    this.unlock();\n    return true;\n  }});\n  return {IndexBuffer:IndexBuffer};\n}());\nObject.assign(pc, function() {\n  var TransformFeedback = function(inputBuffer, usage) {\n    usage = usage || pc.BUFFER_GPUDYNAMIC;\n    this.device = inputBuffer.device;\n    var gl = this.device.gl;\n    this._inputBuffer = inputBuffer;\n    if (usage === pc.BUFFER_GPUDYNAMIC && inputBuffer.usage !== usage) {\n      gl.bindBuffer(gl.ARRAY_BUFFER, inputBuffer.bufferId);\n      gl.bufferData(gl.ARRAY_BUFFER, inputBuffer.storage, gl.DYNAMIC_COPY);\n    }\n    this._outputBuffer = new pc.VertexBuffer(inputBuffer.device, inputBuffer.format, inputBuffer.numVertices, usage, inputBuffer.storage);\n  };\n  TransformFeedback.createShader = function(graphicsDevice, vsCode, name) {\n    return pc.shaderChunks.createShaderFromCode(graphicsDevice, vsCode, null, name, true);\n  };\n  Object.assign(TransformFeedback.prototype, {destroy:function() {\n    this._outputBuffer.destroy();\n  }, process:function(shader, swap) {\n    if (swap === undefined) {\n      swap = true;\n    }\n    var device = this.device;\n    device.setRenderTarget(null);\n    device.updateBegin();\n    device.setVertexBuffer(this._inputBuffer, 0);\n    device.setRaster(false);\n    device.setTransformFeedbackBuffer(this._outputBuffer);\n    device.setShader(shader);\n    device.draw({type:pc.PRIMITIVE_POINTS, base:0, count:this._inputBuffer.numVertices, indexed:false});\n    device.setTransformFeedbackBuffer(null);\n    device.setRaster(true);\n    device.updateEnd();\n    if (swap) {\n      var tmp = this._inputBuffer.bufferId;\n      this._inputBuffer.bufferId = this._outputBuffer.bufferId;\n      this._outputBuffer.bufferId = tmp;\n    }\n  }});\n  Object.defineProperty(TransformFeedback.prototype, \"inputBuffer\", {get:function() {\n    return this._inputBuffer;\n  }});\n  Object.defineProperty(TransformFeedback.prototype, \"outputBuffer\", {get:function() {\n    return this._outputBuffer;\n  }});\n  return {TransformFeedback:TransformFeedback};\n}());\nObject.assign(pc, function() {\n  var Texture = function(graphicsDevice, options) {\n    this.device = graphicsDevice;\n    this.name = null;\n    this._width = 4;\n    this._height = 4;\n    this._depth = 1;\n    this._format = pc.PIXELFORMAT_R8_G8_B8_A8;\n    this.rgbm = false;\n    this._cubemap = false;\n    this._volume = false;\n    this.fixCubemapSeams = false;\n    this._flipY = true;\n    this._premultiplyAlpha = false;\n    this._mipmaps = true;\n    this._minFilter = pc.FILTER_LINEAR_MIPMAP_LINEAR;\n    this._magFilter = pc.FILTER_LINEAR;\n    this._anisotropy = 1;\n    this._addressU = pc.ADDRESS_REPEAT;\n    this._addressV = pc.ADDRESS_REPEAT;\n    this._addressW = pc.ADDRESS_REPEAT;\n    this._compareOnRead = false;\n    this._compareFunc = pc.FUNC_LESS;\n    if (options !== undefined) {\n      this._width = options.width !== undefined ? options.width : this._width;\n      this._height = options.height !== undefined ? options.height : this._height;\n      this._format = options.format !== undefined ? options.format : this._format;\n      this.rgbm = options.rgbm !== undefined ? options.rgbm : this.rgbm;\n      if (options.mipmaps !== undefined) {\n        this._mipmaps = options.mipmaps;\n      } else {\n        this._mipmaps = options.autoMipmap !== undefined ? options.autoMipmap : this._mipmaps;\n      }\n      this._levels = options.levels;\n      this._cubemap = options.cubemap !== undefined ? options.cubemap : this._cubemap;\n      this.fixCubemapSeams = options.fixCubemapSeams !== undefined ? options.fixCubemapSeams : this.fixCubemapSeams;\n      this._minFilter = options.minFilter !== undefined ? options.minFilter : this._minFilter;\n      this._magFilter = options.magFilter !== undefined ? options.magFilter : this._magFilter;\n      this._anisotropy = options.anisotropy !== undefined ? options.anisotropy : this._anisotropy;\n      this._addressU = options.addressU !== undefined ? options.addressU : this._addressU;\n      this._addressV = options.addressV !== undefined ? options.addressV : this._addressV;\n      this._compareOnRead = options.compareOnRead !== undefined ? options.compareOnRead : this._compareOnRead;\n      this._compareFunc = options._compareFunc !== undefined ? options._compareFunc : this._compareFunc;\n      this._flipY = options.flipY !== undefined ? options.flipY : this._flipY;\n      this._premultiplyAlpha = options.premultiplyAlpha !== undefined ? options.premultiplyAlpha : this._premultiplyAlpha;\n      if (graphicsDevice.webgl2) {\n        this._depth = options.depth !== undefined ? options.depth : this._depth;\n        this._volume = options.volume !== undefined ? options.volume : this._volume;\n        this._addressW = options.addressW !== undefined ? options.addressW : this._addressW;\n      }\n    }\n    this._compressed = this._format === pc.PIXELFORMAT_DXT1 || this._format === pc.PIXELFORMAT_DXT3 || this._format === pc.PIXELFORMAT_DXT5 || this._format >= pc.PIXELFORMAT_ETC1;\n    this._invalid = false;\n    this._lockedLevel = -1;\n    if (!this._levels) {\n      this._levels = this._cubemap ? [[null, null, null, null, null, null]] : [null];\n    }\n    this.dirtyAll();\n    this._gpuSize = 0;\n  };\n  Object.defineProperty(Texture.prototype, \"minFilter\", {get:function() {\n    return this._minFilter;\n  }, set:function(v) {\n    if (this._minFilter !== v) {\n      this._minFilter = v;\n      this._parameterFlags |= 1;\n    }\n  }});\n  Object.defineProperty(Texture.prototype, \"magFilter\", {get:function() {\n    return this._magFilter;\n  }, set:function(v) {\n    if (this._magFilter !== v) {\n      this._magFilter = v;\n      this._parameterFlags |= 2;\n    }\n  }});\n  Object.defineProperty(Texture.prototype, \"addressU\", {get:function() {\n    return this._addressU;\n  }, set:function(v) {\n    if (this._addressU !== v) {\n      this._addressU = v;\n      this._parameterFlags |= 4;\n    }\n  }});\n  Object.defineProperty(Texture.prototype, \"addressV\", {get:function() {\n    return this._addressV;\n  }, set:function(v) {\n    if (this._addressV !== v) {\n      this._addressV = v;\n      this._parameterFlags |= 8;\n    }\n  }});\n  Object.defineProperty(Texture.prototype, \"addressW\", {get:function() {\n    return this._addressW;\n  }, set:function(addressW) {\n    if (!this.device.webgl2) {\n      return;\n    }\n    if (!this._volume) {\n      return;\n    }\n    if (addressW !== this._addressW) {\n      this._addressW = addressW;\n      this._parameterFlags |= 16;\n    }\n  }});\n  Object.defineProperty(Texture.prototype, \"compareOnRead\", {get:function() {\n    return this._compareOnRead;\n  }, set:function(v) {\n    if (this._compareOnRead !== v) {\n      this._compareOnRead = v;\n      this._parameterFlags |= 32;\n    }\n  }});\n  Object.defineProperty(Texture.prototype, \"compareFunc\", {get:function() {\n    return this._compareFunc;\n  }, set:function(v) {\n    if (this._compareFunc !== v) {\n      this._compareFunc = v;\n      this._parameterFlags |= 64;\n    }\n  }});\n  Object.defineProperty(Texture.prototype, \"anisotropy\", {get:function() {\n    return this._anisotropy;\n  }, set:function(v) {\n    if (this._anisotropy !== v) {\n      this._anisotropy = v;\n      this._parameterFlags |= 128;\n    }\n  }});\n  Object.defineProperty(Texture.prototype, \"autoMipmap\", {get:function() {\n    return this._mipmaps;\n  }, set:function(v) {\n    this._mipmaps = v;\n  }});\n  Object.defineProperty(Texture.prototype, \"mipmaps\", {get:function() {\n    return this._mipmaps;\n  }, set:function(v) {\n    if (this._mipmaps !== v) {\n      this._mipmaps = v;\n      this._minFilterDirty = true;\n      if (v) {\n        this._needsMipmapsUpload = true;\n      }\n    }\n  }});\n  Object.defineProperty(Texture.prototype, \"width\", {get:function() {\n    return this._width;\n  }});\n  Object.defineProperty(Texture.prototype, \"height\", {get:function() {\n    return this._height;\n  }});\n  Object.defineProperty(Texture.prototype, \"depth\", {get:function() {\n    return this._depth;\n  }});\n  Object.defineProperty(Texture.prototype, \"format\", {get:function() {\n    return this._format;\n  }});\n  Object.defineProperty(Texture.prototype, \"cubemap\", {get:function() {\n    return this._cubemap;\n  }});\n  var _pixelFormat2Size = null;\n  Object.defineProperty(Texture.prototype, \"gpuSize\", {get:function() {\n    if (!_pixelFormat2Size) {\n      _pixelFormat2Size = [];\n      _pixelFormat2Size[pc.PIXELFORMAT_A8] = 1;\n      _pixelFormat2Size[pc.PIXELFORMAT_L8] = 1;\n      _pixelFormat2Size[pc.PIXELFORMAT_L8_A8] = 1;\n      _pixelFormat2Size[pc.PIXELFORMAT_R5_G6_B5] = 2;\n      _pixelFormat2Size[pc.PIXELFORMAT_R5_G5_B5_A1] = 2;\n      _pixelFormat2Size[pc.PIXELFORMAT_R4_G4_B4_A4] = 2;\n      _pixelFormat2Size[pc.PIXELFORMAT_R8_G8_B8] = 4;\n      _pixelFormat2Size[pc.PIXELFORMAT_R8_G8_B8_A8] = 4;\n      _pixelFormat2Size[pc.PIXELFORMAT_RGB16F] = 8;\n      _pixelFormat2Size[pc.PIXELFORMAT_RGBA16F] = 8;\n      _pixelFormat2Size[pc.PIXELFORMAT_RGB32F] = 16;\n      _pixelFormat2Size[pc.PIXELFORMAT_RGBA32F] = 16;\n      _pixelFormat2Size[pc.PIXELFORMAT_R32F] = 4;\n      _pixelFormat2Size[pc.PIXELFORMAT_DEPTH] = 4;\n      _pixelFormat2Size[pc.PIXELFORMAT_DEPTHSTENCIL] = 4;\n      _pixelFormat2Size[pc.PIXELFORMAT_111110F] = 4;\n      _pixelFormat2Size[pc.PIXELFORMAT_SRGB] = 4;\n      _pixelFormat2Size[pc.PIXELFORMAT_SRGBA] = 4;\n    }\n    var mips = 1;\n    if (this.pot && (this._mipmaps || this._minFilter === pc.FILTER_NEAREST_MIPMAP_NEAREST || this._minFilter === pc.FILTER_NEAREST_MIPMAP_LINEAR || this._minFilter === pc.FILTER_LINEAR_MIPMAP_NEAREST || this._minFilter === pc.FILTER_LINEAR_MIPMAP_LINEAR) && !(this._compressed && this._levels.length === 1)) {\n      mips = Math.round(Math.log2(Math.max(this._width, this._height)) + 1);\n    }\n    var mipWidth = this._width;\n    var mipHeight = this._height;\n    var mipDepth = this._depth;\n    var size = 0;\n    for (var i = 0;i < mips;i++) {\n      if (!this._compressed) {\n        size += mipWidth * mipHeight * mipDepth * _pixelFormat2Size[this._format];\n      } else {\n        if (this._format === pc.PIXELFORMAT_ETC1) {\n          size += Math.floor((mipWidth + 3) / 4) * Math.floor((mipHeight + 3) / 4) * 8 * mipDepth;\n        } else {\n          if (this._format === pc.PIXELFORMAT_PVRTC_2BPP_RGB_1 || this._format === pc.PIXELFORMAT_PVRTC_2BPP_RGBA_1) {\n            size += Math.max(mipWidth, 16) * Math.max(mipHeight, 8) / 4 * mipDepth;\n          } else {\n            if (this._format === pc.PIXELFORMAT_PVRTC_4BPP_RGB_1 || this._format === pc.PIXELFORMAT_PVRTC_4BPP_RGBA_1) {\n              size += Math.max(mipWidth, 8) * Math.max(mipHeight, 8) / 2 * mipDepth;\n            } else {\n              var DXT_BLOCK_WIDTH = 4;\n              var DXT_BLOCK_HEIGHT = 4;\n              var blockSize = this._format === pc.PIXELFORMAT_DXT1 ? 8 : 16;\n              var numBlocksAcross = Math.floor((mipWidth + DXT_BLOCK_WIDTH - 1) / DXT_BLOCK_WIDTH);\n              var numBlocksDown = Math.floor((mipHeight + DXT_BLOCK_HEIGHT - 1) / DXT_BLOCK_HEIGHT);\n              var numBlocks = numBlocksAcross * numBlocksDown;\n              size += numBlocks * blockSize * mipDepth;\n            }\n          }\n        }\n      }\n      mipWidth = Math.max(mipWidth * 0.5, 1);\n      mipHeight = Math.max(mipHeight * 0.5, 1);\n      mipDepth = Math.max(mipDepth * 0.5, 1);\n    }\n    if (this._cubemap) {\n      size *= 6;\n    }\n    return size;\n  }});\n  Object.defineProperty(Texture.prototype, \"volume\", {get:function() {\n    return this._volume;\n  }});\n  Object.defineProperty(Texture.prototype, \"flipY\", {get:function() {\n    return this._flipY;\n  }, set:function(flipY) {\n    if (this._flipY !== flipY) {\n      this._flipY = flipY;\n      this._needsUpload = true;\n    }\n  }});\n  Object.defineProperty(Texture.prototype, \"premultiplyAlpha\", {get:function() {\n    return this._premultiplyAlpha;\n  }, set:function(premultiplyAlpha) {\n    if (this._premultiplyAlpha !== premultiplyAlpha) {\n      this._premultiplyAlpha = premultiplyAlpha;\n      this._needsUpload = true;\n    }\n  }});\n  Object.defineProperty(Texture.prototype, \"pot\", {get:function() {\n    return pc.math.powerOfTwo(this._width) && pc.math.powerOfTwo(this._height);\n  }});\n  Object.assign(Texture.prototype, {destroy:function() {\n    if (this.device) {\n      this.device.destroyTexture(this);\n    }\n    this.device = null;\n    this._levels = null;\n  }, dirtyAll:function() {\n    this._levelsUpdated = this._cubemap ? [[true, true, true, true, true, true]] : [true];\n    this._needsUpload = true;\n    this._needsMipmapsUpload = this._mipmaps;\n    this._mipmapsUploaded = false;\n    this._parameterFlags = 255;\n  }, lock:function(options) {\n    options = options || {level:0, face:0, mode:pc.TEXTURELOCK_WRITE};\n    if (options.level === undefined) {\n      options.level = 0;\n    }\n    if (options.face === undefined) {\n      options.face = 0;\n    }\n    if (options.mode === undefined) {\n      options.mode = pc.TEXTURELOCK_WRITE;\n    }\n    this._lockedLevel = options.level;\n    if (this._levels[options.level] === null) {\n      switch(this._format) {\n        case pc.PIXELFORMAT_A8:\n        case pc.PIXELFORMAT_L8:\n          this._levels[options.level] = new Uint8Array(this._width * this._height * this._depth);\n          break;\n        case pc.PIXELFORMAT_L8_A8:\n          this._levels[options.level] = new Uint8Array(this._width * this._height * this._depth * 2);\n          break;\n        case pc.PIXELFORMAT_R5_G6_B5:\n        case pc.PIXELFORMAT_R5_G5_B5_A1:\n        case pc.PIXELFORMAT_R4_G4_B4_A4:\n          this._levels[options.level] = new Uint16Array(this._width * this._height * this._depth);\n          break;\n        case pc.PIXELFORMAT_R8_G8_B8:\n          this._levels[options.level] = new Uint8Array(this._width * this._height * this._depth * 3);\n          break;\n        case pc.PIXELFORMAT_R8_G8_B8_A8:\n          this._levels[options.level] = new Uint8Array(this._width * this._height * this._depth * 4);\n          break;\n        case pc.PIXELFORMAT_DXT1:\n          this._levels[options.level] = new Uint8Array(Math.floor((this._width + 3) / 4) * Math.floor((this._height + 3) / 4) * 8 * this._depth);\n          break;\n        case pc.PIXELFORMAT_DXT3:\n        case pc.PIXELFORMAT_DXT5:\n          this._levels[options.level] = new Uint8Array(Math.floor((this._width + 3) / 4) * Math.floor((this._height + 3) / 4) * 16 * this._depth);\n          break;\n        case pc.PIXELFORMAT_RGB16F:\n          this._levels[options.level] = new Uint16Array(this._width * this._height * this._depth * 3);\n          break;\n        case pc.PIXELFORMAT_RGB32F:\n          this._levels[options.level] = new Float32Array(this._width * this._height * this._depth * 3);\n          break;\n        case pc.PIXELFORMAT_RGBA16F:\n          this._levels[options.level] = new Uint16Array(this._width * this._height * this._depth * 4);\n          break;\n        case pc.PIXELFORMAT_RGBA32F:\n          this._levels[options.level] = new Float32Array(this._width * this._height * this._depth * 4);\n          break;\n      }\n    }\n    return this._levels[options.level];\n  }, setSource:function(source, mipLevel) {\n    var i;\n    var invalid = false;\n    var width, height;\n    mipLevel = mipLevel || 0;\n    if (this._cubemap) {\n      if (source[0]) {\n        width = source[0].width || 0;\n        height = source[0].height || 0;\n        for (i = 0;i < 6;i++) {\n          var face = source[i];\n          if (!face || face.width !== width || face.height !== height || !(typeof HTMLImageElement !== \"undefined\" && face instanceof HTMLImageElement || typeof HTMLCanvasElement !== \"undefined\" && face instanceof HTMLCanvasElement || typeof HTMLVideoElement !== \"undefined\" && face instanceof HTMLVideoElement)) {\n            invalid = true;\n            break;\n          }\n        }\n      } else {\n        invalid = true;\n      }\n      if (!invalid) {\n        for (i = 0;i < 6;i++) {\n          if (this._levels[mipLevel][i] !== source[i]) {\n            this._levelsUpdated[mipLevel][i] = true;\n          }\n        }\n      }\n    } else {\n      if (!(typeof HTMLImageElement !== \"undefined\" && source instanceof HTMLImageElement || typeof HTMLCanvasElement !== \"undefined\" && source instanceof HTMLCanvasElement || typeof HTMLVideoElement !== \"undefined\" && source instanceof HTMLVideoElement)) {\n        invalid = true;\n      }\n      if (!invalid) {\n        if (source !== this._levels[mipLevel]) {\n          this._levelsUpdated[mipLevel] = true;\n        }\n        width = source.width;\n        height = source.height;\n      }\n    }\n    if (invalid) {\n      this._width = 4;\n      this._height = 4;\n      if (this._cubemap) {\n        for (i = 0;i < 6;i++) {\n          this._levels[mipLevel][i] = null;\n          this._levelsUpdated[mipLevel][i] = true;\n        }\n      } else {\n        this._levels[mipLevel] = null;\n        this._levelsUpdated[mipLevel] = true;\n      }\n    } else {\n      if (mipLevel === 0) {\n        this._width = width;\n        this._height = height;\n      }\n      this._levels[mipLevel] = source;\n    }\n    if (this._invalid !== invalid || !invalid) {\n      this._invalid = invalid;\n      this.upload();\n    }\n  }, getSource:function(mipLevel) {\n    mipLevel = mipLevel || 0;\n    return this._levels[mipLevel];\n  }, unlock:function() {\n    this.upload();\n    this._lockedLevel = -1;\n  }, upload:function() {\n    this._needsUpload = true;\n    this._needsMipmapsUpload = this._mipmaps;\n  }, getDds:function() {\n    if (this.format !== pc.PIXELFORMAT_R8_G8_B8_A8) {\n      console.error(\"This format is not implemented yet\");\n    }\n    var fsize = 128;\n    var i = 0;\n    var j;\n    var face;\n    while (this._levels[i]) {\n      var mipSize;\n      if (!this.cubemap) {\n        mipSize = this._levels[i].length;\n        if (!mipSize) {\n          console.error(\"No byte array for mip \" + i);\n          return;\n        }\n        fsize += mipSize;\n      } else {\n        for (face = 0;face < 6;face++) {\n          if (!this._levels[i][face]) {\n            console.error(\"No level data for mip \" + i + \", face \" + face);\n            return;\n          }\n          mipSize = this._levels[i][face].length;\n          if (!mipSize) {\n            console.error(\"No byte array for mip \" + i + \", face \" + face);\n            return;\n          }\n          fsize += mipSize;\n        }\n      }\n      fsize += this._levels[i].length;\n      i++;\n    }\n    var buff = new ArrayBuffer(fsize);\n    var header = new Uint32Array(buff, 0, 128 / 4);\n    var DDS_MAGIC = 542327876;\n    var DDS_HEADER_SIZE = 124;\n    var DDS_FLAGS_REQUIRED = 1 | 2 | 4 | 4096 | 524288;\n    var DDS_FLAGS_MIPMAP = 131072;\n    var DDS_PIXELFORMAT_SIZE = 32;\n    var DDS_PIXELFLAGS_RGBA8 = 1 | 64;\n    var DDS_CAPS_REQUIRED = 4096;\n    var DDS_CAPS_MIPMAP = 4194304;\n    var DDS_CAPS_COMPLEX = 8;\n    var DDS_CAPS2_CUBEMAP = 512 | 1024 | 2048 | 4096 | 8192 | 16384 | 32768;\n    var flags = DDS_FLAGS_REQUIRED;\n    if (this._levels.length > 1) {\n      flags |= DDS_FLAGS_MIPMAP;\n    }\n    var caps = DDS_CAPS_REQUIRED;\n    if (this._levels.length > 1) {\n      caps |= DDS_CAPS_MIPMAP;\n    }\n    if (this._levels.length > 1 || this.cubemap) {\n      caps |= DDS_CAPS_COMPLEX;\n    }\n    var caps2 = this.cubemap ? DDS_CAPS2_CUBEMAP : 0;\n    header[0] = DDS_MAGIC;\n    header[1] = DDS_HEADER_SIZE;\n    header[2] = flags;\n    header[3] = this.height;\n    header[4] = this.width;\n    header[5] = this.width * this.height * 4;\n    header[6] = 0;\n    header[7] = this._levels.length;\n    for (i = 0;i < 11;i++) {\n      header[8 + i] = 0;\n    }\n    header[19] = DDS_PIXELFORMAT_SIZE;\n    header[20] = DDS_PIXELFLAGS_RGBA8;\n    header[21] = 0;\n    header[22] = 32;\n    header[23] = 16711680;\n    header[24] = 65280;\n    header[25] = 255;\n    header[26] = 4278190080;\n    header[27] = caps;\n    header[28] = caps2;\n    header[29] = 0;\n    header[30] = 0;\n    header[31] = 0;\n    var offset = 128;\n    var level, mip;\n    if (!this.cubemap) {\n      for (i = 0;i < this._levels.length;i++) {\n        level = this._levels[i];\n        mip = new Uint8Array(buff, offset, level.length);\n        for (j = 0;j < level.length;j++) {\n          mip[j] = level[j];\n        }\n        offset += level.length;\n      }\n    } else {\n      for (face = 0;face < 6;face++) {\n        for (i = 0;i < this._levels.length;i++) {\n          level = this._levels[i][face];\n          mip = new Uint8Array(buff, offset, level.length);\n          for (j = 0;j < level.length;j++) {\n            mip[j] = level[j];\n          }\n          offset += level.length;\n        }\n      }\n    }\n    return buff;\n  }});\n  return {Texture:Texture};\n}());\nObject.assign(pc, function() {\n  var defaultOptions = {depth:true, face:0};\n  var RenderTarget = function(options) {\n    var _arg2 = arguments[1];\n    var _arg3 = arguments[2];\n    if (options instanceof pc.GraphicsDevice) {\n      this._colorBuffer = _arg2;\n      options = _arg3;\n    } else {\n      this._colorBuffer = options.colorBuffer;\n    }\n    this._glFrameBuffer = null;\n    this._glDepthBuffer = null;\n    options = options !== undefined ? options : defaultOptions;\n    this._depthBuffer = options.depthBuffer;\n    this._face = options.face !== undefined ? options.face : 0;\n    if (this._depthBuffer) {\n      var format = this._depthBuffer._format;\n      if (format === pc.PIXELFORMAT_DEPTH) {\n        this._depth = true;\n        this._stencil = false;\n      } else {\n        if (format === pc.PIXELFORMAT_DEPTHSTENCIL) {\n          this._depth = true;\n          this._stencil = true;\n        } else {\n          this._depth = false;\n          this._stencil = false;\n        }\n      }\n    } else {\n      this._depth = options.depth !== undefined ? options.depth : true;\n      this._stencil = options.stencil !== undefined ? options.stencil : false;\n    }\n    this._samples = options.samples !== undefined ? options.samples : 1;\n    this.autoResolve = options.autoResolve !== undefined ? options.autoResolve : true;\n    this._glResolveFrameBuffer = null;\n    this._glMsaaColorBuffer = null;\n    this._glMsaaDepthBuffer = null;\n  };\n  Object.assign(RenderTarget.prototype, {destroy:function() {\n    if (!this._device) {\n      return;\n    }\n    var device = this._device;\n    var idx = device.targets.indexOf(this);\n    if (idx !== -1) {\n      device.targets.splice(idx, 1);\n    }\n    var gl = device.gl;\n    if (this._glFrameBuffer) {\n      gl.deleteFramebuffer(this._glFrameBuffer);\n      this._glFrameBuffer = null;\n    }\n    if (this._glDepthBuffer) {\n      gl.deleteRenderbuffer(this._glDepthBuffer);\n      this._glDepthBuffer = null;\n    }\n    if (this._glResolveFrameBuffer) {\n      gl.deleteFramebuffer(this._glResolveFrameBuffer);\n      this._glResolveFrameBuffer = null;\n    }\n    if (this._glMsaaColorBuffer) {\n      gl.deleteRenderbuffer(this._glMsaaColorBuffer);\n      this._glMsaaColorBuffer = null;\n    }\n    if (this._glMsaaDepthBuffer) {\n      gl.deleteRenderbuffer(this._glMsaaDepthBuffer);\n      this._glMsaaDepthBuffer = null;\n    }\n  }, resolve:function(color, depth) {\n    if (!this._device) {\n      return;\n    }\n    if (!this._device.webgl2) {\n      return;\n    }\n    var gl = this._device.gl;\n    if (color === undefined) {\n      color = true;\n    }\n    if (depth === undefined && this._depthBuffer) {\n      depth = true;\n    }\n    gl.bindFramebuffer(gl.READ_FRAMEBUFFER, this._glFrameBuffer);\n    gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, this._glResolveFrameBuffer);\n    gl.blitFramebuffer(0, 0, this.width, this.height, 0, 0, this.width, this.height, (color ? gl.COLOR_BUFFER_BIT : 0) | (depth ? gl.DEPTH_BUFFER_BIT : 0), gl.NEAREST);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this._glFrameBuffer);\n  }, copy:function(source, color, depth) {\n    if (!this._device) {\n      if (source._device) {\n        this._device = source._device;\n      } else {\n        return false;\n      }\n    }\n    return this._device.copyRenderTarget(source, this, color, depth);\n  }});\n  Object.defineProperty(RenderTarget.prototype, \"colorBuffer\", {get:function() {\n    return this._colorBuffer;\n  }});\n  Object.defineProperty(RenderTarget.prototype, \"depthBuffer\", {get:function() {\n    return this._depthBuffer;\n  }});\n  Object.defineProperty(RenderTarget.prototype, \"face\", {get:function() {\n    return this._face;\n  }});\n  Object.defineProperty(RenderTarget.prototype, \"width\", {get:function() {\n    return this._colorBuffer ? this._colorBuffer.width : this._depthBuffer.width;\n  }});\n  Object.defineProperty(RenderTarget.prototype, \"height\", {get:function() {\n    return this._colorBuffer ? this._colorBuffer.height : this._depthBuffer.height;\n  }});\n  return {RenderTarget:RenderTarget};\n}());\nObject.assign(pc, function() {\n  var ShaderInput = function(graphicsDevice, name, type, locationId) {\n    this.locationId = locationId;\n    this.scopeId = graphicsDevice.scope.resolve(name);\n    this.version = new pc.Version;\n    if (type === pc.UNIFORMTYPE_FLOAT) {\n      if (name.substr(name.length - 3) === \"[0]\") {\n        type = pc.UNIFORMTYPE_FLOATARRAY;\n      }\n    }\n    this.dataType = type;\n    this.value = [null, null, null, null];\n    this.array = [];\n  };\n  return {ShaderInput:ShaderInput};\n}());\nObject.assign(pc, function() {\n  var Shader = function(graphicsDevice, definition) {\n    this.device = graphicsDevice;\n    this.definition = definition;\n    this.attributes = [];\n    this.uniforms = [];\n    this.samplers = [];\n    this.ready = false;\n    this.device.createShader(this);\n  };\n  Object.assign(Shader.prototype, {destroy:function() {\n    this.device.destroyShader(this);\n  }});\n  return {Shader:Shader};\n}());\nObject.assign(pc, function() {\n  var ProgramLibrary = function(device) {\n    this._device = device;\n    this._cache = {};\n    this._generators = {};\n    this._isClearingCache = false;\n    this._precached = false;\n    this._programsCollection = [];\n    this._defaultStdMatOption = {};\n    this._defaultStdMatOptionMin = {};\n    var m = new pc.StandardMaterial;\n    m.shaderOptBuilder.updateRef(this._defaultStdMatOption, device, {}, m, null, [], pc.SHADER_FORWARD, null, null);\n    m.shaderOptBuilder.updateMinRef(this._defaultStdMatOptionMin, device, {}, m, null, [], pc.SHADER_SHADOW, null, null);\n  };\n  ProgramLibrary.prototype.register = function(name, generator) {\n    if (!this.isRegistered(name)) {\n      this._generators[name] = generator;\n    }\n  };\n  ProgramLibrary.prototype.unregister = function(name) {\n    if (this.isRegistered(name)) {\n      delete this._generators[name];\n    }\n  };\n  ProgramLibrary.prototype.isRegistered = function(name) {\n    var generator = this._generators[name];\n    return generator !== undefined;\n  };\n  ProgramLibrary.prototype.getProgram = function(name, options) {\n    var generator = this._generators[name];\n    if (generator === undefined) {\n      return null;\n    }\n    var gd = this._device;\n    var key = generator.generateKey(options);\n    var shader = this._cache[key];\n    if (!shader) {\n      var lights;\n      if (options.lights) {\n        lights = options.lights;\n        options.lights = lights.map(function(l) {\n          var lcopy = l.clone ? l.clone() : l;\n          lcopy.key = l.key;\n          return lcopy;\n        });\n      }\n      this.storeNewProgram(name, options);\n      if (options.lights) {\n        options.lights = lights;\n      }\n      if (this._precached) {\n        console.warn(\"ProgramLibrary#getProgram: Cache miss for shader\", name, \"key\", key, \"after shaders precaching\");\n      }\n      var shaderDefinition = generator.createShaderDefinition(gd, options);\n      shader = this._cache[key] = new pc.Shader(gd, shaderDefinition);\n    }\n    return shader;\n  };\n  ProgramLibrary.prototype.storeNewProgram = function(name, options) {\n    var opt = {};\n    if (name === \"standard\") {\n      var defaultMat = this._getDefaultStdMatOptions(options.pass);\n      for (var p in options) {\n        if (options.hasOwnProperty(p) && defaultMat[p] !== options[p] || p === \"pass\") {\n          opt[p] = options[p];\n        }\n      }\n    } else {\n      opt = options;\n    }\n    this._programsCollection.push(JSON.stringify({name:name, options:opt}));\n  };\n  ProgramLibrary.prototype.dumpPrograms = function() {\n    var text = \"var device = pc.app ? pc.app.graphicsDevice : pc.Application.getApplication().graphicsDevice;\\n\";\n    text += \"var shaders = [\";\n    if (this._programsCollection[0]) {\n      text += \"\\n\\t\" + this._programsCollection[0];\n    }\n    for (var i = 1;i < this._programsCollection.length;++i) {\n      text += \",\\n\\t\" + this._programsCollection[i];\n    }\n    text += \"\\n];\\n\";\n    text += \"device.programLib.precompile(shaders);\\n\";\n    text += 'if (pc.version != \"' + pc.version + '\" || pc.revision != \"' + pc.revision + '\")\\n';\n    text += '\\tconsole.warn(\"precompile-shaders.js: engine version mismatch, rebuild shaders lib with current engine\");';\n    var element = document.createElement(\"a\");\n    element.setAttribute(\"href\", \"data:text/plain;charset=utf-8,\" + encodeURIComponent(text));\n    element.setAttribute(\"download\", \"precompile-shaders.js\");\n    element.style.display = \"none\";\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  };\n  ProgramLibrary.prototype.clearCache = function() {\n    var cache = this._cache;\n    this._isClearingCache = true;\n    for (var key in cache) {\n      if (cache.hasOwnProperty(key)) {\n        cache[key].destroy();\n      }\n    }\n    this._cache = {};\n    this._isClearingCache = false;\n  };\n  ProgramLibrary.prototype.removeFromCache = function(shader) {\n    if (this._isClearingCache) {\n      return;\n    }\n    var cache = this._cache;\n    for (var key in cache) {\n      if (cache.hasOwnProperty(key)) {\n        if (cache[key] === shader) {\n          delete cache[key];\n          break;\n        }\n      }\n    }\n  };\n  ProgramLibrary.prototype._getDefaultStdMatOptions = function(pass) {\n    return pass > pc.SHADER_FORWARDHDR && pass <= pc.SHADER_PICK ? this._defaultStdMatOptionMin : this._defaultStdMatOption;\n  };\n  ProgramLibrary.prototype.precompile = function(cache) {\n    if (cache) {\n      var shaders = new Array(cache.length);\n      for (var i = 0;i < cache.length;i++) {\n        if (cache[i].name === \"standard\") {\n          var opt = cache[i].options;\n          var defaultMat = this._getDefaultStdMatOptions(opt.pass);\n          for (var p in defaultMat) {\n            if (defaultMat.hasOwnProperty(p) && opt[p] === undefined) {\n              opt[p] = defaultMat[p];\n            }\n          }\n          opt.useTexCubeLod = this._device.useTexCubeLod;\n        }\n        shaders[i] = this.getProgram(cache[i].name, cache[i].options);\n      }\n    }\n    this._precached = true;\n  };\n  return {ProgramLibrary:ProgramLibrary};\n}());\nObject.assign(pc, function() {\n  var EVENT_RESIZE = \"resizecanvas\";\n  var _downsampleImage = function(image, size) {\n    var srcW = image.width;\n    var srcH = image.height;\n    if (srcW > size || srcH > size) {\n      var scale = size / Math.max(srcW, srcH);\n      var dstW = Math.floor(srcW * scale);\n      var dstH = Math.floor(srcH * scale);\n      console.warn(\"Image dimensions larger than max supported texture size of \" + size + \". \" + \"Resizing from \" + srcW + \", \" + srcH + \" to \" + dstW + \", \" + dstH + \".\");\n      var canvas = document.createElement(\"canvas\");\n      canvas.width = dstW;\n      canvas.height = dstH;\n      var context = canvas.getContext(\"2d\");\n      context.drawImage(image, 0, 0, srcW, srcH, 0, 0, dstW, dstH);\n      return canvas;\n    }\n    return image;\n  };\n  function testRenderable(gl, pixelFormat) {\n    var result = true;\n    var texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 2, 2, 0, gl.RGBA, pixelFormat, null);\n    var framebuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    if (gl.checkFramebufferStatus(gl.FRAMEBUFFER) !== gl.FRAMEBUFFER_COMPLETE) {\n      result = false;\n    }\n    gl.bindTexture(gl.TEXTURE_2D, null);\n    gl.deleteTexture(texture);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    gl.deleteFramebuffer(framebuffer);\n    return result;\n  }\n  function testTextureFloatHighPrecision(device) {\n    if (!device.textureFloatRenderable) {\n      return false;\n    }\n    var chunks = pc.shaderChunks;\n    var test1 = chunks.createShaderFromCode(device, chunks.fullscreenQuadVS, chunks.precisionTestPS, \"ptest1\");\n    var test2 = chunks.createShaderFromCode(device, chunks.fullscreenQuadVS, chunks.precisionTest2PS, \"ptest2\");\n    var textureOptions = {format:pc.PIXELFORMAT_RGBA32F, width:1, height:1, mipmaps:false, minFilter:pc.FILTER_NEAREST, magFilter:pc.FILTER_NEAREST};\n    var tex1 = new pc.Texture(device, textureOptions);\n    tex1.name = \"testFHP\";\n    var targ1 = new pc.RenderTarget(device, tex1, {depth:false});\n    pc.drawQuadWithShader(device, targ1, test1);\n    textureOptions.format = pc.PIXELFORMAT_R8_G8_B8_A8;\n    var tex2 = new pc.Texture(device, textureOptions);\n    tex2.name = \"testFHP\";\n    var targ2 = new pc.RenderTarget(device, tex2, {depth:false});\n    device.constantTexSource.setValue(tex1);\n    pc.drawQuadWithShader(device, targ2, test2);\n    var prevFramebuffer = device.activeFramebuffer;\n    device.setFramebuffer(targ2._glFrameBuffer);\n    var pixels = new Uint8Array(4);\n    device.readPixels(0, 0, 1, 1, pixels);\n    device.setFramebuffer(prevFramebuffer);\n    var x = pixels[0] / 255;\n    var y = pixels[1] / 255;\n    var z = pixels[2] / 255;\n    var w = pixels[3] / 255;\n    var f = x / (256 * 256 * 256) + y / (256 * 256) + z / 256 + w;\n    tex1.destroy();\n    targ1.destroy();\n    tex2.destroy();\n    targ2.destroy();\n    return f === 0;\n  }\n  var GraphicsDevice = function(canvas, options) {\n    pc.EventHandler.call(this);\n    var i;\n    this.canvas = canvas;\n    this.shader = null;\n    this.indexBuffer = null;\n    this.vertexBuffers = [];\n    this.vbOffsets = [];\n    this._enableAutoInstancing = false;\n    this.autoInstancingMaxObjects = 16384;\n    this.attributesInvalidated = true;\n    this.boundBuffer = null;\n    this.boundElementBuffer = null;\n    this.instancedAttribs = {};\n    this.enabledAttributes = {};\n    this.transformFeedbackBuffer = null;\n    this.activeFramebuffer = null;\n    this.textureUnit = 0;\n    this.textureUnits = [];\n    this._maxPixelRatio = 1;\n    this.renderTarget = null;\n    this.feedback = null;\n    this._width = 0;\n    this._height = 0;\n    this.updateClientRect();\n    this.vertexShaderCache = {};\n    this.fragmentShaderCache = {};\n    this.shaders = [];\n    this.buffers = [];\n    this.textures = [];\n    this.targets = [];\n    this.contextLost = false;\n    this._contextLostHandler = function(event) {\n      event.preventDefault();\n      this.contextLost = true;\n      this.fire(\"devicelost\");\n    }.bind(this);\n    this._contextRestoredHandler = function() {\n      this.initializeContext();\n      this.contextLost = false;\n      this.fire(\"devicerestored\");\n    }.bind(this);\n    canvas.addEventListener(\"webglcontextlost\", this._contextLostHandler, false);\n    canvas.addEventListener(\"webglcontextrestored\", this._contextRestoredHandler, false);\n    var preferWebGl2 = options && options.preferWebGl2 !== undefined ? options.preferWebGl2 : true;\n    var names = preferWebGl2 ? [\"webgl2\", \"experimental-webgl2\", \"webgl\", \"experimental-webgl\"] : [\"webgl\", \"experimental-webgl\"];\n    var gl = null;\n    options = options || {};\n    options.stencil = true;\n    for (i = 0;i < names.length;i++) {\n      try {\n        gl = canvas.getContext(names[i], options);\n      } catch (e) {\n      }\n      if (gl) {\n        this.webgl2 = preferWebGl2 && i < 2;\n        break;\n      }\n    }\n    if (!gl) {\n      throw new Error(\"WebGL not supported\");\n    }\n    this.gl = gl;\n    this.initializeExtensions();\n    this.initializeCapabilities();\n    this.initializeRenderState();\n    for (i = 0;i < this.maxCombinedTextures;i++) {\n      this.textureUnits.push([null, null, null]);\n    }\n    this.defaultClearOptions = {color:[0, 0, 0, 1], depth:1, stencil:0, flags:pc.CLEARFLAG_COLOR | pc.CLEARFLAG_DEPTH};\n    this.glAddress = [gl.REPEAT, gl.CLAMP_TO_EDGE, gl.MIRRORED_REPEAT];\n    this.glBlendEquation = [gl.FUNC_ADD, gl.FUNC_SUBTRACT, gl.FUNC_REVERSE_SUBTRACT, this.webgl2 ? gl.MIN : this.extBlendMinmax ? this.extBlendMinmax.MIN_EXT : gl.FUNC_ADD, this.webgl2 ? gl.MAX : this.extBlendMinmax ? this.extBlendMinmax.MAX_EXT : gl.FUNC_ADD];\n    this.glBlendFunction = [gl.ZERO, gl.ONE, gl.SRC_COLOR, gl.ONE_MINUS_SRC_COLOR, gl.DST_COLOR, gl.ONE_MINUS_DST_COLOR, gl.SRC_ALPHA, gl.SRC_ALPHA_SATURATE, gl.ONE_MINUS_SRC_ALPHA, gl.DST_ALPHA, gl.ONE_MINUS_DST_ALPHA];\n    this.glComparison = [gl.NEVER, gl.LESS, gl.EQUAL, gl.LEQUAL, gl.GREATER, gl.NOTEQUAL, gl.GEQUAL, gl.ALWAYS];\n    this.glStencilOp = [gl.KEEP, gl.ZERO, gl.REPLACE, gl.INCR, gl.INCR_WRAP, gl.DECR, gl.DECR_WRAP, gl.INVERT];\n    this.glClearFlag = [0, gl.COLOR_BUFFER_BIT, gl.DEPTH_BUFFER_BIT, gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT, gl.STENCIL_BUFFER_BIT, gl.STENCIL_BUFFER_BIT | gl.COLOR_BUFFER_BIT, gl.STENCIL_BUFFER_BIT | gl.DEPTH_BUFFER_BIT, gl.STENCIL_BUFFER_BIT | gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT];\n    this.glCull = [0, gl.BACK, gl.FRONT, gl.FRONT_AND_BACK];\n    this.glFilter = [gl.NEAREST, gl.LINEAR, gl.NEAREST_MIPMAP_NEAREST, gl.NEAREST_MIPMAP_LINEAR, gl.LINEAR_MIPMAP_NEAREST, gl.LINEAR_MIPMAP_LINEAR];\n    this.glPrimitive = [gl.POINTS, gl.LINES, gl.LINE_LOOP, gl.LINE_STRIP, gl.TRIANGLES, gl.TRIANGLE_STRIP, gl.TRIANGLE_FAN];\n    this.glType = [gl.BYTE, gl.UNSIGNED_BYTE, gl.SHORT, gl.UNSIGNED_SHORT, gl.INT, gl.UNSIGNED_INT, gl.FLOAT];\n    this.pcUniformType = {};\n    this.pcUniformType[gl.BOOL] = pc.UNIFORMTYPE_BOOL;\n    this.pcUniformType[gl.INT] = pc.UNIFORMTYPE_INT;\n    this.pcUniformType[gl.FLOAT] = pc.UNIFORMTYPE_FLOAT;\n    this.pcUniformType[gl.FLOAT_VEC2] = pc.UNIFORMTYPE_VEC2;\n    this.pcUniformType[gl.FLOAT_VEC3] = pc.UNIFORMTYPE_VEC3;\n    this.pcUniformType[gl.FLOAT_VEC4] = pc.UNIFORMTYPE_VEC4;\n    this.pcUniformType[gl.INT_VEC2] = pc.UNIFORMTYPE_IVEC2;\n    this.pcUniformType[gl.INT_VEC3] = pc.UNIFORMTYPE_IVEC3;\n    this.pcUniformType[gl.INT_VEC4] = pc.UNIFORMTYPE_IVEC4;\n    this.pcUniformType[gl.BOOL_VEC2] = pc.UNIFORMTYPE_BVEC2;\n    this.pcUniformType[gl.BOOL_VEC3] = pc.UNIFORMTYPE_BVEC3;\n    this.pcUniformType[gl.BOOL_VEC4] = pc.UNIFORMTYPE_BVEC4;\n    this.pcUniformType[gl.FLOAT_MAT2] = pc.UNIFORMTYPE_MAT2;\n    this.pcUniformType[gl.FLOAT_MAT3] = pc.UNIFORMTYPE_MAT3;\n    this.pcUniformType[gl.FLOAT_MAT4] = pc.UNIFORMTYPE_MAT4;\n    this.pcUniformType[gl.SAMPLER_2D] = pc.UNIFORMTYPE_TEXTURE2D;\n    this.pcUniformType[gl.SAMPLER_CUBE] = pc.UNIFORMTYPE_TEXTURECUBE;\n    if (this.webgl2) {\n      this.pcUniformType[gl.SAMPLER_2D_SHADOW] = pc.UNIFORMTYPE_TEXTURE2D_SHADOW;\n      this.pcUniformType[gl.SAMPLER_CUBE_SHADOW] = pc.UNIFORMTYPE_TEXTURECUBE_SHADOW;\n      this.pcUniformType[gl.SAMPLER_3D] = pc.UNIFORMTYPE_TEXTURE3D;\n    }\n    this.targetToSlot = {};\n    this.targetToSlot[gl.TEXTURE_2D] = 0;\n    this.targetToSlot[gl.TEXTURE_CUBE_MAP] = 1;\n    this.targetToSlot[gl.TEXTURE_3D] = 2;\n    var scopeX, scopeY, scopeZ, scopeW;\n    var uniformValue;\n    this.commitFunction = [];\n    this.commitFunction[pc.UNIFORMTYPE_BOOL] = function(uniform, value) {\n      if (uniform.value !== value) {\n        gl.uniform1i(uniform.locationId, value);\n        uniform.value = value;\n      }\n    };\n    this.commitFunction[pc.UNIFORMTYPE_INT] = this.commitFunction[pc.UNIFORMTYPE_BOOL];\n    this.commitFunction[pc.UNIFORMTYPE_FLOAT] = function(uniform, value) {\n      if (uniform.value !== value) {\n        gl.uniform1f(uniform.locationId, value);\n        uniform.value = value;\n      }\n    };\n    this.commitFunction[pc.UNIFORMTYPE_VEC2] = function(uniform, value) {\n      uniformValue = uniform.value;\n      scopeX = value[0];\n      scopeY = value[1];\n      if (uniformValue[0] !== scopeX || uniformValue[1] !== scopeY) {\n        gl.uniform2fv(uniform.locationId, value);\n        uniformValue[0] = scopeX;\n        uniformValue[1] = scopeY;\n      }\n    };\n    this.commitFunction[pc.UNIFORMTYPE_VEC3] = function(uniform, value) {\n      uniformValue = uniform.value;\n      scopeX = value[0];\n      scopeY = value[1];\n      scopeZ = value[2];\n      if (uniformValue[0] !== scopeX || uniformValue[1] !== scopeY || uniformValue[2] !== scopeZ) {\n        gl.uniform3fv(uniform.locationId, value);\n        uniformValue[0] = scopeX;\n        uniformValue[1] = scopeY;\n        uniformValue[2] = scopeZ;\n      }\n    };\n    this.commitFunction[pc.UNIFORMTYPE_VEC4] = function(uniform, value) {\n      uniformValue = uniform.value;\n      scopeX = value[0];\n      scopeY = value[1];\n      scopeZ = value[2];\n      scopeW = value[3];\n      if (uniformValue[0] !== scopeX || uniformValue[1] !== scopeY || uniformValue[2] !== scopeZ || uniformValue[3] !== scopeW) {\n        gl.uniform4fv(uniform.locationId, value);\n        uniformValue[0] = scopeX;\n        uniformValue[1] = scopeY;\n        uniformValue[2] = scopeZ;\n        uniformValue[3] = scopeW;\n      }\n    };\n    this.commitFunction[pc.UNIFORMTYPE_IVEC2] = function(uniform, value) {\n      uniformValue = uniform.value;\n      scopeX = value[0];\n      scopeY = value[1];\n      if (uniformValue[0] !== scopeX || uniformValue[1] !== scopeY) {\n        gl.uniform2iv(uniform.locationId, value);\n        uniformValue[0] = scopeX;\n        uniformValue[1] = scopeY;\n      }\n    };\n    this.commitFunction[pc.UNIFORMTYPE_BVEC2] = this.commitFunction[pc.UNIFORMTYPE_IVEC2];\n    this.commitFunction[pc.UNIFORMTYPE_IVEC3] = function(uniform, value) {\n      uniformValue = uniform.value;\n      scopeX = value[0];\n      scopeY = value[1];\n      scopeZ = value[2];\n      if (uniformValue[0] !== scopeX || uniformValue[1] !== scopeY || uniformValue[2] !== scopeZ) {\n        gl.uniform3iv(uniform.locationId, value);\n        uniformValue[0] = scopeX;\n        uniformValue[1] = scopeY;\n        uniformValue[2] = scopeZ;\n      }\n    };\n    this.commitFunction[pc.UNIFORMTYPE_BVEC3] = this.commitFunction[pc.UNIFORMTYPE_IVEC3];\n    this.commitFunction[pc.UNIFORMTYPE_IVEC4] = function(uniform, value) {\n      uniformValue = uniform.value;\n      scopeX = value[0];\n      scopeY = value[1];\n      scopeZ = value[2];\n      scopeW = value[3];\n      if (uniformValue[0] !== scopeX || uniformValue[1] !== scopeY || uniformValue[2] !== scopeZ || uniformValue[3] !== scopeW) {\n        gl.uniform4iv(uniform.locationId, value);\n        uniformValue[0] = scopeX;\n        uniformValue[1] = scopeY;\n        uniformValue[2] = scopeZ;\n        uniformValue[3] = scopeW;\n      }\n    };\n    this.commitFunction[pc.UNIFORMTYPE_BVEC4] = this.commitFunction[pc.UNIFORMTYPE_IVEC4];\n    this.commitFunction[pc.UNIFORMTYPE_MAT2] = function(uniform, value) {\n      gl.uniformMatrix2fv(uniform.locationId, false, value);\n    };\n    this.commitFunction[pc.UNIFORMTYPE_MAT3] = function(uniform, value) {\n      gl.uniformMatrix3fv(uniform.locationId, false, value);\n    };\n    this.commitFunction[pc.UNIFORMTYPE_MAT4] = function(uniform, value) {\n      gl.uniformMatrix4fv(uniform.locationId, false, value);\n    };\n    this.commitFunction[pc.UNIFORMTYPE_FLOATARRAY] = function(uniform, value) {\n      gl.uniform1fv(uniform.locationId, value);\n    };\n    this.scope = new pc.ScopeSpace(\"Device\");\n    this.programLib = new pc.ProgramLibrary(this);\n    for (var generator in pc.programlib) {\n      this.programLib.register(generator, pc.programlib[generator]);\n    }\n    this.supportsBoneTextures = this.extTextureFloat && this.maxVertexTextures > 0;\n    this.useTexCubeLod = this.extTextureLod && this.maxTextures < 16;\n    var numUniforms = this.vertexUniformsCount;\n    numUniforms -= 4 * 4;\n    numUniforms -= 8;\n    numUniforms -= 1;\n    numUniforms -= 4 * 4;\n    this.boneLimit = Math.floor(numUniforms / 4);\n    this.boneLimit = Math.min(this.boneLimit, 128);\n    if (this.unmaskedRenderer === \"Mali-450 MP\") {\n      this.boneLimit = 34;\n    }\n    this._drawCallsPerFrame = 0;\n    this._shaderSwitchesPerFrame = 0;\n    this._primsPerFrame = [];\n    for (i = pc.PRIMITIVE_POINTS;i <= pc.PRIMITIVE_TRIFAN;i++) {\n      this._primsPerFrame[i] = 0;\n    }\n    this._renderTargetCreationTime = 0;\n    this._vram = {tex:0, vb:0, ib:0};\n    this._shaderStats = {vsCompiled:0, fsCompiled:0, linked:0, materialShaders:0, compileTime:0};\n    this.constantTexSource = this.scope.resolve(\"source\");\n    if (this.extTextureFloat) {\n      if (this.webgl2) {\n        this.textureFloatRenderable = !!this.extColorBufferFloat;\n      } else {\n        this.textureFloatRenderable = testRenderable(gl, gl.FLOAT);\n      }\n    } else {\n      this.textureFloatRenderable = false;\n    }\n    if (this.extTextureHalfFloat) {\n      if (this.webgl2) {\n        this.textureHalfFloatRenderable = !!this.extColorBufferFloat;\n      } else {\n        this.textureHalfFloatRenderable = testRenderable(gl, this.extTextureHalfFloat.HALF_FLOAT_OES);\n      }\n    } else {\n      this.textureHalfFloatRenderable = false;\n    }\n    this._textureFloatHighPrecision = undefined;\n    this.createGrabPass(options.alpha);\n  };\n  GraphicsDevice.prototype = Object.create(pc.EventHandler.prototype);\n  GraphicsDevice.prototype.constructor = GraphicsDevice;\n  Object.assign(GraphicsDevice.prototype, {getPrecision:function() {\n    var gl = this.gl;\n    var precision = \"highp\";\n    if (gl.getShaderPrecisionFormat) {\n      var vertexShaderPrecisionHighpFloat = gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT);\n      var vertexShaderPrecisionMediumpFloat = gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT);\n      var fragmentShaderPrecisionHighpFloat = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT);\n      var fragmentShaderPrecisionMediumpFloat = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT);\n      var highpAvailable = vertexShaderPrecisionHighpFloat.precision > 0 && fragmentShaderPrecisionHighpFloat.precision > 0;\n      var mediumpAvailable = vertexShaderPrecisionMediumpFloat.precision > 0 && fragmentShaderPrecisionMediumpFloat.precision > 0;\n      if (!highpAvailable) {\n        if (mediumpAvailable) {\n          precision = \"mediump\";\n        } else {\n          precision = \"lowp\";\n        }\n      }\n    }\n    return precision;\n  }, initializeExtensions:function() {\n    var gl = this.gl;\n    var ext;\n    var supportedExtensions = gl.getSupportedExtensions();\n    var getExtension = function() {\n      var extension = null;\n      for (var i = 0;i < arguments.length;i++) {\n        if (supportedExtensions.indexOf(arguments[i]) !== -1) {\n          extension = gl.getExtension(arguments[i]);\n        }\n      }\n      return extension;\n    };\n    if (this.webgl2) {\n      this.extBlendMinmax = true;\n      this.extDrawBuffers = true;\n      this.extInstancing = true;\n      this.extStandardDerivatives = true;\n      this.extTextureFloat = true;\n      this.extTextureHalfFloat = true;\n      this.extTextureHalfFloatLinear = true;\n      this.extTextureLod = true;\n      this.extUintElement = true;\n      this.extVertexArrayObject = true;\n      this.extColorBufferFloat = getExtension(\"EXT_color_buffer_float\");\n    } else {\n      this.extBlendMinmax = getExtension(\"EXT_blend_minmax\");\n      this.extDrawBuffers = getExtension(\"EXT_draw_buffers\");\n      this.extInstancing = getExtension(\"ANGLE_instanced_arrays\");\n      if (this.extInstancing) {\n        ext = this.extInstancing;\n        gl.drawArraysInstanced = ext.drawArraysInstancedANGLE.bind(ext);\n        gl.drawElementsInstanced = ext.drawElementsInstancedANGLE.bind(ext);\n        gl.vertexAttribDivisor = ext.vertexAttribDivisorANGLE.bind(ext);\n      }\n      this.extStandardDerivatives = getExtension(\"OES_standard_derivatives\");\n      this.extTextureFloat = getExtension(\"OES_texture_float\");\n      this.extTextureHalfFloat = getExtension(\"OES_texture_half_float\");\n      this.extTextureHalfFloatLinear = getExtension(\"OES_texture_half_float_linear\");\n      this.extTextureLod = getExtension(\"EXT_shader_texture_lod\");\n      this.extUintElement = getExtension(\"OES_element_index_uint\");\n      this.extVertexArrayObject = getExtension(\"OES_vertex_array_object\");\n      if (this.extVertexArrayObject) {\n        ext = this.extVertexArrayObject;\n        gl.createVertexArray = ext.createVertexArrayOES.bind(ext);\n        gl.deleteVertexArray = ext.deleteVertexArrayOES.bind(ext);\n        gl.isVertexArray = ext.isVertexArrayOES.bind(ext);\n        gl.bindVertexArray = ext.bindVertexArrayOES.bind(ext);\n      }\n      this.extColorBufferFloat = null;\n    }\n    this.extDebugRendererInfo = getExtension(\"WEBGL_debug_renderer_info\");\n    this.extTextureFloatLinear = getExtension(\"OES_texture_float_linear\");\n    this.extTextureFilterAnisotropic = getExtension(\"EXT_texture_filter_anisotropic\", \"WEBKIT_EXT_texture_filter_anisotropic\");\n    this.extCompressedTextureETC1 = getExtension(\"WEBGL_compressed_texture_etc1\");\n    this.extCompressedTextureETC = getExtension(\"WEBGL_compressed_texture_etc\");\n    this.extCompressedTexturePVRTC = getExtension(\"WEBGL_compressed_texture_pvrtc\", \"WEBKIT_WEBGL_compressed_texture_pvrtc\");\n    this.extCompressedTextureS3TC = getExtension(\"WEBGL_compressed_texture_s3tc\", \"WEBKIT_WEBGL_compressed_texture_s3tc\");\n    this.extCompressedTextureATC = getExtension(\"WEBGL_compressed_texture_atc\");\n    this.extCompressedTextureASTC = getExtension(\"WEBGL_compressed_texture_astc\");\n    this.extParallelShaderCompile = getExtension(\"KHR_parallel_shader_compile\");\n  }, initializeCapabilities:function() {\n    var gl = this.gl;\n    var ext;\n    this.maxPrecision = this.precision = this.getPrecision();\n    var contextAttribs = gl.getContextAttributes();\n    this.supportsMsaa = contextAttribs.antialias;\n    this.supportsStencil = contextAttribs.stencil;\n    this.maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);\n    this.maxCubeMapSize = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);\n    this.maxRenderBufferSize = gl.getParameter(gl.MAX_RENDERBUFFER_SIZE);\n    this.maxTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n    this.maxCombinedTextures = gl.getParameter(gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS);\n    this.maxVertexTextures = gl.getParameter(gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS);\n    this.vertexUniformsCount = gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS);\n    this.fragmentUniformsCount = gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS);\n    if (this.webgl2) {\n      this.maxDrawBuffers = gl.getParameter(gl.MAX_DRAW_BUFFERS);\n      this.maxColorAttachments = gl.getParameter(gl.MAX_COLOR_ATTACHMENTS);\n      this.maxVolumeSize = gl.getParameter(gl.MAX_3D_TEXTURE_SIZE);\n    } else {\n      ext = this.extDrawBuffers;\n      this.maxDrawBuffers = ext ? gl.getParameter(ext.MAX_DRAW_BUFFERS_EXT) : 1;\n      this.maxColorAttachments = ext ? gl.getParameter(ext.MAX_COLOR_ATTACHMENTS_EXT) : 1;\n      this.maxVolumeSize = 1;\n    }\n    ext = this.extDebugRendererInfo;\n    this.unmaskedRenderer = ext ? gl.getParameter(ext.UNMASKED_RENDERER_WEBGL) : \"\";\n    this.unmaskedVendor = ext ? gl.getParameter(ext.UNMASKED_VENDOR_WEBGL) : \"\";\n    ext = this.extTextureFilterAnisotropic;\n    this.maxAnisotropy = ext ? gl.getParameter(ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 1;\n    this.samples = gl.getParameter(gl.SAMPLES);\n  }, initializeRenderState:function() {\n    var gl = this.gl;\n    this.blending = false;\n    gl.disable(gl.BLEND);\n    this.blendSrc = pc.BLENDMODE_ONE;\n    this.blendDst = pc.BLENDMODE_ZERO;\n    this.blendSrcAlpha = pc.BLENDMODE_ONE;\n    this.blendDstAlpha = pc.BLENDMODE_ZERO;\n    this.separateAlphaBlend = false;\n    this.blendEquation = pc.BLENDEQUATION_ADD;\n    this.blendAlphaEquation = pc.BLENDEQUATION_ADD;\n    this.separateAlphaEquation = false;\n    gl.blendFunc(gl.ONE, gl.ZERO);\n    gl.blendEquation(gl.FUNC_ADD);\n    this.writeRed = true;\n    this.writeGreen = true;\n    this.writeBlue = true;\n    this.writeAlpha = true;\n    gl.colorMask(true, true, true, true);\n    this.cullMode = pc.CULLFACE_BACK;\n    gl.enable(gl.CULL_FACE);\n    gl.cullFace(gl.BACK);\n    this.depthTest = true;\n    gl.enable(gl.DEPTH_TEST);\n    this.depthFunc = pc.FUNC_LESSEQUAL;\n    gl.depthFunc(gl.LEQUAL);\n    this.depthWrite = true;\n    gl.depthMask(true);\n    this.stencil = false;\n    gl.disable(gl.STENCIL_TEST);\n    this.stencilFuncFront = this.stencilFuncBack = pc.FUNC_ALWAYS;\n    this.stencilRefFront = this.stencilRefBack = 0;\n    this.stencilMaskFront = this.stencilMaskBack = 255;\n    gl.stencilFunc(gl.ALWAYS, 0, 255);\n    this.stencilFailFront = this.stencilFailBack = pc.STENCILOP_KEEP;\n    this.stencilZfailFront = this.stencilZfailBack = pc.STENCILOP_KEEP;\n    this.stencilZpassFront = this.stencilZpassBack = pc.STENCILOP_KEEP;\n    this.stencilWriteMaskFront = 255;\n    this.stencilWriteMaskBack = 255;\n    gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);\n    gl.stencilMask(255);\n    this.alphaToCoverage = false;\n    this.raster = true;\n    if (this.webgl2) {\n      gl.disable(gl.SAMPLE_ALPHA_TO_COVERAGE);\n      gl.disable(gl.RASTERIZER_DISCARD);\n    }\n    this.depthBiasEnabled = false;\n    gl.disable(gl.POLYGON_OFFSET_FILL);\n    this.clearDepth = 1;\n    gl.clearDepth(1);\n    this.clearRed = 0;\n    this.clearBlue = 0;\n    this.clearGreen = 0;\n    this.clearAlpha = 0;\n    gl.clearColor(0, 0, 0, 0);\n    this.clearStencil = 0;\n    gl.clearStencil(0);\n    this.vx = this.vy = this.vw = this.vh = 0;\n    this.sx = this.sy = this.sw = this.sh = 0;\n    if (this.webgl2) {\n      gl.hint(gl.FRAGMENT_SHADER_DERIVATIVE_HINT, gl.NICEST);\n    } else {\n      if (this.extStandardDerivatives) {\n        gl.hint(this.extStandardDerivatives.FRAGMENT_SHADER_DERIVATIVE_HINT_OES, gl.NICEST);\n      }\n    }\n    gl.enable(gl.SCISSOR_TEST);\n    gl.pixelStorei(gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, gl.NONE);\n    this.unpackFlipY = false;\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    this.unpackPremultiplyAlpha = false;\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n  }, initializeContext:function() {\n    this.initializeExtensions();\n    this.initializeCapabilities();\n    this.initializeRenderState();\n    var i, len;\n    for (i = 0, len = this.shaders.length;i < len;i++) {\n      this.compileAndLinkShader(this.shaders[i]);\n    }\n    this.shader = null;\n    for (i = 0, len = this.buffers.length;i < len;i++) {\n      this.buffers[i].bufferId = undefined;\n      this.buffers[i].unlock();\n    }\n    this.boundBuffer = null;\n    this.boundElementBuffer = null;\n    this.indexBuffer = null;\n    this.attributesInvalidated = true;\n    this.enabledAttributes = {};\n    this.vertexBuffers = [];\n    for (i = 0, len = this.textures.length;i < len;i++) {\n      var texture = this.textures[i];\n      this.destroyTexture(texture);\n      texture.dirtyAll();\n    }\n    this.textureUnit = 0;\n    this.textureUnits.length = 0;\n    for (i = 0;i < this.maxCombinedTextures;i++) {\n      this.textureUnits.push([null, null, null]);\n    }\n    for (i = 0, len = this.targets.length;i < len;i++) {\n      this.targets[i]._glFrameBuffer = undefined;\n      this.targets[i]._glDepthBuffer = undefined;\n      this.targets[i]._glResolveFrameBuffer = undefined;\n      this.targets[i]._glMsaaColorBuffer = undefined;\n      this.targets[i]._glMsaaDepthBuffer = undefined;\n    }\n    this.renderTarget = null;\n    this.activeFramebuffer = null;\n    this.feedback = null;\n    this.transformFeedbackBuffer = null;\n  }, createGrabPass:function(alpha) {\n    if (this.grabPassTexture) {\n      return;\n    }\n    var format = alpha ? pc.PIXELFORMAT_R8_G8_B8_A8 : pc.PIXELFORMAT_R8_G8_B8;\n    var grabPassTexture = new pc.Texture(this, {format:format, minFilter:pc.FILTER_LINEAR, magFilter:pc.FILTER_LINEAR, addressU:pc.ADDRESS_CLAMP_TO_EDGE, addressV:pc.ADDRESS_CLAMP_TO_EDGE, mipmaps:false});\n    grabPassTexture.name = \"texture_grabPass\";\n    var grabPassTextureId = this.scope.resolve(grabPassTexture.name);\n    grabPassTextureId.setValue(grabPassTexture);\n    this.grabPassTextureId = grabPassTextureId;\n    this.grabPassTexture = grabPassTexture;\n  }, updateGrabPass:function() {\n    var gl = this.gl;\n    var format = this.grabPassTexture._glFormat;\n    var source = this.renderTarget && this.renderTarget.colorBuffer || this.canvas;\n    gl.copyTexImage2D(gl.TEXTURE_2D, 0, format, 0, 0, source.width, source.height, 0);\n    this.grabPassTexture._width = source.width;\n    this.grabPassTexture._height = source.height;\n  }, destroyGrabPass:function() {\n    this.grabPassTexture.destroy();\n    this.grabPassTexture = null;\n    this.grabPassTextureId = null;\n  }, updateClientRect:function() {\n    this.clientRect = this.canvas.getBoundingClientRect();\n  }, setViewport:function(x, y, w, h) {\n    if (this.vx !== x || this.vy !== y || this.vw !== w || this.vh !== h) {\n      this.gl.viewport(x, y, w, h);\n      this.vx = x;\n      this.vy = y;\n      this.vw = w;\n      this.vh = h;\n    }\n  }, setScissor:function(x, y, w, h) {\n    if (this.sx !== x || this.sy !== y || this.sw !== w || this.sh !== h) {\n      this.gl.scissor(x, y, w, h);\n      this.sx = x;\n      this.sy = y;\n      this.sw = w;\n      this.sh = h;\n    }\n  }, getProgramLibrary:function() {\n    return this.programLib;\n  }, setProgramLibrary:function(programLib) {\n    this.programLib = programLib;\n  }, setFramebuffer:function(fb) {\n    if (this.activeFramebuffer !== fb) {\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, fb);\n      this.activeFramebuffer = fb;\n    }\n  }, _checkFbo:function() {\n    var gl = this.gl;\n    var status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n    switch(status) {\n      case gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:\n        console.error(\"ERROR: FRAMEBUFFER_INCOMPLETE_ATTACHMENT\");\n        break;\n      case gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:\n        console.error(\"ERROR: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT\");\n        break;\n      case gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:\n        console.error(\"ERROR: FRAMEBUFFER_INCOMPLETE_DIMENSIONS\");\n        break;\n      case gl.FRAMEBUFFER_UNSUPPORTED:\n        console.error(\"ERROR: FRAMEBUFFER_UNSUPPORTED\");\n        break;\n      case gl.FRAMEBUFFER_COMPLETE:\n        break;\n      default:\n        break;\n    }\n  }, copyRenderTarget:function(source, dest, color, depth) {\n    var gl = this.gl;\n    if (!this.webgl2 && depth) {\n      return false;\n    }\n    if (color) {\n      if (!dest) {\n        if (!source._colorBuffer) {\n          return false;\n        }\n      } else {\n        if (!source._colorBuffer || !dest._colorBuffer) {\n          return false;\n        }\n        if (source._colorBuffer._format !== dest._colorBuffer._format) {\n          return false;\n        }\n      }\n    }\n    if (depth) {\n      if (!source._depthBuffer || !dest._depthBuffer) {\n        return false;\n      }\n      if (source._depthBuffer._format !== dest._depthBuffer._format) {\n        return false;\n      }\n    }\n    if (this.webgl2 && dest) {\n      var prevRt = this.renderTarget;\n      this.renderTarget = dest;\n      this.updateBegin();\n      gl.bindFramebuffer(gl.READ_FRAMEBUFFER, source ? source._glFrameBuffer : null);\n      gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, dest._glFrameBuffer);\n      var w = source ? source.width : dest.width;\n      var h = source ? source.height : dest.height;\n      gl.blitFramebuffer(0, 0, w, h, 0, 0, w, h, (color ? gl.COLOR_BUFFER_BIT : 0) | (depth ? gl.DEPTH_BUFFER_BIT : 0), gl.NEAREST);\n      this.renderTarget = prevRt;\n      gl.bindFramebuffer(gl.FRAMEBUFFER, prevRt ? prevRt._glFrameBuffer : null);\n    } else {\n      if (!this._copyShader) {\n        var chunks = pc.shaderChunks;\n        this._copyShader = chunks.createShaderFromCode(this, chunks.fullscreenQuadVS, chunks.outputTex2DPS, \"outputTex2D\");\n      }\n      this.constantTexSource.setValue(source._colorBuffer);\n      pc.drawQuadWithShader(this, dest, this._copyShader);\n    }\n    return true;\n  }, updateBegin:function() {\n    var gl = this.gl;\n    this.boundBuffer = null;\n    this.boundElementBuffer = null;\n    var target = this.renderTarget;\n    if (target) {\n      if (!target._glFrameBuffer) {\n        target._device = this;\n        target._glFrameBuffer = gl.createFramebuffer();\n        this.setFramebuffer(target._glFrameBuffer);\n        var colorBuffer = target._colorBuffer;\n        if (colorBuffer) {\n          if (!colorBuffer._glTexture) {\n            colorBuffer._width = Math.min(colorBuffer.width, this.maxRenderBufferSize);\n            colorBuffer._height = Math.min(colorBuffer.height, this.maxRenderBufferSize);\n            this.setTexture(colorBuffer, 0);\n          }\n          gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, colorBuffer._cubemap ? gl.TEXTURE_CUBE_MAP_POSITIVE_X + target._face : gl.TEXTURE_2D, colorBuffer._glTexture, 0);\n        }\n        var depthBuffer = target._depthBuffer;\n        if (depthBuffer && this.webgl2) {\n          if (!depthBuffer._glTexture) {\n            depthBuffer._width = Math.min(depthBuffer.width, this.maxRenderBufferSize);\n            depthBuffer._height = Math.min(depthBuffer.height, this.maxRenderBufferSize);\n            this.setTexture(depthBuffer, 0);\n          }\n          if (target._stencil) {\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, depthBuffer._cubemap ? gl.TEXTURE_CUBE_MAP_POSITIVE_X + target._face : gl.TEXTURE_2D, target._depthBuffer._glTexture, 0);\n          } else {\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, depthBuffer._cubemap ? gl.TEXTURE_CUBE_MAP_POSITIVE_X + target._face : gl.TEXTURE_2D, target._depthBuffer._glTexture, 0);\n          }\n        } else {\n          if (target._depth) {\n            var willRenderMsaa = target._samples > 1 && this.webgl2;\n            if (!willRenderMsaa) {\n              if (!target._glDepthBuffer) {\n                target._glDepthBuffer = gl.createRenderbuffer();\n              }\n              gl.bindRenderbuffer(gl.RENDERBUFFER, target._glDepthBuffer);\n              if (target._stencil) {\n                gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, target.width, target.height);\n                gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, target._glDepthBuffer);\n              } else {\n                gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, target.width, target.height);\n                gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, target._glDepthBuffer);\n              }\n              gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n            }\n          }\n        }\n        if (this.webgl2 && target._samples > 1) {\n          target._glResolveFrameBuffer = target._glFrameBuffer;\n          target._glFrameBuffer = gl.createFramebuffer();\n          this.setFramebuffer(target._glFrameBuffer);\n          if (colorBuffer) {\n            if (!target._glMsaaColorBuffer) {\n              target._glMsaaColorBuffer = gl.createRenderbuffer();\n            }\n            gl.bindRenderbuffer(gl.RENDERBUFFER, target._glMsaaColorBuffer);\n            gl.renderbufferStorageMultisample(gl.RENDERBUFFER, target._samples, colorBuffer._glInternalFormat, target.width, target.height);\n            gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.RENDERBUFFER, target._glMsaaColorBuffer);\n          }\n          if (target._depth) {\n            if (!target._glMsaaDepthBuffer) {\n              target._glMsaaDepthBuffer = gl.createRenderbuffer();\n            }\n            gl.bindRenderbuffer(gl.RENDERBUFFER, target._glMsaaDepthBuffer);\n            if (target._stencil) {\n              gl.renderbufferStorageMultisample(gl.RENDERBUFFER, target._samples, gl.DEPTH24_STENCIL8, target.width, target.height);\n              gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, target._glMsaaDepthBuffer);\n            } else {\n              gl.renderbufferStorageMultisample(gl.RENDERBUFFER, target._samples, gl.DEPTH_COMPONENT32F, target.width, target.height);\n              gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, target._glMsaaDepthBuffer);\n            }\n          }\n        }\n        this.targets.push(target);\n      } else {\n        this.setFramebuffer(target._glFrameBuffer);\n      }\n    } else {\n      this.setFramebuffer(null);\n    }\n  }, updateEnd:function() {\n    var gl = this.gl;\n    var target = this.renderTarget;\n    if (target) {\n      var colorBuffer = target._colorBuffer;\n      if (colorBuffer && colorBuffer._glTexture && colorBuffer.mipmaps && colorBuffer.pot) {\n        this.activeTexture(this.maxCombinedTextures - 1);\n        this.bindTexture(colorBuffer);\n        gl.generateMipmap(colorBuffer._glTarget);\n      }\n      if (this.webgl2 && target._samples > 1 && target.autoResolve) {\n        target.resolve();\n      }\n    }\n  }, initializeTexture:function(texture) {\n    var gl = this.gl;\n    var ext;\n    texture._glTexture = gl.createTexture();\n    texture._glTarget = texture._cubemap ? gl.TEXTURE_CUBE_MAP : texture._volume ? gl.TEXTURE_3D : gl.TEXTURE_2D;\n    switch(texture._format) {\n      case pc.PIXELFORMAT_A8:\n        texture._glFormat = gl.ALPHA;\n        texture._glInternalFormat = gl.ALPHA;\n        texture._glPixelType = gl.UNSIGNED_BYTE;\n        break;\n      case pc.PIXELFORMAT_L8:\n        texture._glFormat = gl.LUMINANCE;\n        texture._glInternalFormat = gl.LUMINANCE;\n        texture._glPixelType = gl.UNSIGNED_BYTE;\n        break;\n      case pc.PIXELFORMAT_L8_A8:\n        texture._glFormat = gl.LUMINANCE_ALPHA;\n        texture._glInternalFormat = gl.LUMINANCE_ALPHA;\n        texture._glPixelType = gl.UNSIGNED_BYTE;\n        break;\n      case pc.PIXELFORMAT_R5_G6_B5:\n        texture._glFormat = gl.RGB;\n        texture._glInternalFormat = gl.RGB;\n        texture._glPixelType = gl.UNSIGNED_SHORT_5_6_5;\n        break;\n      case pc.PIXELFORMAT_R5_G5_B5_A1:\n        texture._glFormat = gl.RGBA;\n        texture._glInternalFormat = gl.RGBA;\n        texture._glPixelType = gl.UNSIGNED_SHORT_5_5_5_1;\n        break;\n      case pc.PIXELFORMAT_R4_G4_B4_A4:\n        texture._glFormat = gl.RGBA;\n        texture._glInternalFormat = gl.RGBA;\n        texture._glPixelType = gl.UNSIGNED_SHORT_4_4_4_4;\n        break;\n      case pc.PIXELFORMAT_R8_G8_B8:\n        texture._glFormat = gl.RGB;\n        texture._glInternalFormat = this.webgl2 ? gl.RGB8 : gl.RGB;\n        texture._glPixelType = gl.UNSIGNED_BYTE;\n        break;\n      case pc.PIXELFORMAT_R8_G8_B8_A8:\n        texture._glFormat = gl.RGBA;\n        texture._glInternalFormat = this.webgl2 ? gl.RGBA8 : gl.RGBA;\n        texture._glPixelType = gl.UNSIGNED_BYTE;\n        break;\n      case pc.PIXELFORMAT_DXT1:\n        ext = this.extCompressedTextureS3TC;\n        texture._glFormat = gl.RGB;\n        texture._glInternalFormat = ext.COMPRESSED_RGB_S3TC_DXT1_EXT;\n        break;\n      case pc.PIXELFORMAT_DXT3:\n        ext = this.extCompressedTextureS3TC;\n        texture._glFormat = gl.RGBA;\n        texture._glInternalFormat = ext.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n        break;\n      case pc.PIXELFORMAT_DXT5:\n        ext = this.extCompressedTextureS3TC;\n        texture._glFormat = gl.RGBA;\n        texture._glInternalFormat = ext.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n        break;\n      case pc.PIXELFORMAT_ETC1:\n        ext = this.extCompressedTextureETC1;\n        texture._glFormat = gl.RGB;\n        texture._glInternalFormat = ext.COMPRESSED_RGB_ETC1_WEBGL;\n        break;\n      case pc.PIXELFORMAT_PVRTC_2BPP_RGB_1:\n        ext = this.extCompressedTexturePVRTC;\n        texture._glFormat = gl.RGB;\n        texture._glInternalFormat = ext.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n        break;\n      case pc.PIXELFORMAT_PVRTC_2BPP_RGBA_1:\n        ext = this.extCompressedTexturePVRTC;\n        texture._glFormat = gl.RGBA;\n        texture._glInternalFormat = ext.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n        break;\n      case pc.PIXELFORMAT_PVRTC_4BPP_RGB_1:\n        ext = this.extCompressedTexturePVRTC;\n        texture._glFormat = gl.RGB;\n        texture._glInternalFormat = ext.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n        break;\n      case pc.PIXELFORMAT_PVRTC_4BPP_RGBA_1:\n        ext = this.extCompressedTexturePVRTC;\n        texture._glFormat = gl.RGBA;\n        texture._glInternalFormat = ext.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n        break;\n      case pc.PIXELFORMAT_ETC2_RGB:\n        ext = this.extCompressedTextureETC;\n        texture._glFormat = gl.RGB;\n        texture._glInternalFormat = ext.COMPRESSED_RGB8_ETC2;\n        break;\n      case pc.PIXELFORMAT_ETC2_RGBA:\n        ext = this.extCompressedTextureETC;\n        texture._glFormat = gl.RGBA;\n        texture._glInternalFormat = ext.COMPRESSED_RGBA8_ETC2_EAC;\n        break;\n      case pc.PIXELFORMAT_ASTC_4x4:\n        ext = this.extCompressedTextureASTC;\n        texture._glFormat = gl.RGBA;\n        texture._glInternalFormat = ext.COMPRESSED_RGBA_ASTC_4x4_KHR;\n        break;\n      case pc.PIXELFORMAT_ATC_RGB:\n        ext = this.extCompressedTextureATC;\n        texture._glFormat = gl.RGB;\n        texture._glInternalFormat = ext.COMPRESSED_RGB_ATC_WEBGL;\n        break;\n      case pc.PIXELFORMAT_ATC_RGBA:\n        ext = this.extCompressedTextureATC;\n        texture._glFormat = gl.RGBA;\n        texture._glInternalFormat = ext.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL;\n        break;\n      case pc.PIXELFORMAT_RGB16F:\n        ext = this.extTextureHalfFloat;\n        texture._glFormat = gl.RGB;\n        if (this.webgl2) {\n          texture._glInternalFormat = gl.RGB16F;\n          texture._glPixelType = gl.HALF_FLOAT;\n        } else {\n          texture._glInternalFormat = gl.RGB;\n          texture._glPixelType = ext.HALF_FLOAT_OES;\n        }\n        break;\n      case pc.PIXELFORMAT_RGBA16F:\n        ext = this.extTextureHalfFloat;\n        texture._glFormat = gl.RGBA;\n        if (this.webgl2) {\n          texture._glInternalFormat = gl.RGBA16F;\n          texture._glPixelType = gl.HALF_FLOAT;\n        } else {\n          texture._glInternalFormat = gl.RGBA;\n          texture._glPixelType = ext.HALF_FLOAT_OES;\n        }\n        break;\n      case pc.PIXELFORMAT_RGB32F:\n        texture._glFormat = gl.RGB;\n        if (this.webgl2) {\n          texture._glInternalFormat = gl.RGB32F;\n        } else {\n          texture._glInternalFormat = gl.RGB;\n        }\n        texture._glPixelType = gl.FLOAT;\n        break;\n      case pc.PIXELFORMAT_RGBA32F:\n        texture._glFormat = gl.RGBA;\n        if (this.webgl2) {\n          texture._glInternalFormat = gl.RGBA32F;\n        } else {\n          texture._glInternalFormat = gl.RGBA;\n        }\n        texture._glPixelType = gl.FLOAT;\n        break;\n      case pc.PIXELFORMAT_R32F:\n        texture._glFormat = gl.RED;\n        texture._glInternalFormat = gl.R32F;\n        texture._glPixelType = gl.FLOAT;\n        break;\n      case pc.PIXELFORMAT_DEPTH:\n        if (this.webgl2) {\n          texture._glFormat = gl.DEPTH_COMPONENT;\n          texture._glInternalFormat = gl.DEPTH_COMPONENT32F;\n          texture._glPixelType = gl.FLOAT;\n        } else {\n          texture._glFormat = gl.DEPTH_COMPONENT;\n          texture._glInternalFormat = gl.DEPTH_COMPONENT;\n          texture._glPixelType = gl.UNSIGNED_SHORT;\n        }\n        break;\n      case pc.PIXELFORMAT_DEPTHSTENCIL:\n        texture._glFormat = gl.DEPTH_STENCIL;\n        texture._glInternalFormat = gl.DEPTH24_STENCIL8;\n        texture._glPixelType = gl.UNSIGNED_INT_24_8;\n        break;\n      case pc.PIXELFORMAT_111110F:\n        texture._glFormat = gl.RGB;\n        texture._glInternalFormat = gl.R11F_G11F_B10F;\n        texture._glPixelType = gl.FLOAT;\n        break;\n      case pc.PIXELFORMAT_SRGB:\n        texture._glFormat = gl.RGB;\n        texture._glInternalFormat = gl.SRGB8;\n        texture._glPixelType = gl.UNSIGNED_BYTE;\n        break;\n      case pc.PIXELFORMAT_SRGBA:\n        texture._glFormat = gl.RGBA;\n        texture._glInternalFormat = gl.SRGB8_ALPHA8;\n        texture._glPixelType = gl.UNSIGNED_BYTE;\n        break;\n    }\n    this.textures.push(texture);\n  }, destroyTexture:function(texture) {\n    if (texture._glTexture) {\n      var idx = this.textures.indexOf(texture);\n      if (idx !== -1) {\n        this.textures.splice(idx, 1);\n      }\n      for (var uniformName in this.scope.variables) {\n        var uniform = this.scope.variables[uniformName];\n        if (uniform.value === texture) {\n          uniform.value = null;\n        }\n      }\n      for (var i = 0;i < this.textureUnits.length;i++) {\n        var textureUnit = this.textureUnits[i];\n        for (var j = 0;j < textureUnit.length;j++) {\n          if (textureUnit[j] === texture._glTexture) {\n            textureUnit[j] = null;\n          }\n        }\n      }\n      var gl = this.gl;\n      gl.deleteTexture(texture._glTexture);\n      delete texture._glTexture;\n      delete texture._glTarget;\n      delete texture._glFormat;\n      delete texture._glInternalFormat;\n      delete texture._glPixelType;\n      this._vram.tex -= texture._gpuSize;\n    }\n  }, setUnpackFlipY:function(flipY) {\n    if (this.unpackFlipY !== flipY) {\n      this.unpackFlipY = flipY;\n      var gl = this.gl;\n      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flipY);\n    }\n  }, setUnpackPremultiplyAlpha:function(premultiplyAlpha) {\n    if (this.unpackPremultiplyAlpha !== premultiplyAlpha) {\n      this.unpackPremultiplyAlpha = premultiplyAlpha;\n      var gl = this.gl;\n      gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, premultiplyAlpha);\n    }\n  }, uploadTexture:function(texture) {\n    var gl = this.gl;\n    if (!texture._needsUpload && (texture._needsMipmapsUpload && texture._mipmapsUploaded || !texture.pot)) {\n      return;\n    }\n    var mipLevel = 0;\n    var mipObject;\n    var resMult;\n    var requiredMipLevels = Math.log2(Math.max(texture._width, texture._height)) + 1;\n    while (texture._levels[mipLevel] || mipLevel === 0) {\n      if (!texture._needsUpload && mipLevel === 0) {\n        mipLevel++;\n        continue;\n      } else {\n        if (mipLevel && (!texture._needsMipmapsUpload || !texture._mipmaps)) {\n          break;\n        }\n      }\n      mipObject = texture._levels[mipLevel];\n      if (mipLevel == 1 && !texture._compressed && texture._levels.length < requiredMipLevels) {\n        gl.generateMipmap(texture._glTarget);\n        texture._mipmapsUploaded = true;\n      }\n      if (texture._cubemap) {\n        var face;\n        if (mipObject[0] instanceof HTMLCanvasElement || mipObject[0] instanceof HTMLImageElement || mipObject[0] instanceof HTMLVideoElement) {\n          for (face = 0;face < 6;face++) {\n            if (!texture._levelsUpdated[0][face]) {\n              continue;\n            }\n            var src = mipObject[face];\n            if (src instanceof HTMLImageElement) {\n              if (src.width > this.maxCubeMapSize || src.height > this.maxCubeMapSize) {\n                src = _downsampleImage(src, this.maxCubeMapSize);\n                if (mipLevel === 0) {\n                  texture.width = src.width;\n                  texture.height = src.height;\n                }\n              }\n            }\n            this.setUnpackFlipY(false);\n            this.setUnpackPremultiplyAlpha(texture._premultiplyAlpha);\n            gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + face, mipLevel, texture._glInternalFormat, texture._glFormat, texture._glPixelType, src);\n          }\n        } else {\n          resMult = 1 / Math.pow(2, mipLevel);\n          for (face = 0;face < 6;face++) {\n            if (!texture._levelsUpdated[0][face]) {\n              continue;\n            }\n            var texData = mipObject[face];\n            if (texture._compressed) {\n              gl.compressedTexImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + face, mipLevel, texture._glInternalFormat, Math.max(texture._width * resMult, 1), Math.max(texture._height * resMult, 1), 0, texData);\n            } else {\n              this.setUnpackFlipY(false);\n              this.setUnpackPremultiplyAlpha(texture._premultiplyAlpha);\n              gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + face, mipLevel, texture._glInternalFormat, Math.max(texture._width * resMult, 1), Math.max(texture._height * resMult, 1), 0, texture._glFormat, texture._glPixelType, texData);\n            }\n          }\n        }\n      } else {\n        if (texture._volume) {\n          resMult = 1 / Math.pow(2, mipLevel);\n          if (texture._compressed) {\n            gl.compressedTexImage3D(gl.TEXTURE_3D, mipLevel, texture._glInternalFormat, Math.max(texture._width * resMult, 1), Math.max(texture._height * resMult, 1), Math.max(texture._depth * resMult, 1), 0, mipObject);\n          } else {\n            this.setUnpackFlipY(false);\n            this.setUnpackPremultiplyAlpha(texture._premultiplyAlpha);\n            gl.texImage3D(gl.TEXTURE_3D, mipLevel, texture._glInternalFormat, Math.max(texture._width * resMult, 1), Math.max(texture._height * resMult, 1), Math.max(texture._depth * resMult, 1), 0, texture._glFormat, texture._glPixelType, mipObject);\n          }\n        } else {\n          if (mipObject instanceof HTMLCanvasElement || mipObject instanceof HTMLImageElement || mipObject instanceof HTMLVideoElement) {\n            if (mipObject instanceof HTMLImageElement) {\n              if (mipObject.width > this.maxTextureSize || mipObject.height > this.maxTextureSize) {\n                mipObject = _downsampleImage(mipObject, this.maxTextureSize);\n                if (mipLevel === 0) {\n                  texture.width = mipObject.width;\n                  texture.height = mipObject.height;\n                }\n              }\n            }\n            this.setUnpackFlipY(texture._flipY);\n            this.setUnpackPremultiplyAlpha(texture._premultiplyAlpha);\n            gl.texImage2D(gl.TEXTURE_2D, mipLevel, texture._glInternalFormat, texture._glFormat, texture._glPixelType, mipObject);\n          } else {\n            resMult = 1 / Math.pow(2, mipLevel);\n            if (texture._compressed) {\n              gl.compressedTexImage2D(gl.TEXTURE_2D, mipLevel, texture._glInternalFormat, Math.max(texture._width * resMult, 1), Math.max(texture._height * resMult, 1), 0, mipObject);\n            } else {\n              this.setUnpackFlipY(false);\n              this.setUnpackPremultiplyAlpha(texture._premultiplyAlpha);\n              gl.texImage2D(gl.TEXTURE_2D, mipLevel, texture._glInternalFormat, Math.max(texture._width * resMult, 1), Math.max(texture._height * resMult, 1), 0, texture._glFormat, texture._glPixelType, mipObject);\n            }\n          }\n          if (mipLevel === 0) {\n            texture._mipmapsUploaded = false;\n          } else {\n            texture._mipmapsUploaded = true;\n          }\n        }\n      }\n      mipLevel++;\n    }\n    if (texture._needsUpload) {\n      if (texture._cubemap) {\n        for (var i = 0;i < 6;i++) {\n          texture._levelsUpdated[0][i] = false;\n        }\n      } else {\n        texture._levelsUpdated[0] = false;\n      }\n    }\n    if (!texture._compressed && texture._mipmaps && texture._needsMipmapsUpload && texture.pot && texture._levels.length === 1) {\n      gl.generateMipmap(texture._glTarget);\n      texture._mipmapsUploaded = true;\n    }\n    if (texture._gpuSize) {\n      this._vram.tex -= texture._gpuSize;\n    }\n    texture._gpuSize = texture.gpuSize;\n    this._vram.tex += texture._gpuSize;\n  }, activeTexture:function(textureUnit) {\n    if (this.textureUnit !== textureUnit) {\n      this.gl.activeTexture(this.gl.TEXTURE0 + textureUnit);\n      this.textureUnit = textureUnit;\n    }\n  }, bindTexture:function(texture) {\n    var textureTarget = texture._glTarget;\n    var textureObject = texture._glTexture;\n    var textureUnit = this.textureUnit;\n    var slot = this.targetToSlot[textureTarget];\n    if (this.textureUnits[textureUnit][slot] !== textureObject) {\n      this.gl.bindTexture(textureTarget, textureObject);\n      this.textureUnits[textureUnit][slot] = textureObject;\n    }\n  }, bindTextureOnUnit:function(texture, textureUnit) {\n    var textureTarget = texture._glTarget;\n    var textureObject = texture._glTexture;\n    var slot = this.targetToSlot[textureTarget];\n    if (this.textureUnits[textureUnit][slot] !== textureObject) {\n      this.activeTexture(textureUnit);\n      this.gl.bindTexture(textureTarget, textureObject);\n      this.textureUnits[textureUnit][slot] = textureObject;\n    }\n  }, setTextureParameters:function(texture) {\n    var gl = this.gl;\n    var flags = texture._parameterFlags;\n    var target = texture._glTarget;\n    if (flags & 1) {\n      var filter = texture._minFilter;\n      if (!texture.pot || !texture._mipmaps || texture._compressed && texture._levels.length === 1) {\n        if (filter === pc.FILTER_NEAREST_MIPMAP_NEAREST || filter === pc.FILTER_NEAREST_MIPMAP_LINEAR) {\n          filter = pc.FILTER_NEAREST;\n        } else {\n          if (filter === pc.FILTER_LINEAR_MIPMAP_NEAREST || filter === pc.FILTER_LINEAR_MIPMAP_LINEAR) {\n            filter = pc.FILTER_LINEAR;\n          }\n        }\n      }\n      gl.texParameteri(target, gl.TEXTURE_MIN_FILTER, this.glFilter[filter]);\n    }\n    if (flags & 2) {\n      gl.texParameteri(target, gl.TEXTURE_MAG_FILTER, this.glFilter[texture._magFilter]);\n    }\n    if (flags & 4) {\n      if (this.webgl2) {\n        gl.texParameteri(target, gl.TEXTURE_WRAP_S, this.glAddress[texture._addressU]);\n      } else {\n        gl.texParameteri(target, gl.TEXTURE_WRAP_S, this.glAddress[texture.pot ? texture._addressU : pc.ADDRESS_CLAMP_TO_EDGE]);\n      }\n    }\n    if (flags & 8) {\n      if (this.webgl2) {\n        gl.texParameteri(target, gl.TEXTURE_WRAP_T, this.glAddress[texture._addressV]);\n      } else {\n        gl.texParameteri(target, gl.TEXTURE_WRAP_T, this.glAddress[texture.pot ? texture._addressV : pc.ADDRESS_CLAMP_TO_EDGE]);\n      }\n    }\n    if (flags & 16) {\n      if (this.webgl2) {\n        gl.texParameteri(target, gl.TEXTURE_WRAP_R, this.glAddress[texture._addressW]);\n      }\n    }\n    if (flags & 32) {\n      if (this.webgl2) {\n        gl.texParameteri(target, gl.TEXTURE_COMPARE_MODE, texture._compareOnRead ? gl.COMPARE_REF_TO_TEXTURE : gl.NONE);\n      }\n    }\n    if (flags & 64) {\n      if (this.webgl2) {\n        gl.texParameteri(target, gl.TEXTURE_COMPARE_FUNC, this.glComparison[texture._compareFunc]);\n      }\n    }\n    if (flags & 128) {\n      var ext = this.extTextureFilterAnisotropic;\n      if (ext) {\n        gl.texParameterf(target, ext.TEXTURE_MAX_ANISOTROPY_EXT, Math.max(1, Math.min(Math.round(texture._anisotropy), this.maxAnisotropy)));\n      }\n    }\n  }, setTexture:function(texture, textureUnit) {\n    if (!texture._glTexture) {\n      this.initializeTexture(texture);\n    }\n    if (texture._parameterFlags > 0 || texture._needsUpload || texture._needsMipmapsUpload || texture === this.grabPassTexture) {\n      this.activeTexture(textureUnit);\n      this.bindTexture(texture);\n      if (texture._parameterFlags) {\n        this.setTextureParameters(texture);\n        texture._parameterFlags = 0;\n      }\n      if (texture === this.grabPassTexture) {\n        this.updateGrabPass();\n      } else {\n        if (texture._needsUpload || texture._needsMipmapsUpload) {\n          this.uploadTexture(texture);\n          texture._needsUpload = false;\n          texture._needsMipmapsUpload = false;\n        }\n      }\n    } else {\n      this.bindTextureOnUnit(texture, textureUnit);\n    }\n  }, setBuffers:function(numInstances) {\n    var gl = this.gl;\n    var attribute, element, vertexBuffer, vbOffset, bufferId, locationId;\n    var attributes = this.shader.attributes;\n    if (this.attributesInvalidated) {\n      for (var i = 0, len = attributes.length;i < len;i++) {\n        attribute = attributes[i];\n        element = attribute.scopeId.value;\n        if (element !== null) {\n          vertexBuffer = this.vertexBuffers[element.stream];\n          vbOffset = this.vbOffsets[element.stream] || 0;\n          bufferId = vertexBuffer.bufferId;\n          if (this.boundBuffer !== bufferId) {\n            gl.bindBuffer(gl.ARRAY_BUFFER, bufferId);\n            this.boundBuffer = bufferId;\n          }\n          locationId = attribute.locationId;\n          if (!this.enabledAttributes[locationId]) {\n            gl.enableVertexAttribArray(locationId);\n            this.enabledAttributes[locationId] = true;\n          }\n          gl.vertexAttribPointer(locationId, element.numComponents, this.glType[element.dataType], element.normalize, element.stride, element.offset + vbOffset);\n          if (element.stream === 1 && numInstances > 1) {\n            if (!this.instancedAttribs[locationId]) {\n              gl.vertexAttribDivisor(locationId, 1);\n              this.instancedAttribs[locationId] = true;\n            }\n          } else {\n            if (this.instancedAttribs[locationId]) {\n              gl.vertexAttribDivisor(locationId, 0);\n              this.instancedAttribs[locationId] = false;\n            }\n          }\n        }\n      }\n      this.attributesInvalidated = false;\n    }\n    bufferId = this.indexBuffer ? this.indexBuffer.bufferId : null;\n    if (this.boundElementBuffer !== bufferId) {\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, bufferId);\n      this.boundElementBuffer = bufferId;\n    }\n  }, draw:function(primitive, numInstances) {\n    var gl = this.gl;\n    var i, j, len;\n    var sampler, samplerValue, texture, numTextures;\n    var uniform, scopeId, uniformVersion, programVersion;\n    var shader = this.shader;\n    var samplers = shader.samplers;\n    var uniforms = shader.uniforms;\n    if (numInstances > 1) {\n      this.boundBuffer = null;\n      this.attributesInvalidated = true;\n    }\n    this.setBuffers(numInstances);\n    var textureUnit = 0;\n    for (i = 0, len = samplers.length;i < len;i++) {\n      sampler = samplers[i];\n      samplerValue = sampler.scopeId.value;\n      if (!samplerValue) {\n        continue;\n      }\n      if (samplerValue instanceof pc.Texture) {\n        texture = samplerValue;\n        this.setTexture(texture, textureUnit);\n        if (sampler.slot !== textureUnit) {\n          gl.uniform1i(sampler.locationId, textureUnit);\n          sampler.slot = textureUnit;\n        }\n        textureUnit++;\n      } else {\n        sampler.array.length = 0;\n        numTextures = samplerValue.length;\n        for (j = 0;j < numTextures;j++) {\n          texture = samplerValue[j];\n          this.setTexture(texture, textureUnit);\n          sampler.array[j] = textureUnit;\n          textureUnit++;\n        }\n        gl.uniform1iv(sampler.locationId, sampler.array);\n      }\n    }\n    for (i = 0, len = uniforms.length;i < len;i++) {\n      uniform = uniforms[i];\n      scopeId = uniform.scopeId;\n      uniformVersion = uniform.version;\n      programVersion = scopeId.versionObject.version;\n      if (uniformVersion.globalId !== programVersion.globalId || uniformVersion.revision !== programVersion.revision) {\n        uniformVersion.globalId = programVersion.globalId;\n        uniformVersion.revision = programVersion.revision;\n        if (scopeId.value !== null) {\n          this.commitFunction[uniform.dataType](uniform, scopeId.value);\n        }\n      }\n    }\n    if (this.webgl2 && this.transformFeedbackBuffer) {\n      gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER, 0, this.transformFeedbackBuffer.bufferId);\n      gl.beginTransformFeedback(gl.POINTS);\n    }\n    var mode = this.glPrimitive[primitive.type];\n    var count = primitive.count;\n    if (primitive.indexed) {\n      var indexBuffer = this.indexBuffer;\n      var format = indexBuffer.glFormat;\n      var offset = primitive.base * indexBuffer.bytesPerIndex;\n      if (numInstances > 1) {\n        gl.drawElementsInstanced(mode, count, format, offset, numInstances);\n      } else {\n        gl.drawElements(mode, count, format, offset);\n      }\n    } else {\n      var first = primitive.base;\n      if (numInstances > 1) {\n        gl.drawArraysInstanced(mode, first, count, numInstances);\n      } else {\n        gl.drawArrays(mode, first, count);\n      }\n    }\n    if (this.webgl2 && this.transformFeedbackBuffer) {\n      gl.endTransformFeedback();\n      gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER, 0, null);\n    }\n  }, clear:function(options) {\n    var defaultOptions = this.defaultClearOptions;\n    options = options || defaultOptions;\n    var flags = options.flags == undefined ? defaultOptions.flags : options.flags;\n    if (flags !== 0) {\n      var gl = this.gl;\n      if (flags & pc.CLEARFLAG_COLOR) {\n        var color = options.color == undefined ? defaultOptions.color : options.color;\n        this.setClearColor(color[0], color[1], color[2], color[3]);\n      }\n      if (flags & pc.CLEARFLAG_DEPTH) {\n        var depth = options.depth == undefined ? defaultOptions.depth : options.depth;\n        this.setClearDepth(depth);\n        if (!this.depthWrite) {\n          gl.depthMask(true);\n        }\n      }\n      if (flags & pc.CLEARFLAG_STENCIL) {\n        var stencil = options.stencil == undefined ? defaultOptions.stencil : options.stencil;\n        this.setClearStencil(stencil);\n      }\n      gl.clear(this.glClearFlag[flags]);\n      if (flags & pc.CLEARFLAG_DEPTH) {\n        if (!this.depthWrite) {\n          gl.depthMask(false);\n        }\n      }\n    }\n  }, readPixels:function(x, y, w, h, pixels) {\n    var gl = this.gl;\n    gl.readPixels(x, y, w, h, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n  }, setClearDepth:function(depth) {\n    if (depth !== this.clearDepth) {\n      this.gl.clearDepth(depth);\n      this.clearDepth = depth;\n    }\n  }, setClearColor:function(r, g, b, a) {\n    if (r !== this.clearRed || g !== this.clearGreen || b !== this.clearBlue || a !== this.clearAlpha) {\n      this.gl.clearColor(r, g, b, a);\n      this.clearRed = r;\n      this.clearGreen = g;\n      this.clearBlue = b;\n      this.clearAlpha = a;\n    }\n  }, setClearStencil:function(value) {\n    if (value !== this.clearStencil) {\n      this.gl.clearStencil(value);\n      this.clearStencil = value;\n    }\n  }, setRenderTarget:function(renderTarget) {\n    this.renderTarget = renderTarget;\n  }, getRenderTarget:function() {\n    return this.renderTarget;\n  }, getDepthTest:function() {\n    return this.depthTest;\n  }, setDepthTest:function(depthTest) {\n    if (this.depthTest !== depthTest) {\n      var gl = this.gl;\n      if (depthTest) {\n        gl.enable(gl.DEPTH_TEST);\n      } else {\n        gl.disable(gl.DEPTH_TEST);\n      }\n      this.depthTest = depthTest;\n    }\n  }, setDepthFunc:function(func) {\n    if (this.depthFunc === func) {\n      return;\n    }\n    this.gl.depthFunc(this.glComparison[func]);\n    this.depthFunc = func;\n  }, getDepthWrite:function() {\n    return this.depthWrite;\n  }, setDepthWrite:function(writeDepth) {\n    if (this.depthWrite !== writeDepth) {\n      this.gl.depthMask(writeDepth);\n      this.depthWrite = writeDepth;\n    }\n  }, setColorWrite:function(writeRed, writeGreen, writeBlue, writeAlpha) {\n    if (this.writeRed !== writeRed || this.writeGreen !== writeGreen || this.writeBlue !== writeBlue || this.writeAlpha !== writeAlpha) {\n      this.gl.colorMask(writeRed, writeGreen, writeBlue, writeAlpha);\n      this.writeRed = writeRed;\n      this.writeGreen = writeGreen;\n      this.writeBlue = writeBlue;\n      this.writeAlpha = writeAlpha;\n    }\n  }, setAlphaToCoverage:function(state) {\n    if (!this.webgl2) {\n      return;\n    }\n    if (this.alphaToCoverage === state) {\n      return;\n    }\n    this.alphaToCoverage = state;\n    if (state) {\n      this.gl.enable(this.gl.SAMPLE_ALPHA_TO_COVERAGE);\n    } else {\n      this.gl.disable(this.gl.SAMPLE_ALPHA_TO_COVERAGE);\n    }\n  }, setTransformFeedbackBuffer:function(tf) {\n    if (this.transformFeedbackBuffer === tf) {\n      return;\n    }\n    this.transformFeedbackBuffer = tf;\n    if (this.webgl2) {\n      var gl = this.gl;\n      if (tf) {\n        if (!this.feedback) {\n          this.feedback = gl.createTransformFeedback();\n        }\n        gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, this.feedback);\n      } else {\n        gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, null);\n      }\n    }\n  }, setRaster:function(on) {\n    if (this.raster === on) {\n      return;\n    }\n    this.raster = on;\n    if (this.webgl2) {\n      if (on) {\n        this.gl.disable(this.gl.RASTERIZER_DISCARD);\n      } else {\n        this.gl.enable(this.gl.RASTERIZER_DISCARD);\n      }\n    }\n  }, setDepthBias:function(on) {\n    if (this.depthBiasEnabled === on) {\n      return;\n    }\n    this.depthBiasEnabled = on;\n    if (on) {\n      this.gl.enable(this.gl.POLYGON_OFFSET_FILL);\n    } else {\n      this.gl.disable(this.gl.POLYGON_OFFSET_FILL);\n    }\n  }, setDepthBiasValues:function(constBias, slopeBias) {\n    this.gl.polygonOffset(slopeBias, constBias);\n  }, getBlending:function() {\n    return this.blending;\n  }, setBlending:function(blending) {\n    if (this.blending !== blending) {\n      var gl = this.gl;\n      if (blending) {\n        gl.enable(gl.BLEND);\n      } else {\n        gl.disable(gl.BLEND);\n      }\n      this.blending = blending;\n    }\n  }, setStencilTest:function(enable) {\n    if (this.stencil !== enable) {\n      var gl = this.gl;\n      if (enable) {\n        gl.enable(gl.STENCIL_TEST);\n      } else {\n        gl.disable(gl.STENCIL_TEST);\n      }\n      this.stencil = enable;\n    }\n  }, setStencilFunc:function(func, ref, mask) {\n    if (this.stencilFuncFront !== func || this.stencilRefFront !== ref || this.stencilMaskFront !== mask || this.stencilFuncBack !== func || this.stencilRefBack !== ref || this.stencilMaskBack !== mask) {\n      var gl = this.gl;\n      gl.stencilFunc(this.glComparison[func], ref, mask);\n      this.stencilFuncFront = this.stencilFuncBack = func;\n      this.stencilRefFront = this.stencilRefBack = ref;\n      this.stencilMaskFront = this.stencilMaskBack = mask;\n    }\n  }, setStencilFuncFront:function(func, ref, mask) {\n    if (this.stencilFuncFront !== func || this.stencilRefFront !== ref || this.stencilMaskFront !== mask) {\n      var gl = this.gl;\n      gl.stencilFuncSeparate(gl.FRONT, this.glComparison[func], ref, mask);\n      this.stencilFuncFront = func;\n      this.stencilRefFront = ref;\n      this.stencilMaskFront = mask;\n    }\n  }, setStencilFuncBack:function(func, ref, mask) {\n    if (this.stencilFuncBack !== func || this.stencilRefBack !== ref || this.stencilMaskBack !== mask) {\n      var gl = this.gl;\n      gl.stencilFuncSeparate(gl.BACK, this.glComparison[func], ref, mask);\n      this.stencilFuncBack = func;\n      this.stencilRefBack = ref;\n      this.stencilMaskBack = mask;\n    }\n  }, setStencilOperation:function(fail, zfail, zpass, writeMask) {\n    if (this.stencilFailFront !== fail || this.stencilZfailFront !== zfail || this.stencilZpassFront !== zpass || this.stencilFailBack !== fail || this.stencilZfailBack !== zfail || this.stencilZpassBack !== zpass) {\n      this.gl.stencilOp(this.glStencilOp[fail], this.glStencilOp[zfail], this.glStencilOp[zpass]);\n      this.stencilFailFront = this.stencilFailBack = fail;\n      this.stencilZfailFront = this.stencilZfailBack = zfail;\n      this.stencilZpassFront = this.stencilZpassBack = zpass;\n    }\n    if (this.stencilWriteMaskFront !== writeMask || this.stencilWriteMaskBack !== writeMask) {\n      this.gl.stencilMask(writeMask);\n      this.stencilWriteMaskFront = writeMask;\n      this.stencilWriteMaskBack = writeMask;\n    }\n  }, setStencilOperationFront:function(fail, zfail, zpass, writeMask) {\n    if (this.stencilFailFront !== fail || this.stencilZfailFront !== zfail || this.stencilZpassFront !== zpass) {\n      this.gl.stencilOpSeparate(this.gl.FRONT, this.glStencilOp[fail], this.glStencilOp[zfail], this.glStencilOp[zpass]);\n      this.stencilFailFront = fail;\n      this.stencilZfailFront = zfail;\n      this.stencilZpassFront = zpass;\n    }\n    if (this.stencilWriteMaskFront !== writeMask) {\n      this.gl.stencilMaskSeparate(this.gl.FRONT, writeMask);\n      this.stencilWriteMaskFront = writeMask;\n    }\n  }, setStencilOperationBack:function(fail, zfail, zpass, writeMask) {\n    if (this.stencilFailBack !== fail || this.stencilZfailBack !== zfail || this.stencilZpassBack !== zpass) {\n      this.gl.stencilOpSeparate(this.gl.BACK, this.glStencilOp[fail], this.glStencilOp[zfail], this.glStencilOp[zpass]);\n      this.stencilFailBack = fail;\n      this.stencilZfailBack = zfail;\n      this.stencilZpassBack = zpass;\n    }\n    if (this.stencilWriteMaskBack !== writeMask) {\n      this.gl.stencilMaskSeparate(this.gl.BACK, writeMask);\n      this.stencilWriteMaskBack = writeMask;\n    }\n  }, setBlendFunction:function(blendSrc, blendDst) {\n    if (this.blendSrc !== blendSrc || this.blendDst !== blendDst || this.separateAlphaBlend) {\n      this.gl.blendFunc(this.glBlendFunction[blendSrc], this.glBlendFunction[blendDst]);\n      this.blendSrc = blendSrc;\n      this.blendDst = blendDst;\n      this.separateAlphaBlend = false;\n    }\n  }, setBlendFunctionSeparate:function(blendSrc, blendDst, blendSrcAlpha, blendDstAlpha) {\n    if (this.blendSrc !== blendSrc || this.blendDst !== blendDst || this.blendSrcAlpha !== blendSrcAlpha || this.blendDstAlpha !== blendDstAlpha || !this.separateAlphaBlend) {\n      this.gl.blendFuncSeparate(this.glBlendFunction[blendSrc], this.glBlendFunction[blendDst], this.glBlendFunction[blendSrcAlpha], this.glBlendFunction[blendDstAlpha]);\n      this.blendSrc = blendSrc;\n      this.blendDst = blendDst;\n      this.blendSrcAlpha = blendSrcAlpha;\n      this.blendDstAlpha = blendDstAlpha;\n      this.separateAlphaBlend = true;\n    }\n  }, setBlendEquation:function(blendEquation) {\n    if (this.blendEquation !== blendEquation || this.separateAlphaEquation) {\n      this.gl.blendEquation(this.glBlendEquation[blendEquation]);\n      this.blendEquation = blendEquation;\n      this.separateAlphaEquation = false;\n    }\n  }, setBlendEquationSeparate:function(blendEquation, blendAlphaEquation) {\n    if (this.blendEquation !== blendEquation || this.blendAlphaEquation !== blendAlphaEquation || !this.separateAlphaEquation) {\n      this.gl.blendEquationSeparate(this.glBlendEquation[blendEquation], this.glBlendEquation[blendAlphaEquation]);\n      this.blendEquation = blendEquation;\n      this.blendAlphaEquation = blendAlphaEquation;\n      this.separateAlphaEquation = true;\n    }\n  }, setCullMode:function(cullMode) {\n    if (this.cullMode !== cullMode) {\n      if (cullMode === pc.CULLFACE_NONE) {\n        this.gl.disable(this.gl.CULL_FACE);\n      } else {\n        if (this.cullMode === pc.CULLFACE_NONE) {\n          this.gl.enable(this.gl.CULL_FACE);\n        }\n        var mode = this.glCull[cullMode];\n        if (this.cullFace !== mode) {\n          this.gl.cullFace(mode);\n          this.cullFace = mode;\n        }\n      }\n      this.cullMode = cullMode;\n    }\n  }, getCullMode:function() {\n    return this.cullMode;\n  }, setIndexBuffer:function(indexBuffer) {\n    this.indexBuffer = indexBuffer;\n  }, setVertexBuffer:function(vertexBuffer, stream, vbOffset) {\n    if (this.vertexBuffers[stream] !== vertexBuffer || this.vbOffsets[stream] !== vbOffset) {\n      this.vertexBuffers[stream] = vertexBuffer;\n      this.vbOffsets[stream] = vbOffset;\n      var vertexFormat = vertexBuffer.getFormat();\n      var i = 0;\n      var elements = vertexFormat.elements;\n      var numElements = elements.length;\n      while (i < numElements) {\n        var vertexElement = elements[i++];\n        vertexElement.stream = stream;\n        vertexElement.scopeId.setValue(vertexElement);\n      }\n      this.attributesInvalidated = true;\n    }\n  }, compileShaderSource:function(src, isVertexShader) {\n    var gl = this.gl;\n    var glShader = isVertexShader ? this.vertexShaderCache[src] : this.fragmentShaderCache[src];\n    if (!glShader) {\n      glShader = gl.createShader(isVertexShader ? gl.VERTEX_SHADER : gl.FRAGMENT_SHADER);\n      gl.shaderSource(glShader, src);\n      gl.compileShader(glShader);\n      if (isVertexShader) {\n        this.vertexShaderCache[src] = glShader;\n      } else {\n        this.fragmentShaderCache[src] = glShader;\n      }\n    }\n    return glShader;\n  }, compileAndLinkShader:function(shader) {\n    var gl = this.gl;\n    var definition = shader.definition;\n    var glVertexShader = this.compileShaderSource(definition.vshader, true);\n    var glFragmentShader = this.compileShaderSource(definition.fshader, false);\n    var glProgram = gl.createProgram();\n    gl.attachShader(glProgram, glVertexShader);\n    gl.attachShader(glProgram, glFragmentShader);\n    if (this.webgl2 && definition.useTransformFeedback) {\n      var attrs = definition.attributes;\n      var outNames = [];\n      for (var attr in attrs) {\n        if (attrs.hasOwnProperty(attr)) {\n          outNames.push(\"out_\" + attr);\n        }\n      }\n      gl.transformFeedbackVaryings(glProgram, outNames, gl.INTERLEAVED_ATTRIBS);\n    }\n    gl.linkProgram(glProgram);\n    shader._glVertexShader = glVertexShader;\n    shader._glFragmentShader = glFragmentShader;\n    shader._glProgram = glProgram;\n  }, createShader:function(shader) {\n    this.compileAndLinkShader(shader);\n    this.shaders.push(shader);\n  }, destroyShader:function(shader) {\n    var idx = this.shaders.indexOf(shader);\n    if (idx !== -1) {\n      this.shaders.splice(idx, 1);\n    }\n    if (shader._glProgram) {\n      this.gl.deleteProgram(shader._glProgram);\n      shader._glProgram = null;\n      this.removeShaderFromCache(shader);\n    }\n  }, _addLineNumbers:function(src) {\n    var lines = src.split(\"\\n\");\n    for (var i = 0, len = lines.length;i < len;i++) {\n      lines[i] = i + 1 + \":\\t\" + lines[i];\n    }\n    return lines.join(\"\\n\");\n  }, postLink:function(shader) {\n    var gl = this.gl;\n    var glVertexShader = shader._glVertexShader;\n    var glFragmentShader = shader._glFragmentShader;\n    var glProgram = shader._glProgram;\n    var definition = shader.definition;\n    if (!gl.getShaderParameter(glVertexShader, gl.COMPILE_STATUS)) {\n      console.error(\"Failed to compile vertex shader:\\n\\n\" + this._addLineNumbers(definition.vshader) + \"\\n\\n\" + gl.getShaderInfoLog(glVertexShader));\n      return false;\n    }\n    if (!gl.getShaderParameter(glFragmentShader, gl.COMPILE_STATUS)) {\n      console.error(\"Failed to compile fragment shader:\\n\\n\" + this._addLineNumbers(definition.fshader) + \"\\n\\n\" + gl.getShaderInfoLog(glFragmentShader));\n      return false;\n    }\n    if (!gl.getProgramParameter(glProgram, gl.LINK_STATUS)) {\n      console.error(\"Failed to link shader program. Error: \" + gl.getProgramInfoLog(glProgram));\n      return false;\n    }\n    var i, info, location, shaderInput;\n    i = 0;\n    var numAttributes = gl.getProgramParameter(glProgram, gl.ACTIVE_ATTRIBUTES);\n    while (i < numAttributes) {\n      info = gl.getActiveAttrib(glProgram, i++);\n      location = gl.getAttribLocation(glProgram, info.name);\n      if (definition.attributes[info.name] === undefined) {\n        console.error('Vertex shader attribute \"' + info.name + '\" is not mapped to a semantic in shader definition.');\n      }\n      shaderInput = new pc.ShaderInput(this, definition.attributes[info.name], this.pcUniformType[info.type], location);\n      shader.attributes.push(shaderInput);\n    }\n    i = 0;\n    var numUniforms = gl.getProgramParameter(glProgram, gl.ACTIVE_UNIFORMS);\n    while (i < numUniforms) {\n      info = gl.getActiveUniform(glProgram, i++);\n      location = gl.getUniformLocation(glProgram, info.name);\n      shaderInput = new pc.ShaderInput(this, info.name, this.pcUniformType[info.type], location);\n      if (info.type === gl.SAMPLER_2D || info.type === gl.SAMPLER_CUBE || this.webgl2 && (info.type === gl.SAMPLER_2D_SHADOW || info.type === gl.SAMPLER_CUBE_SHADOW || info.type === gl.SAMPLER_3D)) {\n        shader.samplers.push(shaderInput);\n      } else {\n        shader.uniforms.push(shaderInput);\n      }\n    }\n    shader.ready = true;\n    return true;\n  }, setShader:function(shader) {\n    if (shader !== this.shader) {\n      if (!shader.ready) {\n        if (!this.postLink(shader)) {\n          return false;\n        }\n      }\n      this.shader = shader;\n      this.gl.useProgram(shader._glProgram);\n      this.attributesInvalidated = true;\n    }\n    return true;\n  }, getHdrFormat:function() {\n    if (this.textureHalfFloatRenderable) {\n      return pc.PIXELFORMAT_RGB16F;\n    } else {\n      if (this.textureFloatRenderable) {\n        return pc.PIXELFORMAT_RGB32F;\n      }\n    }\n    return pc.PIXELFORMAT_R8_G8_B8_A8;\n  }, getBoneLimit:function() {\n    return this.boneLimit;\n  }, setBoneLimit:function(maxBones) {\n    this.boneLimit = maxBones;\n  }, resizeCanvas:function(width, height) {\n    this._width = width;\n    this._height = height;\n    var ratio = Math.min(this._maxPixelRatio, window.devicePixelRatio);\n    width *= ratio;\n    height *= ratio;\n    this.canvas.width = width;\n    this.canvas.height = height;\n    this.fire(EVENT_RESIZE, width, height);\n  }, setResolution:function(width, height) {\n    this._width = width;\n    this._height = height;\n    this.canvas.width = width;\n    this.canvas.height = height;\n    this.fire(EVENT_RESIZE, width, height);\n  }, clearShaderCache:function() {\n    var gl = this.gl;\n    var shaderSrc;\n    for (shaderSrc in this.fragmentShaderCache) {\n      gl.deleteShader(this.fragmentShaderCache[shaderSrc]);\n      delete this.fragmentShaderCache[shaderSrc];\n    }\n    for (shaderSrc in this.vertexShaderCache) {\n      gl.deleteShader(this.vertexShaderCache[shaderSrc]);\n      delete this.vertexShaderCache[shaderSrc];\n    }\n    this.programLib.clearCache();\n  }, removeShaderFromCache:function(shader) {\n    this.programLib.removeFromCache(shader);\n  }, destroy:function() {\n    var gl = this.gl;\n    this.destroyGrabPass();\n    if (this.webgl2 && this.feedback) {\n      gl.deleteTransformFeedback(this.feedback);\n    }\n    this.clearShaderCache();\n    this.canvas.removeEventListener(\"webglcontextlost\", this._contextLostHandler, false);\n    this.canvas.removeEventListener(\"webglcontextrestored\", this._contextRestoredHandler, false);\n    this._contextLostHandler = null;\n    this._contextRestoredHandler = null;\n    this.canvas = null;\n    this.gl = null;\n  }});\n  Object.defineProperty(GraphicsDevice.prototype, \"width\", {get:function() {\n    return this.gl.drawingBufferWidth || this.canvas.width;\n  }});\n  Object.defineProperty(GraphicsDevice.prototype, \"height\", {get:function() {\n    return this.gl.drawingBufferHeight || this.canvas.height;\n  }});\n  Object.defineProperty(GraphicsDevice.prototype, \"fullscreen\", {get:function() {\n    return !!document.fullscreenElement;\n  }, set:function(fullscreen) {\n    if (fullscreen) {\n      var canvas = this.gl.canvas;\n      canvas.requestFullscreen();\n    } else {\n      document.exitFullscreen();\n    }\n  }});\n  Object.defineProperty(GraphicsDevice.prototype, \"enableAutoInstancing\", {get:function() {\n    return this._enableAutoInstancing;\n  }, set:function(value) {\n    this._enableAutoInstancing = value && this.extInstancing;\n  }});\n  Object.defineProperty(GraphicsDevice.prototype, \"maxPixelRatio\", {get:function() {\n    return this._maxPixelRatio;\n  }, set:function(ratio) {\n    this._maxPixelRatio = ratio;\n    this.resizeCanvas(this._width, this._height);\n  }});\n  Object.defineProperty(GraphicsDevice.prototype, \"textureFloatHighPrecision\", {get:function() {\n    if (this._textureFloatHighPrecision === undefined) {\n      this._textureFloatHighPrecision = testTextureFloatHighPrecision(this);\n    }\n    return this._textureFloatHighPrecision;\n  }});\n  return {GraphicsDevice:GraphicsDevice};\n}());\nObject.assign(pc, function() {\n  var shaderChunks = {};\n  var attrib2Semantic = {vertex_position:pc.SEMANTIC_POSITION, vertex_normal:pc.SEMANTIC_NORMAL, vertex_tangent:pc.SEMANTIC_TANGENT, vertex_texCoord0:pc.SEMANTIC_TEXCOORD0, vertex_texCoord1:pc.SEMANTIC_TEXCOORD1, vertex_texCoord2:pc.SEMANTIC_TEXCOORD2, vertex_texCoord3:pc.SEMANTIC_TEXCOORD3, vertex_texCoord4:pc.SEMANTIC_TEXCOORD4, vertex_texCoord5:pc.SEMANTIC_TEXCOORD5, vertex_texCoord6:pc.SEMANTIC_TEXCOORD6, vertex_texCoord7:pc.SEMANTIC_TEXCOORD7, vertex_color:pc.SEMANTIC_COLOR, vertex_boneIndices:pc.SEMANTIC_BLENDINDICES, \n  vertex_boneWeights:pc.SEMANTIC_BLENDWEIGHT};\n  shaderChunks.collectAttribs = function(vsCode) {\n    var attribs = {};\n    var attrs = 0;\n    var found = vsCode.indexOf(\"attribute\");\n    while (found >= 0) {\n      if (found > 0 && vsCode[found - 1] === \"/\") {\n        break;\n      }\n      var endOfLine = vsCode.indexOf(\";\", found);\n      var startOfAttribName = vsCode.lastIndexOf(\" \", endOfLine);\n      var attribName = vsCode.substr(startOfAttribName + 1, endOfLine - (startOfAttribName + 1));\n      var semantic = attrib2Semantic[attribName];\n      if (semantic !== undefined) {\n        attribs[attribName] = semantic;\n      } else {\n        attribs[attribName] = \"ATTR\" + attrs;\n        attrs++;\n      }\n      found = vsCode.indexOf(\"attribute\", found + 1);\n    }\n    return attribs;\n  };\n  shaderChunks.createShader = function(device, vsName, psName, useTransformFeedback) {\n    var vsCode = shaderChunks[vsName];\n    var psCode = pc.programlib.precisionCode(device) + \"\\n\" + shaderChunks[psName];\n    var attribs = this.collectAttribs(vsCode);\n    if (device.webgl2) {\n      vsCode = pc.programlib.versionCode(device) + this.gles3VS + vsCode;\n      psCode = pc.programlib.versionCode(device) + this.gles3PS + psCode;\n    }\n    return new pc.Shader(device, {attributes:attribs, vshader:vsCode, fshader:psCode, useTransformFeedback:useTransformFeedback});\n  };\n  shaderChunks.createShaderFromCode = function(device, vsCode, psCode, uName, useTransformFeedback) {\n    var shaderCache = device.programLib._cache;\n    var cached = shaderCache[uName];\n    if (cached !== undefined) {\n      return cached;\n    }\n    psCode = pc.programlib.precisionCode(device) + \"\\n\" + (psCode || pc.programlib.dummyFragmentCode());\n    var attribs = this.collectAttribs(vsCode);\n    if (device.webgl2) {\n      vsCode = pc.programlib.versionCode(device) + this.gles3VS + vsCode;\n      psCode = pc.programlib.versionCode(device) + this.gles3PS + psCode;\n    }\n    shaderCache[uName] = new pc.Shader(device, {attributes:attribs, vshader:vsCode, fshader:psCode, useTransformFeedback:useTransformFeedback});\n    return shaderCache[uName];\n  };\n  return {shaderChunks:shaderChunks};\n}());\nObject.assign(pc, function() {\n  var _postEffectQuadVB = null;\n  var _postEffectQuadDraw = {type:pc.PRIMITIVE_TRISTRIP, base:0, count:4, indexed:false};\n  function drawQuadWithShader(device, target, shader, rect, scissorRect, useBlend) {\n    if (_postEffectQuadVB === null) {\n      var vertexFormat = new pc.VertexFormat(device, [{semantic:pc.SEMANTIC_POSITION, components:2, type:pc.TYPE_FLOAT32}]);\n      _postEffectQuadVB = new pc.VertexBuffer(device, vertexFormat, 4);\n      var iterator = new pc.VertexIterator(_postEffectQuadVB);\n      iterator.element[pc.SEMANTIC_POSITION].set(-1.0, -1.0);\n      iterator.next();\n      iterator.element[pc.SEMANTIC_POSITION].set(1.0, -1.0);\n      iterator.next();\n      iterator.element[pc.SEMANTIC_POSITION].set(-1.0, 1.0);\n      iterator.next();\n      iterator.element[pc.SEMANTIC_POSITION].set(1.0, 1.0);\n      iterator.end();\n    }\n    var oldRt = device.renderTarget;\n    device.setRenderTarget(target);\n    device.updateBegin();\n    var x, y, w, h;\n    var sx, sy, sw, sh;\n    if (!rect) {\n      w = target ? target.width : device.width;\n      h = target ? target.height : device.height;\n      x = 0;\n      y = 0;\n    } else {\n      x = rect.x;\n      y = rect.y;\n      w = rect.z;\n      h = rect.w;\n    }\n    if (!scissorRect) {\n      sx = x;\n      sy = y;\n      sw = w;\n      sh = h;\n    } else {\n      sx = scissorRect.x;\n      sy = scissorRect.y;\n      sw = scissorRect.z;\n      sh = scissorRect.w;\n    }\n    var oldVx = device.vx;\n    var oldVy = device.vy;\n    var oldVw = device.vw;\n    var oldVh = device.vh;\n    device.setViewport(x, y, w, h);\n    var oldSx = device.sx;\n    var oldSy = device.sy;\n    var oldSw = device.sw;\n    var oldSh = device.sh;\n    device.setScissor(sx, sy, sw, sh);\n    var oldDepthTest = device.getDepthTest();\n    var oldDepthWrite = device.getDepthWrite();\n    var oldCullMode = device.getCullMode();\n    var oldWR = device.writeRed;\n    var oldWG = device.writeGreen;\n    var oldWB = device.writeBlue;\n    var oldWA = device.writeAlpha;\n    device.setDepthTest(false);\n    device.setDepthWrite(false);\n    device.setCullMode(pc.CULLFACE_NONE);\n    device.setColorWrite(true, true, true, true);\n    if (!useBlend) {\n      device.setBlending(false);\n    }\n    device.setVertexBuffer(_postEffectQuadVB, 0);\n    device.setShader(shader);\n    device.draw(_postEffectQuadDraw);\n    device.setDepthTest(oldDepthTest);\n    device.setDepthWrite(oldDepthWrite);\n    device.setCullMode(oldCullMode);\n    device.setColorWrite(oldWR, oldWG, oldWB, oldWA);\n    device.updateEnd();\n    device.setRenderTarget(oldRt);\n    device.updateBegin();\n    device.setViewport(oldVx, oldVy, oldVw, oldVh);\n    device.setScissor(oldSx, oldSy, oldSw, oldSh);\n  }\n  function destroyPostEffectQuad() {\n    if (_postEffectQuadVB) {\n      _postEffectQuadVB.destroy();\n      _postEffectQuadVB = null;\n    }\n  }\n  return {drawQuadWithShader:drawQuadWithShader, destroyPostEffectQuad:destroyPostEffectQuad};\n}());\nObject.assign(pc, function() {\n  function syncToCpu(device, targ, face) {\n    var tex = targ._colorBuffer;\n    if (tex.format != pc.PIXELFORMAT_R8_G8_B8_A8) {\n      return;\n    }\n    var pixels = new Uint8Array(tex.width * tex.height * 4);\n    var gl = device.gl;\n    device.setFramebuffer(targ._glFrameBuffer);\n    gl.readPixels(0, 0, tex.width, tex.height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n    if (!tex._levels) {\n      tex._levels = [];\n    }\n    if (!tex._levels[0]) {\n      tex._levels[0] = [];\n    }\n    tex._levels[0][face] = pixels;\n  }\n  function prefilterCubemap(options) {\n    var device = options.device;\n    var sourceCubemap = options.sourceCubemap;\n    var method = options.method;\n    var samples = options.samples;\n    var cpuSync = options.cpuSync;\n    if (cpuSync && !sourceCubemap._levels[0]) {\n      console.error(\"ERROR: prefilter: cubemap must have _levels\");\n      return;\n    }\n    var chunks = pc.shaderChunks;\n    var rgbmSource = sourceCubemap.rgbm;\n    var shader = chunks.createShaderFromCode(device, chunks.fullscreenQuadVS, chunks.rgbmPS + chunks.prefilterCubemapPS.replace(/\\$METHOD/g, method === 0 ? \"cos\" : \"phong\").replace(/\\$NUMSAMPLES/g, samples).replace(/\\$textureCube/g, rgbmSource ? \"textureCubeRGBM\" : \"textureCube\"), \"prefilter\" + method + \"\" + samples + \"\" + rgbmSource);\n    var shader2 = chunks.createShaderFromCode(device, chunks.fullscreenQuadVS, chunks.outputCubemapPS, \"outputCubemap\");\n    var constantTexSource = device.scope.resolve(\"source\");\n    var constantParams = device.scope.resolve(\"params\");\n    var params = new pc.Vec4;\n    var size = sourceCubemap.width;\n    var format = sourceCubemap.format;\n    var cmapsList = [[], options.filteredFixed, options.filteredRgbm, options.filteredFixedRgbm];\n    var gloss = method === 0 ? [0.9, 0.85, 0.7, 0.4, 0.25, 0.15, 0.1] : [512, 128, 32, 8, 2, 1, 1];\n    var mipSize = [64, 32, 16, 8, 4, 2, 1];\n    var numMips = 7;\n    var targ;\n    var i, face, pass;\n    var rgbFormat = format === pc.PIXELFORMAT_R8_G8_B8;\n    var isImg = false;\n    var nextCubemap, cubemap;\n    if (cpuSync) {\n      isImg = sourceCubemap._levels[0][0] instanceof HTMLImageElement;\n    }\n    if ((rgbFormat || isImg) && cpuSync) {\n      format = pc.PIXELFORMAT_R8_G8_B8_A8;\n      nextCubemap = new pc.Texture(device, {cubemap:true, rgbm:rgbmSource, format:format, width:size, height:size, mipmaps:false});\n      nextCubemap.name = \"prefiltered-cube\";\n      for (face = 0;face < 6;face++) {\n        targ = new pc.RenderTarget(device, nextCubemap, {face:face, depth:false});\n        params.x = face;\n        params.y = 0;\n        constantTexSource.setValue(sourceCubemap);\n        constantParams.setValue(params.data);\n        pc.drawQuadWithShader(device, targ, shader2);\n        syncToCpu(device, targ, face);\n      }\n      sourceCubemap = nextCubemap;\n    }\n    if (size > 128) {\n      var log128 = Math.round(Math.log2(128));\n      var logSize = Math.round(Math.log2(size));\n      var steps = logSize - log128;\n      for (i = 0;i < steps;i++) {\n        size = sourceCubemap.width * 0.5;\n        var sampleGloss = method === 0 ? 1 : Math.pow(2, Math.round(Math.log2(gloss[0]) + (steps - i) * 2));\n        nextCubemap = new pc.Texture(device, {cubemap:true, rgbm:rgbmSource, format:format, width:size, height:size, mipmaps:false});\n        nextCubemap.name = \"prefiltered-cube\";\n        for (face = 0;face < 6;face++) {\n          targ = new pc.RenderTarget(device, nextCubemap, {face:face, depth:false});\n          params.x = face;\n          params.y = sampleGloss;\n          params.z = size;\n          params.w = rgbmSource ? 3 : 0;\n          constantTexSource.setValue(sourceCubemap);\n          constantParams.setValue(params.data);\n          pc.drawQuadWithShader(device, targ, shader2);\n          if (i === steps - 1 && cpuSync) {\n            syncToCpu(device, targ, face);\n          }\n        }\n        sourceCubemap = nextCubemap;\n      }\n    }\n    options.sourceCubemap = sourceCubemap;\n    var sourceCubemapRgbm = null;\n    if (!rgbmSource && options.filteredFixedRgbm) {\n      nextCubemap = new pc.Texture(device, {cubemap:true, rgbm:true, format:pc.PIXELFORMAT_R8_G8_B8_A8, width:size, height:size, mipmaps:false});\n      nextCubemap.name = \"prefiltered-cube\";\n      for (face = 0;face < 6;face++) {\n        targ = new pc.RenderTarget(device, nextCubemap, {face:face, depth:false});\n        params.x = face;\n        params.w = 2;\n        constantTexSource.setValue(sourceCubemap);\n        constantParams.setValue(params.data);\n        pc.drawQuadWithShader(device, targ, shader2);\n        syncToCpu(device, targ, face);\n      }\n      sourceCubemapRgbm = nextCubemap;\n    }\n    var unblurredGloss = method === 0 ? 1 : 2048;\n    var startPass = method === 0 ? 0 : -1;\n    cmapsList[startPass] = [];\n    for (i = 0;i < numMips;i++) {\n      for (pass = startPass;pass < cmapsList.length;pass++) {\n        if (cmapsList[pass] != null) {\n          cmapsList[pass][i] = new pc.Texture(device, {cubemap:true, rgbm:pass < 2 ? rgbmSource : true, format:pass < 2 ? format : pc.PIXELFORMAT_R8_G8_B8_A8, fixCubemapSeams:pass === 1 || pass === 3, width:mipSize[i], height:mipSize[i], mipmaps:false});\n          cmapsList[pass][i].name = \"prefiltered-cube\";\n        }\n      }\n    }\n    for (pass = startPass;pass < cmapsList.length;pass++) {\n      if (cmapsList[pass] != null) {\n        if (pass > 1 && rgbmSource) {\n          cmapsList[pass] = cmapsList[pass - 2];\n          continue;\n        }\n        for (i = 0;i < numMips;i++) {\n          for (face = 0;face < 6;face++) {\n            targ = new pc.RenderTarget(device, cmapsList[pass][i], {face:face, depth:false});\n            params.x = face;\n            params.y = pass < 0 ? unblurredGloss : gloss[i];\n            params.z = mipSize[i];\n            params.w = rgbmSource ? 3 : pass;\n            constantTexSource.setValue(i === 0 ? sourceCubemap : method === 0 ? cmapsList[0][i - 1] : cmapsList[-1][i - 1]);\n            constantParams.setValue(params.data);\n            pc.drawQuadWithShader(device, targ, shader);\n            if (cpuSync) {\n              syncToCpu(device, targ, face);\n            }\n          }\n        }\n      }\n    }\n    options.filtered = cmapsList[0];\n    var mips;\n    if (cpuSync && options.singleFilteredFixed) {\n      mips = [sourceCubemap].concat(options.filteredFixed);\n      cubemap = new pc.Texture(device, {cubemap:true, rgbm:rgbmSource, fixCubemapSeams:true, format:format, width:128, height:128, addressU:pc.ADDRESS_CLAMP_TO_EDGE, addressV:pc.ADDRESS_CLAMP_TO_EDGE});\n      cubemap.name = \"prefiltered-cube\";\n      for (i = 0;i < mips.length;i++) {\n        cubemap._levels[i] = mips[i]._levels[0];\n      }\n      cubemap.upload();\n      cubemap._prefilteredMips = true;\n      options.singleFilteredFixed = cubemap;\n    }\n    if (cpuSync && options.singleFilteredFixedRgbm && options.filteredFixedRgbm) {\n      mips = [sourceCubemapRgbm].concat(options.filteredFixedRgbm);\n      cubemap = new pc.Texture(device, {cubemap:true, rgbm:true, fixCubemapSeams:true, format:pc.PIXELFORMAT_R8_G8_B8_A8, width:128, height:128, addressU:pc.ADDRESS_CLAMP_TO_EDGE, addressV:pc.ADDRESS_CLAMP_TO_EDGE});\n      cubemap.name = \"prefiltered-cube\";\n      for (i = 0;i < mips.length;i++) {\n        cubemap._levels[i] = mips[i]._levels[0];\n      }\n      cubemap.upload();\n      cubemap._prefilteredMips = true;\n      options.singleFilteredFixedRgbm = cubemap;\n    }\n  }\n  function areaElement(x, y) {\n    return Math.atan2(x * y, Math.sqrt(x * x + y * y + 1));\n  }\n  function texelCoordSolidAngle(u, v, size) {\n    var _u = 2.0 * (u + 0.5) / size - 1.0;\n    var _v = 2.0 * (v + 0.5) / size - 1.0;\n    _u *= 1.0 - 1.0 / size;\n    _v *= 1.0 - 1.0 / size;\n    var invResolution = 1.0 / size;\n    var x0 = _u - invResolution;\n    var y0 = _v - invResolution;\n    var x1 = _u + invResolution;\n    var y1 = _v + invResolution;\n    var solidAngle = areaElement(x0, y0) - areaElement(x0, y1) - areaElement(x1, y0) + areaElement(x1, y1);\n    if (u === 0 && v === 0 || u === size - 1 && v === 0 || u === 0 && v === size - 1 || u === size - 1 && v === size - 1) {\n      solidAngle /= 3;\n    } else {\n      if (u === 0 || v === 0 || u === size - 1 || v === size - 1) {\n        solidAngle *= 0.5;\n      }\n    }\n    return solidAngle;\n  }\n  function shFromCubemap(source, dontFlipX) {\n    var face;\n    var cubeSize = source.width;\n    var x, y;\n    if (source.format != pc.PIXELFORMAT_R8_G8_B8_A8) {\n      console.error(\"ERROR: SH: cubemap must be RGBA8\");\n      return;\n    }\n    if (!source._levels[0]) {\n      console.error(\"ERROR: SH: cubemap must be synced to CPU\");\n      return;\n    }\n    if (!source._levels[0][0].length) {\n      if (source._levels[0][0] instanceof HTMLImageElement) {\n        var device = pc.Application.getApplication().graphicsDevice;\n        var gl = device.gl;\n        var chunks = pc.shaderChunks;\n        var shader = chunks.createShaderFromCode(device, chunks.fullscreenQuadVS, chunks.fullscreenQuadPS, \"fsQuadSimple\");\n        var constantTexSource = device.scope.resolve(\"source\");\n        for (face = 0;face < 6;face++) {\n          var img = source._levels[0][face];\n          var tex = new pc.Texture(device, {cubemap:false, rgbm:false, format:source.format, width:cubeSize, height:cubeSize, mipmaps:false});\n          tex.name = \"prefiltered-cube\";\n          tex._levels[0] = img;\n          tex.upload();\n          var tex2 = new pc.Texture(device, {cubemap:false, rgbm:false, format:source.format, width:cubeSize, height:cubeSize, mipmaps:false});\n          tex2.name = \"prefiltered-cube\";\n          var targ = new pc.RenderTarget(device, tex2, {depth:false});\n          constantTexSource.setValue(tex);\n          pc.drawQuadWithShader(device, targ, shader);\n          var pixels = new Uint8Array(cubeSize * cubeSize * 4);\n          gl.bindFramebuffer(gl.FRAMEBUFFER, targ._glFrameBuffer);\n          gl.readPixels(0, 0, tex.width, tex.height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n          source._levels[0][face] = pixels;\n        }\n      } else {\n        console.error(\"ERROR: SH: cubemap must be composed of arrays or images\");\n        return;\n      }\n    }\n    var dirs = [];\n    for (y = 0;y < cubeSize;y++) {\n      for (x = 0;x < cubeSize;x++) {\n        var u = x / (cubeSize - 1) * 2 - 1;\n        var v = y / (cubeSize - 1) * 2 - 1;\n        dirs[y * cubeSize + x] = (new pc.Vec3(u, v, 1.0)).normalize();\n      }\n    }\n    var sh = new Float32Array(9 * 3);\n    var coef1 = 0;\n    var coef2 = 1 * 3;\n    var coef3 = 2 * 3;\n    var coef4 = 3 * 3;\n    var coef5 = 4 * 3;\n    var coef6 = 5 * 3;\n    var coef7 = 6 * 3;\n    var coef8 = 7 * 3;\n    var coef9 = 8 * 3;\n    var nx = 0;\n    var px = 1;\n    var ny = 2;\n    var py = 3;\n    var nz = 4;\n    var pz = 5;\n    var addr, c, a, value, weight, dir, dx, dy, dz;\n    var weight1, weight2, weight3, weight4, weight5;\n    var accum = 0;\n    for (face = 0;face < 6;face++) {\n      for (y = 0;y < cubeSize;y++) {\n        for (x = 0;x < cubeSize;x++) {\n          addr = y * cubeSize + x;\n          weight = texelCoordSolidAngle(x, y, cubeSize);\n          weight1 = weight * 4 / 17;\n          weight2 = weight * 8 / 17;\n          weight3 = weight * 15 / 17;\n          weight4 = weight * 5 / 68;\n          weight5 = weight * 15 / 68;\n          dir = dirs[addr];\n          if (face == nx) {\n            dx = dir.z;\n            dy = -dir.y;\n            dz = -dir.x;\n          } else {\n            if (face == px) {\n              dx = -dir.z;\n              dy = -dir.y;\n              dz = dir.x;\n            } else {\n              if (face == ny) {\n                dx = dir.x;\n                dy = dir.z;\n                dz = dir.y;\n              } else {\n                if (face == py) {\n                  dx = dir.x;\n                  dy = -dir.z;\n                  dz = -dir.y;\n                } else {\n                  if (face == nz) {\n                    dx = dir.x;\n                    dy = -dir.y;\n                    dz = dir.z;\n                  } else {\n                    if (face == pz) {\n                      dx = -dir.x;\n                      dy = -dir.y;\n                      dz = -dir.z;\n                    }\n                  }\n                }\n              }\n            }\n          }\n          if (!dontFlipX) {\n            dx = -dx;\n          }\n          a = source._levels[0][face][addr * 4 + 3] / 255.0;\n          for (c = 0;c < 3;c++) {\n            value = source._levels[0][face][addr * 4 + c] / 255.0;\n            if (source.rgbm) {\n              value *= a * 8.0;\n              value *= value;\n            } else {\n              value = Math.pow(value, 2.2);\n            }\n            sh[coef1 + c] += value * weight1;\n            sh[coef2 + c] += value * weight2 * dx;\n            sh[coef3 + c] += value * weight2 * dy;\n            sh[coef4 + c] += value * weight2 * dz;\n            sh[coef5 + c] += value * weight3 * dx * dz;\n            sh[coef6 + c] += value * weight3 * dz * dy;\n            sh[coef7 + c] += value * weight3 * dy * dx;\n            sh[coef8 + c] += value * weight4 * (3.0 * dz * dz - 1.0);\n            sh[coef9 + c] += value * weight5 * (dx * dx - dy * dy);\n            accum += weight;\n          }\n        }\n      }\n    }\n    for (c = 0;c < sh.length;c++) {\n      sh[c] *= 4 * Math.PI / accum;\n    }\n    return sh;\n  }\n  return {prefilterCubemap:prefilterCubemap, shFromCubemap:shFromCubemap};\n}());\nObject.assign(pc, function() {\n  var dpMult = 2.0;\n  function paraboloidFromCubemap(device, sourceCubemap, fixSeamsAmount, dontFlipX) {\n    var chunks = pc.shaderChunks;\n    var shader = chunks.createShaderFromCode(device, chunks.fullscreenQuadVS, (sourceCubemap.fixCubemapSeams ? chunks.fixCubemapSeamsStretchPS : chunks.fixCubemapSeamsNonePS) + chunks.genParaboloidPS, \"genParaboloid\");\n    var constantTexSource = device.scope.resolve(\"source\");\n    var constantParams = device.scope.resolve(\"params\");\n    var params = new pc.Vec4;\n    var size = sourceCubemap.width;\n    var rgbmSource = sourceCubemap.rgbm;\n    var format = sourceCubemap.format;\n    size = Math.max(size, 8) * dpMult;\n    var tex = new pc.Texture(device, {rgbm:rgbmSource, format:format, width:size * 2, height:size, mipmaps:false});\n    tex.name = \"paraboloid\";\n    var targ = new pc.RenderTarget(device, tex, {depth:false});\n    params.x = fixSeamsAmount;\n    params.y = dontFlipX ? -1.0 : 1.0;\n    constantTexSource.setValue(sourceCubemap);\n    constantParams.setValue(params.data);\n    pc.drawQuadWithShader(device, targ, shader);\n    return tex;\n  }\n  function getDpAtlasRect(rect, mip) {\n    rect.x = pc.math.clamp(mip - 2.0, 0, 1) * 0.5;\n    var t = mip - rect.x * 6.0;\n    var i = 1.0 - rect.x;\n    rect.y = Math.min(t * 0.5, 0.75) * i + rect.x;\n    rect.z = (1.0 - pc.math.clamp(t, 0, 1) * 0.5) * i;\n    rect.w = rect.z * 0.5;\n    return 1.0 / rect.z;\n  }\n  function generateDpAtlas(device, sixCubemaps, dontFlipX) {\n    var dp, rect;\n    rect = new pc.Vec4;\n    var params = new pc.Vec4;\n    var size = sixCubemaps[0].width * 2 * dpMult;\n    var chunks = pc.shaderChunks;\n    var shader = chunks.createShaderFromCode(device, chunks.fullscreenQuadVS, chunks.dpAtlasQuadPS, \"dpAtlasQuad\");\n    var constantTexSource = device.scope.resolve(\"source\");\n    var constantParams = device.scope.resolve(\"params\");\n    var tex = new pc.Texture(device, {rgbm:sixCubemaps[0].rgbm, format:sixCubemaps[0].format, width:size, height:size, mipmaps:false});\n    tex.name = \"paraboloid\";\n    var targ = new pc.RenderTarget(device, tex, {depth:false});\n    var borderSize = 2;\n    var mip0Width = size;\n    var scaleFactor = (mip0Width + borderSize) / mip0Width - 1;\n    var scaleAmount;\n    for (var i = 0;i < 6;i++) {\n      dp = pc.paraboloidFromCubemap(device, sixCubemaps[i], i, dontFlipX);\n      constantTexSource.setValue(dp);\n      scaleAmount = getDpAtlasRect(rect, i);\n      params.x = scaleAmount * scaleFactor;\n      params.y = params.x * 2;\n      params.x += 1;\n      params.y += 1;\n      constantParams.setValue(params.data);\n      rect.x *= size;\n      rect.y *= size;\n      rect.z *= size;\n      rect.w *= size;\n      pc.drawQuadWithShader(device, targ, shader, rect);\n    }\n    return tex;\n  }\n  return {paraboloidFromCubemap:paraboloidFromCubemap, generateDpAtlas:generateDpAtlas};\n}());\npc.shaderChunks.TBNPS = \"void getTBN() {\\n    dTBN = mat3(normalize(dTangentW), normalize(dBinormalW), normalize(dVertexNormalW));\\n}\\n\";\npc.shaderChunks.TBNderivativePS = \"// http://www.thetenthplanet.de/archives/1180\\nvoid getTBN() {\\n    vec2 uv = $UV;\\n    // get edge vectors of the pixel triangle\\n    vec3 dp1 = dFdx( vPositionW );\\n    vec3 dp2 = dFdy( vPositionW );\\n    vec2 duv1 = dFdx( uv );\\n    vec2 duv2 = dFdy( uv );\\n    // solve the linear system\\n    vec3 dp2perp = cross( dp2, dVertexNormalW );\\n    vec3 dp1perp = cross( dVertexNormalW, dp1 );\\n    vec3 T = dp2perp * duv1.x + dp1perp * duv2.x;\\n    vec3 B = dp2perp * duv1.y + dp1perp * duv2.y;\\n    // construct a scale-invariant frame\\n    float invmax = 1.0 / sqrt( max( dot(T,T), dot(B,B) ) );\\n    dTBN = mat3( T * invmax, B * invmax, dVertexNormalW );\\n}\\n\";\npc.shaderChunks.TBNfastPS = \"void getTBN() {\\n    dTBN = mat3(dTangentW, dBinormalW, dVertexNormalW);\\n}\\n\";\npc.shaderChunks.alphaTestPS = \"uniform float alpha_ref;\\nvoid alphaTest(float a) {\\n    if (a < alpha_ref) discard;\\n}\\n\";\npc.shaderChunks.ambientConstantPS = \"\\nvoid addAmbient() {\\n    dDiffuseLight += light_globalAmbient;\\n}\\n\";\npc.shaderChunks.ambientPrefilteredCubePS = \"#ifndef PMREM4\\n#define PMREM4\\nuniform samplerCube texture_prefilteredCubeMap4;\\n#endif\\nvoid addAmbient() {\\n    vec3 fixedReflDir = fixSeamsStatic(dNormalW, 1.0 - 1.0 / 4.0);\\n    fixedReflDir.x *= -1.0;\\n    dDiffuseLight += processEnvironment($DECODE(textureCube(texture_prefilteredCubeMap4, fixedReflDir)).rgb);\\n}\\n\";\npc.shaderChunks.ambientPrefilteredCubeLodPS = \"#ifndef PMREM4\\n#define PMREM4\\n#extension GL_EXT_shader_texture_lod : enable\\nuniform samplerCube texture_prefilteredCubeMap128;\\n#endif\\nvoid addAmbient() {\\n    vec3 fixedReflDir = fixSeamsStatic(dNormalW, 1.0 - 1.0 / 4.0);\\n    fixedReflDir.x *= -1.0;\\n    dDiffuseLight += processEnvironment($DECODE( textureCubeLodEXT(texture_prefilteredCubeMap128, fixedReflDir, 5.0) ).rgb);\\n}\\n\";\npc.shaderChunks.ambientSHPS = \"uniform vec3 ambientSH[9];\\nvoid addAmbient() {\\n    vec3 n = dNormalW;\\n    vec3 color =\\n                        ambientSH[0] +\\n                        ambientSH[1] * n.x +\\n                        ambientSH[2] * n.y +\\n                        ambientSH[3] * n.z +\\n                        ambientSH[4] * n.x * n.z +\\n                        ambientSH[5] * n.z * n.y +\\n                        ambientSH[6] * n.y * n.x +\\n                        ambientSH[7] * (3.0 * n.z * n.z - 1.0) +\\n                        ambientSH[8] * (n.x * n.x - n.y * n.y);\\n    dDiffuseLight += processEnvironment(max(color, vec3(0.0)));\\n}\\n\";\npc.shaderChunks.aoPS = \"#ifdef MAPTEXTURE\\nuniform sampler2D texture_aoMap;\\n#endif\\nvoid applyAO() {\\n    dAo = 1.0;\\n    #ifdef MAPTEXTURE\\n        dAo *= texture2D(texture_aoMap, $UV).$CH;\\n    #endif\\n    #ifdef MAPVERTEX\\n        dAo *= saturate(vVertexColor.$VC);\\n    #endif\\n    dDiffuseLight *= dAo;\\n}\\n\";\npc.shaderChunks.aoSpecOccPS = \"uniform float material_occludeSpecularIntensity;\\nvoid occludeSpecular() {\\n    // approximated specular occlusion from AO\\n    float specPow = exp2(dGlossiness * 11.0);\\n    // http://research.tri-ace.com/Data/cedec2011_RealtimePBR_Implementation_e.pptx\\n    float specOcc = saturate(pow(dot(dNormalW, dViewDirW) + dAo, 0.01*specPow) - 1.0 + dAo);\\n    specOcc = mix(1.0, specOcc, material_occludeSpecularIntensity);\\n    dSpecularLight *= specOcc;\\n    dReflection *= specOcc;\\n}\\n\";\npc.shaderChunks.aoSpecOccConstPS = \"void occludeSpecular() {\\n    // approximated specular occlusion from AO\\n    float specPow = exp2(dGlossiness * 11.0);\\n    // http://research.tri-ace.com/Data/cedec2011_RealtimePBR_Implementation_e.pptx\\n    float specOcc = saturate(pow(dot(dNormalW, dViewDirW) + dAo, 0.01*specPow) - 1.0 + dAo);\\n    dSpecularLight *= specOcc;\\n    dReflection *= specOcc;\\n}\\n\";\npc.shaderChunks.aoSpecOccConstSimplePS = \"void occludeSpecular() {\\n    float specOcc = dAo;\\n    dSpecularLight *= specOcc;\\n    dReflection *= specOcc;\\n}\\n\";\npc.shaderChunks.aoSpecOccSimplePS = \"uniform float material_occludeSpecularIntensity;\\nvoid occludeSpecular() {\\n    float specOcc = mix(1.0, dAo, material_occludeSpecularIntensity);\\n    dSpecularLight *= specOcc;\\n    dReflection *= specOcc;\\n}\\n\";\npc.shaderChunks.bakeDirLmEndPS = \"\\n    vec4 dirLm = texture2D(texture_dirLightMap, vUv1);\\n    if (bakeDir > 0.5) {\\n        if (dAtten > 0.00001) {\\n            dirLm.xyz = dirLm.xyz * 2.0 - vec3(1.0);\\n            dAtten = saturate(dAtten);\\n            gl_FragColor.rgb = normalize(dLightDirNormW.xyz*dAtten + dirLm.xyz*dirLm.w) * 0.5 + vec3(0.5);\\n            gl_FragColor.a = dirLm.w + dAtten;\\n            gl_FragColor.a = max(gl_FragColor.a, 1.0 / 255.0);\\n        } else {\\n            gl_FragColor = dirLm;\\n        }\\n    } else {\\n        gl_FragColor.rgb = dirLm.xyz;\\n        gl_FragColor.a = max(dirLm.w, dAtten > 0.00001? (1.0/255.0) : 0.0);\\n    }\\n\";\npc.shaderChunks.bakeLmEndPS = \"\\ngl_FragColor.rgb = dDiffuseLight;\\ngl_FragColor.rgb = pow(gl_FragColor.rgb, vec3(0.5));\\ngl_FragColor.rgb /= 8.0;\\ngl_FragColor.a = clamp( max( max( gl_FragColor.r, gl_FragColor.g ), max( gl_FragColor.b, 1.0 / 255.0 ) ), 0.0,1.0 );\\ngl_FragColor.a = ceil(gl_FragColor.a * 255.0) / 255.0;\\ngl_FragColor.rgb /= gl_FragColor.a;\\n\";\npc.shaderChunks.basePS = \"\\nuniform vec3 view_position;\\nuniform vec3 light_globalAmbient;\\nfloat square(float x) {\\n    return x*x;\\n}\\nfloat saturate(float x) {\\n    return clamp(x, 0.0, 1.0);\\n}\\nvec3 saturate(vec3 x) {\\n    return clamp(x, vec3(0.0), vec3(1.0));\\n}\\n\";\npc.shaderChunks.baseVS = \"\\nattribute vec3 vertex_position;\\nattribute vec3 vertex_normal;\\nattribute vec4 vertex_tangent;\\nattribute vec2 vertex_texCoord0;\\nattribute vec2 vertex_texCoord1;\\nattribute vec4 vertex_color;\\nuniform mat4 matrix_viewProjection;\\nuniform mat4 matrix_model;\\nuniform mat3 matrix_normal;\\nvec3 dPositionW;\\nmat4 dModelMatrix;\\nmat3 dNormalMatrix;\\nvec3 dLightPosW;\\nvec3 dLightDirNormW;\\nvec3 dNormalW;\\n\";\npc.shaderChunks.baseNineSlicedPS = \"#define NINESLICED\\nvarying vec2 vMask;\\nvarying vec2 vTiledUv;\\nuniform mediump vec4 innerOffset;\\nuniform mediump vec2 outerScale;\\nuniform mediump vec4 atlasRect;\\nvec2 nineSlicedUv;\\n\";\npc.shaderChunks.baseNineSlicedVS = \"#define NINESLICED\\nvarying vec2 vMask;\\nvarying vec2 vTiledUv;\\nuniform mediump vec4 innerOffset;\\nuniform mediump vec2 outerScale;\\nuniform mediump vec4 atlasRect;\\n\";\npc.shaderChunks.baseNineSlicedTiledPS = \"#define NINESLICED\\n#define NINESLICETILED\\nvarying vec2 vMask;\\nvarying vec2 vTiledUv;\\nuniform mediump vec4 innerOffset;\\nuniform mediump vec2 outerScale;\\nuniform mediump vec4 atlasRect;\\nvec2 nineSlicedUv;\\n\";\npc.shaderChunks.biasConstPS = \"#define SHADOWBIAS\\nfloat getShadowBias(float resolution, float maxBias) {\\n    return maxBias;\\n}\\n\";\npc.shaderChunks.blurVSMPS = \"\\nvarying vec2 vUv0;\\nuniform sampler2D source;\\nuniform vec2 pixelOffset;\\n#ifdef GAUSS\\nuniform float weight[SAMPLES];\\n#endif\\n#ifdef PACKED\\nfloat decodeFloatRG(vec2 rg) {\\n    return rg.y*(1.0/255.0) + rg.x;\\n}\\nvec2 encodeFloatRG( float v ) {\\n  vec2 enc = vec2(1.0, 255.0) * v;\\n  enc = fract(enc);\\n  enc -= enc.yy * vec2(1.0/255.0, 1.0/255.0);\\n  return enc;\\n}\\n#endif\\nvoid main(void) {\\n    vec3 moments = vec3(0.0);\\n    vec2 uv = vUv0 - pixelOffset * (float(SAMPLES) * 0.5);\\n    for(int i=0; i<SAMPLES; i++) {\\n        vec4 c = texture2D(source, uv + pixelOffset * float(i));\\n        #ifdef PACKED\\n        c.xy = vec2(decodeFloatRG(c.xy), decodeFloatRG(c.zw));\\n        #endif\\n        #ifdef GAUSS\\n        moments += c.xyz * weight[i];\\n        #else\\n        moments += c.xyz;\\n        #endif\\n    }\\n    #ifndef GAUSS\\n    moments /= float(SAMPLES);\\n    #endif\\n    #ifdef PACKED\\n    gl_FragColor = vec4(encodeFloatRG(moments.x), encodeFloatRG(moments.y));\\n    #else\\n    gl_FragColor = vec4(moments.x, moments.y, moments.z, 1.0);\\n    #endif\\n}\\n\";\npc.shaderChunks.combineDiffusePS = \"vec3 combineColor() {\\n    return dAlbedo * dDiffuseLight;\\n}\\n\";\npc.shaderChunks.combineDiffuseSpecularPS = \"vec3 combineColor() {\\n    return mix(dAlbedo * dDiffuseLight, dSpecularLight + dReflection.rgb * dReflection.a, dSpecularity);\\n}\\n\";\npc.shaderChunks.combineDiffuseSpecularNoConservePS = \"vec3 combineColor() {\\n    return dAlbedo * dDiffuseLight + (dSpecularLight + dReflection.rgb * dReflection.a) * dSpecularity;\\n}\\n\";\npc.shaderChunks.combineDiffuseSpecularNoReflPS = \"vec3 combineColor() {\\n    return dAlbedo * dDiffuseLight + dSpecularLight * dSpecularity;\\n}\\n\";\npc.shaderChunks.combineDiffuseSpecularNoReflSeparateAmbientPS = \"uniform vec3 material_ambient;\\nvec3 combineColor() {\\n    return (dDiffuseLight - light_globalAmbient) * dAlbedo + dSpecularLight * dSpecularity + material_ambient * light_globalAmbient;\\n}\\n\";\npc.shaderChunks.combineDiffuseSpecularOldPS = \"vec3 combineColor() {\\n    return mix(dAlbedo * dDiffuseLight + dSpecularLight * dSpecularity, dReflection.rgb, dReflection.a);\\n}\\n\";\npc.shaderChunks.cookiePS = \"vec4 getCookie2D(sampler2D tex, mat4 transform, float intensity) {\\n    vec4 projPos = transform * vec4(vPositionW, 1.0);\\n    projPos.xy /= projPos.w;\\n    return mix(vec4(1.0), texture2D(tex, projPos.xy), intensity);\\n}\\nvec4 getCookie2DClip(sampler2D tex, mat4 transform, float intensity) {\\n    vec4 projPos = transform * vec4(vPositionW, 1.0);\\n    projPos.xy /= projPos.w;\\n    if (projPos.x < 0.0 || projPos.x > 1.0 || projPos.y < 0.0 || projPos.y > 1.0 || projPos.z < 0.0) return vec4(0.0);\\n    return mix(vec4(1.0), texture2D(tex, projPos.xy), intensity);\\n}\\nvec4 getCookie2DXform(sampler2D tex, mat4 transform, float intensity, vec4 cookieMatrix, vec2 cookieOffset) {\\n    vec4 projPos = transform * vec4(vPositionW, 1.0);\\n    projPos.xy /= projPos.w;\\n    projPos.xy += cookieOffset;\\n    vec2 uv = mat2(cookieMatrix) * (projPos.xy-vec2(0.5)) + vec2(0.5);\\n    return mix(vec4(1.0), texture2D(tex, uv), intensity);\\n}\\nvec4 getCookie2DClipXform(sampler2D tex, mat4 transform, float intensity, vec4 cookieMatrix, vec2 cookieOffset) {\\n    vec4 projPos = transform * vec4(vPositionW, 1.0);\\n    projPos.xy /= projPos.w;\\n    projPos.xy += cookieOffset;\\n    if (projPos.x < 0.0 || projPos.x > 1.0 || projPos.y < 0.0 || projPos.y > 1.0 || projPos.z < 0.0) return vec4(0.0);\\n    vec2 uv = mat2(cookieMatrix) * (projPos.xy-vec2(0.5)) + vec2(0.5);\\n    return mix(vec4(1.0), texture2D(tex, uv), intensity);\\n}\\nvec4 getCookieCube(samplerCube tex, mat4 transform, float intensity) {\\n    return mix(vec4(1.0), textureCube(tex, dLightDirNormW * mat3(transform)), intensity);\\n}\\n\";\npc.shaderChunks.cubeMapProjectBoxPS = \"uniform vec3 envBoxMin, envBoxMax;\\nvec3 cubeMapProject(vec3 nrdir) {\\n    vec3 rbmax = (envBoxMax - vPositionW) / nrdir;\\n    vec3 rbmin = (envBoxMin - vPositionW) / nrdir;\\n    vec3 rbminmax;\\n    rbminmax.x = nrdir.x>0.0? rbmax.x : rbmin.x;\\n    rbminmax.y = nrdir.y>0.0? rbmax.y : rbmin.y;\\n    rbminmax.z = nrdir.z>0.0? rbmax.z : rbmin.z;\\n    float fa = min(min(rbminmax.x, rbminmax.y), rbminmax.z);\\n    vec3 posonbox = vPositionW + nrdir * fa;\\n    vec3 envBoxPos = (envBoxMin + envBoxMax) * 0.5;\\n    return posonbox - envBoxPos;\\n}\\n\";\npc.shaderChunks.cubeMapProjectNonePS = \"vec3 cubeMapProject(vec3 dir) {\\n    return dir;\\n}\\n\";\npc.shaderChunks.diffusePS = \"#ifdef MAPCOLOR\\nuniform vec3 material_diffuse;\\n#endif\\n#ifdef MAPTEXTURE\\nuniform sampler2D texture_diffuseMap;\\n#endif\\nvoid getAlbedo() {\\n    dAlbedo = vec3(1.0);\\n    #ifdef MAPCOLOR\\n        dAlbedo *= material_diffuse.rgb;\\n    #endif\\n    #ifdef MAPTEXTURE\\n        dAlbedo *= texture2DSRGB(texture_diffuseMap, $UV).$CH;\\n    #endif\\n    #ifdef MAPVERTEX\\n        dAlbedo *= gammaCorrectInput(saturate(vVertexColor.$VC));\\n    #endif\\n}\\n\";\npc.shaderChunks.dilatePS = \"varying vec2 vUv0;\\nuniform sampler2D source;\\nuniform vec2 pixelOffset;\\nvoid main(void) {\\n    vec4 c = texture2D(source, vUv0);\\n    c = c.a>0.0? c : texture2D(source, vUv0 - pixelOffset);\\n    c = c.a>0.0? c : texture2D(source, vUv0 + vec2(0, -pixelOffset.y));\\n    c = c.a>0.0? c : texture2D(source, vUv0 + vec2(pixelOffset.x, -pixelOffset.y));\\n    c = c.a>0.0? c : texture2D(source, vUv0 + vec2(-pixelOffset.x, 0));\\n    c = c.a>0.0? c : texture2D(source, vUv0 + vec2(pixelOffset.x, 0));\\n    c = c.a>0.0? c : texture2D(source, vUv0 + vec2(-pixelOffset.x, pixelOffset.y));\\n    c = c.a>0.0? c : texture2D(source, vUv0 + vec2(0, pixelOffset.y));\\n    c = c.a>0.0? c : texture2D(source, vUv0 + pixelOffset);\\n    gl_FragColor = c;\\n}\\n\";\npc.shaderChunks.dpAtlasQuadPS = \"varying vec2 vUv0;\\nuniform sampler2D source;\\nuniform vec4 params;\\nvoid main(void) {\\n    vec2 uv = vUv0;\\n    uv = uv * 2.0 - vec2(1.0);\\n    uv *= params.xy;\\n    uv = uv * 0.5 + 0.5;\\n    gl_FragColor = texture2D(source, uv);\\n}\\n\";\npc.shaderChunks.emissivePS = \"#ifdef MAPCOLOR\\nuniform vec3 material_emissive;\\n#endif\\n#ifdef MAPFLOAT\\nuniform float material_emissiveIntensity;\\n#endif\\n#ifdef MAPTEXTURE\\nuniform sampler2D texture_emissiveMap;\\n#endif\\nvec3 getEmission() {\\n    vec3 emission = vec3(1.0);\\n    #ifdef MAPFLOAT\\n        emission *= material_emissiveIntensity;\\n    #endif\\n    #ifdef MAPCOLOR\\n        emission *= material_emissive;\\n    #endif\\n    #ifdef MAPTEXTURE\\n        emission *= $texture2DSAMPLE(texture_emissiveMap, $UV).$CH;\\n    #endif\\n    #ifdef MAPVERTEX\\n        emission *= gammaCorrectInput(saturate(vVertexColor.$VC));\\n    #endif\\n    return emission;\\n}\\n\";\npc.shaderChunks.endPS = \"   gl_FragColor.rgb = combineColor();\\n   gl_FragColor.rgb += getEmission();\\n   gl_FragColor.rgb = addFog(gl_FragColor.rgb);\\n   #ifndef HDR\\n    gl_FragColor.rgb = toneMap(gl_FragColor.rgb);\\n    gl_FragColor.rgb = gammaCorrectOutput(gl_FragColor.rgb);\\n   #endif\\n\";\npc.shaderChunks.envConstPS = \"vec3 processEnvironment(vec3 color) {\\n    return color;\\n}\\n\";\npc.shaderChunks.envMultiplyPS = \"uniform float skyboxIntensity;\\nvec3 processEnvironment(vec3 color) {\\n    return color * skyboxIntensity;\\n}\\n\";\npc.shaderChunks.extensionPS = \"\";\npc.shaderChunks.extensionVS = \"\\n\";\npc.shaderChunks.falloffInvSquaredPS = \"float getFalloffInvSquared(float lightRadius) {\\n    float sqrDist = dot(dLightDirW, dLightDirW);\\n    float falloff = 1.0 / (sqrDist + 1.0);\\n    float invRadius = 1.0 / lightRadius;\\n    falloff *= 16.0;\\n    falloff *= square( saturate( 1.0 - square( sqrDist * square(invRadius) ) ) );\\n    return falloff;\\n}\\n\";\npc.shaderChunks.falloffLinearPS = \"float getFalloffLinear(float lightRadius) {\\n    float d = length(dLightDirW);\\n    return max(((lightRadius - d) / lightRadius), 0.0);\\n}\\n\";\npc.shaderChunks.fixCubemapSeamsNonePS = \"vec3 fixSeams(vec3 vec, float mipmapIndex) {\\n    return vec;\\n}\\nvec3 fixSeams(vec3 vec) {\\n    return vec;\\n}\\nvec3 fixSeamsStatic(vec3 vec, float invRecMipSize) {\\n    return vec;\\n}\\n\";\npc.shaderChunks.fixCubemapSeamsStretchPS = \"vec3 fixSeams(vec3 vec, float mipmapIndex) {\\n    float scale = 1.0 - exp2(mipmapIndex) / 128.0;\\n    float M = max(max(abs(vec.x), abs(vec.y)), abs(vec.z));\\n    if (abs(vec.x) != M) vec.x *= scale;\\n    if (abs(vec.y) != M) vec.y *= scale;\\n    if (abs(vec.z) != M) vec.z *= scale;\\n    return vec;\\n}\\nvec3 fixSeams(vec3 vec) {\\n    float scale = 1.0 - 1.0 / 128.0;\\n    float M = max(max(abs(vec.x), abs(vec.y)), abs(vec.z));\\n    if (abs(vec.x) != M) vec.x *= scale;\\n    if (abs(vec.y) != M) vec.y *= scale;\\n    if (abs(vec.z) != M) vec.z *= scale;\\n    return vec;\\n}\\nvec3 fixSeamsStatic(vec3 vec, float invRecMipSize) {\\n    float scale = invRecMipSize;\\n    float M = max(max(abs(vec.x), abs(vec.y)), abs(vec.z));\\n    if (abs(vec.x) != M) vec.x *= scale;\\n    if (abs(vec.y) != M) vec.y *= scale;\\n    if (abs(vec.z) != M) vec.z *= scale;\\n    return vec;\\n}\\n\";\npc.shaderChunks.fogExpPS = \"uniform vec3 fog_color;\\nuniform float fog_density;\\nvec3 addFog(vec3 color) {\\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\\n    float fogFactor = exp(-depth * fog_density);\\n    fogFactor = clamp(fogFactor, 0.0, 1.0);\\n    return mix(fog_color, color, fogFactor);\\n}\\n\";\npc.shaderChunks.fogExp2PS = \"uniform vec3 fog_color;\\nuniform float fog_density;\\nvec3 addFog(vec3 color) {\\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\\n    float fogFactor = exp(-depth * depth * fog_density * fog_density);\\n    fogFactor = clamp(fogFactor, 0.0, 1.0);\\n    return mix(fog_color, color, fogFactor);\\n}\\n\";\npc.shaderChunks.fogLinearPS = \"uniform vec3 fog_color;\\nuniform float fog_start;\\nuniform float fog_end;\\nvec3 addFog(vec3 color) {\\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\\n    float fogFactor = (fog_end - depth) / (fog_end - fog_start);\\n    fogFactor = clamp(fogFactor, 0.0, 1.0);\\n    fogFactor = gammaCorrectInput(fogFactor);\\n    return mix(fog_color, color, fogFactor);\\n}\\n\";\npc.shaderChunks.fogNonePS = \"vec3 addFog(vec3 color) {\\n    return color;\\n}\\n\";\npc.shaderChunks.fresnelSchlickPS = \"// Schlick's approximation\\nuniform float material_fresnelFactor; // unused\\nvoid getFresnel() {\\n    float fresnel = 1.0 - max(dot(dNormalW, dViewDirW), 0.0);\\n    float fresnel2 = fresnel * fresnel;\\n    fresnel *= fresnel2 * fresnel2;\\n    fresnel *= dGlossiness * dGlossiness;\\n    dSpecularity = dSpecularity + (1.0 - dSpecularity) * fresnel;\\n}\\n\";\npc.shaderChunks.fullscreenQuadPS = \"varying vec2 vUv0;\\nuniform sampler2D source;\\nvoid main(void) {\\n    gl_FragColor = texture2D(source, vUv0);\\n}\\n\";\npc.shaderChunks.fullscreenQuadVS = \"attribute vec2 vertex_position;\\nvarying vec2 vUv0;\\nvoid main(void)\\n{\\n    gl_Position = vec4(vertex_position, 0.5, 1.0);\\n    vUv0 = vertex_position.xy*0.5+0.5;\\n}\\n\";\npc.shaderChunks.gamma1_0PS = \"vec4 texture2DSRGB(sampler2D tex, vec2 uv) {\\n    return texture2D(tex, uv);\\n}\\nvec4 texture2DSRGB(sampler2D tex, vec2 uv, float bias) {\\n    return texture2D(tex, uv, bias);\\n}\\nvec4 textureCubeSRGB(samplerCube tex, vec3 uvw) {\\n    return textureCube(tex, uvw);\\n}\\nvec3 gammaCorrectOutput(vec3 color) {\\n    return color;\\n}\\nvec3 gammaCorrectInput(vec3 color) {\\n    return color;\\n}\\nfloat gammaCorrectInput(float color) {\\n    return color;\\n}\\nvec4 gammaCorrectInput(vec4 color) {\\n    return color;\\n}\\n\";\npc.shaderChunks.gamma2_2PS = \"vec3 gammaCorrectInput(vec3 color) {\\n    return pow(color, vec3(2.2));\\n}\\nfloat gammaCorrectInput(float color) {\\n    return pow(color, 2.2);\\n}\\nvec4 gammaCorrectInput(vec4 color) {\\n    return vec4(pow(color.rgb, vec3(2.2)), color.a);\\n}\\nvec4 texture2DSRGB(sampler2D tex, vec2 uv) {\\n    vec4 rgba = texture2D(tex, uv);\\n    rgba.rgb = gammaCorrectInput(rgba.rgb);\\n    return rgba;\\n}\\nvec4 texture2DSRGB(sampler2D tex, vec2 uv, float bias) {\\n    vec4 rgba = texture2D(tex, uv, bias);\\n    rgba.rgb = gammaCorrectInput(rgba.rgb);\\n    return rgba;\\n}\\nvec4 textureCubeSRGB(samplerCube tex, vec3 uvw) {\\n    vec4 rgba = textureCube(tex, uvw);\\n    rgba.rgb = gammaCorrectInput(rgba.rgb);\\n    return rgba;\\n}\\nvec3 gammaCorrectOutput(vec3 color) {\\n#ifdef HDR\\n    return color;\\n#else\\n    color += vec3(0.0000001);\\n    return pow(color, vec3(0.45));\\n#endif\\n}\\n\";\npc.shaderChunks.genParaboloidPS = \"varying vec2 vUv0;\\nuniform samplerCube source;\\nuniform vec4 params; // x = mip\\nvoid main(void) {\\n    vec2 uv = vUv0;\\n    float side = uv.x < 0.5? 1.0 : -1.0;\\n    vec2 tc;\\n    tc.x = fract(uv.x * 2.0) * 2.0 - 1.0;\\n    tc.y = uv.y * 2.0 - 1.0;\\n    // scale projection a bit to have a little overlap for filtering\\n    const float scale = 1.1;\\n    tc *= scale;\\n    vec3 dir;\\n    dir.y = (dot(tc, tc) - 1.0) * side; // from 1.0 center to 0.0 borders quadratically\\n    dir.xz = tc * -2.0;\\n    dir.x *= -side * params.y; // flip original cubemap x instead of doing it at runtime\\n    dir = fixSeams(dir, params.x);\\n    vec4 color = textureCube(source, dir, -100.0);\\n    gl_FragColor = color;\\n}\\n\";\npc.shaderChunks.gles3PS = \"#define varying in\\nout highp vec4 pc_fragColor;\\n#define gl_FragColor pc_fragColor\\n#define texture2D texture\\n#define textureCube texture\\n#define texture2DProj textureProj\\n#define texture2DLodEXT textureLod\\n#define texture2DProjLodEXT textureProjLod\\n#define textureCubeLodEXT textureLod\\n#define texture2DGradEXT textureGrad\\n#define texture2DProjGradEXT textureProjGrad\\n#define textureCubeGradEXT textureGrad\\n#define GL2\\n\";\npc.shaderChunks.gles3VS = \"#define attribute in\\n#define varying out\\n#define texture2D texture\\n#define GL2\\n#define VERTEXSHADER\\n\";\npc.shaderChunks.glossPS = \"#ifdef MAPFLOAT\\nuniform float material_shininess;\\n#endif\\n#ifdef MAPTEXTURE\\nuniform sampler2D texture_glossMap;\\n#endif\\nvoid getGlossiness() {\\n    dGlossiness = 1.0;\\n    #ifdef MAPFLOAT\\n        dGlossiness *= material_shininess;\\n    #endif\\n    #ifdef MAPTEXTURE\\n        dGlossiness *= texture2D(texture_glossMap, $UV).$CH;\\n    #endif\\n    #ifdef MAPVERTEX\\n        dGlossiness *= saturate(vVertexColor.$VC);\\n    #endif\\n    dGlossiness += 0.0000001;\\n}\\n\";\npc.shaderChunks.instancingVS = \"\\nattribute vec4 instance_line1;\\nattribute vec4 instance_line2;\\nattribute vec4 instance_line3;\\nattribute vec4 instance_line4;\\n\";\npc.shaderChunks.lightDiffuseLambertPS = \"float getLightDiffuse() {\\n    return max(dot(dNormalW, -dLightDirNormW), 0.0);\\n}\\n\";\npc.shaderChunks.lightDirPointPS = \"void getLightDirPoint(vec3 lightPosW) {\\n    dLightDirW = vPositionW - lightPosW;\\n    dLightDirNormW = normalize(dLightDirW);\\n    dLightPosW = lightPosW;\\n}\\n\";\npc.shaderChunks.lightSpecularBlinnPS = \"// Energy-conserving (hopefully) Blinn-Phong\\nfloat getLightSpecular() {\\n    vec3 h = normalize( -dLightDirNormW + dViewDirW );\\n    float nh = max( dot( h, dNormalW ), 0.0 );\\n    float specPow = exp2(dGlossiness * 11.0); // glossiness is linear, power is not; 0 - 2048\\n    specPow = antiAliasGlossiness(specPow);\\n    // Hack: On Mac OS X, calling pow with zero for the exponent generates hideous artifacts so bias up a little\\n    specPow = max(specPow, 0.0001);\\n    return pow(nh, specPow) * (specPow + 2.0) / 8.0;\\n}\\n\";\npc.shaderChunks.lightSpecularPhongPS = \"float getLightSpecular() {\\n    float specPow = dGlossiness;\\n    specPow = antiAliasGlossiness(specPow);\\n    // Hack: On Mac OS X, calling pow with zero for the exponent generates hideous artifacts so bias up a little\\n    return pow(max(dot(dReflDirW, -dLightDirNormW), 0.0), specPow + 0.0001);\\n}\\n\";\npc.shaderChunks.lightmapDirPS = \"uniform sampler2D texture_lightMap;\\nuniform sampler2D texture_dirLightMap;\\nvoid addLightMap() {\\n    vec3 color = $texture2DSAMPLE(texture_lightMap, $UV).$CH;\\n    vec4 dir = texture2D(texture_dirLightMap, $UV);\\n    if (dot(dir.xyz,vec3(1.0)) < 0.00001) {\\n        dDiffuseLight += color;\\n        return;\\n    }\\n    dLightDirNormW = normalize(dir.xyz * 2.0 - vec3(1.0));\\n    float vlight = saturate(dot(dLightDirNormW, -dVertexNormalW));\\n    float flight = saturate(dot(dLightDirNormW, -dNormalW));\\n    float nlight = (flight / max(vlight,0.01)) * 0.5;\\n    dDiffuseLight += color * nlight * 2.0;\\n}\\nvoid addDirLightMap() {\\n    vec4 dir = texture2D(texture_dirLightMap, $UV);\\n    if (dot(dir.xyz,vec3(1.0)) < 0.00001) return;\\n    vec3 color = $texture2DSAMPLE(texture_lightMap, $UV).$CH;\\n    dLightDirNormW = normalize(dir.xyz * 2.0 - vec3(1.0));\\n    dSpecularLight += vec3(getLightSpecular()) * color;\\n}\\n\";\npc.shaderChunks.lightmapSinglePS = \"#ifdef MAPTEXTURE\\nuniform sampler2D texture_lightMap;\\n#endif\\nvoid addLightMap() {\\n    vec3 lm = vec3(1.0);\\n    #ifdef MAPTEXTURE\\n        lm *= $texture2DSAMPLE(texture_lightMap, $UV).$CH;\\n    #endif\\n    #ifdef MAPVERTEX\\n        lm *= saturate(vVertexColor.$VC);\\n    #endif\\n    \\n    dDiffuseLight += lm;\\n}\\n\";\npc.shaderChunks.lightmapSingleVertPS = \"void addLightMap() {\\n    dDiffuseLight += saturate(vVertexColor.$CH);\\n}\\n\";\npc.shaderChunks.metalnessPS = \"void processMetalness(float metalness) {\\n    const float dielectricF0 = 0.04;\\n    dSpecularity = mix(vec3(dielectricF0), dAlbedo, metalness);\\n    dAlbedo *= 1.0 - metalness;\\n}\\n#ifdef MAPFLOAT\\nuniform float material_metalness;\\n#endif\\n#ifdef MAPTEXTURE\\nuniform sampler2D texture_metalnessMap;\\n#endif\\nvoid getSpecularity() {\\n    float metalness = 1.0;\\n    #ifdef MAPFLOAT\\n        metalness *= material_metalness;\\n    #endif\\n    #ifdef MAPTEXTURE\\n        metalness *= texture2D(texture_metalnessMap, $UV).$CH;\\n    #endif\\n    #ifdef MAPVERTEX\\n        metalness *= saturate(vVertexColor.$VC);\\n    #endif\\n    processMetalness(metalness);\\n}\\n\";\npc.shaderChunks.msdfPS = \"uniform sampler2D texture_msdfMap;\\n#ifdef GL_OES_standard_derivatives\\n#define USE_FWIDTH\\n#endif\\n#ifdef GL2\\n#define USE_FWIDTH\\n#endif\\nfloat median(float r, float g, float b) {\\n    return max(min(r, g), min(max(r, g), b));\\n}\\nfloat map (float min, float max, float v) {\\n    return (v - min) / (max - min);\\n}\\nuniform float font_sdfIntensity; // intensity is used to boost the value read from the SDF, 0 is no boost, 1.0 is max boost\\nuniform float font_pxrange;      // the number of pixels between inside and outside the font in SDF\\nuniform float font_textureWidth; // the width of the texture atlas\\nuniform vec4 outline_color;\\nuniform float outline_thickness;\\nuniform vec4 shadow_color;\\nuniform vec2 shadow_offset;\\nvec4 applyMsdf(vec4 color) {\\n    // sample the field\\n    vec3 tsample = texture2D(texture_msdfMap, vUv0).rgb;\\n    vec2 uvShdw = vUv0 - shadow_offset;\\n    vec3 ssample = texture2D(texture_msdfMap, uvShdw).rgb;\\n    // get the signed distance value\\n    float sigDist = median(tsample.r, tsample.g, tsample.b);\\n    float sigDistShdw = median(ssample.r, ssample.g, ssample.b);\\n    #ifdef USE_FWIDTH\\n        // smoothing depends on size of texture on screen\\n        vec2 w = fwidth(vUv0);\\n        float smoothing = clamp(w.x * font_textureWidth / font_pxrange, 0.0, 0.5);\\n    #else\\n        float font_size = 16.0; // TODO fix this\\n        // smoothing gets smaller as the font size gets bigger\\n        // don't have fwidth we can approximate from font size, this doesn't account for scaling\\n        // so a big font scaled down will be wrong...\\n        float smoothing = clamp(font_pxrange / font_size, 0.0, 0.5);\\n    #endif\\n    float mapMin = 0.05;\\n    float mapMax = clamp(1.0 - font_sdfIntensity, mapMin, 1.0);\\n    // remap to a smaller range (used on smaller font sizes)\\n    float sigDistInner = map(mapMin, mapMax, sigDist);\\n    float sigDistOutline = map(mapMin, mapMax, sigDist + outline_thickness);\\n    sigDistShdw = map(mapMin, mapMax, sigDistShdw + outline_thickness);\\n    float center = 0.5;\\n    // calculate smoothing and use to generate opacity\\n    float inside = smoothstep(center-smoothing, center+smoothing, sigDistInner);\\n    float outline = smoothstep(center-smoothing, center+smoothing, sigDistOutline);\\n    float shadow = smoothstep(center-smoothing, center+smoothing, sigDistShdw);\\n    vec4 tcolor = (outline > inside) ? outline * vec4(outline_color.a * outline_color.rgb, outline_color.a) : vec4(0.0);\\n    tcolor = mix(tcolor, color, inside);\\n    vec4 scolor = (shadow > outline) ? shadow * vec4(shadow_color.a * shadow_color.rgb, shadow_color.a) : tcolor;\\n    tcolor = mix(scolor, tcolor, outline);\\n    \\n    return tcolor;\\n}\";\npc.shaderChunks.normalVS = \"vec3 getNormal() {\\n    #ifdef SKIN\\n        dNormalMatrix = mat3(dModelMatrix[0].xyz, dModelMatrix[1].xyz, dModelMatrix[2].xyz);\\n    #elif defined(INSTANCING)\\n        dNormalMatrix = mat3(instance_line1.xyz, instance_line2.xyz, instance_line3.xyz);\\n    #else\\n        dNormalMatrix = matrix_normal;\\n    #endif\\n    return normalize(dNormalMatrix * vertex_normal);\\n}\\n\";\npc.shaderChunks.normalInstancedVS = \"vec3 getNormal() {\\n    dNormalMatrix = mat3(instance_line1.xyz, instance_line2.xyz, instance_line3.xyz);\\n    return normalize(dNormalMatrix * vertex_normal);\\n}\\n\";\npc.shaderChunks.normalMapPS = \"uniform sampler2D texture_normalMap;\\nuniform float material_bumpiness;\\nvoid getNormal() {\\n    vec3 normalMap = unpackNormal(texture2D(texture_normalMap, $UV));\\n    dNormalMap = normalMap;\\n    dNormalW = dTBN * normalMap;\\n}\\n\";\npc.shaderChunks.normalMapFloatPS = \"uniform sampler2D texture_normalMap;\\nuniform float material_bumpiness;\\nvoid getNormal() {\\n    vec3 normalMap = unpackNormal(texture2D(texture_normalMap, $UV));\\n    dNormalMap = normalMap;\\n    normalMap = normalize(mix(vec3(0.0, 0.0, 1.0), normalMap, material_bumpiness));\\n    dNormalW = dTBN * normalMap;\\n}\\n\";\npc.shaderChunks.normalMapFloatTBNfastPS = \"uniform sampler2D texture_normalMap;\\nuniform float material_bumpiness;\\nvoid getNormal() {\\n    vec3 normalMap = unpackNormal(texture2D(texture_normalMap, $UV));\\n    dNormalMap = normalMap;\\n    normalMap = mix(vec3(0.0, 0.0, 1.0), normalMap, material_bumpiness);\\n    dNormalW = normalize(dTBN * normalMap);\\n}\\n\";\npc.shaderChunks.normalSkinnedVS = \"vec3 getNormal() {\\n    dNormalMatrix = mat3(dModelMatrix[0].xyz, dModelMatrix[1].xyz, dModelMatrix[2].xyz);\\n    return normalize(dNormalMatrix * vertex_normal);\\n}\\n\";\npc.shaderChunks.normalVertexPS = \"void getNormal() {\\n    dNormalW = normalize(dVertexNormalW);\\n}\\n\";\npc.shaderChunks.normalXYPS = \"vec3 unpackNormal(vec4 nmap) {\\n    vec3 normal;\\n    normal.xy = nmap.wy * 2.0 - 1.0;\\n    normal.z = sqrt(1.0 - saturate(dot(normal.xy, normal.xy)));\\n    return normal;\\n}\\n\";\npc.shaderChunks.normalXYZPS = \"vec3 unpackNormal(vec4 nmap) {\\n    return nmap.xyz * 2.0 - 1.0;\\n}\\n\";\npc.shaderChunks.opacityPS = \"#ifdef MAPFLOAT\\nuniform float material_opacity;\\n#endif\\n#ifdef MAPTEXTURE\\nuniform sampler2D texture_opacityMap;\\n#endif\\nvoid getOpacity() {\\n    dAlpha = 1.0;\\n    #ifdef MAPFLOAT\\n        dAlpha *= material_opacity;\\n    #endif\\n    #ifdef MAPTEXTURE\\n        dAlpha *= texture2D(texture_opacityMap, $UV).$CH;\\n    #endif\\n    #ifdef MAPVERTEX\\n        dAlpha *= saturate(vVertexColor.$VC);\\n    #endif\\n}\\n\";\npc.shaderChunks.outputAlphaPS = \"gl_FragColor.a = dAlpha;\\n\";\npc.shaderChunks.outputAlphaOpaquePS = \"gl_FragColor.a = 1.0;\\n\";\npc.shaderChunks.outputAlphaPremulPS = \"gl_FragColor.rgb *= dAlpha;\\ngl_FragColor.a = dAlpha;\\n\";\npc.shaderChunks.outputCubemapPS = \"varying vec2 vUv0;\\nuniform samplerCube source;\\nuniform vec4 params;\\nfloat saturate(float x) {\\n    return clamp(x, 0.0, 1.0);\\n}\\nvec4 encodeRGBM(vec4 color) { // modified RGBM\\n    color.rgb = pow(color.rgb, vec3(0.5));\\n    color.rgb *= 1.0 / 8.0;\\n    color.a = saturate( max( max( color.r, color.g ), max( color.b, 1.0 / 255.0 ) ) );\\n    color.a = ceil(color.a * 255.0) / 255.0;\\n    color.rgb /= color.a;\\n    return color;\\n}\\nvoid main(void) {\\n    vec2 st = vUv0 * 2.0 - 1.0;\\n    float face = params.x;\\n    vec3 vec;\\n    if (face==0.0) {\\n        vec = vec3(1, -st.y, -st.x);\\n    } else if (face==1.0) {\\n        vec = vec3(-1, -st.y, st.x);\\n    } else if (face==2.0) {\\n        vec = vec3(st.x, 1, st.y);\\n    } else if (face==3.0) {\\n        vec = vec3(st.x, -1, -st.y);\\n    } else if (face==4.0) {\\n        vec = vec3(st.x, -st.y, 1);\\n    } else {\\n        vec = vec3(-st.x, -st.y, -1);\\n    }\\n    gl_FragColor = textureCube(source, vec);\\n    if (params.w >= 2.0) gl_FragColor = encodeRGBM(gl_FragColor);\\n}\\n\";\npc.shaderChunks.outputTex2DPS = \"varying vec2 vUv0;\\nuniform sampler2D source;\\nvoid main(void) {\\n    gl_FragColor = texture2D(source, vUv0);\\n}\\n\";\npc.shaderChunks.packDepthPS = \"// Packing a float in GLSL with multiplication and mod\\n// http://blog.gradientstudios.com/2012/08/23/shadow-map-improvement\\nvec4 packFloat(float depth) {\\n    const vec4 bit_shift = vec4(256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0);\\n    const vec4 bit_mask  = vec4(0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0);\\n    // combination of mod and multiplication and division works better\\n    vec4 res = mod(depth * bit_shift * vec4(255), vec4(256) ) / vec4(255);\\n    res -= res.xxyz * bit_mask;\\n    return res;\\n}\\n\";\npc.shaderChunks.packDepthMaskPS = \"vec4 packFloat(float depth) {\\n    const vec4 bit_shift = vec4(256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0);\\n    const vec4 bit_mask  = vec4(0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0);\\n    // combination of mod and multiplication and division works better\\n    vec4 res = mod(depth * bit_shift * vec4(255), vec4(256) ) / vec4(255);\\n    res.x = 0.0;\\n    res -= res.xxyz * bit_mask;\\n    return res;\\n}\\n\";\npc.shaderChunks.parallaxPS = \"uniform sampler2D texture_heightMap;\\nuniform float material_heightMapFactor;\\nvoid getParallax() {\\n    float parallaxScale = material_heightMapFactor;\\n    float height = texture2D(texture_heightMap, $UV).$CH;\\n    height = height * parallaxScale - parallaxScale*0.5;\\n    vec3 viewDirT = dViewDirW * dTBN;\\n    viewDirT.z += 0.42;\\n    dUvOffset = height * (viewDirT.xy / viewDirT.z);\\n}\\n\";\npc.shaderChunks.particlePS = \"varying vec4 texCoordsAlphaLife;\\nuniform sampler2D colorMap;\\nuniform sampler2D colorParam;\\nuniform float graphSampleSize;\\nuniform float graphNumSamples;\\n#ifndef CAMERAPLANES\\n#define CAMERAPLANES\\nuniform vec4 camera_params;\\n#endif\\nuniform float softening;\\nuniform float colorMult;\\nfloat saturate(float x) {\\n    return clamp(x, 0.0, 1.0);\\n}\\n#ifndef UNPACKFLOAT\\n#define UNPACKFLOAT\\nfloat unpackFloat(vec4 rgbaDepth) {\\n    const vec4 bitShift = vec4(1.0 / (256.0 * 256.0 * 256.0), 1.0 / (256.0 * 256.0), 1.0 / 256.0, 1.0);\\n    float depth = dot(rgbaDepth, bitShift);\\n    return depth;\\n}\\n#endif\\nvoid main(void) {\\n    vec4 tex         = texture2DSRGB(colorMap, texCoordsAlphaLife.xy);\\n    vec4 ramp     = texture2DSRGB(colorParam, vec2(texCoordsAlphaLife.w, 0.0));\\n    ramp.rgb *= colorMult;\\n    ramp.a += texCoordsAlphaLife.z;\\n    vec3 rgb =     tex.rgb * ramp.rgb;\\n    float a =         tex.a * ramp.a;\\n\";\npc.shaderChunks.particleVS = \"\\nvec3 unpack3NFloats(float src) {\\n    float r = fract(src);\\n    float g = fract(src * 256.0);\\n    float b = fract(src * 65536.0);\\n    return vec3(r, g, b);\\n}\\nfloat saturate(float x) {\\n    return clamp(x, 0.0, 1.0);\\n}\\nvec4 tex1Dlod_lerp(sampler2D tex, vec2 tc) {\\n    return mix( texture2D(tex,tc), texture2D(tex,tc + graphSampleSize), fract(tc.x*graphNumSamples) );\\n}\\nvec4 tex1Dlod_lerp(sampler2D tex, vec2 tc, out vec3 w) {\\n    vec4 a = texture2D(tex,tc);\\n    vec4 b = texture2D(tex,tc + graphSampleSize);\\n    float c = fract(tc.x*graphNumSamples);\\n    vec3 unpackedA = unpack3NFloats(a.w);\\n    vec3 unpackedB = unpack3NFloats(b.w);\\n    w = mix(unpackedA, unpackedB, c);\\n    return mix(a, b, c);\\n}\\nvec2 rotate(vec2 quadXY, float pRotation, out mat2 rotMatrix) {\\n    float c = cos(pRotation);\\n    float s = sin(pRotation);\\n    mat2 m = mat2(c, -s, s, c);\\n    rotMatrix = m;\\n    return m * quadXY;\\n}\\nvec3 billboard(vec3 InstanceCoords, vec2 quadXY) {\\n   vec3 pos = -matrix_viewInverse[0].xyz * quadXY.x + -matrix_viewInverse[1].xyz * quadXY.y;\\n   return pos;\\n}\\nvec3 customFace(vec3 InstanceCoords, vec2 quadXY) {\\n    vec3 pos = faceTangent * quadXY.x + faceBinorm * quadXY.y;\\n    return pos;\\n}\\nvec2 safeNormalize(vec2 v) {\\n    float l = length(v);\\n    return (l > 1e-06) ? v / l : v;\\n}\\nvoid main(void) {\\n    vec3 meshLocalPos = particle_vertexData.xyz;\\n    float id = floor(particle_vertexData.w);\\n    float rndFactor = fract(sin(id + 1.0 + seed));\\n    vec3 rndFactor3 = vec3(rndFactor, fract(rndFactor*10.0), fract(rndFactor*100.0));\\n    float uv = id / numParticlesPot;\\n    readInput(uv);\\n#ifdef LOCAL_SPACE\\n    inVel = mat3(matrix_model) * inVel;\\n#endif\\n    vec2 velocityV = safeNormalize((mat3(matrix_view) * inVel).xy); // should be removed by compiler if align/stretch is not used\\n    float particleLifetime = lifetime;\\n    if (inLife <= 0.0 || inLife > particleLifetime || !inShow) meshLocalPos = vec3(0.0);\\n    vec2 quadXY = meshLocalPos.xy;\\n    float nlife = clamp(inLife / particleLifetime, 0.0, 1.0);\\n    vec3 paramDiv;\\n    vec4 params = tex1Dlod_lerp(internalTex2, vec2(nlife, 0), paramDiv);\\n    float scale = params.y;\\n    float scaleDiv = paramDiv.x;\\n    float alphaDiv = paramDiv.z;\\n    scale += (scaleDiv * 2.0 - 1.0) * scaleDivMult * fract(rndFactor*10000.0);\\n#ifndef USE_MESH\\n    texCoordsAlphaLife = vec4(quadXY * -0.5 + 0.5, (alphaDiv * 2.0 - 1.0) * alphaDivMult * fract(rndFactor*1000.0), nlife);\\n#else\\n    texCoordsAlphaLife = vec4(particle_uv, (alphaDiv * 2.0 - 1.0) * alphaDivMult * fract(rndFactor*1000.0), nlife);\\n#endif\\n    vec3 particlePos = inPos;\\n    vec3 particlePosMoved = vec3(0.0);\\n    mat2 rotMatrix;\\n\";\npc.shaderChunks.particleAnimFrameClampVS = \"\\n    float animFrame = min(floor(texCoordsAlphaLife.w * animTexParams.z), animTexParams.w);\\n\";\npc.shaderChunks.particleAnimFrameLoopVS = \"\\n    float animFrame = floor(texCoordsAlphaLife.w * animTexParams.z);\\n\";\npc.shaderChunks.particleAnimTexVS = \"\\n    float atlasX = animFrame * animTexParams.x;\\n    float atlasY = 1.0 - floor(atlasX + 1.0) * animTexParams.y;\\n    atlasX = fract(atlasX);\\n    texCoordsAlphaLife.xy *= animTexParams.xy;\\n    texCoordsAlphaLife.xy += vec2(atlasX, atlasY);\\n\";\npc.shaderChunks.particleInputFloatPS = \"void readInput(float uv) {\\n    vec4 tex = texture2D(particleTexIN, vec2(uv, 0.25));\\n    vec4 tex2 = texture2D(particleTexIN, vec2(uv, 0.75));\\n    inPos = tex.xyz;\\n    inVel = tex2.xyz;\\n    inAngle = (tex.w < 0.0? -tex.w : tex.w) - 1000.0;\\n    inShow = tex.w >= 0.0;\\n    inLife = tex2.w;\\n}\\n\";\npc.shaderChunks.particleInputRgba8PS = \"//RG=X, BA=Y\\n//RG=Z, BA=A\\n//RGB=V, A=visMode\\n//RGBA=life\\n#define PI2 6.283185307179586\\nuniform vec3 inBoundsSize;\\nuniform vec3 inBoundsCenter;\\nuniform float maxVel;\\nfloat decodeFloatRG(vec2 rg) {\\n    return rg.y*(1.0/255.0) + rg.x;\\n}\\nfloat decodeFloatRGBA( vec4 rgba ) {\\n  return dot( rgba, vec4(1.0, 1.0/255.0, 1.0/65025.0, 1.0/160581375.0) );\\n}\\nvoid readInput(float uv) {\\n    vec4 tex0 = texture2D(particleTexIN, vec2(uv, 0.125));\\n    vec4 tex1 = texture2D(particleTexIN, vec2(uv, 0.375));\\n    vec4 tex2 = texture2D(particleTexIN, vec2(uv, 0.625));\\n    vec4 tex3 = texture2D(particleTexIN, vec2(uv, 0.875));\\n    inPos = vec3(decodeFloatRG(tex0.rg), decodeFloatRG(tex0.ba), decodeFloatRG(tex1.rg));\\n    inPos = (inPos - vec3(0.5)) * inBoundsSize + inBoundsCenter;\\n    inVel = tex2.xyz;\\n    inVel = (inVel - vec3(0.5)) * maxVel;\\n    inAngle = decodeFloatRG(tex1.ba) * PI2;\\n    inShow = tex2.a > 0.5;\\n    inLife = decodeFloatRGBA(tex3);\\n    float maxNegLife = max(lifetime, (numParticles - 1.0) * (rate+rateDiv));\\n    float maxPosLife = lifetime+1.0;\\n    inLife = inLife * (maxNegLife + maxPosLife) - maxNegLife;\\n}\\n\";\npc.shaderChunks.particleOutputFloatPS = \"void writeOutput() {\\n    if (gl_FragCoord.y<1.0) {\\n        gl_FragColor = vec4(outPos, (outAngle + 1000.0) * visMode);\\n    } else {\\n        gl_FragColor = vec4(outVel, outLife);\\n    }\\n}\\n\";\npc.shaderChunks.particleOutputRgba8PS = \"uniform vec3 outBoundsMul;\\nuniform vec3 outBoundsAdd;\\nvec2 encodeFloatRG( float v ) {\\n  vec2 enc = vec2(1.0, 255.0) * v;\\n  enc = fract(enc);\\n  enc -= enc.yy * vec2(1.0/255.0, 1.0/255.0);\\n  return enc;\\n}\\nvec4 encodeFloatRGBA( float v ) {\\n  vec4 enc = vec4(1.0, 255.0, 65025.0, 160581375.0) * v;\\n  enc = fract(enc);\\n  enc -= enc.yzww * vec4(1.0/255.0,1.0/255.0,1.0/255.0,0.0);\\n  return enc;\\n}\\nvoid writeOutput() {\\n    //outPos = (outPos - outBoundsCenter) / outBoundsSize + vec3(0.5);\\n    outPos = outPos * outBoundsMul + outBoundsAdd;\\n    outAngle = fract(outAngle / PI2);\\n    outVel = (outVel / maxVel) + vec3(0.5); // TODO: mul\\n    float maxNegLife = max(lifetime, (numParticles - 1.0) * (rate+rateDiv));\\n    float maxPosLife = lifetime+1.0;\\n    outLife = (outLife + maxNegLife) / (maxNegLife + maxPosLife);\\n    if (gl_FragCoord.y < 1.0) {\\n        gl_FragColor = vec4(encodeFloatRG(outPos.x), encodeFloatRG(outPos.y));\\n    } else if (gl_FragCoord.y < 2.0) {\\n        gl_FragColor = vec4(encodeFloatRG(outPos.z), encodeFloatRG(outAngle));\\n    } else if (gl_FragCoord.y < 3.0) {\\n        gl_FragColor = vec4(outVel, visMode*0.5+0.5);\\n    } else {\\n        gl_FragColor = encodeFloatRGBA(outLife);\\n    }\\n}\\n\";\npc.shaderChunks.particleUpdaterAABBPS = \"uniform mat3 spawnBounds;\\nuniform vec3 spawnPosInnerRatio;\\nvec3 calcSpawnPosition(vec3 inBounds, float rndFactor) {\\n    vec3 pos = inBounds - vec3(0.5);\\n    vec3 posAbs = abs(pos);\\n    vec3 maxPos = vec3(max(posAbs.x, max(posAbs.y, posAbs.z)));\\n    vec3 edge = maxPos + (vec3(0.5) - maxPos) * spawnPosInnerRatio;\\n    //pos = edge * mix(2.0 * pos, sign(pos), equal(maxPos, posAbs));\\n    pos.x = edge.x * (maxPos.x == posAbs.x ? sign(pos.x) : 2.0 * pos.x);\\n    pos.y = edge.y * (maxPos.y == posAbs.y ? sign(pos.y) : 2.0 * pos.y);\\n    pos.z = edge.z * (maxPos.z == posAbs.z ? sign(pos.z) : 2.0 * pos.z);\\n#ifndef LOCAL_SPACE\\n    return emitterPos + spawnBounds * pos;\\n#else\\n    return spawnBounds * pos;\\n#endif\\n}\\nvoid addInitialVelocity(inout vec3 localVelocity, vec3 inBounds) {\\n    localVelocity -= vec3(0, 0, initialVelocity);\\n}\\n\";\npc.shaderChunks.particleUpdaterEndPS = \"\\n    writeOutput();\\n}\\n\";\npc.shaderChunks.particleUpdaterInitPS = \"varying vec2 vUv0;\\nuniform sampler2D particleTexIN;\\nuniform sampler2D internalTex0;\\nuniform sampler2D internalTex1;\\nuniform sampler2D internalTex2;\\nuniform sampler2D internalTex3;\\nuniform mat3 emitterMatrix, emitterMatrixInv;\\nuniform vec3 emitterScale;\\nuniform vec3 emitterPos, frameRandom, localVelocityDivMult, velocityDivMult;\\nuniform float delta, rate, rateDiv, lifetime, numParticles, rotSpeedDivMult, radialSpeedDivMult, seed;\\nuniform float startAngle, startAngle2;\\nuniform float initialVelocity;\\nuniform float graphSampleSize;\\nuniform float graphNumSamples;\\nvec3 inPos;\\nvec3 inVel;\\nfloat inAngle;\\nbool inShow;\\nfloat inLife;\\nfloat visMode;\\nvec3 outPos;\\nvec3 outVel;\\nfloat outAngle;\\nbool outShow;\\nfloat outLife;\\n\";\npc.shaderChunks.particleUpdaterNoRespawnPS = \"    if (outLife >= lifetime) {\\n        outLife -= max(lifetime, (numParticles - 1.0) * particleRate);\\n        visMode = -1.0;\\n    }\\n\";\npc.shaderChunks.particleUpdaterOnStopPS = \"    visMode = outLife < 0.0? -1.0: visMode;\\n\";\npc.shaderChunks.particleUpdaterRespawnPS = \"    if (outLife >= lifetime) {\\n        outLife -= max(lifetime, (numParticles - 1.0) * particleRate);\\n        visMode = 1.0;\\n    }\\n    visMode = outLife < 0.0? 1.0: visMode;\\n\";\npc.shaderChunks.particleUpdaterSpherePS = \"uniform float spawnBoundsSphere;\\nuniform float spawnBoundsSphereInnerRatio;\\nvec3 calcSpawnPosition(vec3 inBounds, float rndFactor) {\\n    float rnd4 = fract(rndFactor * 1000.0);\\n    vec3 norm = normalize(inBounds.xyz - vec3(0.5));\\n    float r = rnd4 * (1.0 - spawnBoundsSphereInnerRatio) + spawnBoundsSphereInnerRatio;\\n#ifndef LOCAL_SPACE\\n    return emitterPos + norm * r * spawnBoundsSphere;\\n#else\\n    return norm * r * spawnBoundsSphere;\\n#endif\\n}\\nvoid addInitialVelocity(inout vec3 localVelocity, vec3 inBounds) {\\n    localVelocity += normalize(inBounds - vec3(0.5)) * initialVelocity;\\n}\\n\";\npc.shaderChunks.particleUpdaterStartPS = \"float saturate(float x) {\\n    return clamp(x, 0.0, 1.0);\\n}\\nvec3 unpack3NFloats(float src) {\\n    float r = fract(src);\\n    float g = fract(src * 256.0);\\n    float b = fract(src * 65536.0);\\n    return vec3(r, g, b);\\n}\\nvec3 tex1Dlod_lerp(sampler2D tex, vec2 tc, out vec3 w) {\\n    vec4 a = texture2D(tex, tc);\\n    vec4 b = texture2D(tex, tc + graphSampleSize);\\n    float c = fract(tc.x * graphNumSamples);\\n    vec3 unpackedA = unpack3NFloats(a.w);\\n    vec3 unpackedB = unpack3NFloats(b.w);\\n    w = mix(unpackedA, unpackedB, c);\\n    return mix(a.xyz, b.xyz, c);\\n}\\n#define HASHSCALE4 vec4(1031, .1030, .0973, .1099)\\nvec4 hash41(float p) {\\n    vec4 p4 = fract(vec4(p) * HASHSCALE4);\\n    p4 += dot(p4, p4.wzxy+19.19);\\n    return fract(vec4((p4.x + p4.y)*p4.z, (p4.x + p4.z)*p4.y, (p4.y + p4.z)*p4.w, (p4.z + p4.w)*p4.x));\\n}\\nvoid main(void)\\n{\\n    if (gl_FragCoord.x > numParticles) discard;\\n    readInput(vUv0.x);\\n    visMode = inShow? 1.0 : -1.0;\\n    vec4 rndFactor = hash41(gl_FragCoord.x + seed);\\n    float particleRate = rate + rateDiv * rndFactor.x;\\n    outLife = inLife + delta;\\n    float nlife = clamp(outLife / lifetime, 0.0, 1.0);\\n    vec3 localVelocityDiv;\\n    vec3 velocityDiv;\\n    vec3 paramDiv;\\n    vec3 localVelocity = tex1Dlod_lerp(internalTex0, vec2(nlife, 0), localVelocityDiv);\\n    vec3 velocity =      tex1Dlod_lerp(internalTex1, vec2(nlife, 0), velocityDiv);\\n    vec3 params =        tex1Dlod_lerp(internalTex2, vec2(nlife, 0), paramDiv);\\n    float rotSpeed = params.x;\\n    float rotSpeedDiv = paramDiv.y;\\n    vec3 radialParams = tex1Dlod_lerp(internalTex3, vec2(nlife, 0), paramDiv);\\n    float radialSpeed = radialParams.x;\\n    float radialSpeedDiv = radialParams.y;\\n    bool respawn = inLife <= 0.0 || outLife >= lifetime;\\n    inPos = respawn ? calcSpawnPosition(rndFactor.xyz, rndFactor.x) : inPos;\\n    inAngle = respawn ? mix(startAngle, startAngle2, rndFactor.x) : inAngle;\\n#ifndef LOCAL_SPACE\\n    vec3 radialVel = inPos - emitterPos;\\n#else\\n    vec3 radialVel = inPos;\\n#endif\\n    radialVel = (dot(radialVel, radialVel) > 1.0E-8) ? radialSpeed * normalize(radialVel) : vec3(0.0);\\n    radialVel += (radialSpeedDiv * vec3(2.0) - vec3(1.0)) * radialSpeedDivMult * rndFactor.xyz;\\n    localVelocity +=    (localVelocityDiv * vec3(2.0) - vec3(1.0)) * localVelocityDivMult * rndFactor.xyz;\\n    velocity +=         (velocityDiv * vec3(2.0) - vec3(1.0)) * velocityDivMult * rndFactor.xyz;\\n    rotSpeed +=         (rotSpeedDiv * 2.0 - 1.0) * rotSpeedDivMult * rndFactor.y;\\n    addInitialVelocity(localVelocity, rndFactor.xyz);\\n#ifndef LOCAL_SPACE\\n    outVel = emitterMatrix * localVelocity + (radialVel + velocity) * emitterScale;\\n#else\\n    outVel = (localVelocity + radialVel) / emitterScale + emitterMatrixInv * velocity;\\n#endif\\n    outPos = inPos + outVel * delta;\\n    outAngle = inAngle + rotSpeed * delta;\\n\";\npc.shaderChunks.particle_TBNVS = \"\\n    mat3 rot3 = mat3(rotMatrix[0][0], rotMatrix[0][1], 0.0,        rotMatrix[1][0], rotMatrix[1][1], 0.0,        0.0, 0.0, 1.0);\\n    ParticleMat = mat3(-matrix_viewInverse[0].xyz, -matrix_viewInverse[1].xyz, matrix_viewInverse[2].xyz) * rot3;\\n\";\npc.shaderChunks.particle_billboardVS = \"\\n    quadXY = rotate(quadXY, inAngle, rotMatrix);\\n    vec3 localPos = billboard(particlePos, quadXY);\\n\";\npc.shaderChunks.particle_blendAddPS = \"\\n    rgb *= saturate(gammaCorrectInput(a));\\n    if ((rgb.r + rgb.g + rgb.b) < 0.000001) discard;\\n\";\npc.shaderChunks.particle_blendMultiplyPS = \"\\n    rgb = mix(vec3(1.0), rgb, vec3(a));\\n    if (rgb.r + rgb.g + rgb.b > 2.99) discard;\\n\";\npc.shaderChunks.particle_blendNormalPS = \"\\n    if (a < 0.01) discard;\\n\";\npc.shaderChunks.particle_cpuVS = \"attribute vec4 particle_vertexData;     // XYZ = world pos, W = life\\nattribute vec4 particle_vertexData2;     // X = angle, Y = scale, Z = alpha, W = velocity.x\\nattribute vec4 particle_vertexData3;     // XYZ = particle local pos, W = velocity.y\\n#ifndef USE_MESH\\n#define VDATA4TYPE vec2\\n#else\\n#define VDATA4TYPE vec4\\n#endif\\nattribute VDATA4TYPE particle_vertexData4;     // VDATA4TYPE depends on useMesh property. Start with X = velocity.z, Y = particle ID and for mesh particles proceeds with Z = mesh UV.x, W = mesh UV.y\\nuniform mat4 matrix_viewProjection;\\nuniform mat4 matrix_model;\\n#ifndef VIEWMATRIX\\n#define VIEWMATRIX\\nuniform mat4 matrix_view;\\n#endif\\nuniform mat3 matrix_normal;\\nuniform mat4 matrix_viewInverse;\\nuniform float numParticles;\\nuniform float lifetime;\\nuniform float stretch;\\n//uniform float graphSampleSize;\\n//uniform float graphNumSamples;\\nuniform vec3 wrapBounds, emitterScale, faceTangent, faceBinorm;\\nuniform sampler2D texLifeAndSourcePosOUT;\\nuniform sampler2D internalTex0;\\nuniform sampler2D internalTex1;\\nuniform sampler2D internalTex2;\\nuniform vec3 emitterPos;\\nvarying vec4 texCoordsAlphaLife;\\nvec2 rotate(vec2 quadXY, float pRotation, out mat2 rotMatrix)\\n{\\n    float c = cos(pRotation);\\n    float s = sin(pRotation);\\n    //vec4 rotationMatrix = vec4(c, -s, s, c);\\n    mat2 m = mat2(c, -s, s, c);\\n    rotMatrix = m;\\n    return m * quadXY;\\n}\\nvec3 billboard(vec3 InstanceCoords, vec2 quadXY)\\n{\\n    vec3 pos = -matrix_viewInverse[0].xyz * quadXY.x + -matrix_viewInverse[1].xyz * quadXY.y;\\n    return pos;\\n}\\nvec3 customFace(vec3 InstanceCoords, vec2 quadXY)\\n{\\n    vec3 pos = faceTangent * quadXY.x + faceBinorm * quadXY.y;\\n    return pos;\\n}\\nvoid main(void)\\n{\\n    vec3 particlePos = particle_vertexData.xyz;\\n    vec3 inPos = particlePos;\\n    vec3 vertPos = particle_vertexData3.xyz;\\n    vec3 inVel = vec3(particle_vertexData2.w, particle_vertexData3.w, particle_vertexData4.x);\\n#ifdef LOCAL_SPACE\\n    inVel = mat3(matrix_model) * inVel;\\n#endif\\n    vec2 velocityV = normalize((mat3(matrix_view) * inVel).xy); // should be removed by compiler if align/stretch is not used\\n    vec2 quadXY = vertPos.xy;\\n    \\n#ifndef USE_MESH\\n    texCoordsAlphaLife = vec4(quadXY * -0.5 + 0.5, particle_vertexData2.z, particle_vertexData.w);\\n#else\\n    texCoordsAlphaLife = vec4(particle_vertexData4.zw, particle_vertexData2.z, particle_vertexData.w);\\n#endif\\n    mat2 rotMatrix;\\n    float inAngle = particle_vertexData2.x;\\n    vec3 particlePosMoved = vec3(0.0);\\n    vec3 meshLocalPos = particle_vertexData3.xyz;\\n\";\npc.shaderChunks.particle_cpu_endVS = \"\\n    localPos *= particle_vertexData2.y * emitterScale;\\n    localPos += particlePos;\\n    gl_Position = matrix_viewProjection * vec4(localPos, 1.0);\\n\";\npc.shaderChunks.particle_customFaceVS = \"\\n    quadXY = rotate(quadXY, inAngle, rotMatrix);\\n    vec3 localPos = customFace(particlePos, quadXY);\\n\";\npc.shaderChunks.particle_endPS = \"    rgb = addFog(rgb);\\n    rgb = toneMap(rgb);\\n    rgb = gammaCorrectOutput(rgb);\\n    gl_FragColor = vec4(rgb, a);\\n}\\n\";\npc.shaderChunks.particle_endVS = \"\\n    localPos *= scale * emitterScale;\\n    localPos += particlePos;\\n    gl_Position = matrix_viewProjection * vec4(localPos.xyz, 1.0);\\n\";\npc.shaderChunks.particle_halflambertPS = \"\\n    vec3 negNormal = normal*0.5+0.5;\\n    vec3 posNormal = -normal*0.5+0.5;\\n    negNormal *= negNormal;\\n    posNormal *= posNormal;\\n\";\npc.shaderChunks.particle_initVS = \"attribute vec4 particle_vertexData; // XYZ = particle position, W = particle ID + random factor\\n#ifdef USE_MESH\\nattribute vec2 particle_uv;         // mesh UV\\n#endif\\nuniform mat4 matrix_viewProjection;\\nuniform mat4 matrix_model;\\nuniform mat3 matrix_normal;\\nuniform mat4 matrix_viewInverse;\\n#ifndef VIEWMATRIX\\n#define VIEWMATRIX\\nuniform mat4 matrix_view;\\n#endif\\nuniform float numParticles, numParticlesPot;\\nuniform float graphSampleSize;\\nuniform float graphNumSamples;\\nuniform float stretch;\\nuniform vec3 wrapBounds;\\nuniform vec3 emitterScale, emitterPos, faceTangent, faceBinorm;\\nuniform float rate, rateDiv, lifetime, deltaRandomnessStatic, scaleDivMult, alphaDivMult, seed, delta;\\nuniform sampler2D particleTexOUT, particleTexIN;\\nuniform sampler2D internalTex0;\\nuniform sampler2D internalTex1;\\nuniform sampler2D internalTex2;\\n#ifndef CAMERAPLANES\\n#define CAMERAPLANES\\nuniform vec4 camera_params;\\n#endif\\nvarying vec4 texCoordsAlphaLife;\\nvec3 inPos;\\nvec3 inVel;\\nfloat inAngle;\\nbool inShow;\\nfloat inLife;\\n\";\npc.shaderChunks.particle_lambertPS = \"\\n    vec3 negNormal = max(normal, vec3(0.0));\\n    vec3 posNormal = max(-normal, vec3(0.0));\\n\";\npc.shaderChunks.particle_lightingPS = \"\\n    vec3 light = negNormal.x*lightCube[0] + posNormal.x*lightCube[1] +\\n                        negNormal.y*lightCube[2] + posNormal.y*lightCube[3] +\\n                        negNormal.z*lightCube[4] + posNormal.z*lightCube[5];\\n    rgb *= light;\\n\";\npc.shaderChunks.particle_localShiftVS = \"    particlePos = (matrix_model * vec4(particlePos, 1.0)).xyz;\\n\";\npc.shaderChunks.particle_meshVS = \"\\n    vec3 localPos = meshLocalPos;\\n    localPos.xy = rotate(localPos.xy, inAngle, rotMatrix);\\n    localPos.yz = rotate(localPos.yz, inAngle, rotMatrix);\\n    billboard(particlePos, quadXY);\\n\";\npc.shaderChunks.particle_normalVS = \"\\n    Normal = normalize(localPos + matrix_viewInverse[2].xyz);\\n\";\npc.shaderChunks.particle_normalMapPS = \"\\n    vec3 normalMap         = normalize( texture2D(normalMap, texCoordsAlphaLife.xy).xyz * 2.0 - 1.0 );\\n    vec3 normal = ParticleMat * normalMap;\\n\";\npc.shaderChunks.particle_pointAlongVS = \"    inAngle = atan(velocityV.x, velocityV.y); // not the fastest way, but easier to plug in; TODO: create rot matrix right from vectors\\n\";\npc.shaderChunks.particle_softPS = \"\\n    float depth = getLinearScreenDepth();\\n    float particleDepth = vDepth;\\n    float depthDiff = saturate(abs(particleDepth - depth) * softening);\\n    a *= depthDiff;\\n\";\npc.shaderChunks.particle_softVS = \"\\n    vDepth = getLinearDepth(localPos);\\n\";\npc.shaderChunks.particle_stretchVS = \"    vec3 moveDir = inVel * stretch;\\n    vec3 posPrev = particlePos - moveDir;\\n    posPrev += particlePosMoved;\\n    vec2 centerToVertexV = normalize((mat3(matrix_view) * localPos).xy);\\n    float interpolation = dot(-velocityV, centerToVertexV) * 0.5 + 0.5;\\n    particlePos = mix(particlePos, posPrev, interpolation);\\n\";\npc.shaderChunks.particle_wrapVS = \"\\n    vec3 origParticlePos = particlePos;\\n    particlePos -= matrix_model[3].xyz;\\n    particlePos = mod(particlePos, wrapBounds) - wrapBounds * 0.5;\\n    particlePos += matrix_model[3].xyz;\\n    particlePosMoved = particlePos - origParticlePos;\\n\";\npc.shaderChunks.precisionTestPS = \"void main(void) {\\n    gl_FragColor = vec4(2147483648.0);\\n}\\n\";\npc.shaderChunks.precisionTest2PS = \"uniform sampler2D source;\\nvec4 packFloat(float depth) {\\n    const vec4 bit_shift = vec4(256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0);\\n    const vec4 bit_mask  = vec4(0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0);\\n    vec4 res = mod(depth * bit_shift * vec4(255), vec4(256) ) / vec4(255);\\n    res -= res.xxyz * bit_mask;\\n    return res;\\n}\\nvoid main(void) {\\n    float c = texture2D(source, vec2(0.0)).r;\\n    float diff = abs(c - 2147483648.0) / 2147483648.0;\\n    gl_FragColor = packFloat(diff);\\n}\\n\";\npc.shaderChunks.prefilterCubemapPS = \"varying vec2 vUv0;\\nuniform samplerCube source;\\nuniform vec4 params;\\nfloat saturate(float x) {\\n    return clamp(x, 0.0, 1.0);\\n}\\nfloat rnd(vec2 uv) {\\n    return fract(sin(dot(uv, vec2(12.9898, 78.233) * 2.0)) * 43758.5453);\\n}\\nconst float PI = 3.14159265358979;\\nvec3 hemisphereSample_cos(vec2 uv, mat3 vecSpace, vec3 cubeDir, float gloss) { // cos + lerped cone size (better than just lerped)\\n    float phi = uv.y * 2.0 * PI;\\n    float cosTheta = sqrt(1.0 - uv.x);\\n    float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\\n    vec3 sampleDir = vec3(cos(phi) * sinTheta, sin(phi) * sinTheta, cosTheta);\\n    return normalize(mix(vecSpace * sampleDir, cubeDir, params.y));\\n}\\nvec3 hemisphereSample_phong(vec2 uv, mat3 vecSpace, vec3 cubeDir, float specPow) {\\n    float phi = uv.y * 2.0 * PI;\\n    float cosTheta = pow(1.0 - uv.x, 1.0 / (specPow + 1.0));\\n    float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\\n    vec3 sampleDir = vec3(cos(phi) * sinTheta, sin(phi) * sinTheta, cosTheta);\\n    return vecSpace * sampleDir;\\n}\\nmat3 matrixFromVector(vec3 n) { // frisvad\\n    float a = 1.0 / (1.0 + n.z);\\n    float b = -n.x * n.y * a;\\n    vec3 b1 = vec3(1.0 - n.x * n.x * a, b, -n.x);\\n    vec3 b2 = vec3(b, 1.0 - n.y * n.y * a, -n.y);\\n    return mat3(b1, b2, n);\\n}\\nvec4 encodeRGBM(vec3 color) { // modified RGBM\\n    vec4 encoded;\\n    encoded.rgb = pow(color.rgb, vec3(0.5));\\n    encoded.rgb *= 1.0 / 8.0;\\n    encoded.a = saturate( max( max( encoded.r, encoded.g ), max( encoded.b, 1.0 / 255.0 ) ) );\\n    encoded.a = ceil(encoded.a * 255.0) / 255.0;\\n    encoded.rgb /= encoded.a;\\n    return encoded;\\n}\\nvoid main(void) {\\n    vec2 st = vUv0 * 2.0 - 1.0;\\n    if (params.w==1.0 || params.w==3.0) {\\n        st = 2.0 * floor(gl_FragCoord.xy) / (params.z - 1.0) - 1.0;\\n    }\\n    float face = params.x;\\n    vec3 vec;\\n    if (face==0.0) {\\n        vec = vec3(1, -st.y, -st.x);\\n    } else if (face==1.0) {\\n        vec = vec3(-1, -st.y, st.x);\\n    } else if (face==2.0) {\\n        vec = vec3(st.x, 1, st.y);\\n    } else if (face==3.0) {\\n        vec = vec3(st.x, -1, -st.y);\\n    } else if (face==4.0) {\\n        vec = vec3(st.x, -st.y, 1);\\n    } else {\\n        vec = vec3(-st.x, -st.y, -1);\\n    }\\n    mat3 vecSpace = matrixFromVector(normalize(vec));\\n    vec3 color = vec3(0.0);\\n    const int samples = $NUMSAMPLES;\\n    vec3 vect;\\n    for(int i=0; i<samples; i++) {\\n        float sini = sin(float(i));\\n        float cosi = cos(float(i));\\n        float rand = rnd(vec2(sini, cosi));\\n        vect = hemisphereSample_$METHOD(vec2(float(i) / float(samples), rand), vecSpace, vec, params.y);\\n        color += $textureCube(source, vect).rgb;\\n    }\\n    color /= float(samples);\\n    gl_FragColor = params.w < 2.0? vec4(color, 1.0) : encodeRGBM(color);\\n}\\n\";\npc.shaderChunks.reflDirPS = \"void getReflDir() {\\n    dReflDirW = normalize(-reflect(dViewDirW, dNormalW));\\n}\\n\";\npc.shaderChunks.reflectionCubePS = \"uniform samplerCube texture_cubeMap;\\nuniform float material_reflectivity;\\nvoid addReflection() {\\n    vec3 lookupVec = fixSeams(cubeMapProject(dReflDirW));\\n    lookupVec.x *= -1.0;\\n    dReflection += vec4($textureCubeSAMPLE(texture_cubeMap, lookupVec).rgb, material_reflectivity);\\n}\\n\";\npc.shaderChunks.reflectionDpAtlasPS = \"uniform sampler2D texture_sphereMap;\\nuniform float material_reflectivity;\\nvec2 getDpAtlasUv(vec2 uv, float mip) {\\n    vec4 rect;\\n    float sx = saturate(mip - 2.0);\\n    rect.x = sx * 0.5;\\n    float t = mip - rect.x * 6.0;\\n    float i = 1.0 - rect.x;\\n    rect.y = min(t * 0.5, 0.75) * i + rect.x;\\n    float st = saturate(t);\\n    rect.z = (1.0 - st * 0.5) * i;\\n    rect.w = rect.z * 0.5;\\n    float rcRectZ = 1.0 / rect.z;\\n    float scaleFactor = 0.00390625 * rcRectZ; // 0.0078125 = (256 + 2) / 256 - 1, 0.00390625 same for 512\\n    vec2 scale = vec2(scaleFactor, scaleFactor * 2.0);\\n    uv = uv * (vec2(1.0) - scale) + scale * 0.5;\\n    uv = uv * rect.zw + rect.xy;\\n    return uv;\\n}\\nvoid addReflection() {\\n    vec3 reflDir = normalize(cubeMapProject(dReflDirW));\\n    // Convert vector to DP coords\\n    bool up = reflDir.y > 0.0;\\n    float scale = 0.90909090909090909090909090909091;// 1.0 / 1.1;\\n    vec3 reflDirWarp = reflDir.xzx * vec3(-0.25, 0.5, 0.25);\\n    float reflDirVer = abs(reflDir.y) + 1.0;\\n    reflDirWarp /= reflDirVer;\\n    reflDirWarp *= scale;\\n    reflDirWarp = vec3(0.75, 0.5, 0.25) - reflDirWarp;\\n    vec2 tc = up? reflDirWarp.xy : reflDirWarp.zy;\\n    float bias = saturate(1.0 - dGlossiness) * 5.0; // multiply by max mip level\\n    float mip = floor(bias);\\n    vec3 tex1 = $texture2DSAMPLE(texture_sphereMap, getDpAtlasUv(tc, mip)).rgb;\\n    mip = min(mip + 1.0, 5.0);\\n    vec3 tex2 = $texture2DSAMPLE(texture_sphereMap, getDpAtlasUv(tc, mip)).rgb;\\n    tex1 = mix(tex1, tex2, fract(bias));\\n    tex1 = processEnvironment(tex1);\\n    dReflection += vec4(tex1, material_reflectivity);\\n}\\n\";\npc.shaderChunks.reflectionPrefilteredCubePS = \"uniform samplerCube texture_prefilteredCubeMap128;\\nuniform samplerCube texture_prefilteredCubeMap64;\\nuniform samplerCube texture_prefilteredCubeMap32;\\nuniform samplerCube texture_prefilteredCubeMap16;\\nuniform samplerCube texture_prefilteredCubeMap8;\\n#ifndef PMREM4\\n#define PMREM4\\nuniform samplerCube texture_prefilteredCubeMap4;\\n#endif\\nuniform float material_reflectivity;\\nvoid addReflection() {\\n    // Unfortunately, WebGL doesn't allow us using textureCubeLod. Therefore bunch of nasty workarounds is required.\\n    // We fix mip0 to 128x128, so code is rather static.\\n    // Mips smaller than 4x4 aren't great even for diffuse. Don't forget that we don't have bilinear filtering between different faces.\\n    float bias = saturate(1.0 - dGlossiness) * 5.0; // multiply by max mip level\\n    int index1 = int(bias);\\n    int index2 = int(min(bias + 1.0, 7.0));\\n    vec3 fixedReflDir = fixSeams(cubeMapProject(dReflDirW), bias);\\n    fixedReflDir.x *= -1.0;\\n    vec4 cubes[6];\\n    cubes[0] = textureCube(texture_prefilteredCubeMap128, fixedReflDir);\\n    cubes[1] = textureCube(texture_prefilteredCubeMap64, fixedReflDir);\\n    cubes[2] = textureCube(texture_prefilteredCubeMap32, fixedReflDir);\\n    cubes[3] = textureCube(texture_prefilteredCubeMap16, fixedReflDir);\\n    cubes[4] = textureCube(texture_prefilteredCubeMap8, fixedReflDir);\\n    cubes[5] = textureCube(texture_prefilteredCubeMap4, fixedReflDir);\\n    // Also we don't have dynamic indexing in PS, so...\\n    vec4 cube[2];\\n    for(int i = 0; i < 6; i++) {\\n        if (i == index1) {\\n            cube[0] = cubes[i];\\n        }\\n        if (i == index2) {\\n            cube[1] = cubes[i];\\n        }\\n    }\\n    // another variant\\n    /*if (index1==0){ cube[0]=cubes[0];\\n    }else if (index1==1){ cube[0]=cubes[1];\\n    }else if (index1==2){ cube[0]=cubes[2];\\n    }else if (index1==3){ cube[0]=cubes[3];\\n    }else if (index1==4){ cube[0]=cubes[4];\\n    }else if (index1==5){ cube[0]=cubes[5];}\\n    if (index2==0){ cube[1]=cubes[0];\\n    }else if (index2==1){ cube[1]=cubes[1];\\n    }else if (index2==2){ cube[1]=cubes[2];\\n    }else if (index2==3){ cube[1]=cubes[3];\\n    }else if (index2==4){ cube[1]=cubes[4];\\n    }else if (index2==5){ cube[1]=cubes[5];}*/\\n    vec4 cubeFinal = mix(cube[0], cube[1], fract(bias));\\n    vec3 refl = processEnvironment($DECODE(cubeFinal).rgb);\\n    dReflection += vec4(refl, material_reflectivity);\\n}\\n\";\npc.shaderChunks.reflectionPrefilteredCubeLodPS = \"\\n#ifndef PMREM4\\n#define PMREM4\\n#extension GL_EXT_shader_texture_lod : enable\\nuniform samplerCube texture_prefilteredCubeMap128;\\n#endif\\nuniform float material_reflectivity;\\nvoid addReflection() {\\n    float bias = saturate(1.0 - dGlossiness) * 5.0; // multiply by max mip level\\n    vec3 fixedReflDir = fixSeams(cubeMapProject(dReflDirW), bias);\\n    fixedReflDir.x *= -1.0;\\n    vec3 refl = processEnvironment($DECODE( textureCubeLodEXT(texture_prefilteredCubeMap128, fixedReflDir, bias) ).rgb);\\n    dReflection += vec4(refl, material_reflectivity);\\n}\\n\";\npc.shaderChunks.reflectionSpherePS = \"#ifndef VIEWMATRIX\\n#define VIEWMATRIX\\nuniform mat4 matrix_view;\\n#endif\\nuniform sampler2D texture_sphereMap;\\nuniform float material_reflectivity;\\nvoid addReflection() {\\n    vec3 reflDirV = (mat3(matrix_view) * dReflDirW).xyz;\\n    float m = 2.0 * sqrt( dot(reflDirV.xy, reflDirV.xy) + (reflDirV.z+1.0)*(reflDirV.z+1.0) );\\n    vec2 sphereMapUv = reflDirV.xy / m + 0.5;\\n    dReflection += vec4($texture2DSAMPLE(texture_sphereMap, sphereMapUv).rgb, material_reflectivity);\\n}\\n\";\npc.shaderChunks.reflectionSphereLowPS = \"uniform sampler2D texture_sphereMap;\\nuniform float material_reflectivity;\\nvoid addReflection() {\\n    vec3 reflDirV = vNormalV;\\n    vec2 sphereMapUv = reflDirV.xy * 0.5 + 0.5;\\n    dReflection += vec4($texture2DSAMPLE(texture_sphereMap, sphereMapUv).rgb, material_reflectivity);\\n}\\n\";\npc.shaderChunks.refractionPS = \"uniform float material_refraction, material_refractionIndex;\\nvec3 refract2(vec3 viewVec, vec3 Normal, float IOR) {\\n    float vn = dot(viewVec, Normal);\\n    float k = 1.0 - IOR * IOR * (1.0 - vn * vn);\\n    vec3 refrVec = IOR * viewVec - (IOR * vn + sqrt(k)) * Normal;\\n    return refrVec;\\n}\\nvoid addRefraction() {\\n    // use same reflection code with refraction vector\\n    vec3 tmp = dReflDirW;\\n    vec4 tmp2 = dReflection;\\n    dReflection = vec4(0.0);\\n    dReflDirW = refract2(-dViewDirW, dNormalW, material_refractionIndex);\\n    addReflection();\\n    dDiffuseLight = mix(dDiffuseLight, dReflection.rgb * dAlbedo, material_refraction);\\n    dReflDirW = tmp;\\n    dReflection = tmp2;\\n}\\n\";\npc.shaderChunks.rgbmPS = \"vec3 decodeRGBM(vec4 rgbm) {\\n    vec3 color = (8.0 * rgbm.a) * rgbm.rgb;\\n    return color * color;\\n}\\nvec3 texture2DRGBM(sampler2D tex, vec2 uv) {\\n    return decodeRGBM(texture2D(tex, uv));\\n}\\nvec3 textureCubeRGBM(samplerCube tex, vec3 uvw) {\\n    return decodeRGBM(textureCube(tex, uvw));\\n}\\n\";\npc.shaderChunks.screenDepthPS = \"uniform sampler2D uDepthMap;\\n#ifndef SCREENSIZE\\n#define SCREENSIZE\\nuniform vec4 uScreenSize;\\n#endif\\n#ifndef VIEWMATRIX\\n#define VIEWMATRIX\\nuniform mat4 matrix_view;\\n#endif\\n#ifndef CAMERAPLANES\\n#define CAMERAPLANES\\nuniform vec4 camera_params; // 1 / camera_far,      camera_far,     (1 - f / n) / 2,        (1 + f / n) / 2\\n#endif\\n#ifdef GL2\\n    float linearizeDepth(float z) {\\n        z = z * 2.0 - 1.0;\\n        return 1.0 / (camera_params.z * z + camera_params.w);\\n    }\\n#else\\n    #ifndef UNPACKFLOAT\\n    #define UNPACKFLOAT\\n    float unpackFloat(vec4 rgbaDepth) {\\n        const vec4 bitShift = vec4(1.0 / (256.0 * 256.0 * 256.0), 1.0 / (256.0 * 256.0), 1.0 / 256.0, 1.0);\\n        return dot(rgbaDepth, bitShift);\\n    }\\n    #endif\\n#endif\\n// Retrieves rendered linear camera depth by UV\\nfloat getLinearScreenDepth(vec2 uv) {\\n    #ifdef GL2\\n        return linearizeDepth(texture2D(uDepthMap, uv).r) * camera_params.y;\\n    #else\\n        return unpackFloat(texture2D(uDepthMap, uv)) * camera_params.y;\\n    #endif\\n}\\n#ifndef VERTEXSHADER\\n// Retrieves rendered linear camera depth under the current pixel\\nfloat getLinearScreenDepth() {\\n    vec2 uv = gl_FragCoord.xy * uScreenSize.zw;\\n    return getLinearScreenDepth(uv);\\n}\\n#endif\\n// Generates linear camera depth for the given world position\\nfloat getLinearDepth(vec3 pos) {\\n    return -(matrix_view * vec4(pos, 1.0)).z;\\n}\\n\";\npc.shaderChunks.shadowCommonPS = \"void normalOffsetPointShadow(vec4 shadowParams) {\\n    float distScale = length(dLightDirW);\\n    vec3 wPos = vPositionW + dVertexNormalW * shadowParams.y * clamp(1.0 - dot(dVertexNormalW, -dLightDirNormW), 0.0, 1.0) * distScale; //0.02\\n    vec3 dir = wPos - dLightPosW;\\n    dLightDirW = dir;\\n}\\n\";\npc.shaderChunks.shadowCoordPS = \"void _getShadowCoordOrtho(mat4 shadowMatrix, vec3 shadowParams, vec3 wPos) {\\n    dShadowCoord = (shadowMatrix * vec4(wPos, 1.0)).xyz;\\n    dShadowCoord.z = saturate(dShadowCoord.z) - 0.0001;\\n    #ifdef SHADOWBIAS\\n        dShadowCoord.z += getShadowBias(shadowParams.x, shadowParams.z);\\n    #endif\\n}\\nvoid _getShadowCoordPersp(mat4 shadowMatrix, vec4 shadowParams, vec3 wPos) {\\n    vec4 projPos = shadowMatrix * vec4(wPos, 1.0);\\n    projPos.xy /= projPos.w;\\n    dShadowCoord.xy = projPos.xy;\\n    dShadowCoord.z = length(dLightDirW) * shadowParams.w;\\n    #ifdef SHADOWBIAS\\n        dShadowCoord.z += getShadowBias(shadowParams.x, shadowParams.z);\\n    #endif\\n}\\nvoid getShadowCoordOrtho(mat4 shadowMatrix, vec3 shadowParams) {\\n    _getShadowCoordOrtho(shadowMatrix, shadowParams, vPositionW);\\n}\\nvoid getShadowCoordPersp(mat4 shadowMatrix, vec4 shadowParams) {\\n    _getShadowCoordPersp(shadowMatrix, shadowParams, vPositionW);\\n}\\nvoid getShadowCoordPerspNormalOffset(mat4 shadowMatrix, vec4 shadowParams) {\\n    float distScale = abs(dot(vPositionW - dLightPosW, dLightDirNormW)); // fov?\\n    vec3 wPos = vPositionW + dVertexNormalW * shadowParams.y * clamp(1.0 - dot(dVertexNormalW, -dLightDirNormW), 0.0, 1.0) * distScale;\\n    _getShadowCoordPersp(shadowMatrix, shadowParams, wPos);\\n}\\nvoid getShadowCoordOrthoNormalOffset(mat4 shadowMatrix, vec3 shadowParams) {\\n    vec3 wPos = vPositionW + dVertexNormalW * shadowParams.y * clamp(1.0 - dot(dVertexNormalW, -dLightDirNormW), 0.0, 1.0); //0.08\\n    _getShadowCoordOrtho(shadowMatrix, shadowParams, wPos);\\n}\\n\";\npc.shaderChunks.shadowCoordVS = \"void getLightDirPoint(vec3 lightPosW) {\\n    vec3 lightDirW = vPositionW - lightPosW;\\n    dLightDirNormW = normalize(lightDirW);\\n    dLightPosW = lightPosW;\\n}\\nvoid _getShadowCoordOrtho(mat4 shadowMatrix, vec3 shadowParams, vec3 wPos) {\\n    vec4 projPos = shadowMatrix * vec4(wPos, 1.0);\\n    vMainShadowUv = projPos;\\n}\\nvoid _getShadowCoordPersp(mat4 shadowMatrix, vec3 shadowParams, vec3 wPos) {\\n    vec4 projPos = shadowMatrix * vec4(wPos, 1.0);\\n    vMainShadowUv = projPos;\\n}\\nvoid getShadowCoordOrtho(mat4 shadowMatrix, vec3 shadowParams) {\\n    _getShadowCoordOrtho(shadowMatrix, shadowParams, vPositionW);\\n}\\nvoid getShadowCoordPersp(mat4 shadowMatrix, vec3 shadowParams) {\\n    _getShadowCoordPersp(shadowMatrix, shadowParams, vPositionW);\\n}\\nvoid getShadowCoordPerspNormalOffset(mat4 shadowMatrix, vec3 shadowParams) {\\n    float distScale = abs(dot(vPositionW - dLightPosW, dLightDirNormW)); // fov?\\n    vec3 wPos = vPositionW + dNormalW * shadowParams.y * clamp(1.0 - dot(dNormalW, -dLightDirNormW), 0.0, 1.0) * distScale;\\n    _getShadowCoordPersp(shadowMatrix, shadowParams, wPos);\\n}\\nvoid getShadowCoordOrthoNormalOffset(mat4 shadowMatrix, vec3 shadowParams) {\\n    vec3 wPos = vPositionW + dNormalW * shadowParams.y * clamp(1.0 - dot(dNormalW, -dLightDirNormW), 0.0, 1.0); //0.08\\n    _getShadowCoordOrtho(shadowMatrix, shadowParams, wPos);\\n}\\n\";\npc.shaderChunks.shadowCoordPerspZbufferPS = \"void _getShadowCoordPerspZbuffer(mat4 shadowMatrix, vec4 shadowParams, vec3 wPos) {\\n    vec4 projPos = shadowMatrix * vec4(wPos, 1.0);\\n    projPos.xyz /= projPos.w;\\n    dShadowCoord = projPos.xyz;\\n    // depth bias is already applied on render\\n}\\nvoid getShadowCoordPerspZbufferNormalOffset(mat4 shadowMatrix, vec4 shadowParams) {\\n    float distScale = abs(dot(vPositionW - dLightPosW, dLightDirNormW)); // fov?\\n    vec3 wPos = vPositionW + dVertexNormalW * shadowParams.y * clamp(1.0 - dot(dVertexNormalW, -dLightDirNormW), 0.0, 1.0) * distScale;\\n    _getShadowCoordPerspZbuffer(shadowMatrix, shadowParams, wPos);\\n}\\nvoid getShadowCoordPerspZbuffer(mat4 shadowMatrix, vec4 shadowParams) {\\n    _getShadowCoordPerspZbuffer(shadowMatrix, shadowParams, vPositionW);\\n}\\n\";\npc.shaderChunks.shadowEVSMPS = \"float VSM$(sampler2D tex, vec2 texCoords, float resolution, float Z, float vsmBias, float exponent) {\\n    vec3 moments = texture2D(tex, texCoords).xyz;\\n    return calculateEVSM(moments, Z, vsmBias, exponent);\\n}\\nfloat getShadowVSM$(sampler2D shadowMap, vec3 shadowParams, float exponent) {\\n    return VSM$(shadowMap, dShadowCoord.xy, shadowParams.x, dShadowCoord.z, shadowParams.y, exponent);\\n}\\nfloat getShadowSpotVSM$(sampler2D shadowMap, vec4 shadowParams, float exponent) {\\n    return VSM$(shadowMap, dShadowCoord.xy, shadowParams.x, length(dLightDirW) * shadowParams.w + shadowParams.z, shadowParams.y, exponent);\\n}\\n\";\npc.shaderChunks.shadowEVSMnPS = \"float VSM$(sampler2D tex, vec2 texCoords, float resolution, float Z, float vsmBias, float exponent) {\\n    float pixelSize = 1.0 / resolution;\\n    texCoords -= vec2(pixelSize);\\n    vec3 s00 = texture2D(tex, texCoords).xyz;\\n    vec3 s10 = texture2D(tex, texCoords + vec2(pixelSize, 0)).xyz;\\n    vec3 s01 = texture2D(tex, texCoords + vec2(0, pixelSize)).xyz;\\n    vec3 s11 = texture2D(tex, texCoords + vec2(pixelSize)).xyz;\\n    vec2 fr = fract(texCoords * resolution);\\n    vec3 h0 = mix(s00, s10, fr.x);\\n    vec3 h1 = mix(s01, s11, fr.x);\\n    vec3 moments = mix(h0, h1, fr.y);\\n    return calculateEVSM(moments, Z, vsmBias, exponent);\\n}\\nfloat getShadowVSM$(sampler2D shadowMap, vec3 shadowParams, float exponent) {\\n    return VSM$(shadowMap, dShadowCoord.xy, shadowParams.x, dShadowCoord.z, shadowParams.y, exponent);\\n}\\nfloat getShadowSpotVSM$(sampler2D shadowMap, vec4 shadowParams, float exponent) {\\n    return VSM$(shadowMap, dShadowCoord.xy, shadowParams.x, length(dLightDirW) * shadowParams.w + shadowParams.z, shadowParams.y, exponent);\\n}\\n\";\npc.shaderChunks.shadowStandardPS = \"vec3 lessThan2(vec3 a, vec3 b) {\\n    return clamp((b - a)*1000.0, 0.0, 1.0); // softer version\\n}\\n#ifndef UNPACKFLOAT\\n#define UNPACKFLOAT\\nfloat unpackFloat(vec4 rgbaDepth) {\\n    const vec4 bitShift = vec4(1.0 / (256.0 * 256.0 * 256.0), 1.0 / (256.0 * 256.0), 1.0 / 256.0, 1.0);\\n    return dot(rgbaDepth, bitShift);\\n}\\n#endif\\n// ----- Direct/Spot Sampling -----\\n#ifdef GL2\\n    float _getShadowPCF3x3(sampler2DShadow shadowMap, vec3 shadowParams) {\\n        float z = dShadowCoord.z;\\n        vec2 uv = dShadowCoord.xy * shadowParams.x; // 1 unit - 1 texel\\n        float shadowMapSizeInv = 1.0 / shadowParams.x;\\n        vec2 base_uv = floor(uv + 0.5);\\n        float s = (uv.x + 0.5 - base_uv.x);\\n        float t = (uv.y + 0.5 - base_uv.y);\\n        base_uv -= vec2(0.5);\\n        base_uv *= shadowMapSizeInv;\\n        float sum = 0.0;\\n        float uw0 = (3.0 - 2.0 * s);\\n        float uw1 = (1.0 + 2.0 * s);\\n        float u0 = (2.0 - s) / uw0 - 1.0;\\n        float u1 = s / uw1 + 1.0;\\n        float vw0 = (3.0 - 2.0 * t);\\n        float vw1 = (1.0 + 2.0 * t);\\n        float v0 = (2.0 - t) / vw0 - 1.0;\\n        float v1 = t / vw1 + 1.0;\\n        u0 = u0 * shadowMapSizeInv + base_uv.x;\\n        v0 = v0 * shadowMapSizeInv + base_uv.y;\\n        u1 = u1 * shadowMapSizeInv + base_uv.x;\\n        v1 = v1 * shadowMapSizeInv + base_uv.y;\\n        sum += uw0 * vw0 * texture(shadowMap, vec3(u0, v0, z));\\n        sum += uw1 * vw0 * texture(shadowMap, vec3(u1, v0, z));\\n        sum += uw0 * vw1 * texture(shadowMap, vec3(u0, v1, z));\\n        sum += uw1 * vw1 * texture(shadowMap, vec3(u1, v1, z));\\n        sum *= 1.0f / 16.0;\\n        return sum;\\n    }\\n    float getShadowPCF3x3(sampler2DShadow shadowMap, vec3 shadowParams) {\\n        return _getShadowPCF3x3(shadowMap, shadowParams);\\n    }\\n    float getShadowSpotPCF3x3(sampler2DShadow shadowMap, vec4 shadowParams) {\\n        return _getShadowPCF3x3(shadowMap, shadowParams.xyz);\\n    }\\n#else\\n    float _xgetShadowPCF3x3(mat3 depthKernel, sampler2D shadowMap, vec3 shadowParams) {\\n        mat3 shadowKernel;\\n        vec3 shadowCoord = dShadowCoord;\\n        vec3 shadowZ = vec3(shadowCoord.z);\\n        shadowKernel[0] = vec3(greaterThan(depthKernel[0], shadowZ));\\n        shadowKernel[1] = vec3(greaterThan(depthKernel[1], shadowZ));\\n        shadowKernel[2] = vec3(greaterThan(depthKernel[2], shadowZ));\\n        vec2 fractionalCoord = fract( shadowCoord.xy * shadowParams.x );\\n        shadowKernel[0] = mix(shadowKernel[0], shadowKernel[1], fractionalCoord.x);\\n        shadowKernel[1] = mix(shadowKernel[1], shadowKernel[2], fractionalCoord.x);\\n        vec4 shadowValues;\\n        shadowValues.x = mix(shadowKernel[0][0], shadowKernel[0][1], fractionalCoord.y);\\n        shadowValues.y = mix(shadowKernel[0][1], shadowKernel[0][2], fractionalCoord.y);\\n        shadowValues.z = mix(shadowKernel[1][0], shadowKernel[1][1], fractionalCoord.y);\\n        shadowValues.w = mix(shadowKernel[1][1], shadowKernel[1][2], fractionalCoord.y);\\n        return dot( shadowValues, vec4( 1.0 ) ) * 0.25;\\n    }\\n    float _getShadowPCF3x3(sampler2D shadowMap, vec3 shadowParams) {\\n        vec3 shadowCoord = dShadowCoord;\\n        float xoffset = 1.0 / shadowParams.x; // 1/shadow map width\\n        float dx0 = -xoffset;\\n        float dx1 = xoffset;\\n        mat3 depthKernel;\\n        depthKernel[0][0] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx0, dx0)));\\n        depthKernel[0][1] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx0, 0.0)));\\n        depthKernel[0][2] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx0, dx1)));\\n        depthKernel[1][0] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(0.0, dx0)));\\n        depthKernel[1][1] = unpackFloat(texture2D(shadowMap, shadowCoord.xy));\\n        depthKernel[1][2] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(0.0, dx1)));\\n        depthKernel[2][0] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx1, dx0)));\\n        depthKernel[2][1] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx1, 0.0)));\\n        depthKernel[2][2] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx1, dx1)));\\n        return _xgetShadowPCF3x3(depthKernel, shadowMap, shadowParams);\\n    }\\n    float getShadowPCF3x3(sampler2D shadowMap, vec3 shadowParams) {\\n        return _getShadowPCF3x3(shadowMap, shadowParams);\\n    }\\n    float getShadowSpotPCF3x3(sampler2D shadowMap, vec4 shadowParams) {\\n        return _getShadowPCF3x3(shadowMap, shadowParams.xyz);\\n    }\\n#endif\\n// ----- Point Sampling -----\\nfloat _getShadowPoint(samplerCube shadowMap, vec4 shadowParams, vec3 dir) {\\n    vec3 tc = normalize(dir);\\n    vec3 tcAbs = abs(tc);\\n    vec4 dirX = vec4(1,0,0, tc.x);\\n    vec4 dirY = vec4(0,1,0, tc.y);\\n    float majorAxisLength = tc.z;\\n    if ((tcAbs.x > tcAbs.y) && (tcAbs.x > tcAbs.z)) {\\n        dirX = vec4(0,0,1, tc.z);\\n        dirY = vec4(0,1,0, tc.y);\\n        majorAxisLength = tc.x;\\n    } else if ((tcAbs.y > tcAbs.x) && (tcAbs.y > tcAbs.z)) {\\n        dirX = vec4(1,0,0, tc.x);\\n        dirY = vec4(0,0,1, tc.z);\\n        majorAxisLength = tc.y;\\n    }\\n    float shadowParamsInFaceSpace = ((1.0/shadowParams.x) * 2.0) * abs(majorAxisLength);\\n    vec3 xoffset = (dirX.xyz * shadowParamsInFaceSpace);\\n    vec3 yoffset = (dirY.xyz * shadowParamsInFaceSpace);\\n    vec3 dx0 = -xoffset;\\n    vec3 dy0 = -yoffset;\\n    vec3 dx1 = xoffset;\\n    vec3 dy1 = yoffset;\\n    mat3 shadowKernel;\\n    mat3 depthKernel;\\n    depthKernel[0][0] = unpackFloat(textureCube(shadowMap, tc + dx0 + dy0));\\n    depthKernel[0][1] = unpackFloat(textureCube(shadowMap, tc + dx0));\\n    depthKernel[0][2] = unpackFloat(textureCube(shadowMap, tc + dx0 + dy1));\\n    depthKernel[1][0] = unpackFloat(textureCube(shadowMap, tc + dy0));\\n    depthKernel[1][1] = unpackFloat(textureCube(shadowMap, tc));\\n    depthKernel[1][2] = unpackFloat(textureCube(shadowMap, tc + dy1));\\n    depthKernel[2][0] = unpackFloat(textureCube(shadowMap, tc + dx1 + dy0));\\n    depthKernel[2][1] = unpackFloat(textureCube(shadowMap, tc + dx1));\\n    depthKernel[2][2] = unpackFloat(textureCube(shadowMap, tc + dx1 + dy1));\\n    vec3 shadowZ = vec3(length(dir) * shadowParams.w + shadowParams.z);\\n    shadowKernel[0] = vec3(lessThan2(depthKernel[0], shadowZ));\\n    shadowKernel[1] = vec3(lessThan2(depthKernel[1], shadowZ));\\n    shadowKernel[2] = vec3(lessThan2(depthKernel[2], shadowZ));\\n    vec2 uv = (vec2(dirX.w, dirY.w) / abs(majorAxisLength)) * 0.5;\\n    vec2 fractionalCoord = fract( uv * shadowParams.x );\\n    shadowKernel[0] = mix(shadowKernel[0], shadowKernel[1], fractionalCoord.x);\\n    shadowKernel[1] = mix(shadowKernel[1], shadowKernel[2], fractionalCoord.x);\\n    vec4 shadowValues;\\n    shadowValues.x = mix(shadowKernel[0][0], shadowKernel[0][1], fractionalCoord.y);\\n    shadowValues.y = mix(shadowKernel[0][1], shadowKernel[0][2], fractionalCoord.y);\\n    shadowValues.z = mix(shadowKernel[1][0], shadowKernel[1][1], fractionalCoord.y);\\n    shadowValues.w = mix(shadowKernel[1][1], shadowKernel[1][2], fractionalCoord.y);\\n    return 1.0 - dot( shadowValues, vec4( 1.0 ) ) * 0.25;\\n}\\nfloat getShadowPointPCF3x3(samplerCube shadowMap, vec4 shadowParams) {\\n    return _getShadowPoint(shadowMap, shadowParams, dLightDirW);\\n}\\n\";\npc.shaderChunks.shadowStandardGL2PS = \"float _getShadowPCF5x5(sampler2DShadow shadowMap, vec3 shadowParams) {\\n    // http://the-witness.net/news/2013/09/shadow-mapping-summary-part-1/\\n    float z = dShadowCoord.z;\\n    vec2 uv = dShadowCoord.xy * shadowParams.x; // 1 unit - 1 texel\\n    float shadowMapSizeInv = 1.0 / shadowParams.x;\\n    vec2 base_uv = floor(uv + 0.5);\\n    float s = (uv.x + 0.5 - base_uv.x);\\n    float t = (uv.y + 0.5 - base_uv.y);\\n    base_uv -= vec2(0.5);\\n    base_uv *= shadowMapSizeInv;\\n    float uw0 = (4.0 - 3.0 * s);\\n    float uw1 = 7.0;\\n    float uw2 = (1.0 + 3.0 * s);\\n    float u0 = (3.0 - 2.0 * s) / uw0 - 2.0;\\n    float u1 = (3.0 + s) / uw1;\\n    float u2 = s / uw2 + 2.0;\\n    float vw0 = (4.0 - 3.0 * t);\\n    float vw1 = 7.0;\\n    float vw2 = (1.0 + 3.0 * t);\\n    float v0 = (3.0 - 2.0 * t) / vw0 - 2.0;\\n    float v1 = (3.0 + t) / vw1;\\n    float v2 = t / vw2 + 2.0;\\n    float sum = 0.0;\\n    u0 = u0 * shadowMapSizeInv + base_uv.x;\\n    v0 = v0 * shadowMapSizeInv + base_uv.y;\\n    u1 = u1 * shadowMapSizeInv + base_uv.x;\\n    v1 = v1 * shadowMapSizeInv + base_uv.y;\\n    u2 = u2 * shadowMapSizeInv + base_uv.x;\\n    v2 = v2 * shadowMapSizeInv + base_uv.y;\\n    sum += uw0 * vw0 * texture(shadowMap, vec3(u0, v0, z));\\n    sum += uw1 * vw0 * texture(shadowMap, vec3(u1, v0, z));\\n    sum += uw2 * vw0 * texture(shadowMap, vec3(u2, v0, z));\\n    sum += uw0 * vw1 * texture(shadowMap, vec3(u0, v1, z));\\n    sum += uw1 * vw1 * texture(shadowMap, vec3(u1, v1, z));\\n    sum += uw2 * vw1 * texture(shadowMap, vec3(u2, v1, z));\\n    sum += uw0 * vw2 * texture(shadowMap, vec3(u0, v2, z));\\n    sum += uw1 * vw2 * texture(shadowMap, vec3(u1, v2, z));\\n    sum += uw2 * vw2 * texture(shadowMap, vec3(u2, v2, z));\\n    sum *= 1.0f / 144.0;\\n    sum = gammaCorrectInput(sum); // gives softer gradient\\n    sum = saturate(sum);\\n    return sum;\\n}\\nfloat getShadowPCF5x5(sampler2DShadow shadowMap, vec3 shadowParams) {\\n    return _getShadowPCF5x5(shadowMap, shadowParams);\\n}\\nfloat getShadowSpotPCF5x5(sampler2DShadow shadowMap, vec4 shadowParams) {\\n    return _getShadowPCF5x5(shadowMap, shadowParams.xyz);\\n}\\n\";\npc.shaderChunks.shadowStandardGL2VSPS = \"float getShadowPCF5x5VS(sampler2DShadow shadowMap, vec3 shadowParams) {\\n    dShadowCoord = vMainShadowUv.xyz;\\n    dShadowCoord.z = saturate(dShadowCoord.z) - 0.0001; // prevent going to dark after the far plane\\n    return _getShadowPCF5x5(shadowMap, shadowParams);\\n}\\n\";\npc.shaderChunks.shadowStandardVSPS = \"#ifdef GL2\\n#define SHADOW_SAMPLERVS sampler2DShadow\\n#else\\n#define SHADOW_SAMPLERVS sampler2D\\n#endif\\nfloat getShadowPCF3x3VS(SHADOW_SAMPLERVS shadowMap, vec3 shadowParams) {\\n    dShadowCoord = vMainShadowUv.xyz;\\n    dShadowCoord.z = saturate(dShadowCoord.z) - 0.0001;\\n    #ifdef SHADOWBIAS\\n        dShadowCoord.z += getShadowBias(shadowParams.x, shadowParams.z);\\n    #endif\\n    return _getShadowPCF3x3(shadowMap, shadowParams);\\n}\\n\";\npc.shaderChunks.shadowVSM8PS = \"float calculateVSM8(vec3 moments, float Z, float vsmBias) {\\n    float VSMBias = vsmBias;//0.01 * 0.25;\\n    float depthScale = VSMBias * Z;\\n    float minVariance1 = depthScale * depthScale;\\n    return chebyshevUpperBound(moments.xy, Z, minVariance1, 0.1);\\n}\\nfloat decodeFloatRG(vec2 rg) {\\n    return rg.y*(1.0/255.0) + rg.x;\\n}\\nfloat VSM8(sampler2D tex, vec2 texCoords, float resolution, float Z, float vsmBias, float exponent) {\\n    vec4 c = texture2D(tex, texCoords);\\n    vec3 moments = vec3(decodeFloatRG(c.xy), decodeFloatRG(c.zw), 0.0);\\n    return calculateVSM8(moments, Z, vsmBias);\\n}\\nfloat getShadowVSM8(sampler2D shadowMap, vec3 shadowParams, float exponent) {\\n    return VSM8(shadowMap, dShadowCoord.xy, shadowParams.x, dShadowCoord.z, shadowParams.y, 0.0);\\n}\\nfloat getShadowSpotVSM8(sampler2D shadowMap, vec4 shadowParams, float exponent) {\\n    return VSM8(shadowMap, dShadowCoord.xy, shadowParams.x, length(dLightDirW) * shadowParams.w + shadowParams.z, shadowParams.y, 0.0);\\n}\\n\";\npc.shaderChunks.shadowVSMVSPS = \"float getShadowVSM$VS(sampler2D shadowMap, vec3 shadowParams, float exponent) {\\n    dShadowCoord = vMainShadowUv.xyz;\\n    dShadowCoord.z += shadowParams.z;\\n    dShadowCoord.xyz /= vMainShadowUv.w;\\n    dShadowCoord.z = min(dShadowCoord.z, 1.0);\\n    return $VSM(shadowMap, dShadowCoord.xy, shadowParams.x, dShadowCoord.z, shadowParams.y, exponent);\\n}\\n\";\npc.shaderChunks.shadowVSM_commonPS = \"float linstep(float a, float b, float v) {\\n    return saturate((v - a) / (b - a));\\n}\\nfloat reduceLightBleeding(float pMax, float amount) {\\n  // Remove the [0, amount] tail and linearly rescale (amount, 1].\\n   return linstep(amount, 1.0, pMax);\\n}\\nfloat chebyshevUpperBound(vec2 moments, float mean, float minVariance, float lightBleedingReduction) {\\n    // Compute variance\\n    float variance = moments.y - (moments.x * moments.x);\\n    variance = max(variance, minVariance);\\n    // Compute probabilistic upper bound\\n    float d = mean - moments.x;\\n    float pMax = variance / (variance + (d * d));\\n    pMax = reduceLightBleeding(pMax, lightBleedingReduction);\\n    // One-tailed Chebyshev\\n    return (mean <= moments.x ? 1.0 : pMax);\\n}\\nfloat calculateEVSM(vec3 moments, float Z, float vsmBias, float exponent) {\\n    Z = 2.0 * Z - 1.0;\\n    float warpedDepth = exp(exponent * Z);\\n    moments.xy += vec2(warpedDepth, warpedDepth*warpedDepth) * (1.0 - moments.z);\\n    float VSMBias = vsmBias;//0.01 * 0.25;\\n    float depthScale = VSMBias * exponent * warpedDepth;\\n    float minVariance1 = depthScale * depthScale;\\n    return chebyshevUpperBound(moments.xy, warpedDepth, minVariance1, 0.1);\\n}\\n\";\npc.shaderChunks.skinBatchConstVS = \"attribute float vertex_boneIndices;\\nuniform mat4 matrix_pose[BONE_LIMIT];\\nmat4 getBoneMatrix(const in float i) {\\n    mat4 bone = matrix_pose[int(i)];\\n    return bone;\\n}\\n\";\npc.shaderChunks.skinBatchTexVS = \"attribute float vertex_boneIndices;\\nuniform sampler2D texture_poseMap;\\nuniform vec2 texture_poseMapSize;\\nmat4 getBoneMatrix(const in float i) {\\n    float j = i * 4.0;\\n    float x = mod(j, float(texture_poseMapSize.x));\\n    float y = floor(j / float(texture_poseMapSize.x));\\n    float dx = 1.0 / float(texture_poseMapSize.x);\\n    float dy = 1.0 / float(texture_poseMapSize.y);\\n    y = dy * (y + 0.5);\\n    vec4 v1 = texture2D(texture_poseMap, vec2(dx * (x + 0.5), y));\\n    vec4 v2 = texture2D(texture_poseMap, vec2(dx * (x + 1.5), y));\\n    vec4 v3 = texture2D(texture_poseMap, vec2(dx * (x + 2.5), y));\\n    vec4 v4 = texture2D(texture_poseMap, vec2(dx * (x + 3.5), y));\\n    mat4 bone = mat4(v1, v2, v3, v4);\\n    return bone;\\n}\\n\";\npc.shaderChunks.skinConstVS = \"attribute vec4 vertex_boneWeights;\\nattribute vec4 vertex_boneIndices;\\nuniform mat4 matrix_pose[BONE_LIMIT];\\nmat4 getBoneMatrix(const in float i)\\n{\\n    mat4 bone = matrix_pose[int(i)];\\n    return bone;\\n}\\n\";\npc.shaderChunks.skinTexVS = \"attribute vec4 vertex_boneWeights;\\nattribute vec4 vertex_boneIndices;\\nuniform sampler2D texture_poseMap;\\nuniform vec2 texture_poseMapSize;\\nmat4 getBoneMatrix(const in float i)\\n{\\n    float j = i * 4.0;\\n    float x = mod(j, float(texture_poseMapSize.x));\\n    float y = floor(j / float(texture_poseMapSize.x));\\n    float dx = 1.0 / float(texture_poseMapSize.x);\\n    float dy = 1.0 / float(texture_poseMapSize.y);\\n    y = dy * (y + 0.5);\\n    vec4 v1 = texture2D(texture_poseMap, vec2(dx * (x + 0.5), y));\\n    vec4 v2 = texture2D(texture_poseMap, vec2(dx * (x + 1.5), y));\\n    vec4 v3 = texture2D(texture_poseMap, vec2(dx * (x + 2.5), y));\\n    vec4 v4 = texture2D(texture_poseMap, vec2(dx * (x + 3.5), y));\\n    mat4 bone = mat4(v1, v2, v3, v4);\\n    return bone;\\n}\\n\";\npc.shaderChunks.skyboxPS = \"varying vec3 vViewDir;\\nuniform samplerCube texture_cubeMap;\\nvoid main(void) {\\n    gl_FragColor = textureCube(texture_cubeMap, fixSeams(vViewDir));\\n}\\n\";\npc.shaderChunks.skyboxVS = \"attribute vec3 aPosition;\\n#ifndef VIEWMATRIX\\n#define VIEWMATRIX\\nuniform mat4 matrix_view;\\n#endif\\nuniform mat4 matrix_projection;\\nvarying vec3 vViewDir;\\nvoid main(void)\\n{\\n    mat4 view = matrix_view;\\n    view[3][0] = view[3][1] = view[3][2] = 0.0;\\n    gl_Position = matrix_projection * view * vec4(aPosition, 1.0);\\n    // Force skybox to far Z, regardless of the clip planes on the camera\\n    // Subtract a tiny fudge factor to ensure floating point errors don't\\n    // still push pixels beyond far Z. See:\\n    // http://www.opengl.org/discussion_boards/showthread.php/171867-skybox-problem\\n    gl_Position.z = gl_Position.w - 0.00001;\\n    vViewDir = aPosition;\\n    vViewDir.x *= -1.0;\\n}\\n\";\npc.shaderChunks.skyboxHDRPS = \"varying vec3 vViewDir;\\nuniform samplerCube texture_cubeMap;\\nvoid main(void) {\\n    vec3 color = processEnvironment($textureCubeSAMPLE(texture_cubeMap, fixSeamsStatic(vViewDir, $FIXCONST)).rgb);\\n    color = toneMap(color);\\n    color = gammaCorrectOutput(color);\\n    gl_FragColor = vec4(color, 1.0);\\n}\\n\";\npc.shaderChunks.skyboxPrefilteredCubePS = \"varying vec3 vViewDir;\\nuniform samplerCube texture_cubeMap;\\nvec3 fixSeamsStretch(vec3 vec, float mipmapIndex, float cubemapSize) {\\n    float scale = 1.0 - exp2(mipmapIndex) / cubemapSize;\\n    float M = max(max(abs(vec.x), abs(vec.y)), abs(vec.z));\\n    if (abs(vec.x) != M) vec.x *= scale;\\n    if (abs(vec.y) != M) vec.y *= scale;\\n    if (abs(vec.z) != M) vec.z *= scale;\\n    return vec;\\n}\\nvoid main(void) {\\n    vec3 color = textureCubeRGBM(texture_cubeMap, fixSeamsStretch(vViewDir, 0.0, 128.0));\\n    color = toneMap(color);\\n    color = gammaCorrectOutput(color);\\n    gl_FragColor = vec4(color, 1.0);\\n}\\n\";\npc.shaderChunks.specularPS = \"#ifdef MAPCOLOR\\nuniform vec3 material_specular;\\n#endif\\n#ifdef MAPTEXTURE\\nuniform sampler2D texture_specularMap;\\n#endif\\nvoid getSpecularity() {\\n    dSpecularity = vec3(1.0);\\n    #ifdef MAPCOLOR\\n        dSpecularity *= material_specular;\\n    #endif\\n    #ifdef MAPTEXTURE\\n        dSpecularity *= texture2D(texture_specularMap, $UV).$CH;\\n    #endif\\n    #ifdef MAPVERTEX\\n        dSpecularity *= saturate(vVertexColor.$VC);\\n    #endif\\n}\\n\";\npc.shaderChunks.specularAaNonePS = \"float antiAliasGlossiness(float power) {\\n    return power;\\n}\\n\";\npc.shaderChunks.specularAaToksvigPS = \"float antiAliasGlossiness(float power) {\\n    float rlen = 1.0 / saturate(length(dNormalMap));\\n    float toksvig = 1.0 / (1.0 + power * (rlen - 1.0));\\n    return power * toksvig;\\n}\\n\";\npc.shaderChunks.specularAaToksvigFloatPS = \"float antiAliasGlossiness(float power) {\\n    float rlen = 1.0 / saturate(length(dNormalMap));\\n    float toksvig = 1.0 / (1.0 + power * (rlen - 1.0));\\n    return power * mix(1.0, toksvig, material_bumpiness);\\n}\\n\";\npc.shaderChunks.spotPS = \"float getSpotEffect(vec3 lightSpotDirW, float lightInnerConeAngle, float lightOuterConeAngle) {\\n    float cosAngle = dot(dLightDirNormW, lightSpotDirW);\\n    return smoothstep(lightOuterConeAngle, lightInnerConeAngle, cosAngle);\\n}\\n\";\npc.shaderChunks.startPS = \"\\nvoid main(void) {\\n    dDiffuseLight = vec3(0);\\n    dSpecularLight = vec3(0);\\n    dReflection = vec4(0);\\n    dSpecularity = vec3(0);\\n\";\npc.shaderChunks.startVS = \"\\nvoid main(void) {\\n    gl_Position = getPosition();\\n\";\npc.shaderChunks.startNineSlicedPS = \"    nineSlicedUv = vUv0;\\n\";\npc.shaderChunks.startNineSlicedTiledPS = \"\\n    vec2 tileMask = step(vMask, vec2(0.99999));\\n    vec2 clampedUv = mix(innerOffset.xy*0.5, vec2(1.0) - innerOffset.zw*0.5, fract(vTiledUv));\\n    clampedUv = clampedUv * atlasRect.zw + atlasRect.xy;\\n    nineSlicedUv = vUv0 * tileMask + clampedUv * (vec2(1.0) - tileMask);\\n\";\npc.shaderChunks.storeEVSMPS = \"float exponent = VSM_EXPONENT;\\ndepth = 2.0 * depth - 1.0;\\ndepth =  exp(exponent * depth);\\ngl_FragColor = vec4(depth, depth*depth, 1.0, 1.0);\\n\";\npc.shaderChunks.tangentBinormalVS = \"\\nvec3 getTangent() {\\n    return normalize(dNormalMatrix * vertex_tangent.xyz);\\n}\\nvec3 getBinormal() {\\n    return cross(vNormalW, vTangentW) * vertex_tangent.w;\\n}\\n\";\npc.shaderChunks.tonemappingAcesPS = \"uniform float exposure;\\nvec3 toneMap(vec3 color) {\\n    float tA = 2.51;\\n    float tB = 0.03;\\n    float tC = 2.43;\\n    float tD = 0.59;\\n    float tE = 0.14;\\n    vec3 x = color * exposure;\\n    return (x*(tA*x+tB))/(x*(tC*x+tD)+tE);\\n}\\n\";\npc.shaderChunks.tonemappingAces2PS = \"uniform float exposure;\\n// ACES approximation by Stephen Hill\\n// sRGB => XYZ => D65_2_D60 => AP1 => RRT_SAT\\nconst mat3 ACESInputMat = mat3(\\n    0.59719, 0.35458, 0.04823,\\n    0.07600, 0.90834, 0.01566,\\n    0.02840, 0.13383, 0.83777\\n);\\n// ODT_SAT => XYZ => D60_2_D65 => sRGB\\nconst mat3 ACESOutputMat = mat3(\\n     1.60475, -0.53108, -0.07367,\\n    -0.10208,  1.10813, -0.00605,\\n    -0.00327, -0.07276,  1.07602\\n);\\nvec3 RRTAndODTFit(vec3 v) {\\n    vec3 a = v * (v + 0.0245786) - 0.000090537;\\n    vec3 b = v * (0.983729 * v + 0.4329510) + 0.238081;\\n    return a / b;\\n}\\nvec3 toneMap(vec3 color) {\\n    color *= exposure;\\n    color = color * ACESInputMat;\\n    // Apply RRT and ODT\\n    color = RRTAndODTFit(color);\\n    color = color * ACESOutputMat;\\n    // Clamp to [0, 1]\\n    color = clamp(color, 0.0, 1.0);\\n    return color;\\n}\\n\";\npc.shaderChunks.tonemappingFilmicPS = \"const float A =  0.15;\\nconst float B =  0.50;\\nconst float C =  0.10;\\nconst float D =  0.20;\\nconst float E =  0.02;\\nconst float F =  0.30;\\nconst float W =  11.2;\\nuniform float exposure;\\nvec3 uncharted2Tonemap(vec3 x) {\\n   return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;\\n}\\nvec3 toneMap(vec3 color) {\\n    color = uncharted2Tonemap(color * exposure);\\n    vec3 whiteScale = 1.0 / uncharted2Tonemap(vec3(W,W,W));\\n    color = color * whiteScale;\\n    return color;\\n}\\n\";\npc.shaderChunks.tonemappingHejlPS = \"uniform float exposure;\\nvec3 toneMap(vec3 color) {\\n    color *= exposure;\\n    const float  A = 0.22, B = 0.3, C = .1, D = 0.2, E = .01, F = 0.3;\\n    const float Scl = 1.25;\\n    vec3 h = max( vec3(0.0), color - vec3(0.004) );\\n    return (h*((Scl*A)*h+Scl*vec3(C*B,C*B,C*B))+Scl*vec3(D*E,D*E,D*E)) / (h*(A*h+vec3(B,B,B))+vec3(D*F,D*F,D*F)) - Scl*vec3(E/F,E/F,E/F);\\n}\\n\";\npc.shaderChunks.tonemappingLinearPS = \"uniform float exposure;\\nvec3 toneMap(vec3 color) {\\n    return color * exposure;\\n}\\n\";\npc.shaderChunks.tonemappingNonePS = \"vec3 toneMap(vec3 color) {\\n    return color;\\n}\\n\";\npc.shaderChunks.transformVS = \"#ifdef PIXELSNAP\\n    uniform vec4 uScreenSize;\\n#endif\\nmat4 getModelMatrix() {\\n    #ifdef DYNAMICBATCH\\n        return getBoneMatrix(vertex_boneIndices);\\n    #elif defined(SKIN)\\n        return matrix_model * (getBoneMatrix(vertex_boneIndices.x) * vertex_boneWeights.x +\\n               getBoneMatrix(vertex_boneIndices.y) * vertex_boneWeights.y +\\n               getBoneMatrix(vertex_boneIndices.z) * vertex_boneWeights.z +\\n               getBoneMatrix(vertex_boneIndices.w) * vertex_boneWeights.w);\\n    #elif defined(INSTANCING)\\n        return mat4(instance_line1, instance_line2, instance_line3, instance_line4);\\n    #else\\n        return matrix_model;\\n    #endif\\n}\\nvec4 getPosition() {\\n    dModelMatrix = getModelMatrix();\\n    vec3 localPos = vertex_position;\\n    #ifdef NINESLICED\\n        // outer and inner vertices are at the same position, scale both\\n        localPos.xz *= outerScale;\\n        // offset inner vertices inside\\n        // (original vertices must be in [-1;1] range)\\n        vec2 positiveUnitOffset = clamp(vertex_position.xz, vec2(0.0), vec2(1.0));\\n        vec2 negativeUnitOffset = clamp(-vertex_position.xz, vec2(0.0), vec2(1.0));\\n        localPos.xz += (-positiveUnitOffset * innerOffset.xy + negativeUnitOffset * innerOffset.zw) * vertex_texCoord0.xy;\\n        vTiledUv = (localPos.xz - outerScale + innerOffset.xy) * -0.5 + 1.0; // uv = local pos - inner corner\\n        localPos.xz *= -0.5; // move from -1;1 to -0.5;0.5\\n        localPos = localPos.xzy;\\n    #endif\\n    vec4 posW = dModelMatrix * vec4(localPos, 1.0);\\n    #ifdef SCREENSPACE\\n        posW.zw = vec2(0.0, 1.0);\\n    #endif\\n    dPositionW = posW.xyz;\\n    vec4 screenPos;\\n    #ifdef UV1LAYOUT\\n        screenPos = vec4(vertex_texCoord1.xy * 2.0 - 1.0, 0.5, 1);\\n    #else\\n        #ifdef SCREENSPACE\\n            screenPos = posW;\\n        #else\\n            screenPos = matrix_viewProjection * posW;\\n        #endif\\n        #ifdef PIXELSNAP\\n            // snap vertex to a pixel boundary\\n            screenPos.xy = (screenPos.xy * 0.5) + 0.5;\\n            screenPos.xy *= uScreenSize.xy;\\n            screenPos.xy = floor(screenPos.xy);\\n            screenPos.xy *= uScreenSize.zw;\\n            screenPos.xy = (screenPos.xy * 2.0) - 1.0;\\n        #endif\\n    #endif\\n    return screenPos;\\n}\\nvec3 getWorldPosition() {\\n    return dPositionW;\\n}\\n\";\npc.shaderChunks.transformDeclVS = \"attribute vec3 vertex_position;\\nuniform mat4 matrix_model;\\nuniform mat4 matrix_viewProjection;\\nvec3 dPositionW;\\nmat4 dModelMatrix;\\n\";\npc.shaderChunks.uv0VS = \"#ifdef NINESLICED\\nvec2 getUv0() {\\n    vec2 uv = vertex_position.xz;\\n    // offset inner vertices inside\\n    // (original vertices must be in [-1;1] range)\\n    vec2 positiveUnitOffset = clamp(vertex_position.xz, vec2(0.0), vec2(1.0));\\n    vec2 negativeUnitOffset = clamp(-vertex_position.xz, vec2(0.0), vec2(1.0));\\n    uv += (-positiveUnitOffset * innerOffset.xy + negativeUnitOffset * innerOffset.zw) * vertex_texCoord0.xy;\\n    uv = uv * -0.5 + 0.5;\\n    uv = uv * atlasRect.zw + atlasRect.xy;\\n    vMask = vertex_texCoord0.xy;\\n    return uv;\\n}\\n#else\\nvec2 getUv0() {\\n    return vertex_texCoord0;\\n}\\n#endif\\n\";\npc.shaderChunks.uv1VS = \"\\nvec2 getUv1() {\\n    return vertex_texCoord1;\\n}\\n\";\npc.shaderChunks.viewDirPS = \"void getViewDir() {\\n    dViewDirW = normalize(view_position - vPositionW);\\n}\\n\";\npc.shaderChunks.viewNormalVS = \"\\n#ifndef VIEWMATRIX\\n#define VIEWMATRIX\\nuniform mat4 matrix_view;\\n#endif\\nvec3 getViewNormal() {\\n    return mat3(matrix_view) * vNormalW;\\n}\\n\";\npc.programlib = {gammaCode:function(value, chunks) {\n  if (!chunks) {\n    chunks = pc.shaderChunks;\n  }\n  if (value === pc.GAMMA_SRGB || value === pc.GAMMA_SRGBFAST) {\n    return chunks.gamma2_2PS ? chunks.gamma2_2PS : pc.shaderChunks.gamma2_2PS;\n  } else {\n    if (value === pc.GAMMA_SRGBHDR) {\n      return \"#define HDR\\n\" + (chunks.gamma2_2PS ? chunks.gamma2_2PS : pc.shaderChunks.gamma2_2PS);\n    }\n  }\n  return chunks.gamma1_0PS ? chunks.gamma1_0PS : pc.shaderChunks.gamma1_0PS;\n}, tonemapCode:function(value, chunks) {\n  if (!chunks) {\n    chunks = pc.shaderChunks;\n  }\n  if (value === pc.TONEMAP_FILMIC) {\n    return chunks.tonemappingFilmicPS ? chunks.tonemappingFilmicPS : pc.shaderChunks.tonemappingFilmicPS;\n  } else {\n    if (value === pc.TONEMAP_LINEAR) {\n      return chunks.tonemappingLinearPS ? chunks.tonemappingLinearPS : pc.shaderChunks.tonemappingLinearPS;\n    } else {\n      if (value === pc.TONEMAP_HEJL) {\n        return chunks.tonemappingHejlPS ? chunks.tonemappingHejlPS : pc.shaderChunks.tonemappingHejlPS;\n      } else {\n        if (value === pc.TONEMAP_ACES) {\n          return chunks.tonemappingAcesPS ? chunks.tonemappingAcesPS : pc.shaderChunks.tonemappingAcesPS;\n        } else {\n          if (value === pc.TONEMAP_ACES2) {\n            return chunks.tonemappingAces2PS ? chunks.tonemappingAces2PS : pc.shaderChunks.tonemappingAces2PS;\n          }\n        }\n      }\n    }\n  }\n  return chunks.tonemapingNonePS ? chunks.tonemapingNonePS : pc.shaderChunks.tonemappingNonePS;\n}, fogCode:function(value, chunks) {\n  if (!chunks) {\n    chunks = pc.shaderChunks;\n  }\n  if (value === \"linear\") {\n    return chunks.fogLinearPS ? chunks.fogLinearPS : pc.shaderChunks.fogLinearPS;\n  } else {\n    if (value === \"exp\") {\n      return chunks.fogExpPS ? chunks.fogExpPS : pc.shaderChunks.fogExpPS;\n    } else {\n      if (value === \"exp2\") {\n        return chunks.fogExp2PS ? chunks.fogExp2PS : pc.shaderChunks.fogExp2PS;\n      }\n    }\n  }\n  return chunks.fogNonePS ? chunks.fogNonePS : pc.shaderChunks.fogNonePS;\n}, skinCode:function(device, chunks) {\n  if (!chunks) {\n    chunks = pc.shaderChunks;\n  }\n  if (device.supportsBoneTextures) {\n    return chunks.skinTexVS;\n  }\n  return \"#define BONE_LIMIT \" + device.getBoneLimit() + \"\\n\" + chunks.skinConstVS;\n}, precisionCode:function(device) {\n  var pcode = \"precision \" + device.precision + \" float;\\n\";\n  if (device.webgl2) {\n    pcode += \"#ifdef GL2\\nprecision \" + device.precision + \" sampler2DShadow;\\n#endif\\n\";\n  }\n  return pcode;\n}, versionCode:function(device) {\n  return device.webgl2 ? \"#version 300 es\\n\" : \"\";\n}, dummyFragmentCode:function() {\n  return \"void main(void) {gl_FragColor = vec4(0.0);}\";\n}, begin:function() {\n  return \"void main(void)\\n{\\n\";\n}, end:function() {\n  return \"}\\n\";\n}};\npc.programlib.basic = {generateKey:function(options) {\n  var key = \"basic\";\n  if (options.fog) {\n    key += \"_fog\";\n  }\n  if (options.alphaTest) {\n    key += \"_atst\";\n  }\n  if (options.vertexColors) {\n    key += \"_vcol\";\n  }\n  if (options.diffuseMap) {\n    key += \"_diff\";\n  }\n  key += \"_\" + options.pass;\n  return key;\n}, createShaderDefinition:function(device, options) {\n  var attributes = {vertex_position:pc.SEMANTIC_POSITION};\n  if (options.skin) {\n    attributes.vertex_boneWeights = pc.SEMANTIC_BLENDWEIGHT;\n    attributes.vertex_boneIndices = pc.SEMANTIC_BLENDINDICES;\n  }\n  if (options.vertexColors) {\n    attributes.vertex_color = pc.SEMANTIC_COLOR;\n  }\n  if (options.diffuseMap) {\n    attributes.vertex_texCoord0 = pc.SEMANTIC_TEXCOORD0;\n  }\n  var chunks = pc.shaderChunks;\n  var code = \"\";\n  code += chunks.transformDeclVS;\n  if (options.skin) {\n    code += pc.programlib.skinCode(device);\n    code += chunks.transformSkinnedVS;\n  } else {\n    code += chunks.transformVS;\n  }\n  if (options.vertexColors) {\n    code += \"attribute vec4 vertex_color;\\n\";\n    code += \"varying vec4 vColor;\\n\";\n  }\n  if (options.diffuseMap) {\n    code += \"attribute vec2 vertex_texCoord0;\\n\";\n    code += \"varying vec2 vUv0;\\n\";\n  }\n  if (options.pass === pc.SHADER_DEPTH) {\n    code += \"varying float vDepth;\\n\";\n    code += \"#ifndef VIEWMATRIX\\n\";\n    code += \"#define VIEWMATRIX\\n\";\n    code += \"uniform mat4 matrix_view;\\n\";\n    code += \"#endif\\n\";\n    code += \"#ifndef CAMERAPLANES\\n\";\n    code += \"#define CAMERAPLANES\\n\";\n    code += \"uniform vec4 camera_params;\\n\\n\";\n    code += \"#endif\\n\";\n  }\n  code += pc.programlib.begin();\n  code += \"   gl_Position = getPosition();\\n\";\n  if (options.pass === pc.SHADER_DEPTH) {\n    code += \"    vDepth = -(matrix_view * vec4(getWorldPosition(),1.0)).z * camera_params.x;\\n\";\n  }\n  if (options.vertexColors) {\n    code += \"    vColor = vertex_color;\\n\";\n  }\n  if (options.diffuseMap) {\n    code += \"    vUv0 = vertex_texCoord0;\\n\";\n  }\n  code += pc.programlib.end();\n  var vshader = code;\n  code = pc.programlib.precisionCode(device);\n  if (options.vertexColors) {\n    code += \"varying vec4 vColor;\\n\";\n  } else {\n    code += \"uniform vec4 uColor;\\n\";\n  }\n  if (options.diffuseMap) {\n    code += \"varying vec2 vUv0;\\n\";\n    code += \"uniform sampler2D texture_diffuseMap;\\n\";\n  }\n  if (options.fog) {\n    code += pc.programlib.fogCode(options.fog);\n  }\n  if (options.alphatest) {\n    code += chunks.alphaTestPS;\n  }\n  if (options.pass === pc.SHADER_DEPTH) {\n    code += \"varying float vDepth;\\n\";\n    code += chunks.packDepthPS;\n  }\n  code += pc.programlib.begin();\n  if (options.vertexColors) {\n    code += \"    gl_FragColor = vColor;\\n\";\n  } else {\n    code += \"    gl_FragColor = uColor;\\n\";\n  }\n  if (options.diffuseMap) {\n    code += \"    gl_FragColor *= texture2D(texture_diffuseMap, vUv0);\\n\";\n  }\n  if (options.alphatest) {\n    code += \"   alphaTest(gl_FragColor.a);\\n\";\n  }\n  if (options.pass === pc.SHADER_PICK) {\n  } else {\n    if (options.pass === pc.SHADER_DEPTH) {\n      code += \"    gl_FragColor = packFloat(vDepth);\\n\";\n    } else {\n      if (options.fog) {\n        code += \"   glFragColor.rgb = addFog(gl_FragColor.rgb);\\n\";\n      }\n    }\n  }\n  code += pc.programlib.end();\n  var fshader = code;\n  return {attributes:attributes, vshader:vshader, fshader:fshader};\n}};\npc.programlib.particle = {generateKey:function(options) {\n  var key = \"particle\";\n  for (var prop in options) {\n    if (options.hasOwnProperty(prop)) {\n      key += options[prop];\n    }\n  }\n  return key;\n}, _animTex:function(options, chunk) {\n  var vshader = \"\";\n  vshader += options.animTexLoop ? chunk.particleAnimFrameLoopVS : chunk.particleAnimFrameClampVS;\n  vshader += chunk.particleAnimTexVS;\n  return vshader;\n}, createShaderDefinition:function(device, options) {\n  var chunk = pc.shaderChunks;\n  var vshader = \"\";\n  var fshader = pc.programlib.precisionCode(device) + \"\\n\";\n  if (device.webgl2) {\n    vshader += \"#define GL2\\n\";\n    fshader += \"#define GL2\\n\";\n  }\n  vshader += \"#define VERTEXSHADER\\n\";\n  if (options.mesh) {\n    vshader += \"#define USE_MESH\\n\";\n  }\n  if (options.localSpace) {\n    vshader += \"#define LOCAL_SPACE\\n\";\n  }\n  if (options.animTex) {\n    vshader += \"\\nuniform vec4 animTexParams;\\n\";\n  }\n  if (options.normal == 2) {\n    vshader += \"\\nvarying mat3 ParticleMat;\\n\";\n  }\n  if (options.normal == 1) {\n    vshader += \"\\nvarying vec3 Normal;\\n\";\n  }\n  if (options.soft) {\n    vshader += \"\\nvarying float vDepth;\\n\";\n  }\n  var faceVS = options.customFace ? chunk.particle_customFaceVS : chunk.particle_billboardVS;\n  if (!options.useCpu) {\n    vshader += chunk.particle_initVS;\n    vshader += options.pack8 ? chunk.particleInputRgba8PS : chunk.particleInputFloatPS;\n    if (options.soft > 0) {\n      vshader += chunk.screenDepthPS;\n    }\n    vshader += chunk.particleVS;\n    if (options.localSpace) {\n      vshader += chunk.particle_localShiftVS;\n    }\n    if (options.animTex) {\n      vshader += this._animTex(options, chunk);\n    }\n    if (options.wrap) {\n      vshader += chunk.particle_wrapVS;\n    }\n    if (options.alignToMotion) {\n      vshader += chunk.particle_pointAlongVS;\n    }\n    vshader += options.mesh ? chunk.particle_meshVS : faceVS;\n    if (options.normal == 1) {\n      vshader += chunk.particle_normalVS;\n    }\n    if (options.normal == 2) {\n      vshader += chunk.particle_TBNVS;\n    }\n    if (options.stretch > 0.0) {\n      vshader += chunk.particle_stretchVS;\n    }\n    vshader += chunk.particle_endVS;\n    if (options.soft > 0) {\n      vshader += chunk.particle_softVS;\n    }\n  } else {\n    if (options.soft > 0) {\n      vshader += chunk.screenDepthPS;\n    }\n    vshader += chunk.particle_cpuVS;\n    if (options.localSpace) {\n      vshader += chunk.particle_localShiftVS;\n    }\n    if (options.animTex) {\n      vshader += this._animTex(options, chunk);\n    }\n    if (options.alignToMotion) {\n      vshader += chunk.particle_pointAlongVS;\n    }\n    vshader += options.mesh ? chunk.particle_meshVS : faceVS;\n    if (options.normal == 1) {\n      vshader += chunk.particle_normalVS;\n    }\n    if (options.normal == 2) {\n      vshader += chunk.particle_TBNVS;\n    }\n    if (options.stretch > 0.0) {\n      vshader += chunk.particle_stretchVS;\n    }\n    vshader += chunk.particle_cpu_endVS;\n    if (options.soft > 0) {\n      vshader += chunk.particle_softVS;\n    }\n  }\n  vshader += \"}\\n\";\n  if (options.normal > 0) {\n    if (options.normal == 1) {\n      fshader += \"\\nvarying vec3 Normal;\\n\";\n    } else {\n      if (options.normal == 2) {\n        fshader += \"\\nvarying mat3 ParticleMat;\\n\";\n      }\n    }\n    fshader += \"\\nuniform vec3 lightCube[6];\\n\";\n  }\n  if (options.soft) {\n    fshader += \"\\nvarying float vDepth;\\n\";\n  }\n  if (options.normal === 0 && options.fog === \"none\") {\n    options.srgb = false;\n  }\n  fshader += pc.programlib.gammaCode(options.gamma);\n  fshader += pc.programlib.tonemapCode(options.toneMap);\n  if (options.fog === \"linear\") {\n    fshader += chunk.fogLinearPS;\n  } else {\n    if (options.fog === \"exp\") {\n      fshader += chunk.fogExpPS;\n    } else {\n      if (options.fog === \"exp2\") {\n        fshader += chunk.fogExp2PS;\n      } else {\n        fshader += chunk.fogNonePS;\n      }\n    }\n  }\n  if (options.normal == 2) {\n    fshader += \"\\nuniform sampler2D normalMap;\\n\";\n  }\n  if (options.soft > 0) {\n    fshader += chunk.screenDepthPS;\n  }\n  fshader += chunk.particlePS;\n  if (options.soft > 0) {\n    fshader += chunk.particle_softPS;\n  }\n  if (options.normal == 1) {\n    fshader += \"\\nvec3 normal = Normal;\\n\";\n  }\n  if (options.normal == 2) {\n    fshader += chunk.particle_normalMapPS;\n  }\n  if (options.normal > 0) {\n    fshader += options.halflambert ? chunk.particle_halflambertPS : chunk.particle_lambertPS;\n  }\n  if (options.normal > 0) {\n    fshader += chunk.particle_lightingPS;\n  }\n  if (options.blend == pc.BLEND_NORMAL) {\n    fshader += chunk.particle_blendNormalPS;\n  } else {\n    if (options.blend == pc.BLEND_ADDITIVE) {\n      fshader += chunk.particle_blendAddPS;\n    } else {\n      if (options.blend == pc.BLEND_MULTIPLICATIVE) {\n        fshader += chunk.particle_blendMultiplyPS;\n      }\n    }\n  }\n  fshader += chunk.particle_endPS;\n  var attributes = pc.shaderChunks.collectAttribs(vshader);\n  return {attributes:attributes, vshader:vshader, fshader:fshader};\n}};\nvar _oldChunkWarn = function(oldName, newName) {\n};\nvar _oldChunkFloat = function(s, o, p) {\n  _oldChunkWarn(p, o);\n  return \"\\n#ifdef MAPFLOAT\\n\" + s + \"\\n#else\\n\" + pc.shaderChunks[o] + \"\\n#endif\\n\";\n};\nvar _oldChunkColor = function(s, o, p) {\n  _oldChunkWarn(p, o);\n  return \"\\n#ifdef MAPCOLOR\\n\" + s + \"\\n#else\\n\" + pc.shaderChunks[o] + \"\\n#endif\\n\";\n};\nvar _oldChunkTex = function(s, o, p) {\n  _oldChunkWarn(p, o);\n  return \"\\n#ifdef MAPTEXTURE\\n\" + s + \"\\n#else\\n\" + pc.shaderChunks[o] + \"\\n#endif\\n\";\n};\nvar _oldChunkTexColor = function(s, o, p) {\n  _oldChunkWarn(p, o);\n  return \"#undef MAPTEXTURECOLOR\\n#ifdef MAPTEXTURE\\n#ifdef MAPCOLOR\\n#define MAPTEXTURECOLOR\\n#endif\\n#endif\\n\" + \"#ifdef MAPTEXTURECOLOR\\n\" + s + \"\\n#else\\n\" + pc.shaderChunks[o] + \"\\n#endif\\n\";\n};\nvar _oldChunkTexFloat = function(s, o, p) {\n  _oldChunkWarn(p, o);\n  return \"#undef MAPTEXTUREFLOAT\\n#ifdef MAPTEXTURE\\n#ifdef MAPFLOAT\\n#define MAPTEXTUREFLOAT\\n#endif\\n#endif\\n\" + \"#ifdef MAPTEXTUREFLOAT\\n\" + s + \"\\n#else\\n\" + pc.shaderChunks[o] + \"\\n#endif\\n\";\n};\nvar _oldChunkVert = function(s, o, p) {\n  _oldChunkWarn(p, o);\n  return \"\\n#ifdef MAPVERTEX\\n\" + s + \"\\n#else\\n\" + pc.shaderChunks[o] + \"\\n#endif\\n\";\n};\nvar _oldChunkVertColor = function(s, o, p) {\n  _oldChunkWarn(p, o);\n  return \"#undef MAPVERTEXCOLOR\\n#ifdef MAPVERTEX\\n#ifdef MAPCOLOR\\n#define MAPVERTEXCOLOR\\n#endif\\n#endif\\n\" + \"#ifdef MAPVERTEXCOLOR\\n\" + s + \"\\n#else\\n\" + pc.shaderChunks[o] + \"\\n#endif\\n\";\n};\nvar _oldChunkVertFloat = function(s, o, p) {\n  _oldChunkWarn(p, o);\n  return \"#undef MAPVERTEXFLOAT\\n#ifdef MAPVERTEX\\n#ifdef MAPFLOAT\\n#define MAPVERTEXFLOAT\\n#endif\\n#endif\\n\" + \"#ifdef MAPVERTEXFLOAT\\n\" + s + \"\\n#else\\n\" + pc.shaderChunks[o] + \"\\n#endif\\n\";\n};\nvar _oldChunkTransformSkin = function(s, o, p) {\n  _oldChunkWarn(p, o);\n  return \"\\n#ifdef SKIN\\n\" + s + \"\\n#else\\n\" + pc.shaderChunks[o] + \"\\n#endif\\n\";\n};\nvar _oldChunkTransformDynbatch = function(s, o, p) {\n  _oldChunkWarn(p, o);\n  return \"\\n#ifdef DYNAMICBATCH\\n\" + s + \"\\n#else\\n\" + pc.shaderChunks[o] + \"\\n#endif\\n\";\n};\nvar _oldChunkTransformInstanced = function(s, o, p) {\n  _oldChunkWarn(p, o);\n  return \"\\n#ifdef INSTANCING\\n\" + s + \"\\n#else\\n\" + pc.shaderChunks[o] + \"\\n#endif\\n\";\n};\nvar _oldChunkTransformPixelSnap = function(s, o, p) {\n  _oldChunkWarn(p, o);\n  return \"\\n#ifdef PIXELSNAP\\n\" + s + \"\\n#else\\n\" + pc.shaderChunks[o] + \"\\n#endif\\n\";\n};\nvar _oldChunkTransformScreenSpace = function(s, o, p) {\n  _oldChunkWarn(p, o);\n  return \"\\n#ifdef SCREENSPACE\\n\" + s + \"\\n#else\\n\" + pc.shaderChunks[o] + \"\\n#endif\\n\";\n};\nvar _oldChunkTransformScreenSpaceBatch = function(s, o, p) {\n  _oldChunkWarn(p, o);\n  return \"#undef SCREENSPACEBATCH\\n#ifdef SCREENSPACE\\n#ifdef BATCH\\n#define SCREENSPACEBATCH\\n#endif\\n#endif\\n\" + \"#ifdef SCREENSPACEBATCH\\n\" + s + \"\\n#else\\n\" + pc.shaderChunks[o] + \"\\n#endif\\n\";\n};\nvar _oldChunkTransformUv1 = function(s, o, p) {\n  _oldChunkWarn(p, o);\n  return \"\\n#ifdef UV1LAYOUT\\n\" + s + \"\\n#else\\n\" + pc.shaderChunks[o] + \"\\n#endif\\n\";\n};\npc.programlib.standard = {_oldChunkToNew:{aoTexPS:{n:\"aoPS\", f:_oldChunkTex}, aoVertPS:{n:\"aoPS\", f:_oldChunkVert}, diffuseConstPS:{n:\"diffusePS\", f:_oldChunkColor}, diffuseTexPS:{n:\"diffusePS\", f:_oldChunkTex}, diffuseTexConstPS:{n:\"diffusePS\", f:_oldChunkTexColor}, diffuseVertPS:{n:\"diffusePS\", f:_oldChunkVert}, diffuseVertConstPS:{n:\"diffusePS\", f:_oldChunkVertColor}, emissiveConstPS:{n:\"emissivePS\", f:_oldChunkColor}, emissiveTexPS:{n:\"emissivePS\", f:_oldChunkTex}, emissiveTexConstPS:{n:\"emissivePS\", \nf:_oldChunkTexColor}, emissiveTexConstFloatPS:{n:\"emissivePS\", f:_oldChunkTexFloat}, emissiveVertPS:{n:\"emissivePS\", f:_oldChunkVert}, emissiveVertConstPS:{n:\"emissivePS\", f:_oldChunkVertColor}, emissiveVertConstFloatPS:{n:\"emissivePS\", f:_oldChunkVertFloat}, glossConstPS:{n:\"glossPS\", f:_oldChunkFloat}, glossTexPS:{n:\"glossPS\", f:_oldChunkTex}, glossTexConstPS:{n:\"glossPS\", f:_oldChunkTexFloat}, glossVertPS:{n:\"glossPS\", f:_oldChunkVert}, glossVertConstPS:{n:\"glossPS\", f:_oldChunkVertFloat}, metalnessConstPS:{n:\"metalnessPS\", \nf:_oldChunkFloat}, metalnessTexPS:{n:\"metalnessPS\", f:_oldChunkTex}, metalnessTexConstPS:{n:\"metalnessPS\", f:_oldChunkTexFloat}, metalnessVertPS:{n:\"metalnessPS\", f:_oldChunkVert}, metalnessVertConstPS:{n:\"metalnessPS\", f:_oldChunkVertFloat}, opacityConstPS:{n:\"opacityPS\", f:_oldChunkFloat}, opacityTexPS:{n:\"opacityPS\", f:_oldChunkTex}, opacityTexConstPS:{n:\"opacityPS\", f:_oldChunkTexFloat}, opacityVertPS:{n:\"opacityPS\", f:_oldChunkVert}, opacityVertConstPS:{n:\"opacityPS\", f:_oldChunkVertFloat}, \nspecularConstPS:{n:\"specularPS\", f:_oldChunkColor}, specularTexPS:{n:\"specularPS\", f:_oldChunkTex}, specularTexConstPS:{n:\"specularPS\", f:_oldChunkTexColor}, specularVertPS:{n:\"specularPS\", f:_oldChunkVert}, specularVertConstPS:{n:\"specularPS\", f:_oldChunkVertColor}, transformBatchSkinnedVS:{n:\"transformVS\", f:_oldChunkTransformDynbatch}, transformInstancedVS:{n:\"transformVS\", f:_oldChunkTransformInstanced}, transformPixelSnapVS:{n:\"transformVS\", f:_oldChunkTransformPixelSnap}, transformScreenSpaceVS:{n:\"transformVS\", \nf:_oldChunkTransformScreenSpace}, transformScreenSpaceBatchSkinned:{n:\"transformVS\", f:_oldChunkTransformScreenSpaceBatch}, transformSkinned:{n:\"transformVS\", f:_oldChunkTransformSkin}, transformUv1:{n:\"transformVS\", f:_oldChunkTransformUv1}}, optionsContext:{}, optionsContextMin:{}, generateKey:function(options) {\n  var buildPropertiesList = function(options) {\n    var props = [];\n    for (var prop in options) {\n      if (options.hasOwnProperty(prop) && prop !== \"chunks\" && prop !== \"lights\") {\n        props.push(prop);\n      }\n    }\n    return props.sort();\n  };\n  var props;\n  if (options === this.optionsContextMin) {\n    if (!this.propsMin) {\n      this.propsMin = buildPropertiesList(options);\n    }\n    props = this.propsMin;\n  } else {\n    if (options === this.optionsContext) {\n      if (!this.props) {\n        this.props = buildPropertiesList(options);\n      }\n      props = this.props;\n    } else {\n      props = buildPropertiesList(options);\n    }\n  }\n  var key = \"standard\";\n  var i;\n  for (i = 0;i < props.length;i++) {\n    if (options[props[i]]) {\n      key += props[i] + options[props[i]];\n    }\n  }\n  if (options.chunks) {\n    var chunks = [];\n    for (var p in options.chunks) {\n      if (options.chunks.hasOwnProperty(p)) {\n        chunks.push(p + options.chunks[p]);\n      }\n    }\n    chunks.sort();\n    key += chunks;\n  }\n  if (options.lights) {\n    for (i = 0;i < options.lights.length;i++) {\n      key += options.lights[i].key;\n    }\n  }\n  return pc.hashCode(key);\n}, _correctChannel:function(p, chan) {\n  if (pc._matTex2D[p] > 0) {\n    if (pc._matTex2D[p] < chan.length) {\n      return chan.substring(0, pc._matTex2D[p]);\n    } else {\n      if (pc._matTex2D[p] > chan.length) {\n        var str = chan;\n        var chr = str.charAt(str.length - 1);\n        var addLen = pc._matTex2D[p] - str.length;\n        for (var i = 0;i < addLen;i++) {\n          str += chr;\n        }\n        return str;\n      }\n    }\n    return chan;\n  }\n}, _setMapTransform:function(codes, name, id, uv) {\n  codes[0] += \"uniform vec4 texture_\" + name + \"MapTransform;\\n\";\n  var checkId = id + uv * 100;\n  if (!codes[3][checkId]) {\n    codes[1] += \"varying vec2 vUV\" + uv + \"_\" + id + \";\\n\";\n    codes[2] += \"   vUV\" + uv + \"_\" + id + \" = uv\" + uv + \" * texture_\" + name + \"MapTransform.xy + texture_\" + name + \"MapTransform.zw;\\n\";\n    codes[3][checkId] = true;\n  }\n  return codes;\n}, _getUvSourceExpression:function(transformPropName, uVPropName, options) {\n  var transformId = options[transformPropName];\n  var uvChannel = options[uVPropName];\n  var expression;\n  var isMainPass = options.pass === pc.SHADER_FORWARD || options.pass === pc.SHADER_FORWARDHDR;\n  if (isMainPass && options.nineSlicedMode === pc.SPRITE_RENDERMODE_SLICED) {\n    expression = \"nineSlicedUv\";\n  } else {\n    if (isMainPass && options.nineSlicedMode === pc.SPRITE_RENDERMODE_TILED) {\n      expression = \"nineSlicedUv, -1000.0\";\n    } else {\n      if (transformId === 0) {\n        expression = \"vUv\" + uvChannel;\n      } else {\n        expression = \"vUV\" + uvChannel + \"_\" + transformId;\n      }\n      if (options.heightMap && transformPropName !== \"heightMapTransform\") {\n        expression += \" + dUvOffset\";\n      }\n    }\n  }\n  return expression;\n}, _addMapDef:function(name, enabled) {\n  var s = \"\\n#undef \" + name + \"\\n\";\n  if (enabled) {\n    s += \" #define \" + name + \"\\n\";\n  }\n  return s;\n}, _addMapDefs:function(float, color, vertex, map) {\n  var s = \"\";\n  s += this._addMapDef(\"MAPFLOAT\", float);\n  s += this._addMapDef(\"MAPCOLOR\", color);\n  s += this._addMapDef(\"MAPVERTEX\", vertex);\n  s += this._addMapDef(\"MAPTEXTURE\", map);\n  return s;\n}, _addMap:function(propName, chunkName, options, chunks, samplerFormat) {\n  var mapPropName = propName + \"Map\";\n  var uVPropName = mapPropName + \"Uv\";\n  var transformPropName = mapPropName + \"Transform\";\n  var channelPropName = mapPropName + \"Channel\";\n  var vertexColorChannelPropName = propName + \"VertexColorChannel\";\n  var tintPropName = propName + \"Tint\";\n  var vertexColorPropName = propName + \"VertexColor\";\n  var tintOption = options[tintPropName];\n  var vertexColorOption = options[vertexColorPropName];\n  var textureOption = options[mapPropName];\n  var subCode = chunks[chunkName];\n  if (textureOption) {\n    var uv = this._getUvSourceExpression(transformPropName, uVPropName, options);\n    subCode = subCode.replace(/\\$UV/g, uv).replace(/\\$CH/g, options[channelPropName]);\n    if (samplerFormat !== undefined) {\n      var fmt = samplerFormat === 0 ? \"texture2DSRGB\" : samplerFormat === 1 ? \"texture2DRGBM\" : \"texture2D\";\n      subCode = subCode.replace(/\\$texture2DSAMPLE/g, fmt);\n    }\n  }\n  if (vertexColorOption) {\n    subCode = subCode.replace(/\\$VC/g, options[vertexColorChannelPropName]);\n  }\n  var isFloatTint = tintOption === 1;\n  var isVecTint = tintOption === 3;\n  subCode = this._addMapDefs(isFloatTint, isVecTint, vertexColorOption, textureOption) + subCode;\n  return subCode.replace(/\\$/g, \"\");\n}, _nonPointShadowMapProjection:function(device, light, shadowCoordArgs) {\n  if (!light._normalOffsetBias || light._isVsm) {\n    if (light._type === pc.LIGHTTYPE_SPOT) {\n      if (light._isPcf && (device.webgl2 || device.extStandardDerivatives)) {\n        return \"       getShadowCoordPerspZbuffer\" + shadowCoordArgs;\n      }\n      return \"       getShadowCoordPersp\" + shadowCoordArgs;\n    }\n    return \"       getShadowCoordOrtho\" + shadowCoordArgs;\n  }\n  if (light._type === pc.LIGHTTYPE_SPOT) {\n    if (light._isPcf && (device.webgl2 || device.extStandardDerivatives)) {\n      return \"       getShadowCoordPerspZbufferNormalOffset\" + shadowCoordArgs;\n    }\n    return \"       getShadowCoordPerspNormalOffset\" + shadowCoordArgs;\n  }\n  return \"       getShadowCoordOrthoNormalOffset\" + shadowCoordArgs;\n}, _addVaryingIfNeeded:function(code, type, name) {\n  return code.indexOf(name) >= 0 ? \"varying \" + type + \" \" + name + \";\\n\" : \"\";\n}, _vsAddTransformCode:function(code, device, chunks, options) {\n  code += chunks.transformVS;\n  return code;\n}, _vsAddBaseCode:function(code, device, chunks, options) {\n  code += chunks.baseVS;\n  if (options.nineSlicedMode === pc.SPRITE_RENDERMODE_SLICED || options.nineSlicedMode === pc.SPRITE_RENDERMODE_TILED) {\n    code += chunks.baseNineSlicedVS;\n  }\n  return code;\n}, _fsAddBaseCode:function(code, device, chunks, options) {\n  code += chunks.basePS;\n  if (options.nineSlicedMode === pc.SPRITE_RENDERMODE_SLICED) {\n    code += chunks.baseNineSlicedPS;\n  } else {\n    if (options.nineSlicedMode === pc.SPRITE_RENDERMODE_TILED) {\n      code += chunks.baseNineSlicedTiledPS;\n    }\n  }\n  return code;\n}, _fsAddStartCode:function(code, device, chunks, options) {\n  code += chunks.startPS;\n  if (options.nineSlicedMode === pc.SPRITE_RENDERMODE_SLICED) {\n    code += chunks.startNineSlicedPS;\n  } else {\n    if (options.nineSlicedMode === pc.SPRITE_RENDERMODE_TILED) {\n      code += chunks.startNineSlicedTiledPS;\n    }\n  }\n  return code;\n}, createShaderDefinition:function(device, options) {\n  var i, p;\n  var lighting = options.lights.length > 0;\n  if (options.dirLightMap) {\n    lighting = true;\n    options.useSpecular = true;\n  }\n  if (options.shadingModel === pc.SPECULAR_PHONG) {\n    options.fresnelModel = 0;\n    options.specularAntialias = false;\n    options.prefilteredCubemap = false;\n    options.dpAtlas = false;\n    options.ambientSH = false;\n  } else {\n    options.fresnelModel = options.fresnelModel === 0 ? pc.FRESNEL_SCHLICK : options.fresnelModel;\n  }\n  var cubemapReflection = (options.cubeMap || options.prefilteredCubemap && options.useSpecular) && !options.sphereMap && !options.dpAtlas;\n  var reflections = options.sphereMap || cubemapReflection || options.dpAtlas;\n  var useTexCubeLod = options.useTexCubeLod;\n  if (options.cubeMap) {\n    options.sphereMap = null;\n  }\n  if (options.dpAtlas) {\n    options.prefilteredCubemap = null;\n  }\n  if (!options.useSpecular) {\n    options.specularMap = options.glossMap = null;\n  }\n  var needsNormal = lighting || reflections || options.ambientSH || options.prefilteredCubemap || options.heightMap;\n  var shadowPass = options.pass >= pc.SHADER_SHADOW && options.pass <= 17;\n  this.options = options;\n  var code = \"\";\n  var codeBody = \"\";\n  var varyings = \"\";\n  var chunks = pc.shaderChunks;\n  var lightType;\n  var shadowCoordArgs;\n  var chunk;\n  var attributes = {vertex_position:pc.SEMANTIC_POSITION};\n  if (options.chunks) {\n    var customChunks = {};\n    var newP;\n    for (p in chunks) {\n      if (chunks.hasOwnProperty(p)) {\n        if (!options.chunks[p]) {\n          customChunks[p] = chunks[p];\n        } else {\n          chunk = options.chunks[p];\n          if (chunk.indexOf(\"vertex_normal\") >= 0) {\n            attributes.vertex_normal = pc.SEMANTIC_NORMAL;\n          }\n          if (chunk.indexOf(\"vertex_tangent\") >= 0) {\n            attributes.vertex_tangent = pc.SEMANTIC_TANGENT;\n          }\n          if (chunk.indexOf(\"vertex_texCoord0\") >= 0) {\n            attributes.vertex_texCoord0 = pc.SEMANTIC_TEXCOORD0;\n          }\n          if (chunk.indexOf(\"vertex_texCoord1\") >= 0) {\n            attributes.vertex_texCoord1 = pc.SEMANTIC_TEXCOORD1;\n          }\n          if (chunk.indexOf(\"vertex_color\") >= 0) {\n            attributes.vertex_color = pc.SEMANTIC_COLOR;\n          }\n          if (chunk.indexOf(\"vertex_boneWeights\") >= 0) {\n            attributes.vertex_boneWeights = pc.SEMANTIC_BLENDWEIGHT;\n          }\n          if (chunk.indexOf(\"vertex_boneIndices\") >= 0) {\n            attributes.vertex_boneIndices = pc.SEMANTIC_BLENDINDICES;\n          }\n          customChunks[p] = chunk;\n        }\n      }\n    }\n    for (p in options.chunks) {\n      newP = this._oldChunkToNew[p];\n      if (newP) {\n        customChunks[newP.n] = newP.f(options.chunks[p], newP.n, p);\n      }\n    }\n    chunks = customChunks;\n  }\n  code = this._vsAddBaseCode(code, device, chunks, options);\n  var mainShadowLight = -1;\n  if (!options.noShadow && !options.twoSidedLighting) {\n    for (i = 0;i < options.lights.length;i++) {\n      lightType = options.lights[i]._type;\n      if (options.lights[i].castShadows) {\n        if (lightType === pc.LIGHTTYPE_DIRECTIONAL) {\n          code += \"uniform mat4 light\" + i + \"_shadowMatrixVS;\\n\";\n          code += \"uniform vec3 light\" + i + \"_shadowParamsVS;\\n\";\n          code += \"uniform vec3 light\" + i + (lightType === pc.LIGHTTYPE_DIRECTIONAL ? \"_directionVS\" : \"_positionVS\") + \";\\n\";\n          mainShadowLight = i;\n          break;\n        }\n      }\n    }\n    if (mainShadowLight >= 0) {\n      code += chunks.shadowCoordVS;\n    }\n  }\n  codeBody += \"   vPositionW    = getWorldPosition();\\n\";\n  if (options.pass === pc.SHADER_DEPTH) {\n    code += \"varying float vDepth;\\n\";\n    code += \"#ifndef VIEWMATRIX\\n\";\n    code += \"#define VIEWMATRIX\\n\";\n    code += \"uniform mat4 matrix_view;\\n\";\n    code += \"#endif\\n\";\n    code += \"#ifndef CAMERAPLANES\\n\";\n    code += \"#define CAMERAPLANES\\n\";\n    code += \"uniform vec4 camera_params;\\n\\n\";\n    code += \"#endif\\n\";\n    codeBody += \"    vDepth = -(matrix_view * vec4(vPositionW,1.0)).z * camera_params.x;\\n\";\n  }\n  if (options.useInstancing) {\n    attributes.instance_line1 = pc.SEMANTIC_TEXCOORD2;\n    attributes.instance_line2 = pc.SEMANTIC_TEXCOORD3;\n    attributes.instance_line3 = pc.SEMANTIC_TEXCOORD4;\n    attributes.instance_line4 = pc.SEMANTIC_TEXCOORD5;\n    code += chunks.instancingVS;\n  }\n  if (needsNormal) {\n    attributes.vertex_normal = pc.SEMANTIC_NORMAL;\n    codeBody += \"   vNormalW    = dNormalW = getNormal();\\n\";\n    if (options.sphereMap && device.fragmentUniformsCount <= 16) {\n      code += chunks.viewNormalVS;\n      codeBody += \"   vNormalV    = getViewNormal();\\n\";\n    }\n    if ((options.heightMap || options.normalMap) && options.hasTangents) {\n      attributes.vertex_tangent = pc.SEMANTIC_TANGENT;\n      code += chunks.tangentBinormalVS;\n      codeBody += \"   vTangentW   = getTangent();\\n\";\n      codeBody += \"   vBinormalW  = getBinormal();\\n\";\n    }\n    if (mainShadowLight >= 0) {\n      lightType = options.lights[mainShadowLight]._type;\n      if (lightType === pc.LIGHTTYPE_DIRECTIONAL) {\n        codeBody += \"   dLightDirNormW = light\" + mainShadowLight + \"_directionVS;\\n\";\n      } else {\n        codeBody += \"   getLightDirPoint(light\" + mainShadowLight + \"_positionVS);\\n\";\n      }\n      shadowCoordArgs = \"(light\" + mainShadowLight + \"_shadowMatrixVS, light\" + mainShadowLight + \"_shadowParamsVS);\\n\";\n      codeBody += this._nonPointShadowMapProjection(device, options.lights[mainShadowLight], shadowCoordArgs);\n    }\n  }\n  var useUv = [];\n  var useUnmodifiedUv = [];\n  var maxUvSets = 2;\n  var cname, mname, tname, uname;\n  for (p in pc._matTex2D) {\n    mname = p + \"Map\";\n    if (options[p + \"VertexColor\"]) {\n      cname = p + \"VertexColorChannel\";\n      options[cname] = this._correctChannel(p, options[cname]);\n    }\n    if (options[mname]) {\n      cname = mname + \"Channel\";\n      tname = mname + \"Transform\";\n      uname = mname + \"Uv\";\n      options[uname] = Math.min(options[uname], maxUvSets - 1);\n      options[cname] = this._correctChannel(p, options[cname]);\n      var uvSet = options[uname];\n      useUv[uvSet] = true;\n      useUnmodifiedUv[uvSet] = useUnmodifiedUv[uvSet] || options[mname] && !options[tname];\n    }\n  }\n  if (options.forceUv1) {\n    useUv[1] = true;\n  }\n  for (i = 0;i < maxUvSets;i++) {\n    if (useUv[i]) {\n      attributes[\"vertex_texCoord\" + i] = pc[\"SEMANTIC_TEXCOORD\" + i];\n      code += chunks[\"uv\" + i + \"VS\"];\n      codeBody += \"   vec2 uv\" + i + \" = getUv\" + i + \"();\\n\";\n    }\n    if (useUnmodifiedUv[i]) {\n      codeBody += \"   vUv\" + i + \" = uv\" + i + \";\\n\";\n    }\n  }\n  var codes = [code, varyings, codeBody, []];\n  for (p in pc._matTex2D) {\n    mname = p + \"Map\";\n    if (options[mname]) {\n      tname = mname + \"Transform\";\n      if (options[tname]) {\n        uname = mname + \"Uv\";\n        this._setMapTransform(codes, p, options[tname], options[uname]);\n      }\n    }\n  }\n  code = codes[0];\n  varyings = codes[1];\n  codeBody = codes[2];\n  if (options.vertexColors) {\n    attributes.vertex_color = pc.SEMANTIC_COLOR;\n    codeBody += \"   vVertexColor = vertex_color;\\n\";\n  }\n  if (options.skin) {\n    attributes.vertex_boneWeights = pc.SEMANTIC_BLENDWEIGHT;\n    attributes.vertex_boneIndices = pc.SEMANTIC_BLENDINDICES;\n    code += pc.programlib.skinCode(device, chunks);\n    code += \"#define SKIN\\n\";\n  } else {\n    if (options.useInstancing) {\n      code += \"#define INSTANCING\\n\";\n    }\n  }\n  if (options.screenSpace) {\n    code += \"#define SCREENSPACE\\n\";\n  }\n  if (options.pixelSnap) {\n    code += \"#define PIXELSNAP\\n\";\n  }\n  code = this._vsAddTransformCode(code, device, chunks, options);\n  if (needsNormal) {\n    code += chunks.normalVS;\n  }\n  code += \"\\n\";\n  code += chunks.startVS;\n  code += codeBody;\n  code += \"}\";\n  var vshader = code;\n  var oldVars = varyings;\n  varyings = \"\";\n  varyings += this._addVaryingIfNeeded(code, \"vec4\", \"vMainShadowUv\");\n  varyings += this._addVaryingIfNeeded(code, \"vec4\", \"vVertexColor\");\n  varyings += this._addVaryingIfNeeded(code, \"vec3\", \"vPositionW\");\n  varyings += this._addVaryingIfNeeded(code, \"vec3\", \"vNormalV\");\n  varyings += this._addVaryingIfNeeded(code, \"vec3\", \"vNormalW\");\n  varyings += this._addVaryingIfNeeded(code, \"vec3\", \"vTangentW\");\n  varyings += this._addVaryingIfNeeded(code, \"vec3\", \"vBinormalW\");\n  varyings += this._addVaryingIfNeeded(code, \"vec2\", \"vUv0\");\n  varyings += this._addVaryingIfNeeded(code, \"vec2\", \"vUv1\");\n  varyings += oldVars;\n  vshader = varyings + vshader;\n  var startCode = \"\";\n  if (device.webgl2) {\n    startCode = pc.programlib.versionCode(device);\n    if (chunks.extensionVS) {\n      startCode += chunks.extensionVS + \"\\n\";\n    }\n    vshader = startCode + chunks.gles3VS + vshader;\n  } else {\n    if (chunks.extensionVS) {\n      startCode = chunks.extensionVS + \"\\n\";\n    }\n    vshader = startCode + vshader;\n  }\n  if (options.forceFragmentPrecision && options.forceFragmentPrecision != \"highp\" && options.forceFragmentPrecision !== \"mediump\" && options.forceFragmentPrecision !== \"lowp\") {\n    options.forceFragmentPrecision = null;\n  }\n  if (options.forceFragmentPrecision) {\n    if (options.forceFragmentPrecision === \"highp\" && device.maxPrecision !== \"highp\") {\n      options.forceFragmentPrecision = \"mediump\";\n    }\n    if (options.forceFragmentPrecision === \"mediump\" && device.maxPrecision === \"lowp\") {\n      options.forceFragmentPrecision = \"lowp\";\n    }\n  }\n  var fshader;\n  code = \"\";\n  if (device.webgl2) {\n    code += pc.programlib.versionCode(device);\n  }\n  if (device.extStandardDerivatives && !device.webgl2) {\n    code += \"#extension GL_OES_standard_derivatives : enable\\n\\n\";\n  }\n  if (chunks.extensionPS) {\n    code += chunks.extensionPS + \"\\n\";\n  }\n  if (device.webgl2) {\n    code += chunks.gles3PS;\n  }\n  code += options.forceFragmentPrecision ? \"precision \" + options.forceFragmentPrecision + \" float;\\n\\n\" : pc.programlib.precisionCode(device);\n  if (options.pass === pc.SHADER_PICK) {\n    code += \"uniform vec4 uColor;\\n\";\n    code += varyings;\n    if (options.alphaTest) {\n      code += \"float dAlpha;\\n\";\n      code += this._addMap(\"opacity\", \"opacityPS\", options, chunks);\n      code += chunks.alphaTestPS;\n    }\n    code += pc.programlib.begin();\n    if (options.alphaTest) {\n      code += \"   getOpacity();\\n\";\n      code += \"   alphaTest(dAlpha);\\n\";\n    }\n    code += \"    gl_FragColor = uColor;\\n\";\n    code += pc.programlib.end();\n    return {attributes:attributes, vshader:vshader, fshader:code};\n  } else {\n    if (options.pass === pc.SHADER_DEPTH) {\n      code += \"varying float vDepth;\\n\";\n      code += varyings;\n      code += chunks.packDepthPS;\n      if (options.alphaTest) {\n        code += \"float dAlpha;\\n\";\n        code += this._addMap(\"opacity\", \"opacityPS\", options, chunks);\n        code += chunks.alphaTestPS;\n      }\n      code += pc.programlib.begin();\n      if (options.alphaTest) {\n        code += \"   getOpacity();\\n\";\n        code += \"   alphaTest(dAlpha);\\n\";\n      }\n      code += \"    gl_FragColor = packFloat(vDepth);\\n\";\n      code += pc.programlib.end();\n      return {attributes:attributes, vshader:vshader, fshader:code};\n    } else {\n      if (shadowPass) {\n        var smode = options.pass - pc.SHADER_SHADOW;\n        var numShadowModes = 5;\n        lightType = Math.floor(smode / numShadowModes);\n        var shadowType = smode - lightType * numShadowModes;\n        if (device.extStandardDerivatives && !device.webgl2) {\n          code += \"uniform vec2 polygonOffset;\\n\";\n        }\n        if (shadowType === pc.SHADOW_VSM32) {\n          if (device.textureFloatHighPrecision) {\n            code += \"#define VSM_EXPONENT 15.0\\n\\n\";\n          } else {\n            code += \"#define VSM_EXPONENT 5.54\\n\\n\";\n          }\n        } else {\n          if (shadowType === pc.SHADOW_VSM16) {\n            code += \"#define VSM_EXPONENT 5.54\\n\\n\";\n          }\n        }\n        if (lightType !== pc.LIGHTTYPE_DIRECTIONAL) {\n          code += \"uniform vec3 view_position;\\n\";\n          code += \"uniform float light_radius;\\n\";\n        }\n        code += varyings;\n        if (options.alphaTest) {\n          code += \"float dAlpha;\\n\";\n          code += this._addMap(\"opacity\", \"opacityPS\", options, chunks);\n          code += chunks.alphaTestPS;\n        }\n        if (shadowType === pc.SHADOW_PCF3 && (!device.webgl2 || lightType === pc.LIGHTTYPE_POINT)) {\n          code += chunks.packDepthPS;\n        } else {\n          if (shadowType === pc.SHADOW_VSM8) {\n            code += \"vec2 encodeFloatRG( float v ) {\\n\";\n            code += \"    vec2 enc = vec2(1.0, 255.0) * v;\\n\";\n            code += \"    enc = fract(enc);\\n\";\n            code += \"    enc -= enc.yy * vec2(1.0/255.0, 1.0/255.0);\\n\";\n            code += \"    return enc;\\n\";\n            code += \"}\\n\\n\";\n          }\n        }\n        code += pc.programlib.begin();\n        if (options.alphaTest) {\n          code += \"   getOpacity();\\n\";\n          code += \"   alphaTest(dAlpha);\\n\";\n        }\n        var isVsm = shadowType === pc.SHADOW_VSM8 || shadowType === pc.SHADOW_VSM16 || shadowType === pc.SHADOW_VSM32;\n        if (lightType === pc.LIGHTTYPE_POINT || isVsm && lightType !== pc.LIGHTTYPE_DIRECTIONAL) {\n          code += \"   float depth = min(distance(view_position, vPositionW) / light_radius, 0.99999);\\n\";\n        } else {\n          code += \"   float depth = gl_FragCoord.z;\\n\";\n        }\n        if (shadowType === pc.SHADOW_PCF3 && (!device.webgl2 || lightType === pc.LIGHTTYPE_POINT)) {\n          if (device.extStandardDerivatives && !device.webgl2) {\n            code += \"   float minValue = 2.3374370500153186e-10; //(1.0 / 255.0) / (256.0 * 256.0 * 256.0);\\n\";\n            code += \"   depth += polygonOffset.x * max(abs(dFdx(depth)), abs(dFdy(depth))) + minValue * polygonOffset.y;\\n\";\n            code += \"   gl_FragColor = packFloat(depth);\\n\";\n          } else {\n            code += \"   gl_FragColor = packFloat(depth);\\n\";\n          }\n        } else {\n          if (shadowType === pc.SHADOW_PCF3 || shadowType === pc.SHADOW_PCF5) {\n            code += \"   gl_FragColor = vec4(1.0);\\n\";\n          } else {\n            if (shadowType === pc.SHADOW_VSM8) {\n              code += \"   gl_FragColor = vec4(encodeFloatRG(depth), encodeFloatRG(depth*depth));\\n\";\n            } else {\n              code += chunks.storeEVSMPS;\n            }\n          }\n        }\n        code += pc.programlib.end();\n        return {attributes:attributes, vshader:vshader, fshader:code};\n      }\n    }\n  }\n  if (options.customFragmentShader) {\n    fshader = code + options.customFragmentShader;\n    return {attributes:attributes, vshader:vshader, fshader:fshader, tag:pc.SHADERTAG_MATERIAL};\n  }\n  code += varyings;\n  code = this._fsAddBaseCode(code, device, chunks, options);\n  var codeBegin = code;\n  code = \"\";\n  var numShadowLights = 0;\n  var shadowTypeUsed = [];\n  var useVsm = false;\n  var usePerspZbufferShadow = false;\n  var light;\n  for (i = 0;i < options.lights.length;i++) {\n    light = options.lights[i];\n    lightType = light._type;\n    code += \"uniform vec3 light\" + i + \"_color;\\n\";\n    if (lightType === pc.LIGHTTYPE_DIRECTIONAL) {\n      code += \"uniform vec3 light\" + i + \"_direction;\\n\";\n    } else {\n      code += \"uniform vec3 light\" + i + \"_position;\\n\";\n      code += \"uniform float light\" + i + \"_radius;\\n\";\n      if (lightType === pc.LIGHTTYPE_SPOT) {\n        code += \"uniform vec3 light\" + i + \"_direction;\\n\";\n        code += \"uniform float light\" + i + \"_innerConeAngle;\\n\";\n        code += \"uniform float light\" + i + \"_outerConeAngle;\\n\";\n      }\n    }\n    if (light.castShadows && !options.noShadow) {\n      code += \"uniform mat4 light\" + i + \"_shadowMatrix;\\n\";\n      if (lightType !== pc.LIGHTTYPE_DIRECTIONAL) {\n        code += \"uniform vec4 light\" + i + \"_shadowParams;\\n\";\n      } else {\n        code += \"uniform vec3 light\" + i + \"_shadowParams;\\n\";\n      }\n      if (lightType === pc.LIGHTTYPE_POINT) {\n        code += \"uniform samplerCube light\" + i + \"_shadowMap;\\n\";\n      } else {\n        if (light._isPcf && device.webgl2) {\n          code += \"uniform sampler2DShadow light\" + i + \"_shadowMap;\\n\";\n        } else {\n          code += \"uniform sampler2D light\" + i + \"_shadowMap;\\n\";\n        }\n      }\n      numShadowLights++;\n      shadowTypeUsed[light._shadowType] = true;\n      if (light._isVsm) {\n        useVsm = true;\n      }\n      if (light._isPcf && (device.webgl2 || device.extStandardDerivatives) && lightType === pc.LIGHTTYPE_SPOT) {\n        usePerspZbufferShadow = true;\n      }\n    }\n    if (light._cookie) {\n      if (light._cookie._cubemap) {\n        if (lightType === pc.LIGHTTYPE_POINT) {\n          code += \"uniform samplerCube light\" + i + \"_cookie;\\n\";\n          code += \"uniform float light\" + i + \"_cookieIntensity;\\n\";\n          if (!light.castShadows || options.noShadow) {\n            code += \"uniform mat4 light\" + i + \"_shadowMatrix;\\n\";\n          }\n        }\n      } else {\n        if (lightType === pc.LIGHTTYPE_SPOT) {\n          code += \"uniform sampler2D light\" + i + \"_cookie;\\n\";\n          code += \"uniform float light\" + i + \"_cookieIntensity;\\n\";\n          if (!light.castShadows || options.noShadow) {\n            code += \"uniform mat4 light\" + i + \"_shadowMatrix;\\n\";\n          }\n          if (light._cookieTransform) {\n            code += \"uniform vec4 light\" + i + \"_cookieMatrix;\\n\";\n            code += \"uniform vec2 light\" + i + \"_cookieOffset;\\n\";\n          }\n        }\n      }\n    }\n  }\n  code += \"\\n\";\n  var tbn;\n  if (!options.hasTangents && device.extStandardDerivatives) {\n    tbn = chunks.TBNderivativePS;\n  } else {\n    if (options.fastTbn) {\n      tbn = chunks.TBNfastPS;\n    } else {\n      tbn = chunks.TBNPS;\n    }\n  }\n  if (needsNormal) {\n    if (options.normalMap) {\n      code += options.packedNormal ? chunks.normalXYPS : chunks.normalXYZPS;\n      var transformedNormalMapUv = this._getUvSourceExpression(\"normalMapTransform\", \"normalMapUv\", options);\n      if (options.needsNormalFloat) {\n        code += (options.fastTbn ? chunks.normalMapFloatTBNfastPS : chunks.normalMapFloatPS).replace(/\\$UV/g, transformedNormalMapUv);\n      } else {\n        code += chunks.normalMapPS.replace(/\\$UV/g, transformedNormalMapUv);\n      }\n      if (!options.hasTangents) {\n        tbn = tbn.replace(/\\$UV/g, transformedNormalMapUv);\n      }\n      code += tbn;\n    } else {\n      code += chunks.normalVertexPS;\n    }\n  }\n  code += pc.programlib.gammaCode(options.gamma, chunks);\n  code += pc.programlib.tonemapCode(options.toneMap, chunks);\n  code += pc.programlib.fogCode(options.fog, chunks);\n  if (options.useRgbm) {\n    code += chunks.rgbmPS;\n  }\n  if (cubemapReflection || options.prefilteredCubemap) {\n    code += options.fixSeams ? chunks.fixCubemapSeamsStretchPS : chunks.fixCubemapSeamsNonePS;\n  }\n  if (needsNormal) {\n    code += options.cubeMapProjection > 0 ? chunks.cubeMapProjectBoxPS : chunks.cubeMapProjectNonePS;\n    code += options.skyboxIntensity ? chunks.envMultiplyPS : chunks.envConstPS;\n  }\n  code += this._addMap(\"diffuse\", \"diffusePS\", options, chunks);\n  if (options.blendType !== pc.BLEND_NONE || options.alphaTest || options.alphaToCoverage) {\n    code += this._addMap(\"opacity\", \"opacityPS\", options, chunks);\n  }\n  code += this._addMap(\"emissive\", \"emissivePS\", options, chunks, options.emissiveFormat);\n  if (options.useSpecular && (lighting || reflections)) {\n    if (options.specularAntialias && options.normalMap) {\n      if (options.needsNormalFloat && needsNormal) {\n        code += chunks.specularAaToksvigFloatPS;\n      } else {\n        code += chunks.specularAaToksvigPS;\n      }\n    } else {\n      code += chunks.specularAaNonePS;\n    }\n    var specularPropName = options.useMetalness ? \"metalness\" : \"specular\";\n    code += this._addMap(specularPropName, specularPropName + \"PS\", options, chunks);\n    code += this._addMap(\"gloss\", \"glossPS\", options, chunks);\n    if (options.fresnelModel > 0) {\n      if (options.fresnelModel === pc.FRESNEL_SIMPLE) {\n        code += chunks.fresnelSimplePS;\n      } else {\n        if (options.fresnelModel === pc.FRESNEL_SCHLICK) {\n          code += chunks.fresnelSchlickPS;\n        } else {\n          if (options.fresnelModel === pc.FRESNEL_COMPLEX) {\n            code += chunks.fresnelComplexPS;\n          }\n        }\n      }\n    }\n  }\n  if (options.heightMap) {\n    if (!options.normalMap) {\n      var transformedHeightMapUv = this._getUvSourceExpression(\"heightMapTransform\", \"heightMapUv\", options);\n      if (!options.hasTangents) {\n        tbn = tbn.replace(/\\$UV/g, transformedHeightMapUv);\n      }\n      code += tbn;\n    }\n    code += this._addMap(\"height\", \"parallaxPS\", options, chunks);\n  }\n  var useAo = options.aoMap || options.aoVertexColor;\n  if (useAo) {\n    code += this._addMap(\"ao\", \"aoPS\", options, chunks);\n    if (options.occludeSpecular) {\n      if (options.occludeSpecular === pc.SPECOCC_AO) {\n        code += options.occludeSpecularFloat ? chunks.aoSpecOccSimplePS : chunks.aoSpecOccConstSimplePS;\n      } else {\n        code += options.occludeSpecularFloat ? chunks.aoSpecOccPS : chunks.aoSpecOccConstPS;\n      }\n    }\n  }\n  var reflectionDecode = options.rgbmReflection ? \"decodeRGBM\" : options.hdrReflection ? \"\" : \"gammaCorrectInput\";\n  if (options.sphereMap) {\n    var scode = device.fragmentUniformsCount > 16 ? chunks.reflectionSpherePS : chunks.reflectionSphereLowPS;\n    scode = scode.replace(/\\$texture2DSAMPLE/g, options.rgbmReflection ? \"texture2DRGBM\" : options.hdrReflection ? \"texture2D\" : \"texture2DSRGB\");\n    code += scode;\n  } else {\n    if (cubemapReflection) {\n      if (options.prefilteredCubemap) {\n        if (useTexCubeLod) {\n          code += chunks.reflectionPrefilteredCubeLodPS.replace(/\\$DECODE/g, reflectionDecode);\n        } else {\n          code += chunks.reflectionPrefilteredCubePS.replace(/\\$DECODE/g, reflectionDecode);\n        }\n      } else {\n        code += chunks.reflectionCubePS.replace(/\\$textureCubeSAMPLE/g, options.rgbmReflection ? \"textureCubeRGBM\" : options.hdrReflection ? \"textureCube\" : \"textureCubeSRGB\");\n      }\n    } else {\n      if (options.dpAtlas) {\n        code += chunks.reflectionDpAtlasPS.replace(/\\$texture2DSAMPLE/g, options.rgbmReflection ? \"texture2DRGBM\" : options.hdrReflection ? \"texture2D\" : \"texture2DSRGB\");\n      }\n    }\n  }\n  if ((cubemapReflection || options.sphereMap || options.dpAtlas) && options.refraction) {\n    code += chunks.refractionPS;\n  }\n  if (numShadowLights > 0) {\n    if (shadowTypeUsed[pc.SHADOW_PCF3]) {\n      code += chunks.shadowStandardPS;\n    }\n    if (shadowTypeUsed[pc.SHADOW_PCF5]) {\n      code += chunks.shadowStandardGL2PS;\n    }\n    if (useVsm) {\n      code += chunks.shadowVSM_commonPS;\n      if (shadowTypeUsed[pc.SHADOW_VSM8]) {\n        code += chunks.shadowVSM8PS;\n      }\n      if (shadowTypeUsed[pc.SHADOW_VSM16]) {\n        code += device.extTextureHalfFloatLinear ? chunks.shadowEVSMPS.replace(/\\$/g, \"16\") : chunks.shadowEVSMnPS.replace(/\\$/g, \"16\");\n      }\n      if (shadowTypeUsed[pc.SHADOW_VSM32]) {\n        code += device.extTextureFloatLinear ? chunks.shadowEVSMPS.replace(/\\$/g, \"32\") : chunks.shadowEVSMnPS.replace(/\\$/g, \"32\");\n      }\n    }\n    if (device.webgl2 || device.extStandardDerivatives) {\n    } else {\n      code += chunks.biasConstPS;\n    }\n    code += chunks.shadowCoordPS + chunks.shadowCommonPS;\n    if (usePerspZbufferShadow) {\n      code += chunks.shadowCoordPerspZbufferPS;\n    }\n    if (mainShadowLight >= 0) {\n      if (shadowTypeUsed[pc.SHADOW_PCF3]) {\n        code += chunks.shadowStandardVSPS;\n      }\n      if (shadowTypeUsed[pc.SHADOW_PCF5]) {\n        code += chunks.shadowStandardGL2VSPS;\n      }\n      if (useVsm) {\n        if (shadowTypeUsed[pc.SHADOW_VSM8]) {\n          code += chunks.shadowVSMVSPS.replace(/\\$VSM/g, \"VSM8\").replace(/\\$/g, \"8\");\n        }\n        if (shadowTypeUsed[pc.SHADOW_VSM16]) {\n          code += chunks.shadowVSMVSPS.replace(/\\$VSM/g, \"VSM16\").replace(/\\$/g, \"16\");\n        }\n        if (shadowTypeUsed[pc.SHADOW_VSM32]) {\n          code += chunks.shadowVSMVSPS.replace(/\\$VSM/g, \"VSM32\").replace(/\\$/g, \"32\");\n        }\n      }\n    }\n  }\n  if (lighting) {\n    code += chunks.lightDiffuseLambertPS;\n  }\n  var useOldAmbient = false;\n  if (options.useSpecular) {\n    if (lighting) {\n      code += options.shadingModel === pc.SPECULAR_PHONG ? chunks.lightSpecularPhongPS : chunks.lightSpecularBlinnPS;\n    }\n    if (options.sphereMap || cubemapReflection || options.dpAtlas || options.fresnelModel > 0) {\n      if (options.fresnelModel > 0) {\n        if (options.conserveEnergy) {\n          code += chunks.combineDiffuseSpecularPS;\n        } else {\n          code += chunks.combineDiffuseSpecularNoConservePS;\n        }\n      } else {\n        code += chunks.combineDiffuseSpecularOldPS;\n      }\n    } else {\n      if (options.diffuseMap) {\n        code += chunks.combineDiffuseSpecularNoReflPS;\n      } else {\n        code += chunks.combineDiffuseSpecularNoReflSeparateAmbientPS;\n        useOldAmbient = true;\n      }\n    }\n  } else {\n    code += chunks.combineDiffusePS;\n  }\n  var addAmbient = true;\n  if (options.lightMap || options.lightVertexColor) {\n    var lightmapChunkPropName = options.dirLightMap ? \"lightmapDirPS\" : \"lightmapSinglePS\";\n    code += this._addMap(\"light\", lightmapChunkPropName, options, chunks, options.lightMapFormat);\n    addAmbient = options.lightMapWithoutAmbient;\n  }\n  if (addAmbient) {\n    var ambientDecode = options.rgbmAmbient ? \"decodeRGBM\" : options.hdrAmbient ? \"\" : \"gammaCorrectInput\";\n    if (options.ambientSH) {\n      code += chunks.ambientSHPS;\n    } else {\n      if (options.prefilteredCubemap) {\n        if (useTexCubeLod) {\n          code += chunks.ambientPrefilteredCubeLodPS.replace(/\\$DECODE/g, ambientDecode);\n        } else {\n          code += chunks.ambientPrefilteredCubePS.replace(/\\$DECODE/g, ambientDecode);\n        }\n      } else {\n        code += chunks.ambientConstantPS;\n      }\n    }\n  }\n  if (options.ambientTint && !useOldAmbient) {\n    code += \"uniform vec3 material_ambient;\\n\";\n  }\n  if (options.alphaTest) {\n    code += chunks.alphaTestPS;\n  }\n  if (options.msdf) {\n    code += chunks.msdfPS;\n  }\n  if (needsNormal) {\n    code += chunks.viewDirPS;\n    if (options.useSpecular) {\n      code += chunks.reflDirPS;\n    }\n  }\n  var hasPointLights = false;\n  var usesLinearFalloff = false;\n  var usesInvSquaredFalloff = false;\n  var usesSpot = false;\n  var usesCookie = false;\n  var usesCookieNow;\n  code = this._fsAddStartCode(code, device, chunks, options);\n  if (needsNormal) {\n    if (options.twoSidedLighting) {\n      code += \"   dVertexNormalW = gl_FrontFacing ? vNormalW : -vNormalW;\\n\";\n    } else {\n      code += \"   dVertexNormalW = vNormalW;\\n\";\n    }\n    if ((options.heightMap || options.normalMap) && options.hasTangents) {\n      if (options.twoSidedLighting) {\n        code += \"   dTangentW = gl_FrontFacing ? vTangentW : -vTangentW;\\n\";\n        code += \"   dBinormalW = gl_FrontFacing ? vBinormalW : -vBinormalW;\\n\";\n      } else {\n        code += \"   dTangentW = vTangentW;\\n\";\n        code += \"   dBinormalW = vBinormalW;\\n\";\n      }\n    }\n  }\n  var opacityParallax = false;\n  if (options.blendType === pc.BLEND_NONE && !options.alphaTest && !options.alphaToCoverage) {\n    code += \"   dAlpha = 1.0;\\n\";\n  } else {\n    if (options.heightMap && options.opacityMap) {\n      opacityParallax = true;\n    } else {\n      code += \"   getOpacity();\\n\";\n      if (options.alphaTest) {\n        code += \"   alphaTest(dAlpha);\\n\";\n      }\n    }\n  }\n  if (needsNormal) {\n    code += \"   getViewDir();\\n\";\n    if (options.heightMap || options.normalMap) {\n      code += \"   getTBN();\\n\";\n    }\n    if (options.heightMap) {\n      code += \"   getParallax();\\n\";\n    }\n    if (opacityParallax) {\n      code += \"   getOpacity();\\n\";\n      if (options.alphaTest) {\n        code += \"   alphaTest(dAlpha);\\n\";\n      }\n    }\n    code += \"   getNormal();\\n\";\n    if (options.useSpecular) {\n      code += \"   getReflDir();\\n\";\n    }\n  }\n  code += \"   getAlbedo();\\n\";\n  if (lighting && options.useSpecular || reflections) {\n    code += \"   getSpecularity();\\n\";\n    code += \"   getGlossiness();\\n\";\n    if (options.fresnelModel > 0) {\n      code += \"   getFresnel();\\n\";\n    }\n  }\n  if (addAmbient) {\n    code += \"   addAmbient();\\n\";\n  }\n  if (options.ambientTint && !useOldAmbient) {\n    code += \"   dDiffuseLight *= material_ambient;\\n\";\n  }\n  if (useAo && !options.occludeDirect) {\n    code += \"    applyAO();\\n\";\n  }\n  if (options.lightMap || options.lightVertexColor) {\n    code += \"   addLightMap();\\n\";\n  }\n  if (lighting || reflections) {\n    if (cubemapReflection || options.sphereMap || options.dpAtlas) {\n      code += \"   addReflection();\\n\";\n    }\n    if (options.dirLightMap) {\n      code += \"   addDirLightMap();\\n\";\n    }\n    for (i = 0;i < options.lights.length;i++) {\n      light = options.lights[i];\n      lightType = light._type;\n      usesCookieNow = false;\n      if (lightType === pc.LIGHTTYPE_DIRECTIONAL) {\n        code += \"   dLightDirNormW = light\" + i + \"_direction;\\n\";\n        code += \"   dAtten = 1.0;\\n\";\n      } else {\n        if (light._cookie) {\n          if (lightType === pc.LIGHTTYPE_SPOT && !light._cookie._cubemap) {\n            usesCookie = true;\n            usesCookieNow = true;\n          } else {\n            if (lightType === pc.LIGHTTYPE_POINT && light._cookie._cubemap) {\n              usesCookie = true;\n              usesCookieNow = true;\n            }\n          }\n        }\n        code += \"   getLightDirPoint(light\" + i + \"_position);\\n\";\n        hasPointLights = true;\n        if (usesCookieNow) {\n          if (lightType === pc.LIGHTTYPE_SPOT) {\n            code += \"   dAtten3 = getCookie2D\" + (light._cookieFalloff ? \"\" : \"Clip\") + (light._cookieTransform ? \"Xform\" : \"\") + \"(light\" + i + \"_cookie, light\" + i + \"_shadowMatrix, light\" + i + \"_cookieIntensity\" + (light._cookieTransform ? \", light\" + i + \"_cookieMatrix, light\" + i + \"_cookieOffset\" : \"\") + \").\" + light._cookieChannel + \";\\n\";\n          } else {\n            code += \"   dAtten3 = getCookieCube(light\" + i + \"_cookie, light\" + i + \"_shadowMatrix, light\" + i + \"_cookieIntensity).\" + light._cookieChannel + \";\\n\";\n          }\n        }\n        if (light._falloffMode === pc.LIGHTFALLOFF_LINEAR) {\n          code += \"   dAtten = getFalloffLinear(light\" + i + \"_radius);\\n\";\n          usesLinearFalloff = true;\n        } else {\n          code += \"   dAtten = getFalloffInvSquared(light\" + i + \"_radius);\\n\";\n          usesInvSquaredFalloff = true;\n        }\n        code += \"   if (dAtten > 0.00001) {\\n\";\n        if (lightType === pc.LIGHTTYPE_SPOT) {\n          if (!(usesCookieNow && !light._cookieFalloff)) {\n            code += \"       dAtten *= getSpotEffect(light\" + i + \"_direction, light\" + i + \"_innerConeAngle, light\" + i + \"_outerConeAngle);\\n\";\n            usesSpot = true;\n          }\n        }\n      }\n      code += \"       dAtten *= getLightDiffuse();\\n\";\n      if (light.castShadows && !options.noShadow) {\n        var shadowReadMode = null;\n        var evsmExp;\n        if (light._shadowType === pc.SHADOW_VSM8) {\n          shadowReadMode = \"VSM8\";\n          evsmExp = \"0.0\";\n        } else {\n          if (light._shadowType === pc.SHADOW_VSM16) {\n            shadowReadMode = \"VSM16\";\n            evsmExp = \"5.54\";\n          } else {\n            if (light._shadowType === pc.SHADOW_VSM32) {\n              shadowReadMode = \"VSM32\";\n              if (device.textureFloatHighPrecision) {\n                evsmExp = \"15.0\";\n              } else {\n                evsmExp = \"5.54\";\n              }\n            } else {\n              if (light._shadowType === pc.SHADOW_PCF5) {\n                shadowReadMode = \"PCF5x5\";\n              } else {\n                shadowReadMode = \"PCF3x3\";\n              }\n            }\n          }\n        }\n        if (shadowReadMode !== null) {\n          if (lightType === pc.LIGHTTYPE_POINT) {\n            shadowCoordArgs = \"(light\" + i + \"_shadowMap, light\" + i + \"_shadowParams);\\n\";\n            if (light._normalOffsetBias) {\n              code += \"       normalOffsetPointShadow(light\" + i + \"_shadowParams);\\n\";\n            }\n            code += \"       dAtten *= getShadowPoint\" + shadowReadMode + shadowCoordArgs;\n          } else {\n            if (mainShadowLight === i) {\n              shadowReadMode += \"VS\";\n            } else {\n              shadowCoordArgs = \"(light\" + i + \"_shadowMatrix, light\" + i + \"_shadowParams);\\n\";\n              code += this._nonPointShadowMapProjection(device, options.lights[i], shadowCoordArgs);\n            }\n            if (lightType === pc.LIGHTTYPE_SPOT) {\n              shadowReadMode = \"Spot\" + shadowReadMode;\n            }\n            code += \"       dAtten *= getShadow\" + shadowReadMode + \"(light\" + i + \"_shadowMap, light\" + i + \"_shadowParams\" + (light._isVsm ? \", \" + evsmExp : \"\") + \");\\n\";\n          }\n        }\n      }\n      code += \"       dDiffuseLight += dAtten * light\" + i + \"_color\" + (usesCookieNow ? \" * dAtten3\" : \"\") + \";\\n\";\n      if (options.useSpecular) {\n        code += \"       dAtten *= getLightSpecular();\\n\";\n        code += \"       dSpecularLight += dAtten * light\" + i + \"_color\" + (usesCookieNow ? \" * dAtten3\" : \"\") + \";\\n\";\n      }\n      if (lightType !== pc.LIGHTTYPE_DIRECTIONAL) {\n        code += \"   }\\n\";\n      }\n      code += \"\\n\";\n    }\n    if ((cubemapReflection || options.sphereMap || options.dpAtlas) && options.refraction) {\n      code += \"   addRefraction();\\n\";\n    }\n  }\n  code += \"\\n\";\n  if (useAo) {\n    if (options.occludeDirect) {\n      code += \"    applyAO();\\n\";\n    }\n    if (options.occludeSpecular) {\n      code += \"    occludeSpecular();\\n\";\n    }\n  }\n  code += chunks.endPS;\n  if (options.blendType === pc.BLEND_NORMAL || options.blendType === pc.BLEND_ADDITIVEALPHA || options.alphaToCoverage) {\n    code += chunks.outputAlphaPS;\n  } else {\n    if (options.blendType === pc.BLEND_PREMULTIPLIED) {\n      code += chunks.outputAlphaPremulPS;\n    } else {\n      code += chunks.outputAlphaOpaquePS;\n    }\n  }\n  if (options.msdf) {\n    code += \"   gl_FragColor = applyMsdf(gl_FragColor);\\n\";\n  }\n  code += \"\\n\";\n  code += pc.programlib.end();\n  if (hasPointLights) {\n    code = chunks.lightDirPointPS + code;\n  }\n  if (usesLinearFalloff) {\n    code = chunks.falloffLinearPS + code;\n  }\n  if (usesInvSquaredFalloff) {\n    code = chunks.falloffInvSquaredPS + code;\n  }\n  if (usesSpot) {\n    code = chunks.spotPS + code;\n  }\n  if (usesCookie) {\n    code = chunks.cookiePS + code;\n  }\n  var structCode = \"\";\n  if (code.includes(\"dReflection\")) {\n    structCode += \"vec4 dReflection;\\n\";\n  }\n  if (code.includes(\"dTBN\")) {\n    structCode += \"mat3 dTBN;\\n\";\n  }\n  if (code.includes(\"dAlbedo\")) {\n    structCode += \"vec3 dAlbedo;\\n\";\n  }\n  if (code.includes(\"dEmission\")) {\n    structCode += \"vec3 dEmission;\\n\";\n  }\n  if (code.includes(\"dNormalW\")) {\n    structCode += \"vec3 dNormalW;\\n\";\n  }\n  if (code.includes(\"dVertexNormalW\")) {\n    structCode += \"vec3 dVertexNormalW;\\n\";\n  }\n  if (code.includes(\"dTangentW\")) {\n    structCode += \"vec3 dTangentW;\\n\";\n  }\n  if (code.includes(\"dBinormalW\")) {\n    structCode += \"vec3 dBinormalW;\\n\";\n  }\n  if (code.includes(\"dViewDirW\")) {\n    structCode += \"vec3 dViewDirW;\\n\";\n  }\n  if (code.includes(\"dReflDirW\")) {\n    structCode += \"vec3 dReflDirW;\\n\";\n  }\n  if (code.includes(\"dDiffuseLight\")) {\n    structCode += \"vec3 dDiffuseLight;\\n\";\n  }\n  if (code.includes(\"dSpecularLight\")) {\n    structCode += \"vec3 dSpecularLight;\\n\";\n  }\n  if (code.includes(\"dLightDirNormW\")) {\n    structCode += \"vec3 dLightDirNormW;\\n\";\n  }\n  if (code.includes(\"dLightDirW\")) {\n    structCode += \"vec3 dLightDirW;\\n\";\n  }\n  if (code.includes(\"dLightPosW\")) {\n    structCode += \"vec3 dLightPosW;\\n\";\n  }\n  if (code.includes(\"dShadowCoord\")) {\n    structCode += \"vec3 dShadowCoord;\\n\";\n  }\n  if (code.includes(\"dNormalMap\")) {\n    structCode += \"vec3 dNormalMap;\\n\";\n  }\n  if (code.includes(\"dSpecularity\")) {\n    structCode += \"vec3 dSpecularity;\\n\";\n  }\n  if (code.includes(\"dUvOffset\")) {\n    structCode += \"vec2 dUvOffset;\\n\";\n  }\n  if (code.includes(\"dGlossiness\")) {\n    structCode += \"float dGlossiness;\\n\";\n  }\n  if (code.includes(\"dAlpha\")) {\n    structCode += \"float dAlpha;\\n\";\n  }\n  if (code.includes(\"dAtten\")) {\n    structCode += \"float dAtten;\\n\";\n  }\n  if (code.includes(\"dAtten3\")) {\n    structCode += \"vec3 dAtten3;\\n\";\n  }\n  if (code.includes(\"dAo\")) {\n    structCode += \"float dAo;\\n\";\n  }\n  if (code.includes(\"dMsdf\")) {\n    structCode += \"vec4 dMsdf;\\n\";\n  }\n  code = codeBegin + structCode + code;\n  fshader = code;\n  return {attributes:attributes, vshader:vshader, fshader:fshader, tag:pc.SHADERTAG_MATERIAL};\n}};\npc.programlib.skybox = {generateKey:function(options) {\n  var key = \"skybox\" + options.rgbm + \" \" + options.hdr + \" \" + options.fixSeams + \"\" + options.toneMapping + \"\" + options.gamma + \"\" + options.useIntensity + \"\" + options.mip;\n  return key;\n}, createShaderDefinition:function(device, options) {\n  var chunks = pc.shaderChunks;\n  var mip2size = [128, 64, 16, 8, 4, 2];\n  return {attributes:{aPosition:pc.SEMANTIC_POSITION}, vshader:chunks.skyboxVS, fshader:pc.programlib.precisionCode(device) + (options.mip ? chunks.fixCubemapSeamsStretchPS : chunks.fixCubemapSeamsNonePS) + (options.useIntensity ? chunks.envMultiplyPS : chunks.envConstPS) + pc.programlib.gammaCode(options.gamma) + pc.programlib.tonemapCode(options.toneMapping) + chunks.rgbmPS + chunks.skyboxHDRPS.replace(/\\$textureCubeSAMPLE/g, options.rgbm ? \"textureCubeRGBM\" : options.hdr ? \"textureCube\" : \"textureCubeSRGB\").replace(/\\$FIXCONST/g, \n  1.0 - 1.0 / mip2size[options.mip] + \"\")};\n}};\nObject.assign(pc, function() {\n  var primitive = {type:pc.PRIMITIVE_TRISTRIP, base:0, count:4, indexed:false};\n  var PostEffect = function(graphicsDevice) {\n    this.device = graphicsDevice;\n    this.shader = null;\n    this.depthMap = null;\n    this.vertexBuffer = pc.createFullscreenQuad(graphicsDevice);\n    this.needsDepthBuffer = false;\n  };\n  Object.assign(PostEffect.prototype, {render:function(inputTarget, outputTarget, rect) {\n  }});\n  function createFullscreenQuad(device) {\n    var vertexFormat = new pc.VertexFormat(device, [{semantic:pc.SEMANTIC_POSITION, components:2, type:pc.TYPE_FLOAT32}]);\n    var vertexBuffer = new pc.VertexBuffer(device, vertexFormat, 4);\n    var iterator = new pc.VertexIterator(vertexBuffer);\n    iterator.element[pc.SEMANTIC_POSITION].set(-1.0, -1.0);\n    iterator.next();\n    iterator.element[pc.SEMANTIC_POSITION].set(1.0, -1.0);\n    iterator.next();\n    iterator.element[pc.SEMANTIC_POSITION].set(-1.0, 1.0);\n    iterator.next();\n    iterator.element[pc.SEMANTIC_POSITION].set(1.0, 1.0);\n    iterator.end();\n    return vertexBuffer;\n  }\n  function drawFullscreenQuad(device, target, vertexBuffer, shader, rect) {\n    var oldRt = device.getRenderTarget();\n    device.setRenderTarget(target);\n    device.updateBegin();\n    var w = target !== null ? target.width : device.width;\n    var h = target !== null ? target.height : device.height;\n    var x = 0;\n    var y = 0;\n    if (rect) {\n      x = rect.x * w;\n      y = rect.y * h;\n      w *= rect.z;\n      h *= rect.w;\n    }\n    var oldVx = device.vx;\n    var oldVy = device.vy;\n    var oldVw = device.vw;\n    var oldVh = device.vh;\n    device.setViewport(x, y, w, h);\n    var oldSx = device.sx;\n    var oldSy = device.sy;\n    var oldSw = device.sw;\n    var oldSh = device.sh;\n    device.setScissor(x, y, w, h);\n    var oldBlending = device.getBlending();\n    var oldDepthTest = device.getDepthTest();\n    var oldDepthWrite = device.getDepthWrite();\n    var oldCullMode = device.getCullMode();\n    var oldWR = device.writeRed;\n    var oldWG = device.writeGreen;\n    var oldWB = device.writeBlue;\n    var oldWA = device.writeAlpha;\n    device.setBlending(false);\n    device.setDepthTest(false);\n    device.setDepthWrite(false);\n    device.setCullMode(pc.CULLFACE_NONE);\n    device.setColorWrite(true, true, true, true);\n    device.setVertexBuffer(vertexBuffer, 0);\n    device.setShader(shader);\n    device.draw(primitive);\n    device.setBlending(oldBlending);\n    device.setDepthTest(oldDepthTest);\n    device.setDepthWrite(oldDepthWrite);\n    device.setCullMode(oldCullMode);\n    device.setColorWrite(oldWR, oldWG, oldWB, oldWA);\n    device.updateEnd();\n    device.setRenderTarget(oldRt);\n    device.updateBegin();\n    device.setViewport(oldVx, oldVy, oldVw, oldVh);\n    device.setScissor(oldSx, oldSy, oldSw, oldSh);\n  }\n  return {PostEffect:PostEffect, createFullscreenQuad:createFullscreenQuad, drawFullscreenQuad:drawFullscreenQuad};\n}());\n(function() {\n  var enums = {BLEND_SUBTRACTIVE:0, BLEND_ADDITIVE:1, BLEND_NORMAL:2, BLEND_NONE:3, BLEND_PREMULTIPLIED:4, BLEND_MULTIPLICATIVE:5, BLEND_ADDITIVEALPHA:6, BLEND_MULTIPLICATIVE2X:7, BLEND_SCREEN:8, BLEND_MIN:9, BLEND_MAX:10, FOG_NONE:\"none\", FOG_LINEAR:\"linear\", FOG_EXP:\"exp\", FOG_EXP2:\"exp2\", FRESNEL_NONE:0, FRESNEL_SCHLICK:2, LAYER_HUD:0, LAYER_GIZMO:1, LAYER_FX:2, LAYER_WORLD:15, LAYERID_WORLD:0, LAYERID_DEPTH:1, LAYERID_SKYBOX:2, LAYERID_IMMEDIATE:3, LAYERID_UI:4, LIGHTTYPE_DIRECTIONAL:0, LIGHTTYPE_POINT:1, \n  LIGHTTYPE_SPOT:2, LIGHTFALLOFF_LINEAR:0, LIGHTFALLOFF_INVERSESQUARED:1, SHADOW_PCF3:0, SHADOW_DEPTH:0, SHADOW_VSM8:1, SHADOW_VSM16:2, SHADOW_VSM32:3, SHADOW_PCF5:4, BLUR_BOX:0, BLUR_GAUSSIAN:1, PARTICLESORT_NONE:0, PARTICLESORT_DISTANCE:1, PARTICLESORT_NEWER_FIRST:2, PARTICLESORT_OLDER_FIRST:3, PARTICLEMODE_GPU:0, PARTICLEMODE_CPU:1, EMITTERSHAPE_BOX:0, EMITTERSHAPE_SPHERE:1, PARTICLEORIENTATION_SCREEN:0, PARTICLEORIENTATION_WORLD:1, PARTICLEORIENTATION_EMITTER:2, PROJECTION_PERSPECTIVE:0, PROJECTION_ORTHOGRAPHIC:1, \n  RENDERSTYLE_SOLID:0, RENDERSTYLE_WIREFRAME:1, RENDERSTYLE_POINTS:2, CUBEPROJ_NONE:0, CUBEPROJ_BOX:1, SPECULAR_PHONG:0, SPECULAR_BLINN:1, GAMMA_NONE:0, GAMMA_SRGB:1, GAMMA_SRGBFAST:2, GAMMA_SRGBHDR:3, TONEMAP_LINEAR:0, TONEMAP_FILMIC:1, TONEMAP_HEJL:2, TONEMAP_ACES:3, TONEMAP_ACES2:4, SPECOCC_NONE:0, SPECOCC_AO:1, SPECOCC_GLOSSDEPENDENT:2, SHADERDEF_NOSHADOW:1, SHADERDEF_SKIN:2, SHADERDEF_UV0:4, SHADERDEF_UV1:8, SHADERDEF_VCOLOR:16, SHADERDEF_INSTANCING:32, SHADERDEF_LM:64, SHADERDEF_DIRLM:128, \n  SHADERDEF_SCREENSPACE:256, SHADERDEF_TANGENTS:512, LINEBATCH_WORLD:0, LINEBATCH_OVERLAY:1, LINEBATCH_GIZMO:2, SHADOWUPDATE_NONE:0, SHADOWUPDATE_THISFRAME:1, SHADOWUPDATE_REALTIME:2, SORTKEY_FORWARD:0, SORTKEY_DEPTH:1, MASK_DYNAMIC:1, MASK_BAKED:2, MASK_LIGHTMAP:4, SHADER_FORWARD:0, SHADER_FORWARDHDR:1, SHADER_DEPTH:2, SHADER_SHADOW:3, SHADER_PICK:18, BAKE_COLOR:0, BAKE_COLORDIR:1, VIEW_CENTER:0, VIEW_LEFT:1, VIEW_RIGHT:2, SORTMODE_NONE:0, SORTMODE_MANUAL:1, SORTMODE_MATERIALMESH:2, SORTMODE_BACK2FRONT:3, \n  SORTMODE_FRONT2BACK:4, SORTMODE_CUSTOM:5, COMPUPDATED_INSTANCES:1, COMPUPDATED_LIGHTS:2, COMPUPDATED_CAMERAS:4, COMPUPDATED_BLEND:8, ASPECT_AUTO:0, ASPECT_MANUAL:1, ORIENTATION_HORIZONTAL:0, ORIENTATION_VERTICAL:1};\n  Object.assign(pc, enums);\n  pc.scene = {};\n  Object.assign(pc.scene, enums);\n})();\nObject.assign(pc, function() {\n  var Scene = function Scene() {\n    pc.EventHandler.call(this);\n    this.root = null;\n    this._gravity = new pc.Vec3(0, -9.8, 0);\n    this._layers = null;\n    this._fog = pc.FOG_NONE;\n    this.fogColor = new pc.Color(0, 0, 0);\n    this.fogStart = 1;\n    this.fogEnd = 1000;\n    this.fogDensity = 0;\n    this.ambientLight = new pc.Color(0, 0, 0);\n    this._gammaCorrection = pc.GAMMA_NONE;\n    this._toneMapping = 0;\n    this.exposure = 1.0;\n    this._skyboxPrefiltered = [null, null, null, null, null, null];\n    this._skyboxCubeMap = null;\n    this.skyboxModel = null;\n    this._skyboxIntensity = 1;\n    this._skyboxMip = 0;\n    this.lightmapSizeMultiplier = 1;\n    this.lightmapMaxResolution = 2048;\n    this.lightmapMode = pc.BAKE_COLORDIR;\n    this._stats = {meshInstances:0, lights:0, dynamicLights:0, bakedLights:0, lastStaticPrepareFullTime:0, lastStaticPrepareSearchTime:0, lastStaticPrepareWriteTime:0, lastStaticPrepareTriAabbTime:0, lastStaticPrepareCombineTime:0, updateShadersTime:0};\n    this.updateShaders = true;\n    this.updateSkybox = true;\n    this._shaderVersion = 0;\n    this._statsUpdated = false;\n    this._models = [];\n    this.defaultMaterial = new pc.StandardMaterial;\n    this.defaultMaterial.name = \"Default Material\";\n    this.defaultMaterial.shadingModel = pc.SPECULAR_BLINN;\n  };\n  Scene.prototype = Object.create(pc.EventHandler.prototype);\n  Scene.prototype.constructor = Scene;\n  Scene.prototype.destroy = function() {\n    this.root = null;\n    this.defaultMaterial.destroy();\n    this.defaultMaterial = null;\n    this.off();\n  };\n  Object.defineProperty(Scene.prototype, \"fog\", {get:function() {\n    return this._fog;\n  }, set:function(type) {\n    if (type !== this._fog) {\n      this._fog = type;\n      this.updateShaders = true;\n    }\n  }});\n  Object.defineProperty(Scene.prototype, \"gammaCorrection\", {get:function() {\n    return this._gammaCorrection;\n  }, set:function(value) {\n    if (value !== this._gammaCorrection) {\n      this._gammaCorrection = value;\n      this.updateShaders = true;\n    }\n  }});\n  Object.defineProperty(Scene.prototype, \"toneMapping\", {get:function() {\n    return this._toneMapping;\n  }, set:function(value) {\n    if (value !== this._toneMapping) {\n      this._toneMapping = value;\n      this.updateShaders = true;\n    }\n  }});\n  Object.defineProperty(Scene.prototype, \"skybox\", {get:function() {\n    return this._skyboxCubeMap;\n  }, set:function(value) {\n    this._skyboxCubeMap = value;\n    this._resetSkyboxModel();\n    this.updateShaders = true;\n  }});\n  Object.defineProperty(Scene.prototype, \"skyboxIntensity\", {get:function() {\n    return this._skyboxIntensity;\n  }, set:function(value) {\n    this._skyboxIntensity = value;\n    this._resetSkyboxModel();\n    this.updateShaders = true;\n  }});\n  Object.defineProperty(Scene.prototype, \"skyboxMip\", {get:function() {\n    return this._skyboxMip;\n  }, set:function(value) {\n    this._skyboxMip = value;\n    this._resetSkyboxModel();\n    this.updateShaders = true;\n  }});\n  Object.defineProperty(Scene.prototype, \"skyboxPrefiltered128\", {get:function() {\n    return this._skyboxPrefiltered[0];\n  }, set:function(value) {\n    if (this._skyboxPrefiltered[0] === value) {\n      return;\n    }\n    this._skyboxPrefiltered[0] = value;\n    this.updateShaders = true;\n  }});\n  Object.defineProperty(Scene.prototype, \"skyboxPrefiltered64\", {get:function() {\n    return this._skyboxPrefiltered[1];\n  }, set:function(value) {\n    if (this._skyboxPrefiltered[1] === value) {\n      return;\n    }\n    this._skyboxPrefiltered[1] = value;\n    this.updateShaders = true;\n  }});\n  Object.defineProperty(Scene.prototype, \"skyboxPrefiltered32\", {get:function() {\n    return this._skyboxPrefiltered[2];\n  }, set:function(value) {\n    if (this._skyboxPrefiltered[2] === value) {\n      return;\n    }\n    this._skyboxPrefiltered[2] = value;\n    this.updateShaders = true;\n  }});\n  Object.defineProperty(Scene.prototype, \"skyboxPrefiltered16\", {get:function() {\n    return this._skyboxPrefiltered[3];\n  }, set:function(value) {\n    if (this._skyboxPrefiltered[3] === value) {\n      return;\n    }\n    this._skyboxPrefiltered[3] = value;\n    this.updateShaders = true;\n  }});\n  Object.defineProperty(Scene.prototype, \"skyboxPrefiltered8\", {get:function() {\n    return this._skyboxPrefiltered[4];\n  }, set:function(value) {\n    if (this._skyboxPrefiltered[4] === value) {\n      return;\n    }\n    this._skyboxPrefiltered[4] = value;\n    this.updateShaders = true;\n  }});\n  Object.defineProperty(Scene.prototype, \"skyboxPrefiltered4\", {get:function() {\n    return this._skyboxPrefiltered[5];\n  }, set:function(value) {\n    if (this._skyboxPrefiltered[5] === value) {\n      return;\n    }\n    this._skyboxPrefiltered[5] = value;\n    this.updateShaders = true;\n  }});\n  Object.defineProperty(Scene.prototype, \"drawCalls\", {get:function() {\n    var drawCalls = this.layers._meshInstances;\n    if (!drawCalls.length) {\n      this.layers._update();\n      drawCalls = this.layers._meshInstances;\n    }\n    return drawCalls;\n  }, set:function(value) {\n  }});\n  Object.defineProperty(Scene.prototype, \"layers\", {get:function() {\n    return this._layers;\n  }, set:function(layers) {\n    var prev = this._layers;\n    this._layers = layers;\n    this.fire(\"set:layers\", prev, layers);\n  }});\n  Scene.prototype.applySettings = function(settings) {\n    this._gravity.set(settings.physics.gravity[0], settings.physics.gravity[1], settings.physics.gravity[2]);\n    this.ambientLight.set(settings.render.global_ambient[0], settings.render.global_ambient[1], settings.render.global_ambient[2]);\n    this._fog = settings.render.fog;\n    this.fogColor.set(settings.render.fog_color[0], settings.render.fog_color[1], settings.render.fog_color[2]);\n    this.fogStart = settings.render.fog_start;\n    this.fogEnd = settings.render.fog_end;\n    this.fogDensity = settings.render.fog_density;\n    this._gammaCorrection = settings.render.gamma_correction;\n    this._toneMapping = settings.render.tonemapping;\n    this.lightmapSizeMultiplier = settings.render.lightmapSizeMultiplier;\n    this.lightmapMaxResolution = settings.render.lightmapMaxResolution;\n    this.lightmapMode = settings.render.lightmapMode;\n    this.exposure = settings.render.exposure;\n    this._skyboxIntensity = settings.render.skyboxIntensity === undefined ? 1 : settings.render.skyboxIntensity;\n    this._skyboxMip = settings.render.skyboxMip === undefined ? 0 : settings.render.skyboxMip;\n    this._resetSkyboxModel();\n    this.updateShaders = true;\n  };\n  Scene.prototype._updateSkybox = function(device) {\n    if (this._skyboxCubeMap && !this.skyboxModel) {\n      var material = new pc.Material;\n      var scene = this;\n      material.updateShader = function(dev, sc, defs, staticLightList, pass) {\n        var library = device.getProgramLibrary();\n        var shader = library.getProgram(\"skybox\", {rgbm:scene._skyboxCubeMap.rgbm, hdr:scene._skyboxCubeMap.rgbm || scene._skyboxCubeMap.format === pc.PIXELFORMAT_RGBA32F, useIntensity:scene.skyboxIntensity !== 1, mip:scene._skyboxCubeMap.fixCubemapSeams ? scene.skyboxMip : 0, fixSeams:scene._skyboxCubeMap.fixCubemapSeams, gamma:pass === pc.SHADER_FORWARDHDR ? scene.gammaCorrection ? pc.GAMMA_SRGBHDR : pc.GAMMA_NONE : scene.gammaCorrection, toneMapping:pass === pc.SHADER_FORWARDHDR ? pc.TONEMAP_LINEAR : \n        scene.toneMapping});\n        this.shader = shader;\n      };\n      material.updateShader();\n      var usedTex;\n      if (!this._skyboxCubeMap.fixCubemapSeams || !scene._skyboxMip) {\n        usedTex = this._skyboxCubeMap;\n      } else {\n        var mip2tex = [null, \"64\", \"16\", \"8\", \"4\"];\n        var mipTex = this[\"skyboxPrefiltered\" + mip2tex[scene._skyboxMip]];\n        if (mipTex) {\n          usedTex = mipTex;\n        }\n      }\n      material.setParameter(\"texture_cubeMap\", usedTex);\n      material.cull = pc.CULLFACE_NONE;\n      var skyLayer = this.layers.getLayerById(pc.LAYERID_SKYBOX);\n      if (skyLayer) {\n        var node = new pc.GraphNode;\n        var mesh = pc.createBox(device);\n        var meshInstance = new pc.MeshInstance(node, mesh, material);\n        meshInstance.cull = false;\n        meshInstance._noDepthDrawGl1 = true;\n        var model = new pc.Model;\n        model.graph = node;\n        model.meshInstances = [meshInstance];\n        this.skyboxModel = model;\n        skyLayer.addMeshInstances(model.meshInstances);\n        skyLayer.enabled = true;\n        this.skyLayer = skyLayer;\n        this.fire(\"set:skybox\", usedTex);\n      }\n    }\n  };\n  Scene.prototype._resetSkyboxModel = function() {\n    if (this.skyboxModel) {\n      this.skyLayer.removeMeshInstances(this.skyboxModel.meshInstances);\n      this.skyLayer.enabled = false;\n      this.skyboxModel.destroy();\n    }\n    this.skyboxModel = null;\n    this.updateSkybox = true;\n  };\n  Scene.prototype.setSkybox = function(cubemaps) {\n    var i;\n    if (!cubemaps) {\n      cubemaps = [null, null, null, null, null, null, null];\n    }\n    var different = false;\n    if (this._skyboxCubeMap !== cubemaps[0]) {\n      different = true;\n    }\n    if (!different) {\n      for (i = 0;i < 6 && !different;i++) {\n        if (this._skyboxPrefiltered[i] !== cubemaps[i + 1]) {\n          different = true;\n        }\n      }\n    }\n    if (!different) {\n      return;\n    }\n    for (i = 0;i < 6;i++) {\n      this._skyboxPrefiltered[i] = cubemaps[i + 1];\n    }\n    this.skybox = cubemaps[0];\n  };\n  Scene.prototype.destroy = function() {\n    this.skybox = null;\n  };\n  Scene.prototype.addModel = function(model) {\n    if (this.containsModel(model)) {\n      return;\n    }\n    var layer = this.layers.getLayerById(pc.LAYERID_WORLD);\n    if (!layer) {\n      return;\n    }\n    layer.addMeshInstances(model.meshInstances);\n    this._models.push(model);\n  };\n  Scene.prototype.addShadowCaster = function(model) {\n    var layer = this.layers.getLayerById(pc.LAYERID_WORLD);\n    if (!layer) {\n      return;\n    }\n    layer.addShadowCasters(model.meshInstances);\n  };\n  Scene.prototype.removeModel = function(model) {\n    var index = this._models.indexOf(model);\n    if (index !== -1) {\n      var layer = this.layers.getLayerById(pc.LAYERID_WORLD);\n      if (!layer) {\n        return;\n      }\n      layer.removeMeshInstances(model.meshInstances);\n      this._models.splice(index, 1);\n    }\n  };\n  Scene.prototype.removeShadowCasters = function(model) {\n    var layer = this.layers.getLayerById(pc.LAYERID_WORLD);\n    if (!layer) {\n      return;\n    }\n    layer.removeShadowCasters(model.meshInstances);\n  };\n  Scene.prototype.containsModel = function(model) {\n    return this._models.indexOf(model) >= 0;\n  };\n  Scene.prototype.getModels = function(model) {\n    return this._models;\n  };\n  return {Scene:Scene};\n}());\nObject.assign(pc, function() {\n  var scaleShift = (new pc.Mat4).mul2((new pc.Mat4).setTranslate(0.5, 0.5, 0.5), (new pc.Mat4).setScale(0.5, 0.5, 0.5));\n  var opChanId = {r:1, g:2, b:3, a:4};\n  var pointLightRotations = [(new pc.Quat).setFromEulerAngles(0, 90, 180), (new pc.Quat).setFromEulerAngles(0, -90, 180), (new pc.Quat).setFromEulerAngles(90, 0, 0), (new pc.Quat).setFromEulerAngles(-90, 0, 0), (new pc.Quat).setFromEulerAngles(0, 180, 180), (new pc.Quat).setFromEulerAngles(0, 0, 180)];\n  var numShadowModes = 5;\n  var shadowMapCache = [{}, {}, {}, {}, {}];\n  var directionalShadowEpsilon = 0.01;\n  var pixelOffset = new Float32Array(2);\n  var blurScissorRect = {x:1, y:1, z:0, w:0};\n  var shadowCamView = new pc.Mat4;\n  var shadowCamViewProj = new pc.Mat4;\n  var c2sc = new pc.Mat4;\n  var viewInvMat = new pc.Mat4;\n  var viewMat = new pc.Mat4;\n  var viewMat3 = new pc.Mat3;\n  var viewProjMat = new pc.Mat4;\n  var projMat;\n  var viewInvL = new pc.Mat4;\n  var viewInvR = new pc.Mat4;\n  var viewL = new pc.Mat4;\n  var viewR = new pc.Mat4;\n  var viewPosL = new pc.Vec3;\n  var viewPosR = new pc.Vec3;\n  var projL, projR;\n  var viewMat3L = new pc.Mat4;\n  var viewMat3R = new pc.Mat4;\n  var viewProjMatL = new pc.Mat4;\n  var viewProjMatR = new pc.Mat4;\n  var worldMatX = new pc.Vec3;\n  var worldMatY = new pc.Vec3;\n  var worldMatZ = new pc.Vec3;\n  var frustumDiagonal = new pc.Vec3;\n  var tempSphere = {center:null, radius:0};\n  var meshPos;\n  var visibleSceneAabb = new pc.BoundingBox;\n  var boneTextureSize = [0, 0];\n  var boneTexture, instancingData, modelMatrix, normalMatrix;\n  var shadowMapCubeCache = {};\n  var maxBlurSize = 25;\n  var keyA, keyB;\n  var frustumPoints = [];\n  for (var fp = 0;fp < 8;fp++) {\n    frustumPoints.push(new pc.Vec3);\n  }\n  function _getFrustumPoints(camera, farClip, points) {\n    var nearClip = camera._nearClip;\n    var fov = camera._fov * Math.PI / 180.0;\n    var aspect = camera._aspect;\n    var projection = camera._projection;\n    var x, y;\n    if (projection === pc.PROJECTION_PERSPECTIVE) {\n      y = Math.tan(fov / 2.0) * nearClip;\n    } else {\n      y = camera._orthoHeight;\n    }\n    x = y * aspect;\n    points[0].x = x;\n    points[0].y = -y;\n    points[0].z = -nearClip;\n    points[1].x = x;\n    points[1].y = y;\n    points[1].z = -nearClip;\n    points[2].x = -x;\n    points[2].y = y;\n    points[2].z = -nearClip;\n    points[3].x = -x;\n    points[3].y = -y;\n    points[3].z = -nearClip;\n    if (projection === pc.PROJECTION_PERSPECTIVE) {\n      y = Math.tan(fov / 2.0) * farClip;\n      x = y * aspect;\n    }\n    points[4].x = x;\n    points[4].y = -y;\n    points[4].z = -farClip;\n    points[5].x = x;\n    points[5].y = y;\n    points[5].z = -farClip;\n    points[6].x = -x;\n    points[6].y = y;\n    points[6].z = -farClip;\n    points[7].x = -x;\n    points[7].y = -y;\n    points[7].z = -farClip;\n    return points;\n  }\n  var _sceneAABB_LS = [new pc.Vec3, new pc.Vec3, new pc.Vec3, new pc.Vec3, new pc.Vec3, new pc.Vec3, new pc.Vec3, new pc.Vec3];\n  function _getZFromAABBSimple(w2sc, aabbMin, aabbMax, lcamMinX, lcamMaxX, lcamMinY, lcamMaxY) {\n    _sceneAABB_LS[0].x = _sceneAABB_LS[1].x = _sceneAABB_LS[2].x = _sceneAABB_LS[3].x = aabbMin.x;\n    _sceneAABB_LS[1].y = _sceneAABB_LS[3].y = _sceneAABB_LS[7].y = _sceneAABB_LS[5].y = aabbMin.y;\n    _sceneAABB_LS[2].z = _sceneAABB_LS[3].z = _sceneAABB_LS[6].z = _sceneAABB_LS[7].z = aabbMin.z;\n    _sceneAABB_LS[4].x = _sceneAABB_LS[5].x = _sceneAABB_LS[6].x = _sceneAABB_LS[7].x = aabbMax.x;\n    _sceneAABB_LS[0].y = _sceneAABB_LS[2].y = _sceneAABB_LS[4].y = _sceneAABB_LS[6].y = aabbMax.y;\n    _sceneAABB_LS[0].z = _sceneAABB_LS[1].z = _sceneAABB_LS[4].z = _sceneAABB_LS[5].z = aabbMax.z;\n    var minz = 9999999999;\n    var maxz = -9999999999;\n    var z;\n    for (var i = 0;i < 8;++i) {\n      w2sc.transformPoint(_sceneAABB_LS[i], _sceneAABB_LS[i]);\n      z = _sceneAABB_LS[i].z;\n      if (z < minz) {\n        minz = z;\n      }\n      if (z > maxz) {\n        maxz = z;\n      }\n    }\n    return {min:minz, max:maxz};\n  }\n  function getShadowFormat(device, shadowType) {\n    if (shadowType === pc.SHADOW_VSM32) {\n      return pc.PIXELFORMAT_RGBA32F;\n    } else {\n      if (shadowType === pc.SHADOW_VSM16) {\n        return pc.PIXELFORMAT_RGBA16F;\n      } else {\n        if (shadowType === pc.SHADOW_PCF5) {\n          return pc.PIXELFORMAT_DEPTH;\n        } else {\n          if (shadowType === pc.SHADOW_PCF3 && device.webgl2) {\n            return pc.PIXELFORMAT_DEPTH;\n          }\n        }\n      }\n    }\n    return pc.PIXELFORMAT_R8_G8_B8_A8;\n  }\n  function getShadowFiltering(device, shadowType) {\n    if (shadowType === pc.SHADOW_PCF3 && !device.webgl2) {\n      return pc.FILTER_NEAREST;\n    } else {\n      if (shadowType === pc.SHADOW_VSM32) {\n        return device.extTextureFloatLinear ? pc.FILTER_LINEAR : pc.FILTER_NEAREST;\n      } else {\n        if (shadowType === pc.SHADOW_VSM16) {\n          return device.extTextureHalfFloatLinear ? pc.FILTER_LINEAR : pc.FILTER_NEAREST;\n        }\n      }\n    }\n    return pc.FILTER_LINEAR;\n  }\n  function createShadowMap(device, width, height, shadowType) {\n    var format = getShadowFormat(device, shadowType);\n    var filter = getShadowFiltering(device, shadowType);\n    var shadowMap = new pc.Texture(device, {format:format, width:width, height:height, mipmaps:false, minFilter:filter, magFilter:filter, addressU:pc.ADDRESS_CLAMP_TO_EDGE, addressV:pc.ADDRESS_CLAMP_TO_EDGE});\n    shadowMap.name = \"shadowmap\";\n    if (shadowType === pc.SHADOW_PCF5 || shadowType === pc.SHADOW_PCF3 && device.webgl2) {\n      shadowMap.compareOnRead = true;\n      shadowMap.compareFunc = pc.FUNC_LESS;\n      return new pc.RenderTarget({depthBuffer:shadowMap});\n    }\n    return new pc.RenderTarget({colorBuffer:shadowMap, depth:true});\n  }\n  function createShadowCubeMap(device, size) {\n    var cubemap = new pc.Texture(device, {format:pc.PIXELFORMAT_R8_G8_B8_A8, width:size, height:size, cubemap:true, mipmaps:false, minFilter:pc.FILTER_NEAREST, magFilter:pc.FILTER_NEAREST, addressU:pc.ADDRESS_CLAMP_TO_EDGE, addressV:pc.ADDRESS_CLAMP_TO_EDGE});\n    cubemap.name = \"shadowcube\";\n    var targets = [];\n    var target;\n    for (var i = 0;i < 6;i++) {\n      target = new pc.RenderTarget({colorBuffer:cubemap, face:i, depth:true});\n      targets.push(target);\n    }\n    return targets;\n  }\n  function gauss(x, sigma) {\n    return Math.exp(-(x * x) / (2.0 * sigma * sigma));\n  }\n  function gaussWeights(kernelSize) {\n    if (kernelSize > maxBlurSize) {\n      kernelSize = maxBlurSize;\n    }\n    var sigma = (kernelSize - 1) / (2 * 3);\n    var i, values, sum, halfWidth;\n    halfWidth = (kernelSize - 1) * 0.5;\n    values = new Array(kernelSize);\n    sum = 0.0;\n    for (i = 0;i < kernelSize;++i) {\n      values[i] = gauss(i - halfWidth, sigma);\n      sum += values[i];\n    }\n    for (i = 0;i < kernelSize;++i) {\n      values[i] /= sum;\n    }\n    return values;\n  }\n  function createShadowCamera(device, shadowType, type) {\n    var flags = pc.CLEARFLAG_DEPTH;\n    var hwPcf = shadowType === pc.SHADOW_PCF5 || shadowType === pc.SHADOW_PCF3 && device.webgl2;\n    if (type === pc.LIGHTTYPE_POINT) {\n      hwPcf = false;\n    }\n    if (!hwPcf) {\n      flags |= pc.CLEARFLAG_COLOR;\n    }\n    var shadowCam = new pc.Camera;\n    if (shadowType >= pc.SHADOW_VSM8 && shadowType <= pc.SHADOW_VSM32) {\n      shadowCam.clearColor[0] = 0;\n      shadowCam.clearColor[1] = 0;\n      shadowCam.clearColor[2] = 0;\n      shadowCam.clearColor[3] = 0;\n    } else {\n      shadowCam.clearColor[0] = 1;\n      shadowCam.clearColor[1] = 1;\n      shadowCam.clearColor[2] = 1;\n      shadowCam.clearColor[3] = 1;\n    }\n    shadowCam.clearDepth = 1;\n    shadowCam.clearFlags = flags;\n    shadowCam.clearStencil = null;\n    shadowCam._node = new pc.GraphNode;\n    return shadowCam;\n  }\n  function getShadowMapFromCache(device, res, mode, layer) {\n    if (!layer) {\n      layer = 0;\n    }\n    var id = layer * 10000 + res;\n    var shadowBuffer = shadowMapCache[mode][id];\n    if (!shadowBuffer) {\n      shadowBuffer = createShadowMap(device, res, res, mode ? mode : pc.SHADOW_PCF3);\n      shadowMapCache[mode][id] = shadowBuffer;\n    }\n    return shadowBuffer;\n  }\n  function createShadowBuffer(device, light) {\n    var shadowBuffer;\n    if (light._type === pc.LIGHTTYPE_POINT) {\n      if (light._shadowType > pc.SHADOW_PCF3) {\n        light._shadowType = pc.SHADOW_PCF3;\n      }\n      if (light._cacheShadowMap) {\n        shadowBuffer = shadowMapCubeCache[light._shadowResolution];\n        if (!shadowBuffer) {\n          shadowBuffer = createShadowCubeMap(device, light._shadowResolution);\n          shadowMapCubeCache[light._shadowResolution] = shadowBuffer;\n        }\n      } else {\n        shadowBuffer = createShadowCubeMap(device, light._shadowResolution);\n      }\n      light._shadowCamera.renderTarget = shadowBuffer[0];\n      light._shadowCubeMap = shadowBuffer;\n    } else {\n      if (light._cacheShadowMap) {\n        shadowBuffer = getShadowMapFromCache(device, light._shadowResolution, light._shadowType);\n      } else {\n        shadowBuffer = createShadowMap(device, light._shadowResolution, light._shadowResolution, light._shadowType);\n      }\n      light._shadowCamera.renderTarget = shadowBuffer;\n    }\n    light._isCachedShadowMap = light._cacheShadowMap;\n  }\n  function getDepthKey(meshInstance) {\n    var material = meshInstance.material;\n    var x = meshInstance.skinInstance ? 10 : 0;\n    var y = 0;\n    if (material.opacityMap) {\n      var opChan = material.opacityMapChannel;\n      if (opChan) {\n        y = opChanId[opChan];\n      }\n    }\n    return x + y;\n  }\n  function ForwardRenderer(graphicsDevice) {\n    this.device = graphicsDevice;\n    var device = this.device;\n    this._shadowDrawCalls = 0;\n    this._forwardDrawCalls = 0;\n    this._skinDrawCalls = 0;\n    this._camerasRendered = 0;\n    this._materialSwitches = 0;\n    this._shadowMapUpdates = 0;\n    this._shadowMapTime = 0;\n    this._depthMapTime = 0;\n    this._forwardTime = 0;\n    this._cullTime = 0;\n    this._sortTime = 0;\n    this._skinTime = 0;\n    this._morphTime = 0;\n    this._instancingTime = 0;\n    var library = device.getProgramLibrary();\n    this.library = library;\n    var scope = device.scope;\n    this.projId = scope.resolve(\"matrix_projection\");\n    this.viewId = scope.resolve(\"matrix_view\");\n    this.viewId3 = scope.resolve(\"matrix_view3\");\n    this.viewInvId = scope.resolve(\"matrix_viewInverse\");\n    this.viewProjId = scope.resolve(\"matrix_viewProjection\");\n    this.viewPos = new Float32Array(3);\n    this.viewPosId = scope.resolve(\"view_position\");\n    this.nearClipId = scope.resolve(\"camera_near\");\n    this.farClipId = scope.resolve(\"camera_far\");\n    this.cameraParamsId = scope.resolve(\"camera_params\");\n    this.shadowMapLightRadiusId = scope.resolve(\"light_radius\");\n    this.fogColorId = scope.resolve(\"fog_color\");\n    this.fogStartId = scope.resolve(\"fog_start\");\n    this.fogEndId = scope.resolve(\"fog_end\");\n    this.fogDensityId = scope.resolve(\"fog_density\");\n    this.modelMatrixId = scope.resolve(\"matrix_model\");\n    this.normalMatrixId = scope.resolve(\"matrix_normal\");\n    this.poseMatrixId = scope.resolve(\"matrix_pose[0]\");\n    this.boneTextureId = scope.resolve(\"texture_poseMap\");\n    this.boneTextureSizeId = scope.resolve(\"texture_poseMapSize\");\n    this.alphaTestId = scope.resolve(\"alpha_ref\");\n    this.opacityMapId = scope.resolve(\"texture_opacityMap\");\n    this.ambientId = scope.resolve(\"light_globalAmbient\");\n    this.exposureId = scope.resolve(\"exposure\");\n    this.skyboxIntensityId = scope.resolve(\"skyboxIntensity\");\n    this.lightColorId = [];\n    this.lightDir = [];\n    this.lightDirId = [];\n    this.lightShadowMapId = [];\n    this.lightShadowMatrixId = [];\n    this.lightShadowParamsId = [];\n    this.lightShadowMatrixVsId = [];\n    this.lightShadowParamsVsId = [];\n    this.lightDirVs = [];\n    this.lightDirVsId = [];\n    this.lightRadiusId = [];\n    this.lightPos = [];\n    this.lightPosId = [];\n    this.lightInAngleId = [];\n    this.lightOutAngleId = [];\n    this.lightPosVsId = [];\n    this.lightCookieId = [];\n    this.lightCookieIntId = [];\n    this.lightCookieMatrixId = [];\n    this.lightCookieOffsetId = [];\n    this.depthMapId = scope.resolve(\"uDepthMap\");\n    this.screenSizeId = scope.resolve(\"uScreenSize\");\n    this._screenSize = new Float32Array(4);\n    this.sourceId = scope.resolve(\"source\");\n    this.pixelOffsetId = scope.resolve(\"pixelOffset\");\n    this.weightId = scope.resolve(\"weight[0]\");\n    var chunks = pc.shaderChunks;\n    this.blurVsmShaderCode = [chunks.blurVSMPS, \"#define GAUSS\\n\" + chunks.blurVSMPS];\n    var packed = \"#define PACKED\\n\";\n    this.blurPackedVsmShaderCode = [packed + this.blurVsmShaderCode[0], packed + this.blurVsmShaderCode[1]];\n    this.blurVsmShader = [{}, {}];\n    this.blurPackedVsmShader = [{}, {}];\n    this.blurVsmWeights = {};\n    this.polygonOffsetId = scope.resolve(\"polygonOffset\");\n    this.polygonOffset = new Float32Array(2);\n    this.fogColor = new Float32Array(3);\n    this.ambientColor = new Float32Array(3);\n  }\n  function mat3FromMat4(m3, m4) {\n    m3.data[0] = m4.data[0];\n    m3.data[1] = m4.data[1];\n    m3.data[2] = m4.data[2];\n    m3.data[3] = m4.data[4];\n    m3.data[4] = m4.data[5];\n    m3.data[5] = m4.data[6];\n    m3.data[6] = m4.data[8];\n    m3.data[7] = m4.data[9];\n    m3.data[8] = m4.data[10];\n  }\n  Object.assign(ForwardRenderer.prototype, {sortCompare:function(drawCallA, drawCallB) {\n    if (drawCallA.layer === drawCallB.layer) {\n      if (drawCallA.drawOrder && drawCallB.drawOrder) {\n        return drawCallA.drawOrder - drawCallB.drawOrder;\n      } else {\n        if (drawCallA.zdist && drawCallB.zdist) {\n          return drawCallB.zdist - drawCallA.zdist;\n        } else {\n          if (drawCallA.zdist2 && drawCallB.zdist2) {\n            return drawCallA.zdist2 - drawCallB.zdist2;\n          }\n        }\n      }\n    }\n    return drawCallB._key[pc.SORTKEY_FORWARD] - drawCallA._key[pc.SORTKEY_FORWARD];\n  }, sortCompareMesh:function(drawCallA, drawCallB) {\n    if (drawCallA.layer === drawCallB.layer) {\n      if (drawCallA.drawOrder && drawCallB.drawOrder) {\n        return drawCallA.drawOrder - drawCallB.drawOrder;\n      } else {\n        if (drawCallA.zdist && drawCallB.zdist) {\n          return drawCallB.zdist - drawCallA.zdist;\n        }\n      }\n    }\n    keyA = drawCallA._key[pc.SORTKEY_FORWARD];\n    keyB = drawCallB._key[pc.SORTKEY_FORWARD];\n    if (keyA === keyB && drawCallA.mesh && drawCallB.mesh) {\n      return drawCallB.mesh.id - drawCallA.mesh.id;\n    }\n    return keyB - keyA;\n  }, depthSortCompare:function(drawCallA, drawCallB) {\n    keyA = drawCallA._key[pc.SORTKEY_DEPTH];\n    keyB = drawCallB._key[pc.SORTKEY_DEPTH];\n    if (keyA === keyB && drawCallA.mesh && drawCallB.mesh) {\n      return drawCallB.mesh.id - drawCallA.mesh.id;\n    }\n    return keyB - keyA;\n  }, lightCompare:function(lightA, lightB) {\n    return lightA.key - lightB.key;\n  }, _isVisible:function(camera, meshInstance) {\n    if (!meshInstance.visible) {\n      return false;\n    }\n    if (meshInstance.isVisibleFunc) {\n      return meshInstance.isVisibleFunc(camera);\n    }\n    meshPos = meshInstance.aabb.center;\n    if (meshInstance._aabb._radiusVer !== meshInstance._aabbVer) {\n      meshInstance._aabb._radius = meshInstance._aabb.halfExtents.length();\n      meshInstance._aabb._radiusVer = meshInstance._aabbVer;\n    }\n    tempSphere.radius = meshInstance._aabb._radius;\n    tempSphere.center = meshPos;\n    return camera.frustum.containsSphere(tempSphere);\n  }, getShadowCamera:function(device, light) {\n    var shadowCam = light._shadowCamera;\n    var shadowBuffer;\n    if (shadowCam === null) {\n      shadowCam = light._shadowCamera = createShadowCamera(device, light._shadowType, light._type);\n      createShadowBuffer(device, light);\n    } else {\n      shadowBuffer = shadowCam.renderTarget;\n      if (shadowBuffer.width !== light._shadowResolution || shadowBuffer.height !== light._shadowResolution) {\n        createShadowBuffer(device, light);\n      }\n    }\n    return shadowCam;\n  }, updateCameraFrustum:function(camera) {\n    if (camera.vrDisplay && camera.vrDisplay.presenting) {\n      projMat = camera.vrDisplay.combinedProj;\n      var parent = camera._node.parent;\n      if (parent) {\n        viewMat.copy(parent.getWorldTransform()).mul(camera.vrDisplay.combinedViewInv).invert();\n      } else {\n        viewMat.copy(camera.vrDisplay.combinedView);\n      }\n      viewInvMat.copy(viewMat).invert();\n      this.viewInvId.setValue(viewInvMat.data);\n      camera.frustum.update(projMat, viewMat);\n      return;\n    }\n    projMat = camera.getProjectionMatrix();\n    if (camera.overrideCalculateProjection) {\n      camera.calculateProjection(projMat, pc.VIEW_CENTER);\n    }\n    if (camera.overrideCalculateTransform) {\n      camera.calculateTransform(viewInvMat, pc.VIEW_CENTER);\n    } else {\n      var pos = camera._node.getPosition();\n      var rot = camera._node.getRotation();\n      viewInvMat.setTRS(pos, rot, pc.Vec3.ONE);\n      this.viewInvId.setValue(viewInvMat.data);\n    }\n    viewMat.copy(viewInvMat).invert();\n    camera.frustum.update(projMat, viewMat);\n  }, setCamera:function(camera, target, clear, cullBorder) {\n    var vrDisplay = camera.vrDisplay;\n    if (!vrDisplay || !vrDisplay.presenting) {\n      projMat = camera.getProjectionMatrix();\n      if (camera.overrideCalculateProjection) {\n        camera.calculateProjection(projMat, pc.VIEW_CENTER);\n      }\n      this.projId.setValue(projMat.data);\n      if (camera.overrideCalculateTransform) {\n        camera.calculateTransform(viewInvMat, pc.VIEW_CENTER);\n      } else {\n        var pos = camera._node.getPosition();\n        var rot = camera._node.getRotation();\n        viewInvMat.setTRS(pos, rot, pc.Vec3.ONE);\n      }\n      this.viewInvId.setValue(viewInvMat.data);\n      viewMat.copy(viewInvMat).invert();\n      this.viewId.setValue(viewMat.data);\n      mat3FromMat4(viewMat3, viewMat);\n      this.viewId3.setValue(viewMat3.data);\n      viewProjMat.mul2(projMat, viewMat);\n      this.viewProjId.setValue(viewProjMat.data);\n      var cameraPos = camera._node.getPosition();\n      this.viewPos[0] = cameraPos.x;\n      this.viewPos[1] = cameraPos.y;\n      this.viewPos[2] = cameraPos.z;\n      this.viewPosId.setValue(this.viewPos);\n      camera.frustum.update(projMat, viewMat);\n    } else {\n      projL = vrDisplay.leftProj;\n      projR = vrDisplay.rightProj;\n      projMat = vrDisplay.combinedProj;\n      if (camera.overrideCalculateProjection) {\n        camera.calculateProjection(projL, pc.VIEW_LEFT);\n        camera.calculateProjection(projR, pc.VIEW_RIGHT);\n        camera.calculateProjection(projMat, pc.VIEW_CENTER);\n      }\n      if (camera.overrideCalculateTransform) {\n        camera.calculateTransform(viewInvL, pc.VIEW_LEFT);\n        camera.calculateTransform(viewInvR, pc.VIEW_RIGHT);\n        camera.calculateTransform(viewInvMat, pc.VIEW_CENTER);\n        viewL.copy(viewInvL).invert();\n        viewR.copy(viewInvR).invert();\n        viewMat.copy(viewInvMat).invert();\n      } else {\n        var parent = camera._node.parent;\n        if (parent) {\n          var transform = parent.getWorldTransform();\n          viewInvL.mul2(transform, vrDisplay.leftViewInv);\n          viewInvR.mul2(transform, vrDisplay.rightViewInv);\n          viewL.copy(viewInvL).invert();\n          viewR.copy(viewInvR).invert();\n          viewMat.copy(parent.getWorldTransform()).mul(vrDisplay.combinedViewInv).invert();\n        } else {\n          viewInvL.copy(vrDisplay.leftViewInv);\n          viewInvR.copy(vrDisplay.rightViewInv);\n          viewL.copy(vrDisplay.leftView);\n          viewR.copy(vrDisplay.rightView);\n          viewMat.copy(vrDisplay.combinedView);\n        }\n      }\n      mat3FromMat4(viewMat3L, viewL);\n      mat3FromMat4(viewMat3R, viewR);\n      viewProjMatL.mul2(projL, viewL);\n      viewProjMatR.mul2(projR, viewR);\n      viewPosL.x = viewInvL.data[12];\n      viewPosL.y = viewInvL.data[13];\n      viewPosL.z = viewInvL.data[14];\n      viewPosR.x = viewInvR.data[12];\n      viewPosR.y = viewInvR.data[13];\n      viewPosR.z = viewInvR.data[14];\n      camera.frustum.update(projMat, viewMat);\n    }\n    this.nearClipId.setValue(camera._nearClip);\n    this.farClipId.setValue(camera._farClip);\n    this.cameraParamsId.setValue(camera._shaderParams);\n    var device = this.device;\n    device.setRenderTarget(target);\n    device.updateBegin();\n    var rect = camera.getRect();\n    var pixelWidth = target ? target.width : device.width;\n    var pixelHeight = target ? target.height : device.height;\n    var x = Math.floor(rect.x * pixelWidth);\n    var y = Math.floor(rect.y * pixelHeight);\n    var w = Math.floor(rect.width * pixelWidth);\n    var h = Math.floor(rect.height * pixelHeight);\n    device.setViewport(x, y, w, h);\n    device.setScissor(x, y, w, h);\n    if (clear) {\n      device.clear(camera._clearOptions);\n    }\n    rect = camera._scissorRect;\n    x = Math.floor(rect.x * pixelWidth);\n    y = Math.floor(rect.y * pixelHeight);\n    w = Math.floor(rect.width * pixelWidth);\n    h = Math.floor(rect.height * pixelHeight);\n    device.setScissor(x, y, w, h);\n    if (cullBorder) {\n      device.setScissor(1, 1, pixelWidth - 2, pixelHeight - 2);\n    }\n  }, dispatchGlobalLights:function(scene) {\n    var i;\n    this.mainLight = -1;\n    this.ambientColor[0] = scene.ambientLight.r;\n    this.ambientColor[1] = scene.ambientLight.g;\n    this.ambientColor[2] = scene.ambientLight.b;\n    if (scene.gammaCorrection) {\n      for (i = 0;i < 3;i++) {\n        this.ambientColor[i] = Math.pow(this.ambientColor[i], 2.2);\n      }\n    }\n    this.ambientId.setValue(this.ambientColor);\n    this.exposureId.setValue(scene.exposure);\n    if (scene.skyboxModel) {\n      this.skyboxIntensityId.setValue(scene.skyboxIntensity);\n    }\n  }, _resolveLight:function(scope, i) {\n    var light = \"light\" + i;\n    this.lightColorId[i] = scope.resolve(light + \"_color\");\n    this.lightDir[i] = new Float32Array(3);\n    this.lightDirId[i] = scope.resolve(light + \"_direction\");\n    this.lightShadowMapId[i] = scope.resolve(light + \"_shadowMap\");\n    this.lightShadowMatrixId[i] = scope.resolve(light + \"_shadowMatrix\");\n    this.lightShadowParamsId[i] = scope.resolve(light + \"_shadowParams\");\n    this.lightShadowMatrixVsId[i] = scope.resolve(light + \"_shadowMatrixVS\");\n    this.lightShadowParamsVsId[i] = scope.resolve(light + \"_shadowParamsVS\");\n    this.lightDirVs[i] = new Float32Array(3);\n    this.lightDirVsId[i] = scope.resolve(light + \"_directionVS\");\n    this.lightRadiusId[i] = scope.resolve(light + \"_radius\");\n    this.lightPos[i] = new Float32Array(3);\n    this.lightPosId[i] = scope.resolve(light + \"_position\");\n    this.lightInAngleId[i] = scope.resolve(light + \"_innerConeAngle\");\n    this.lightOutAngleId[i] = scope.resolve(light + \"_outerConeAngle\");\n    this.lightPosVsId[i] = scope.resolve(light + \"_positionVS\");\n    this.lightCookieId[i] = scope.resolve(light + \"_cookie\");\n    this.lightCookieIntId[i] = scope.resolve(light + \"_cookieIntensity\");\n    this.lightCookieMatrixId[i] = scope.resolve(light + \"_cookieMatrix\");\n    this.lightCookieOffsetId[i] = scope.resolve(light + \"_cookieOffset\");\n  }, dispatchDirectLights:function(dirs, scene, mask) {\n    var numDirs = dirs.length;\n    var i;\n    var directional, wtm;\n    var cnt = 0;\n    this.mainLight = -1;\n    var scope = this.device.scope;\n    for (i = 0;i < numDirs;i++) {\n      if (!(dirs[i]._mask & mask)) {\n        continue;\n      }\n      directional = dirs[i];\n      wtm = directional._node.getWorldTransform();\n      if (!this.lightColorId[cnt]) {\n        this._resolveLight(scope, cnt);\n      }\n      this.lightColorId[cnt].setValue(scene.gammaCorrection ? directional._linearFinalColor : directional._finalColor);\n      wtm.getY(directional._direction).scale(-1);\n      directional._direction.normalize();\n      this.lightDir[cnt][0] = directional._direction.x;\n      this.lightDir[cnt][1] = directional._direction.y;\n      this.lightDir[cnt][2] = directional._direction.z;\n      this.lightDirId[cnt].setValue(this.lightDir[cnt]);\n      if (directional.castShadows) {\n        var shadowMap = directional._isPcf && this.device.webgl2 ? directional._shadowCamera.renderTarget.depthBuffer : directional._shadowCamera.renderTarget.colorBuffer;\n        var bias;\n        if (directional._isVsm) {\n          bias = -0.00001 * 20;\n        } else {\n          bias = directional.shadowBias / directional._shadowCamera._farClip * 100;\n          if (!this.device.webgl2 && this.device.extStandardDerivatives) {\n            bias *= -100;\n          }\n        }\n        var normalBias = directional._isVsm ? directional.vsmBias / (directional._shadowCamera._farClip / 7.0) : directional._normalOffsetBias;\n        this.lightShadowMapId[cnt].setValue(shadowMap);\n        this.lightShadowMatrixId[cnt].setValue(directional._shadowMatrix.data);\n        var params = directional._rendererParams;\n        if (params.length !== 3) {\n          params.length = 3;\n        }\n        params[0] = directional._shadowResolution;\n        params[1] = normalBias;\n        params[2] = bias;\n        this.lightShadowParamsId[cnt].setValue(params);\n        if (this.mainLight < 0) {\n          this.lightShadowMatrixVsId[cnt].setValue(directional._shadowMatrix.data);\n          this.lightShadowParamsVsId[cnt].setValue(params);\n          directional._direction.normalize();\n          this.lightDirVs[cnt][0] = directional._direction.x;\n          this.lightDirVs[cnt][1] = directional._direction.y;\n          this.lightDirVs[cnt][2] = directional._direction.z;\n          this.lightDirVsId[cnt].setValue(this.lightDirVs[cnt]);\n          this.mainLight = i;\n        }\n      }\n      cnt++;\n    }\n    return cnt;\n  }, dispatchPointLight:function(scene, scope, point, cnt) {\n    var wtm = point._node.getWorldTransform();\n    if (!this.lightColorId[cnt]) {\n      this._resolveLight(scope, cnt);\n    }\n    this.lightRadiusId[cnt].setValue(point.attenuationEnd);\n    this.lightColorId[cnt].setValue(scene.gammaCorrection ? point._linearFinalColor : point._finalColor);\n    wtm.getTranslation(point._position);\n    this.lightPos[cnt][0] = point._position.x;\n    this.lightPos[cnt][1] = point._position.y;\n    this.lightPos[cnt][2] = point._position.z;\n    this.lightPosId[cnt].setValue(this.lightPos[cnt]);\n    if (point.castShadows) {\n      var shadowMap = point._shadowCamera.renderTarget.colorBuffer;\n      this.lightShadowMapId[cnt].setValue(shadowMap);\n      var params = point._rendererParams;\n      if (params.length !== 4) {\n        params.length = 4;\n      }\n      params[0] = point._shadowResolution;\n      params[1] = point._normalOffsetBias;\n      params[2] = point.shadowBias;\n      params[3] = 1.0 / point.attenuationEnd;\n      this.lightShadowParamsId[cnt].setValue(params);\n    }\n    if (point._cookie) {\n      this.lightCookieId[cnt].setValue(point._cookie);\n      this.lightShadowMatrixId[cnt].setValue(wtm.data);\n      this.lightCookieIntId[cnt].setValue(point.cookieIntensity);\n    }\n  }, dispatchSpotLight:function(scene, scope, spot, cnt) {\n    var wtm = spot._node.getWorldTransform();\n    if (!this.lightColorId[cnt]) {\n      this._resolveLight(scope, cnt);\n    }\n    this.lightInAngleId[cnt].setValue(spot._innerConeAngleCos);\n    this.lightOutAngleId[cnt].setValue(spot._outerConeAngleCos);\n    this.lightRadiusId[cnt].setValue(spot.attenuationEnd);\n    this.lightColorId[cnt].setValue(scene.gammaCorrection ? spot._linearFinalColor : spot._finalColor);\n    wtm.getTranslation(spot._position);\n    this.lightPos[cnt][0] = spot._position.x;\n    this.lightPos[cnt][1] = spot._position.y;\n    this.lightPos[cnt][2] = spot._position.z;\n    this.lightPosId[cnt].setValue(this.lightPos[cnt]);\n    wtm.getY(spot._direction).scale(-1);\n    spot._direction.normalize();\n    this.lightDir[cnt][0] = spot._direction.x;\n    this.lightDir[cnt][1] = spot._direction.y;\n    this.lightDir[cnt][2] = spot._direction.z;\n    this.lightDirId[cnt].setValue(this.lightDir[cnt]);\n    if (spot.castShadows) {\n      var bias;\n      if (spot._isVsm) {\n        bias = -0.00001 * 20;\n      } else {\n        bias = spot.shadowBias * 20;\n        if (!this.device.webgl2 && this.device.extStandardDerivatives) {\n          bias *= -100;\n        }\n      }\n      var normalBias = spot._isVsm ? spot.vsmBias / (spot.attenuationEnd / 7.0) : spot._normalOffsetBias;\n      var shadowMap = spot._isPcf && this.device.webgl2 ? spot._shadowCamera.renderTarget.depthBuffer : spot._shadowCamera.renderTarget.colorBuffer;\n      this.lightShadowMapId[cnt].setValue(shadowMap);\n      this.lightShadowMatrixId[cnt].setValue(spot._shadowMatrix.data);\n      var params = spot._rendererParams;\n      if (params.length !== 4) {\n        params.length = 4;\n      }\n      params[0] = spot._shadowResolution;\n      params[1] = normalBias;\n      params[2] = bias;\n      params[3] = 1.0 / spot.attenuationEnd;\n      this.lightShadowParamsId[cnt].setValue(params);\n    }\n    if (spot._cookie) {\n      this.lightCookieId[cnt].setValue(spot._cookie);\n      if (!spot.castShadows) {\n        var shadowCam = this.getShadowCamera(this.device, spot);\n        var shadowCamNode = shadowCam._node;\n        shadowCamNode.setPosition(spot._node.getPosition());\n        shadowCamNode.setRotation(spot._node.getRotation());\n        shadowCamNode.rotateLocal(-90, 0, 0);\n        shadowCam.projection = pc.PROJECTION_PERSPECTIVE;\n        shadowCam.aspectRatio = 1;\n        shadowCam.fov = spot._outerConeAngle * 2;\n        shadowCamView.setTRS(shadowCamNode.getPosition(), shadowCamNode.getRotation(), pc.Vec3.ONE).invert();\n        shadowCamViewProj.mul2(shadowCam.getProjectionMatrix(), shadowCamView);\n        spot._shadowMatrix.mul2(scaleShift, shadowCamViewProj);\n      }\n      this.lightShadowMatrixId[cnt].setValue(spot._shadowMatrix.data);\n      this.lightCookieIntId[cnt].setValue(spot.cookieIntensity);\n      if (spot._cookieTransform) {\n        spot._cookieTransformUniform[0] = spot._cookieTransform.x;\n        spot._cookieTransformUniform[1] = spot._cookieTransform.y;\n        spot._cookieTransformUniform[2] = spot._cookieTransform.z;\n        spot._cookieTransformUniform[3] = spot._cookieTransform.w;\n        this.lightCookieMatrixId[cnt].setValue(spot._cookieTransformUniform);\n        spot._cookieOffsetUniform[0] = spot._cookieOffset.x;\n        spot._cookieOffsetUniform[1] = spot._cookieOffset.y;\n        this.lightCookieOffsetId[cnt].setValue(spot._cookieOffsetUniform);\n      }\n    }\n  }, dispatchLocalLights:function(sortedLights, scene, mask, usedDirLights, staticLightList) {\n    var i;\n    var point, spot;\n    var pnts = sortedLights[pc.LIGHTTYPE_POINT];\n    var spts = sortedLights[pc.LIGHTTYPE_SPOT];\n    var numDirs = usedDirLights;\n    var numPnts = pnts.length;\n    var numSpts = spts.length;\n    var cnt = numDirs;\n    var scope = this.device.scope;\n    for (i = 0;i < numPnts;i++) {\n      point = pnts[i];\n      if (!(point._mask & mask)) {\n        continue;\n      }\n      if (point.isStatic) {\n        continue;\n      }\n      this.dispatchPointLight(scene, scope, point, cnt);\n      cnt++;\n    }\n    var staticId = 0;\n    if (staticLightList) {\n      point = staticLightList[staticId];\n      while (point && point._type === pc.LIGHTTYPE_POINT) {\n        this.dispatchPointLight(scene, scope, point, cnt);\n        cnt++;\n        staticId++;\n        point = staticLightList[staticId];\n      }\n    }\n    for (i = 0;i < numSpts;i++) {\n      spot = spts[i];\n      if (!(spot._mask & mask)) {\n        continue;\n      }\n      if (spot.isStatic) {\n        continue;\n      }\n      this.dispatchSpotLight(scene, scope, spot, cnt);\n      cnt++;\n    }\n    if (staticLightList) {\n      spot = staticLightList[staticId];\n      while (spot && spot._type === pc.LIGHTTYPE_SPOT) {\n        this.dispatchSpotLight(scene, scope, spot, cnt);\n        cnt++;\n        staticId++;\n        spot = staticLightList[staticId];\n      }\n    }\n  }, cull:function(camera, drawCalls, visibleList) {\n    var visibleLength = 0;\n    var i, drawCall, visible;\n    var drawCallsCount = drawCalls.length;\n    var cullingMask = camera.cullingMask || 4294967295;\n    if (!camera.frustumCulling) {\n      for (i = 0;i < drawCallsCount;i++) {\n        drawCall = drawCalls[i];\n        if (!drawCall.visible && !drawCall.command) {\n          continue;\n        }\n        if (drawCall.mask && (drawCall.mask & cullingMask) === 0) {\n          continue;\n        }\n        visibleList[visibleLength] = drawCall;\n        visibleLength++;\n        drawCall.visibleThisFrame = true;\n      }\n      return visibleLength;\n    }\n    for (i = 0;i < drawCallsCount;i++) {\n      drawCall = drawCalls[i];\n      if (!drawCall.command) {\n        if (!drawCall.visible) {\n          continue;\n        }\n        visible = true;\n        if (drawCall.mask && (drawCall.mask & cullingMask) === 0) {\n          continue;\n        }\n        if (drawCall.cull) {\n          visible = this._isVisible(camera, drawCall);\n        }\n        if (visible) {\n          visibleList[visibleLength] = drawCall;\n          visibleLength++;\n          drawCall.visibleThisFrame = true;\n        }\n      } else {\n        visibleList[visibleLength] = drawCall;\n        visibleLength++;\n        drawCall.visibleThisFrame = true;\n      }\n    }\n    return visibleLength;\n  }, cullLights:function(camera, lights) {\n    var i, light, type;\n    for (i = 0;i < lights.length;i++) {\n      light = lights[i];\n      type = light._type;\n      if (light.castShadows && light._enabled && light.shadowUpdateMode !== pc.SHADOWUPDATE_NONE) {\n        if (type !== pc.LIGHTTYPE_DIRECTIONAL) {\n          light.getBoundingSphere(tempSphere);\n          if (!camera.frustum.containsSphere(tempSphere)) {\n            continue;\n          }\n          light.visibleThisFrame = true;\n        }\n      }\n    }\n  }, updateCpuSkinMatrices:function(drawCalls) {\n    var drawCallsCount = drawCalls.length;\n    if (drawCallsCount === 0) {\n      return;\n    }\n    var i, skin;\n    for (i = 0;i < drawCallsCount;i++) {\n      skin = drawCalls[i].skinInstance;\n      if (skin) {\n        skin.updateMatrices(drawCalls[i].node);\n        skin._dirty = true;\n      }\n    }\n  }, updateGpuSkinMatrices:function(drawCalls) {\n    var i, skin;\n    var drawCallsCount = drawCalls.length;\n    for (i = 0;i < drawCallsCount;i++) {\n      if (!drawCalls[i].visibleThisFrame) {\n        continue;\n      }\n      skin = drawCalls[i].skinInstance;\n      if (skin) {\n        if (skin._dirty) {\n          skin.updateMatrixPalette();\n          skin._dirty = false;\n        }\n      }\n    }\n  }, updateMorphedBounds:function(drawCalls) {\n    var i, morph;\n    var drawCallsCount = drawCalls.length;\n    for (i = 0;i < drawCallsCount;i++) {\n      morph = drawCalls[i].morphInstance;\n      if (morph && morph._dirty) {\n        morph.updateBounds(drawCalls[i].mesh);\n      }\n    }\n  }, updateMorphing:function(drawCalls) {\n    var i, morph;\n    var drawCallsCount = drawCalls.length;\n    for (i = 0;i < drawCallsCount;i++) {\n      if (!drawCalls[i].visibleThisFrame) {\n        continue;\n      }\n      morph = drawCalls[i].morphInstance;\n      if (morph && morph._dirty) {\n        morph.update(drawCalls[i].mesh);\n        morph._dirty = false;\n      }\n    }\n  }, setBaseConstants:function(device, material) {\n    device.setCullMode(material.cull);\n    if (material.opacityMap) {\n      this.opacityMapId.setValue(material.opacityMap);\n      this.alphaTestId.setValue(material.alphaTest);\n    }\n  }, setSkinning:function(device, meshInstance, material) {\n    if (meshInstance.skinInstance) {\n      this._skinDrawCalls++;\n      if (device.supportsBoneTextures) {\n        boneTexture = meshInstance.skinInstance.boneTexture;\n        this.boneTextureId.setValue(boneTexture);\n        boneTextureSize[0] = boneTexture.width;\n        boneTextureSize[1] = boneTexture.height;\n        this.boneTextureSizeId.setValue(boneTextureSize);\n      } else {\n        this.poseMatrixId.setValue(meshInstance.skinInstance.matrixPalette);\n      }\n    }\n  }, drawInstance:function(device, meshInstance, mesh, style, normal) {\n    instancingData = meshInstance.instancingData;\n    if (instancingData) {\n      this._instancedDrawCalls++;\n      this._removedByInstancing += instancingData.count;\n      device.setVertexBuffer(instancingData._buffer, 1, instancingData.offset);\n      device.draw(mesh.primitive[style], instancingData.count);\n      if (instancingData._buffer === pc._autoInstanceBuffer) {\n        meshInstance.instancingData = null;\n        return instancingData.count - 1;\n      }\n    } else {\n      modelMatrix = meshInstance.node.worldTransform;\n      this.modelMatrixId.setValue(modelMatrix.data);\n      if (normal) {\n        normalMatrix = meshInstance.node.normalMatrix;\n        if (meshInstance.node._dirtyNormal) {\n          modelMatrix.invertTo3x3(normalMatrix);\n          normalMatrix.transpose();\n          meshInstance.node._dirtyNormal = false;\n        }\n        this.normalMatrixId.setValue(normalMatrix.data);\n      }\n      device.draw(mesh.primitive[style]);\n      return 0;\n    }\n  }, drawInstance2:function(device, meshInstance, mesh, style) {\n    instancingData = meshInstance.instancingData;\n    if (instancingData) {\n      this._instancedDrawCalls++;\n      this._removedByInstancing += instancingData.count;\n      device.setVertexBuffer(instancingData._buffer, 1, instancingData.offset);\n      device.draw(mesh.primitive[style], instancingData.count);\n      if (instancingData._buffer === pc._autoInstanceBuffer) {\n        meshInstance.instancingData = null;\n        return instancingData.count - 1;\n      }\n    } else {\n      device.draw(mesh.primitive[style]);\n      return 0;\n    }\n  }, renderShadows:function(lights, cameraPass) {\n    var device = this.device;\n    var i, j, light, shadowShader, type, shadowCam, shadowCamNode, pass, passes, shadowType, smode;\n    var numInstances;\n    var meshInstance, mesh, material;\n    var style;\n    var settings;\n    var visibleList, visibleLength;\n    var passFlag = 1 << pc.SHADER_SHADOW;\n    var paramName, parameter, parameters;\n    for (i = 0;i < lights.length;i++) {\n      light = lights[i];\n      type = light._type;\n      if (!light.castShadows || !light._enabled) {\n        continue;\n      }\n      if (!light._shadowCamera) {\n        this.getShadowCamera(device, light);\n      }\n      if (light.shadowUpdateMode !== pc.SHADOWUPDATE_NONE && light.visibleThisFrame) {\n        var cameraPos;\n        shadowCam = this.getShadowCamera(device, light);\n        shadowCamNode = shadowCam._node;\n        pass = 0;\n        passes = 1;\n        if (type === pc.LIGHTTYPE_DIRECTIONAL) {\n          if (light._visibleLength[cameraPass] < 0) {\n            continue;\n          }\n          settings = light._visibleCameraSettings[cameraPass];\n          shadowCamNode.setPosition(settings.x, settings.y, settings.z);\n          shadowCam.orthoHeight = settings.orthoHeight;\n          shadowCam.farClip = settings.farClip;\n          pass = cameraPass;\n        } else {\n          if (type === pc.LIGHTTYPE_SPOT) {\n            cameraPos = shadowCamNode.getPosition();\n            this.viewPos[0] = cameraPos.x;\n            this.viewPos[1] = cameraPos.y;\n            this.viewPos[2] = cameraPos.z;\n            this.viewPosId.setValue(this.viewPos);\n            this.shadowMapLightRadiusId.setValue(light.attenuationEnd);\n          } else {\n            if (type === pc.LIGHTTYPE_POINT) {\n              cameraPos = shadowCamNode.getPosition();\n              this.viewPos[0] = cameraPos.x;\n              this.viewPos[1] = cameraPos.y;\n              this.viewPos[2] = cameraPos.z;\n              this.viewPosId.setValue(this.viewPos);\n              this.shadowMapLightRadiusId.setValue(light.attenuationEnd);\n              passes = 6;\n            }\n          }\n        }\n        if (type !== pc.LIGHTTYPE_POINT) {\n          shadowCamView.setTRS(shadowCamNode.getPosition(), shadowCamNode.getRotation(), pc.Vec3.ONE).invert();\n          shadowCamViewProj.mul2(shadowCam.getProjectionMatrix(), shadowCamView);\n          light._shadowMatrix.mul2(scaleShift, shadowCamViewProj);\n        }\n        if (device.webgl2) {\n          if (type === pc.LIGHTTYPE_POINT) {\n            device.setDepthBias(false);\n          } else {\n            device.setDepthBias(true);\n            device.setDepthBiasValues(light.shadowBias * -1000.0, light.shadowBias * -1000.0);\n          }\n        } else {\n          if (device.extStandardDerivatives) {\n            if (type === pc.LIGHTTYPE_POINT) {\n              this.polygonOffset[0] = 0;\n              this.polygonOffset[1] = 0;\n              this.polygonOffsetId.setValue(this.polygonOffset);\n            } else {\n              this.polygonOffset[0] = light.shadowBias * -1000.0;\n              this.polygonOffset[1] = light.shadowBias * -1000.0;\n              this.polygonOffsetId.setValue(this.polygonOffset);\n            }\n          }\n        }\n        if (light.shadowUpdateMode === pc.SHADOWUPDATE_THISFRAME) {\n          light.shadowUpdateMode = pc.SHADOWUPDATE_NONE;\n        }\n        this._shadowMapUpdates += passes;\n        device.setBlending(false);\n        device.setDepthWrite(true);\n        device.setDepthTest(true);\n        if (light._isPcf && device.webgl2 && type !== pc.LIGHTTYPE_POINT) {\n          device.setColorWrite(false, false, false, false);\n        } else {\n          device.setColorWrite(true, true, true, true);\n        }\n        if (pass) {\n          passes = pass + 1;\n        } else {\n          pass = 0;\n        }\n        while (pass < passes) {\n          if (type === pc.LIGHTTYPE_POINT) {\n            shadowCamNode.setRotation(pointLightRotations[pass]);\n            shadowCam.renderTarget = light._shadowCubeMap[pass];\n          }\n          this.setCamera(shadowCam, shadowCam.renderTarget, true, type !== pc.LIGHTTYPE_POINT);\n          visibleList = light._visibleList[pass];\n          visibleLength = light._visibleLength[pass];\n          shadowType = light._shadowType;\n          smode = shadowType + type * numShadowModes;\n          for (j = 0, numInstances = visibleLength;j < numInstances;j++) {\n            meshInstance = visibleList[j];\n            mesh = meshInstance.mesh;\n            material = meshInstance.material;\n            this.setBaseConstants(device, material);\n            this.setSkinning(device, meshInstance, material);\n            if (material.dirty) {\n              material.updateUniforms();\n              material.dirty = false;\n            }\n            if (material.chunks) {\n              parameters = material.parameters;\n              for (paramName in parameters) {\n                parameter = parameters[paramName];\n                if (parameter.passFlags & passFlag) {\n                  if (!parameter.scopeId) {\n                    parameter.scopeId = device.scope.resolve(paramName);\n                  }\n                  parameter.scopeId.setValue(parameter.data);\n                }\n              }\n              this.setCullMode(true, false, meshInstance);\n              parameters = meshInstance.parameters;\n              for (paramName in parameters) {\n                parameter = parameters[paramName];\n                if (parameter.passFlags & passFlag) {\n                  if (!parameter.scopeId) {\n                    parameter.scopeId = device.scope.resolve(paramName);\n                  }\n                  parameter.scopeId.setValue(parameter.data);\n                }\n              }\n            }\n            shadowShader = meshInstance._shader[pc.SHADER_SHADOW + smode];\n            if (!shadowShader) {\n              this.updateShader(meshInstance, meshInstance._shaderDefs, null, pc.SHADER_SHADOW + smode);\n              shadowShader = meshInstance._shader[pc.SHADER_SHADOW + smode];\n              meshInstance._key[pc.SORTKEY_DEPTH] = getDepthKey(meshInstance);\n            }\n            device.setShader(shadowShader);\n            style = meshInstance.renderStyle;\n            device.setVertexBuffer(meshInstance.morphInstance && meshInstance.morphInstance._vertexBuffer ? meshInstance.morphInstance._vertexBuffer : mesh.vertexBuffer, 0);\n            device.setIndexBuffer(mesh.indexBuffer[style]);\n            j += this.drawInstance(device, meshInstance, mesh, style);\n            this._shadowDrawCalls++;\n          }\n          pass++;\n          if (type === pc.LIGHTTYPE_DIRECTIONAL) {\n            light._visibleLength[cameraPass] = -1;\n          }\n        }\n        if (light._isVsm) {\n          var filterSize = light._vsmBlurSize;\n          if (filterSize > 1) {\n            var origShadowMap = shadowCam.renderTarget;\n            var tempRt = getShadowMapFromCache(device, light._shadowResolution, light._shadowType, 1);\n            var isVsm8 = light._shadowType === pc.SHADOW_VSM8;\n            var blurMode = light.vsmBlurMode;\n            var blurShader = (isVsm8 ? this.blurPackedVsmShader : this.blurVsmShader)[blurMode][filterSize];\n            if (!blurShader) {\n              this.blurVsmWeights[filterSize] = gaussWeights(filterSize);\n              var blurVS = pc.shaderChunks.fullscreenQuadVS;\n              var blurFS = \"#define SAMPLES \" + filterSize + \"\\n\";\n              if (isVsm8) {\n                blurFS += this.blurPackedVsmShaderCode[blurMode];\n              } else {\n                blurFS += this.blurVsmShaderCode[blurMode];\n              }\n              var blurShaderName = \"blurVsm\" + blurMode + \"\" + filterSize + \"\" + isVsm8;\n              blurShader = pc.shaderChunks.createShaderFromCode(this.device, blurVS, blurFS, blurShaderName);\n              if (isVsm8) {\n                this.blurPackedVsmShader[blurMode][filterSize] = blurShader;\n              } else {\n                this.blurVsmShader[blurMode][filterSize] = blurShader;\n              }\n            }\n            blurScissorRect.z = light._shadowResolution - 2;\n            blurScissorRect.w = blurScissorRect.z;\n            this.sourceId.setValue(origShadowMap.colorBuffer);\n            pixelOffset[0] = 1 / light._shadowResolution;\n            pixelOffset[1] = 0;\n            this.pixelOffsetId.setValue(pixelOffset);\n            if (blurMode === pc.BLUR_GAUSSIAN) {\n              this.weightId.setValue(this.blurVsmWeights[filterSize]);\n            }\n            pc.drawQuadWithShader(device, tempRt, blurShader, null, blurScissorRect);\n            this.sourceId.setValue(tempRt.colorBuffer);\n            pixelOffset[1] = pixelOffset[0];\n            pixelOffset[0] = 0;\n            this.pixelOffsetId.setValue(pixelOffset);\n            pc.drawQuadWithShader(device, origShadowMap, blurShader, null, blurScissorRect);\n          }\n        }\n      }\n    }\n    if (device.webgl2) {\n      device.setDepthBias(false);\n    } else {\n      if (device.extStandardDerivatives) {\n        this.polygonOffset[0] = 0;\n        this.polygonOffset[1] = 0;\n        this.polygonOffsetId.setValue(this.polygonOffset);\n      }\n    }\n  }, updateShader:function(meshInstance, objDefs, staticLightList, pass, sortedLights) {\n    meshInstance.material._scene = this.scene;\n    meshInstance.material.updateShader(this.device, this.scene, objDefs, staticLightList, pass, sortedLights);\n    meshInstance._shader[pass] = meshInstance.material.shader;\n  }, setCullMode:function(cullFaces, flip, drawCall) {\n    var material = drawCall.material;\n    var mode = pc.CULLFACE_NONE;\n    if (cullFaces) {\n      var flipFaces = 1;\n      if (material.cull > pc.CULLFACE_NONE && material.cull < pc.CULLFACE_FRONTANDBACK) {\n        if (drawCall.flipFaces) {\n          flipFaces *= -1;\n        }\n        if (flip) {\n          flipFaces *= -1;\n        }\n        var wt = drawCall.node.worldTransform;\n        wt.getX(worldMatX);\n        wt.getY(worldMatY);\n        wt.getZ(worldMatZ);\n        worldMatX.cross(worldMatX, worldMatY);\n        if (worldMatX.dot(worldMatZ) < 0) {\n          flipFaces *= -1;\n        }\n      }\n      if (flipFaces < 0) {\n        mode = material.cull === pc.CULLFACE_FRONT ? pc.CULLFACE_BACK : pc.CULLFACE_FRONT;\n      } else {\n        mode = material.cull;\n      }\n    }\n    this.device.setCullMode(mode);\n  }, renderForward:function(camera, drawCalls, drawCallsCount, sortedLights, pass, cullingMask, drawCallback, layer) {\n    var device = this.device;\n    var scene = this.scene;\n    var vrDisplay = camera.vrDisplay;\n    var passFlag = 1 << pass;\n    var lightHash = layer ? layer._lightHash : 0;\n    var i, drawCall, mesh, material, objDefs, variantKey, lightMask, style, usedDirLights;\n    var prevMaterial = null, prevObjDefs, prevLightMask, prevStatic;\n    var paramName, parameter, parameters;\n    var stencilFront, stencilBack;\n    var halfWidth = device.width * 0.5;\n    for (i = 0;i < drawCallsCount;i++) {\n      drawCall = drawCalls[i];\n      if (cullingMask && drawCall.mask && !(cullingMask & drawCall.mask)) {\n        continue;\n      }\n      if (drawCall.command) {\n        drawCall.command();\n      } else {\n        mesh = drawCall.mesh;\n        material = drawCall.material;\n        objDefs = drawCall._shaderDefs;\n        lightMask = drawCall.mask;\n        this.setSkinning(device, drawCall, material);\n        if (material && material === prevMaterial && objDefs !== prevObjDefs) {\n          prevMaterial = null;\n        }\n        if (drawCall.isStatic || prevStatic) {\n          prevMaterial = null;\n        }\n        if (material !== prevMaterial) {\n          this._materialSwitches++;\n          if (material.dirty) {\n            material.updateUniforms();\n            material.dirty = false;\n          }\n          if (!drawCall._shader[pass] || drawCall._shaderDefs !== objDefs || drawCall._lightHash !== lightHash) {\n            if (!drawCall.isStatic) {\n              variantKey = pass + \"_\" + objDefs + \"_\" + lightHash;\n              drawCall._shader[pass] = material.variants[variantKey];\n              if (!drawCall._shader[pass]) {\n                this.updateShader(drawCall, objDefs, null, pass, sortedLights);\n                material.variants[variantKey] = drawCall._shader[pass];\n              }\n            } else {\n              this.updateShader(drawCall, objDefs, drawCall._staticLightList, pass, sortedLights);\n            }\n            drawCall._shaderDefs = objDefs;\n            drawCall._lightHash = lightHash;\n          }\n          device.setShader(drawCall._shader[pass]);\n          parameters = material.parameters;\n          for (paramName in parameters) {\n            parameter = parameters[paramName];\n            if (parameter.passFlags & passFlag) {\n              if (!parameter.scopeId) {\n                parameter.scopeId = device.scope.resolve(paramName);\n              }\n              parameter.scopeId.setValue(parameter.data);\n            }\n          }\n          if (!prevMaterial || lightMask !== prevLightMask) {\n            usedDirLights = this.dispatchDirectLights(sortedLights[pc.LIGHTTYPE_DIRECTIONAL], scene, lightMask);\n            this.dispatchLocalLights(sortedLights, scene, lightMask, usedDirLights, drawCall._staticLightList);\n          }\n          this.alphaTestId.setValue(material.alphaTest);\n          device.setBlending(material.blend);\n          if (material.blend) {\n            if (material.separateAlphaBlend) {\n              device.setBlendFunctionSeparate(material.blendSrc, material.blendDst, material.blendSrcAlpha, material.blendDstAlpha);\n              device.setBlendEquationSeparate(material.blendEquation, material.blendAlphaEquation);\n            } else {\n              device.setBlendFunction(material.blendSrc, material.blendDst);\n              device.setBlendEquation(material.blendEquation);\n            }\n          }\n          device.setColorWrite(material.redWrite, material.greenWrite, material.blueWrite, material.alphaWrite);\n          device.setDepthWrite(material.depthWrite);\n          device.setDepthTest(material.depthTest);\n          device.setAlphaToCoverage(material.alphaToCoverage);\n          if (material.depthBias || material.slopeDepthBias) {\n            device.setDepthBias(true);\n            device.setDepthBiasValues(material.depthBias, material.slopeDepthBias);\n          } else {\n            device.setDepthBias(false);\n          }\n        }\n        this.setCullMode(camera._cullFaces, camera._flipFaces, drawCall);\n        stencilFront = drawCall.stencilFront || material.stencilFront;\n        stencilBack = drawCall.stencilBack || material.stencilBack;\n        if (stencilFront || stencilBack) {\n          device.setStencilTest(true);\n          if (stencilFront === stencilBack) {\n            device.setStencilFunc(stencilFront.func, stencilFront.ref, stencilFront.readMask);\n            device.setStencilOperation(stencilFront.fail, stencilFront.zfail, stencilFront.zpass, stencilFront.writeMask);\n          } else {\n            if (stencilFront) {\n              device.setStencilFuncFront(stencilFront.func, stencilFront.ref, stencilFront.readMask);\n              device.setStencilOperationFront(stencilFront.fail, stencilFront.zfail, stencilFront.zpass, stencilFront.writeMask);\n            } else {\n              device.setStencilFuncFront(pc.FUNC_ALWAYS, 0, 255);\n              device.setStencilOperationFront(pc.STENCILOP_KEEP, pc.STENCILOP_KEEP, pc.STENCILOP_KEEPP, 255);\n            }\n            if (stencilBack) {\n              device.setStencilFuncBack(stencilBack.func, stencilBack.ref, stencilBack.readMask);\n              device.setStencilOperationBack(stencilBack.fail, stencilBack.zfail, stencilBack.zpass, stencilBack.writeMask);\n            } else {\n              device.setStencilFuncBack(pc.FUNC_ALWAYS, 0, 255);\n              device.setStencilOperationBack(pc.STENCILOP_KEEP, pc.STENCILOP_KEEP, pc.STENCILOP_KEEP, 255);\n            }\n          }\n        } else {\n          device.setStencilTest(false);\n        }\n        parameters = drawCall.parameters;\n        for (paramName in parameters) {\n          parameter = parameters[paramName];\n          if (parameter.passFlags & passFlag) {\n            if (!parameter.scopeId) {\n              parameter.scopeId = device.scope.resolve(paramName);\n            }\n            parameter.scopeId.setValue(parameter.data);\n          }\n        }\n        device.setVertexBuffer(drawCall.morphInstance && drawCall.morphInstance._vertexBuffer ? drawCall.morphInstance._vertexBuffer : mesh.vertexBuffer, 0);\n        style = drawCall.renderStyle;\n        device.setIndexBuffer(mesh.indexBuffer[style]);\n        if (drawCallback) {\n          drawCallback(drawCall, i);\n        }\n        if (vrDisplay && vrDisplay.presenting) {\n          device.setViewport(0, 0, halfWidth, device.height);\n          this.projId.setValue(projL.data);\n          this.viewInvId.setValue(viewInvL.data);\n          this.viewId.setValue(viewL.data);\n          this.viewId3.setValue(viewMat3L.data);\n          this.viewProjId.setValue(viewProjMatL.data);\n          this.viewPos[0] = viewPosL.x;\n          this.viewPos[1] = viewPosL.y;\n          this.viewPos[2] = viewPosL.z;\n          this.viewPosId.setValue(this.viewPos);\n          i += this.drawInstance(device, drawCall, mesh, style, true);\n          this._forwardDrawCalls++;\n          device.setViewport(halfWidth, 0, halfWidth, device.height);\n          this.projId.setValue(projR.data);\n          this.viewInvId.setValue(viewInvR.data);\n          this.viewId.setValue(viewR.data);\n          this.viewId3.setValue(viewMat3R.data);\n          this.viewProjId.setValue(viewProjMatR.data);\n          this.viewPos[0] = viewPosR.x;\n          this.viewPos[1] = viewPosR.y;\n          this.viewPos[2] = viewPosR.z;\n          this.viewPosId.setValue(this.viewPos);\n          i += this.drawInstance2(device, drawCall, mesh, style);\n          this._forwardDrawCalls++;\n        } else {\n          i += this.drawInstance(device, drawCall, mesh, style, true);\n          this._forwardDrawCalls++;\n        }\n        if (i < drawCallsCount - 1 && drawCalls[i + 1].material === material) {\n          for (paramName in parameters) {\n            parameter = material.parameters[paramName];\n            if (parameter) {\n              if (!parameter.scopeId) {\n                parameter.scopeId = device.scope.resolve(paramName);\n              }\n              parameter.scopeId.setValue(parameter.data);\n            }\n          }\n        }\n        prevMaterial = material;\n        prevObjDefs = objDefs;\n        prevLightMask = lightMask;\n        prevStatic = drawCall.isStatic;\n      }\n    }\n    device.updateEnd();\n  }, setupInstancing:function(device) {\n    if (!pc._instanceVertexFormat) {\n      var formatDesc = [{semantic:pc.SEMANTIC_TEXCOORD2, components:4, type:pc.TYPE_FLOAT32}, {semantic:pc.SEMANTIC_TEXCOORD3, components:4, type:pc.TYPE_FLOAT32}, {semantic:pc.SEMANTIC_TEXCOORD4, components:4, type:pc.TYPE_FLOAT32}, {semantic:pc.SEMANTIC_TEXCOORD5, components:4, type:pc.TYPE_FLOAT32}];\n      pc._instanceVertexFormat = new pc.VertexFormat(device, formatDesc);\n    }\n    if (device.enableAutoInstancing) {\n      if (!pc._autoInstanceBuffer) {\n        pc._autoInstanceBuffer = new pc.VertexBuffer(device, pc._instanceVertexFormat, device.autoInstancingMaxObjects, pc.BUFFER_DYNAMIC);\n        pc._autoInstanceBufferData = new Float32Array(pc._autoInstanceBuffer.lock());\n      }\n    }\n  }, revertStaticMeshes:function(meshInstances) {\n    var i;\n    var drawCalls = meshInstances;\n    var drawCallsCount = drawCalls.length;\n    var drawCall;\n    var newDrawCalls = [];\n    var prevStaticSource;\n    for (i = 0;i < drawCallsCount;i++) {\n      drawCall = drawCalls[i];\n      if (drawCall._staticSource) {\n        if (drawCall._staticSource !== prevStaticSource) {\n          newDrawCalls.push(drawCall._staticSource);\n          prevStaticSource = drawCall._staticSource;\n        }\n      } else {\n        newDrawCalls.push(drawCall);\n      }\n    }\n    meshInstances.length = newDrawCalls.length;\n    for (i = 0;i < newDrawCalls.length;i++) {\n      meshInstances[i] = newDrawCalls[i];\n    }\n  }, prepareStaticMeshes:function(meshInstances, lights) {\n    var i, j, k, v, s, index;\n    var device = this.device;\n    var scene = this.scene;\n    var drawCalls = meshInstances;\n    var drawCallsCount = drawCalls.length;\n    var drawCall, light;\n    var newDrawCalls = [];\n    var mesh;\n    var indices, verts, numTris, elems, vertSize, offsetP, baseIndex;\n    var _x, _y, _z;\n    var minx, miny, minz, maxx, maxy, maxz;\n    var minv, maxv;\n    var minVec = new pc.Vec3;\n    var maxVec = new pc.Vec3;\n    var localLightBounds = new pc.BoundingBox;\n    var invMatrix = new pc.Mat4;\n    var triLightComb = [];\n    var triLightCombUsed;\n    var indexBuffer, vertexBuffer;\n    var combIndices, combIbName, combIb;\n    var lightTypePass;\n    var lightAabb = [];\n    var aabb;\n    var triBounds = [];\n    var staticLights = [];\n    var bit;\n    var lht;\n    for (i = 0;i < drawCallsCount;i++) {\n      drawCall = drawCalls[i];\n      if (!drawCall.isStatic) {\n        newDrawCalls.push(drawCall);\n      } else {\n        aabb = drawCall.aabb;\n        staticLights.length = 0;\n        for (lightTypePass = pc.LIGHTTYPE_POINT;lightTypePass <= pc.LIGHTTYPE_SPOT;lightTypePass++) {\n          for (j = 0;j < lights.length;j++) {\n            light = lights[j];\n            if (light._type !== lightTypePass) {\n              continue;\n            }\n            if (light._enabled) {\n              if (light._mask & drawCall.mask) {\n                if (light.isStatic) {\n                  if (!lightAabb[j]) {\n                    lightAabb[j] = new pc.BoundingBox;\n                    light._node.getWorldTransform();\n                    light.getBoundingSphere(tempSphere);\n                    lightAabb[j].center.copy(tempSphere.center);\n                    lightAabb[j].halfExtents.x = tempSphere.radius;\n                    lightAabb[j].halfExtents.y = tempSphere.radius;\n                    lightAabb[j].halfExtents.z = tempSphere.radius;\n                  }\n                  if (!lightAabb[j].intersects(aabb)) {\n                    continue;\n                  }\n                  staticLights.push(j);\n                }\n              }\n            }\n          }\n        }\n        if (staticLights.length === 0) {\n          newDrawCalls.push(drawCall);\n          continue;\n        }\n        mesh = drawCall.mesh;\n        vertexBuffer = mesh.vertexBuffer;\n        indexBuffer = mesh.indexBuffer[drawCall.renderStyle];\n        indices = indexBuffer.bytesPerIndex === 2 ? new Uint16Array(indexBuffer.lock()) : new Uint32Array(indexBuffer.lock());\n        numTris = mesh.primitive[drawCall.renderStyle].count / 3;\n        baseIndex = mesh.primitive[drawCall.renderStyle].base;\n        elems = vertexBuffer.format.elements;\n        vertSize = vertexBuffer.format.size / 4;\n        verts = new Float32Array(vertexBuffer.storage);\n        for (k = 0;k < elems.length;k++) {\n          if (elems[k].name === pc.SEMANTIC_POSITION) {\n            offsetP = elems[k].offset / 4;\n          }\n        }\n        triLightComb.length = numTris;\n        for (k = 0;k < numTris;k++) {\n          triLightComb[k] = 0;\n        }\n        triLightCombUsed = false;\n        triBounds.length = numTris * 6;\n        for (k = 0;k < numTris;k++) {\n          minx = Number.MAX_VALUE;\n          miny = Number.MAX_VALUE;\n          minz = Number.MAX_VALUE;\n          maxx = -Number.MAX_VALUE;\n          maxy = -Number.MAX_VALUE;\n          maxz = -Number.MAX_VALUE;\n          for (v = 0;v < 3;v++) {\n            index = indices[k * 3 + v + baseIndex];\n            index = index * vertSize + offsetP;\n            _x = verts[index];\n            _y = verts[index + 1];\n            _z = verts[index + 2];\n            if (_x < minx) {\n              minx = _x;\n            }\n            if (_y < miny) {\n              miny = _y;\n            }\n            if (_z < minz) {\n              minz = _z;\n            }\n            if (_x > maxx) {\n              maxx = _x;\n            }\n            if (_y > maxy) {\n              maxy = _y;\n            }\n            if (_z > maxz) {\n              maxz = _z;\n            }\n          }\n          index = k * 6;\n          triBounds[index] = minx;\n          triBounds[index + 1] = miny;\n          triBounds[index + 2] = minz;\n          triBounds[index + 3] = maxx;\n          triBounds[index + 4] = maxy;\n          triBounds[index + 5] = maxz;\n        }\n        for (s = 0;s < staticLights.length;s++) {\n          j = staticLights[s];\n          light = lights[j];\n          invMatrix.copy(drawCall.node.worldTransform).invert();\n          localLightBounds.setFromTransformedAabb(lightAabb[j], invMatrix);\n          minv = localLightBounds.getMin();\n          maxv = localLightBounds.getMax();\n          bit = 1 << s;\n          for (k = 0;k < numTris;k++) {\n            index = k * 6;\n            if (triBounds[index] <= maxv.x && triBounds[index + 3] >= minv.x && triBounds[index + 1] <= maxv.y && triBounds[index + 4] >= minv.y && triBounds[index + 2] <= maxv.z && triBounds[index + 5] >= minv.z) {\n              triLightComb[k] |= bit;\n              triLightCombUsed = true;\n            }\n          }\n        }\n        if (triLightCombUsed) {\n          combIndices = {};\n          for (k = 0;k < numTris;k++) {\n            j = k * 3 + baseIndex;\n            combIbName = triLightComb[k];\n            if (!combIndices[combIbName]) {\n              combIndices[combIbName] = [];\n            }\n            combIb = combIndices[combIbName];\n            combIb.push(indices[j]);\n            combIb.push(indices[j + 1]);\n            combIb.push(indices[j + 2]);\n          }\n          for (combIbName in combIndices) {\n            combIb = combIndices[combIbName];\n            var ib = new pc.IndexBuffer(device, indexBuffer.format, combIb.length, indexBuffer.usage);\n            var ib2 = ib.bytesPerIndex === 2 ? new Uint16Array(ib.lock()) : new Uint32Array(ib.lock());\n            ib2.set(combIb);\n            ib.unlock();\n            minx = Number.MAX_VALUE;\n            miny = Number.MAX_VALUE;\n            minz = Number.MAX_VALUE;\n            maxx = -Number.MAX_VALUE;\n            maxy = -Number.MAX_VALUE;\n            maxz = -Number.MAX_VALUE;\n            for (k = 0;k < combIb.length;k++) {\n              index = combIb[k];\n              _x = verts[index * vertSize + offsetP];\n              _y = verts[index * vertSize + offsetP + 1];\n              _z = verts[index * vertSize + offsetP + 2];\n              if (_x < minx) {\n                minx = _x;\n              }\n              if (_y < miny) {\n                miny = _y;\n              }\n              if (_z < minz) {\n                minz = _z;\n              }\n              if (_x > maxx) {\n                maxx = _x;\n              }\n              if (_y > maxy) {\n                maxy = _y;\n              }\n              if (_z > maxz) {\n                maxz = _z;\n              }\n            }\n            minVec.set(minx, miny, minz);\n            maxVec.set(maxx, maxy, maxz);\n            var chunkAabb = new pc.BoundingBox;\n            chunkAabb.setMinMax(minVec, maxVec);\n            var mesh2 = new pc.Mesh;\n            mesh2.vertexBuffer = vertexBuffer;\n            mesh2.indexBuffer[0] = ib;\n            mesh2.primitive[0].type = pc.PRIMITIVE_TRIANGLES;\n            mesh2.primitive[0].base = 0;\n            mesh2.primitive[0].count = combIb.length;\n            mesh2.primitive[0].indexed = true;\n            mesh2.aabb = chunkAabb;\n            var instance = new pc.MeshInstance(drawCall.node, mesh2, drawCall.material);\n            instance.isStatic = drawCall.isStatic;\n            instance.visible = drawCall.visible;\n            instance.layer = drawCall.layer;\n            instance.castShadow = drawCall.castShadow;\n            instance._receiveShadow = drawCall._receiveShadow;\n            instance.cull = drawCall.cull;\n            instance.pick = drawCall.pick;\n            instance.mask = drawCall.mask;\n            instance.parameters = drawCall.parameters;\n            instance._shaderDefs = drawCall._shaderDefs;\n            instance._staticSource = drawCall;\n            if (drawCall._staticLightList) {\n              instance._staticLightList = drawCall._staticLightList;\n            } else {\n              instance._staticLightList = [];\n            }\n            for (k = 0;k < staticLights.length;k++) {\n              bit = 1 << k;\n              if (combIbName & bit) {\n                lht = lights[staticLights[k]];\n                if (instance._staticLightList.indexOf(lht) < 0) {\n                  instance._staticLightList.push(lht);\n                }\n              }\n            }\n            instance._staticLightList.sort(this.lightCompare);\n            newDrawCalls.push(instance);\n          }\n        } else {\n          newDrawCalls.push(drawCall);\n        }\n      }\n    }\n    meshInstances.length = newDrawCalls.length;\n    for (i = 0;i < newDrawCalls.length;i++) {\n      meshInstances[i] = newDrawCalls[i];\n    }\n  }, updateShaders:function(drawCalls) {\n    var i;\n    var materials = [];\n    for (i = 0;i < drawCalls.length;i++) {\n      var drawCall = drawCalls[i];\n      if (drawCall.material !== undefined) {\n        if (materials.indexOf(drawCall.material) === -1) {\n          materials.push(drawCall.material);\n        }\n      }\n    }\n    for (i = 0;i < materials.length;i++) {\n      var mat = materials[i];\n      if (mat.updateShader !== pc.Material.prototype.updateShader) {\n        mat.clearVariants();\n        mat.shader = null;\n      }\n    }\n  }, updateLitShaders:function(drawCalls) {\n    for (var i = 0;i < drawCalls.length;i++) {\n      var drawCall = drawCalls[i];\n      if (drawCall.material !== undefined) {\n        var mat = drawCall.material;\n        if (mat.updateShader !== pc.Material.prototype.updateShader) {\n          if (mat.useLighting === false || mat.emitter && !mat.emitter.lighting) {\n            continue;\n          }\n          mat.clearVariants();\n          mat.shader = null;\n        }\n      }\n    }\n  }, beginFrame:function(comp) {\n    var device = this.device;\n    var scene = this.scene;\n    var meshInstances = comp._meshInstances;\n    var lights = comp._lights;\n    if (scene.updateSkybox) {\n      scene._updateSkybox(device);\n      scene.updateSkybox = false;\n    }\n    if (scene.updateShaders) {\n      this.updateShaders(meshInstances);\n      scene.updateShaders = false;\n      scene.updateLitShaders = false;\n      scene._shaderVersion++;\n    } else {\n      if (scene.updateLitShaders) {\n        this.updateLitShaders(meshInstances);\n        scene.updateLitShaders = false;\n        scene._shaderVersion++;\n      }\n    }\n    this.updateCpuSkinMatrices(meshInstances);\n    this.updateMorphedBounds(meshInstances);\n    var i;\n    var len = meshInstances.length;\n    for (i = 0;i < len;i++) {\n      meshInstances[i].visibleThisFrame = false;\n    }\n    len = lights.length;\n    for (i = 0;i < len;i++) {\n      lights[i].visibleThisFrame = lights[i]._type === pc.LIGHTTYPE_DIRECTIONAL;\n    }\n  }, beginLayers:function(comp) {\n    var scene = this.scene;\n    var len = comp.layerList.length;\n    var layer;\n    var i, j;\n    var shaderVersion = this.scene._shaderVersion;\n    for (i = 0;i < len;i++) {\n      comp.layerList[i]._postRenderCounter = 0;\n    }\n    var transparent;\n    for (i = 0;i < len;i++) {\n      layer = comp.layerList[i];\n      layer._shaderVersion = shaderVersion;\n      layer._preRenderCalledForCameras = 0;\n      layer._postRenderCalledForCameras = 0;\n      transparent = comp.subLayerList[i];\n      if (transparent) {\n        layer._postRenderCounter |= 2;\n      } else {\n        layer._postRenderCounter |= 1;\n      }\n      layer._postRenderCounterMax = layer._postRenderCounter;\n      for (j = 0;j < layer.cameras.length;j++) {\n        if (!layer.instances.visibleOpaque[j]) {\n          layer.instances.visibleOpaque[j] = new pc.VisibleInstanceList;\n        }\n        if (!layer.instances.visibleTransparent[j]) {\n          layer.instances.visibleTransparent[j] = new pc.VisibleInstanceList;\n        }\n        layer.instances.visibleOpaque[j].done = false;\n        layer.instances.visibleTransparent[j].done = false;\n      }\n      if (layer.cameras.length < layer.instances.visibleOpaque.length) {\n        layer.instances.visibleOpaque.splice(layer.cameras.length, 1);\n      }\n      if (layer.cameras.length < layer.instances.visibleTransparent.length) {\n        layer.instances.visibleTransparent.splice(layer.cameras.length, 1);\n      }\n      if (layer._needsStaticPrepare && layer._staticLightHash) {\n        if (layer._staticPrepareDone) {\n          this.revertStaticMeshes(layer.opaqueMeshInstances);\n          this.revertStaticMeshes(layer.transparentMeshInstances);\n        }\n        this.prepareStaticMeshes(layer.opaqueMeshInstances, layer._lights);\n        this.prepareStaticMeshes(layer.transparentMeshInstances, layer._lights);\n        comp._dirty = true;\n        scene.updateShaders = true;\n        layer._needsStaticPrepare = false;\n        layer._staticPrepareDone = true;\n      }\n    }\n  }, cullLocalShadowmap:function(light, drawCalls) {\n    var i, type, shadowCam, shadowCamNode, passes, pass, numInstances, meshInstance, visibleList, vlen, visible;\n    var lightNode;\n    type = light._type;\n    if (type === pc.LIGHTTYPE_DIRECTIONAL) {\n      return;\n    }\n    light.visibleThisFrame = true;\n    shadowCam = this.getShadowCamera(this.device, light);\n    shadowCam.projection = pc.PROJECTION_PERSPECTIVE;\n    shadowCam.nearClip = light.attenuationEnd / 1000;\n    shadowCam.farClip = light.attenuationEnd;\n    shadowCam.aspectRatio = 1;\n    if (type === pc.LIGHTTYPE_SPOT) {\n      shadowCam.fov = light._outerConeAngle * 2;\n      passes = 1;\n    } else {\n      shadowCam.fov = 90;\n      passes = 6;\n    }\n    shadowCamNode = shadowCam._node;\n    lightNode = light._node;\n    shadowCamNode.setPosition(lightNode.getPosition());\n    if (type === pc.LIGHTTYPE_SPOT) {\n      shadowCamNode.setRotation(lightNode.getRotation());\n      shadowCamNode.rotateLocal(-90, 0, 0);\n    }\n    for (pass = 0;pass < passes;pass++) {\n      if (type === pc.LIGHTTYPE_POINT) {\n        shadowCamNode.setRotation(pointLightRotations[pass]);\n        shadowCam.renderTarget = light._shadowCubeMap[pass];\n      }\n      this.updateCameraFrustum(shadowCam);\n      visibleList = light._visibleList[pass];\n      if (!visibleList) {\n        visibleList = light._visibleList[pass] = [];\n      }\n      light._visibleLength[pass] = 0;\n      vlen = 0;\n      for (i = 0, numInstances = drawCalls.length;i < numInstances;i++) {\n        meshInstance = drawCalls[i];\n        visible = true;\n        if (meshInstance.cull) {\n          visible = this._isVisible(shadowCam, meshInstance);\n        }\n        if (visible) {\n          visibleList[vlen] = meshInstance;\n          vlen++;\n          meshInstance.visibleThisFrame = true;\n        }\n      }\n      light._visibleLength[pass] = vlen;\n      if (visibleList.length !== vlen) {\n        visibleList.length = vlen;\n      }\n      visibleList.sort(this.depthSortCompare);\n    }\n  }, cullDirectionalShadowmap:function(light, drawCalls, camera, pass) {\n    var i, shadowCam, shadowCamNode, lightNode, frustumSize, vlen, visibleList;\n    var unitPerTexel, delta, p;\n    var minx, miny, minz, maxx, maxy, maxz, centerx, centery;\n    var visible, numInstances;\n    var meshInstance;\n    var emptyAabb;\n    var drawCallAabb;\n    var device = this.device;\n    light.visibleThisFrame = true;\n    shadowCam = this.getShadowCamera(device, light);\n    shadowCamNode = shadowCam._node;\n    lightNode = light._node;\n    shadowCamNode.setPosition(lightNode.getPosition());\n    shadowCamNode.setRotation(lightNode.getRotation());\n    shadowCamNode.rotateLocal(-90, 0, 0);\n    _getFrustumPoints(camera, light.shadowDistance || camera._farClip, frustumPoints);\n    frustumSize = frustumDiagonal.sub2(frustumPoints[0], frustumPoints[6]).length();\n    frustumSize = Math.max(frustumSize, frustumDiagonal.sub2(frustumPoints[4], frustumPoints[6]).length());\n    shadowCamView.copy(shadowCamNode.getWorldTransform()).invert();\n    c2sc.copy(shadowCamView).mul(camera._node.worldTransform);\n    for (i = 0;i < 8;i++) {\n      c2sc.transformPoint(frustumPoints[i], frustumPoints[i]);\n    }\n    minx = miny = minz = 1000000;\n    maxx = maxy = maxz = -1000000;\n    for (i = 0;i < 8;i++) {\n      p = frustumPoints[i];\n      if (p.x < minx) {\n        minx = p.x;\n      }\n      if (p.x > maxx) {\n        maxx = p.x;\n      }\n      if (p.y < miny) {\n        miny = p.y;\n      }\n      if (p.y > maxy) {\n        maxy = p.y;\n      }\n      if (p.z < minz) {\n        minz = p.z;\n      }\n      if (p.z > maxz) {\n        maxz = p.z;\n      }\n    }\n    unitPerTexel = frustumSize / light._shadowResolution;\n    delta = (frustumSize - (maxx - minx)) * 0.5;\n    minx = Math.floor((minx - delta) / unitPerTexel) * unitPerTexel;\n    delta = (frustumSize - (maxy - miny)) * 0.5;\n    miny = Math.floor((miny - delta) / unitPerTexel) * unitPerTexel;\n    maxx = minx + frustumSize;\n    maxy = miny + frustumSize;\n    centerx = (maxx + minx) * 0.5;\n    centery = (maxy + miny) * 0.5;\n    shadowCamNode.translateLocal(centerx, centery, 100000);\n    shadowCam.projection = pc.PROJECTION_ORTHOGRAPHIC;\n    shadowCam.nearClip = 0;\n    shadowCam.farClip = 200000;\n    shadowCam.aspectRatio = 1;\n    shadowCam.orthoHeight = frustumSize * 0.5;\n    this.updateCameraFrustum(shadowCam);\n    emptyAabb = true;\n    visibleList = light._visibleList[pass];\n    if (!visibleList) {\n      visibleList = light._visibleList[pass] = [];\n    }\n    vlen = light._visibleLength[pass] = 0;\n    for (i = 0, numInstances = drawCalls.length;i < numInstances;i++) {\n      meshInstance = drawCalls[i];\n      visible = true;\n      if (meshInstance.cull) {\n        visible = this._isVisible(shadowCam, meshInstance);\n      }\n      if (visible) {\n        visibleList[vlen] = meshInstance;\n        vlen++;\n        meshInstance.visibleThisFrame = true;\n        drawCallAabb = meshInstance.aabb;\n        if (emptyAabb) {\n          visibleSceneAabb.copy(drawCallAabb);\n          emptyAabb = false;\n        } else {\n          visibleSceneAabb.add(drawCallAabb);\n        }\n      }\n    }\n    light._visibleLength[pass] = vlen;\n    if (visibleList.length !== vlen) {\n      visibleList.length = vlen;\n    }\n    visibleList.sort(this.depthSortCompare);\n    var z = _getZFromAABBSimple(shadowCamView, visibleSceneAabb.getMin(), visibleSceneAabb.getMax(), minx, maxx, miny, maxy);\n    maxz = z.max;\n    if (z.min > minz) {\n      minz = z.min;\n    }\n    shadowCamNode.setPosition(lightNode.getPosition());\n    shadowCamNode.translateLocal(centerx, centery, maxz + directionalShadowEpsilon);\n    shadowCam.farClip = maxz - minz;\n    var settings = light._visibleCameraSettings[pass];\n    if (!settings) {\n      settings = light._visibleCameraSettings[pass] = {};\n    }\n    var lpos = shadowCamNode.getPosition();\n    settings.x = lpos.x;\n    settings.y = lpos.y;\n    settings.z = lpos.z;\n    settings.orthoHeight = shadowCam.orthoHeight;\n    settings.farClip = shadowCam.farClip;\n  }, gpuUpdate:function(drawCalls) {\n    this.updateGpuSkinMatrices(drawCalls);\n    this.updateMorphing(drawCalls);\n  }, clearView:function(camera, target, options) {\n    camera = camera.camera;\n    var device = this.device;\n    device.setRenderTarget(target);\n    device.updateBegin();\n    device.setColorWrite(true, true, true, true);\n    device.setDepthWrite(true);\n    var rect = camera.getRect();\n    var pixelWidth = target ? target.width : device.width;\n    var pixelHeight = target ? target.height : device.height;\n    var x = Math.floor(rect.x * pixelWidth);\n    var y = Math.floor(rect.y * pixelHeight);\n    var w = Math.floor(rect.width * pixelWidth);\n    var h = Math.floor(rect.height * pixelHeight);\n    device.setViewport(x, y, w, h);\n    device.setScissor(x, y, w, h);\n    device.clear(options ? options : camera._clearOptions);\n  }, setSceneConstants:function() {\n    var i;\n    var device = this.device;\n    var scene = this.scene;\n    this.dispatchGlobalLights(scene);\n    if (scene.fog !== pc.FOG_NONE) {\n      this.fogColor[0] = scene.fogColor.r;\n      this.fogColor[1] = scene.fogColor.g;\n      this.fogColor[2] = scene.fogColor.b;\n      if (scene.gammaCorrection) {\n        for (i = 0;i < 3;i++) {\n          this.fogColor[i] = Math.pow(this.fogColor[i], 2.2);\n        }\n      }\n      this.fogColorId.setValue(this.fogColor);\n      if (scene.fog === pc.FOG_LINEAR) {\n        this.fogStartId.setValue(scene.fogStart);\n        this.fogEndId.setValue(scene.fogEnd);\n      } else {\n        this.fogDensityId.setValue(scene.fogDensity);\n      }\n    }\n    this._screenSize[0] = device.width;\n    this._screenSize[1] = device.height;\n    this._screenSize[2] = 1 / device.width;\n    this._screenSize[3] = 1 / device.height;\n    this.screenSizeId.setValue(this._screenSize);\n  }, renderComposition:function(comp) {\n    var device = this.device;\n    var camera;\n    var renderedRt = comp._renderedRt;\n    var renderedByCam = comp._renderedByCam;\n    var renderedLayer = comp._renderedLayer;\n    var i, layer, transparent, cameras, j, rt, k, processedThisCamera, processedThisCameraAndLayer, processedThisCameraAndRt;\n    this.beginLayers(comp);\n    var updated = comp._update();\n    if (updated & pc.COMPUPDATED_LIGHTS) {\n      this.scene.updateLitShaders = true;\n    }\n    this.beginFrame(comp);\n    this.setSceneConstants();\n    var renderedLength = 0;\n    var objects, drawCalls, visible;\n    for (i = 0;i < comp.layerList.length;i++) {\n      layer = comp.layerList[i];\n      if (!layer.enabled || !comp.subLayerEnabled[i]) {\n        continue;\n      }\n      transparent = comp.subLayerList[i];\n      objects = layer.instances;\n      cameras = layer.cameras;\n      for (j = 0;j < cameras.length;j++) {\n        camera = cameras[j];\n        if (!camera) {\n          continue;\n        }\n        camera.frameBegin(layer.renderTarget);\n        drawCalls = transparent ? layer.transparentMeshInstances : layer.opaqueMeshInstances;\n        processedThisCamera = false;\n        processedThisCameraAndLayer = false;\n        for (k = 0;k < renderedLength;k++) {\n          if (renderedByCam[k] === camera) {\n            processedThisCamera = true;\n            if (renderedLayer[k] === layer) {\n              processedThisCameraAndLayer = true;\n              break;\n            }\n          }\n        }\n        if (!processedThisCamera) {\n          this.updateCameraFrustum(camera.camera);\n          this._camerasRendered++;\n        }\n        if (!processedThisCameraAndLayer) {\n          this.cullLights(camera.camera, layer._lights);\n        }\n        if (!processedThisCamera || !processedThisCameraAndLayer) {\n          renderedByCam[renderedLength] = camera;\n          renderedLayer[renderedLength] = layer;\n          renderedLength++;\n        }\n        visible = transparent ? objects.visibleTransparent[j] : objects.visibleOpaque[j];\n        if (!visible.done) {\n          if (layer.onPreCull) {\n            layer.onPreCull(j);\n          }\n          visible.length = this.cull(camera.camera, drawCalls, visible.list);\n          visible.done = true;\n          if (layer.onPostCull) {\n            layer.onPostCull(j);\n          }\n        }\n        camera.frameEnd();\n      }\n    }\n    var light, casters;\n    for (i = 0;i < comp._lights.length;i++) {\n      light = comp._lights[i];\n      if (!light.visibleThisFrame) {\n        continue;\n      }\n      if (light._type === pc.LIGHTTYPE_DIRECTIONAL) {\n        continue;\n      }\n      if (!light.castShadows || !light._enabled || light.shadowUpdateMode === pc.SHADOWUPDATE_NONE) {\n        continue;\n      }\n      casters = comp._lightShadowCasters[i];\n      this.cullLocalShadowmap(light, casters);\n    }\n    renderedLength = 0;\n    var globalLightCounter = -1;\n    for (i = 0;i < comp._lights.length;i++) {\n      light = comp._lights[i];\n      if (light._type !== pc.LIGHTTYPE_DIRECTIONAL) {\n        continue;\n      }\n      globalLightCounter++;\n      if (!light.castShadows || !light._enabled || light.shadowUpdateMode === pc.SHADOWUPDATE_NONE) {\n        continue;\n      }\n      casters = comp._lightShadowCasters[i];\n      cameras = comp._globalLightCameras[globalLightCounter];\n      for (j = 0;j < cameras.length;j++) {\n        this.cullDirectionalShadowmap(light, casters, cameras[j].camera, comp._globalLightCameraIds[globalLightCounter][j]);\n      }\n    }\n    this.gpuUpdate(comp._meshInstances);\n    this.renderShadows(comp._sortedLights[pc.LIGHTTYPE_SPOT]);\n    this.renderShadows(comp._sortedLights[pc.LIGHTTYPE_POINT]);\n    renderedLength = 0;\n    var cameraPass;\n    var sortTime, draws, drawTime;\n    for (i = 0;i < comp._renderList.length;i++) {\n      layer = comp.layerList[comp._renderList[i]];\n      if (!layer.enabled || !comp.subLayerEnabled[comp._renderList[i]]) {\n        continue;\n      }\n      objects = layer.instances;\n      transparent = comp.subLayerList[comp._renderList[i]];\n      cameraPass = comp._renderListCamera[i];\n      camera = layer.cameras[cameraPass];\n      if (camera) {\n        camera.frameBegin(layer.renderTarget);\n      }\n      if (!transparent && layer.onPreRenderOpaque) {\n        layer.onPreRenderOpaque(cameraPass);\n      } else {\n        if (transparent && layer.onPreRenderTransparent) {\n          layer.onPreRenderTransparent(cameraPass);\n        }\n      }\n      if (!(layer._preRenderCalledForCameras & 1 << cameraPass)) {\n        if (layer.onPreRender) {\n          layer.onPreRender(cameraPass);\n        }\n        layer._preRenderCalledForCameras |= 1 << cameraPass;\n        if (layer.overrideClear) {\n          this.clearView(camera, layer.renderTarget, layer._clearOptions);\n        }\n      }\n      if (camera) {\n        rt = layer.renderTarget;\n        processedThisCameraAndRt = false;\n        for (k = 0;k < renderedLength;k++) {\n          if (renderedRt[k] === rt && renderedByCam[k] === camera) {\n            processedThisCameraAndRt = true;\n            break;\n          }\n        }\n        if (!processedThisCameraAndRt) {\n          if (!layer.overrideClear) {\n            this.clearView(camera, layer.renderTarget);\n          }\n          renderedRt[renderedLength] = rt;\n          renderedByCam[renderedLength] = camera;\n          renderedLength++;\n        }\n        this.renderShadows(layer._sortedLights[pc.LIGHTTYPE_DIRECTIONAL], cameraPass);\n        layer._sortVisible(transparent, camera.node, cameraPass);\n        visible = transparent ? objects.visibleTransparent[cameraPass] : objects.visibleOpaque[cameraPass];\n        this.scene._activeCamera = camera.camera;\n        this.setCamera(camera.camera, layer.renderTarget);\n        this.renderForward(camera.camera, visible.list, visible.length, layer._sortedLights, layer.shaderPass, layer.cullingMask, layer.onDrawCall, layer);\n        device.setColorWrite(true, true, true, true);\n        device.setStencilTest(false);\n        device.setAlphaToCoverage(false);\n        device.setDepthBias(false);\n        camera.frameEnd();\n      }\n      if (!transparent && layer.onPostRenderOpaque) {\n        layer.onPostRenderOpaque(cameraPass);\n      } else {\n        if (transparent && layer.onPostRenderTransparent) {\n          layer.onPostRenderTransparent(cameraPass);\n        }\n      }\n      if (layer.onPostRender && !(layer._postRenderCalledForCameras & 1 << cameraPass)) {\n        layer._postRenderCounter &= ~(transparent ? 2 : 1);\n        if (layer._postRenderCounter === 0) {\n          layer.onPostRender(cameraPass);\n          layer._postRenderCalledForCameras |= 1 << cameraPass;\n          layer._postRenderCounter = layer._postRenderCounterMax;\n        }\n      }\n    }\n  }});\n  return {ForwardRenderer:ForwardRenderer, gaussWeights:gaussWeights};\n}());\nObject.assign(pc, function() {\n  var scaleCompensatePosTransform = new pc.Mat4;\n  var scaleCompensatePos = new pc.Vec3;\n  var scaleCompensateRot = new pc.Quat;\n  var scaleCompensateRot2 = new pc.Quat;\n  var scaleCompensateScale = new pc.Vec3;\n  var scaleCompensateScaleForParent = new pc.Vec3;\n  var tmpMat4 = new pc.Mat4;\n  var tmpQuat = new pc.Quat;\n  var GraphNode = function GraphNode(name) {\n    pc.EventHandler.call(this);\n    this.name = typeof name === \"string\" ? name : \"Untitled\";\n    this.tags = new pc.Tags(this);\n    this._labels = {};\n    this.localPosition = new pc.Vec3(0, 0, 0);\n    this.localRotation = new pc.Quat(0, 0, 0, 1);\n    this.localScale = new pc.Vec3(1, 1, 1);\n    this.localEulerAngles = new pc.Vec3(0, 0, 0);\n    this.position = new pc.Vec3(0, 0, 0);\n    this.rotation = new pc.Quat(0, 0, 0, 1);\n    this.eulerAngles = new pc.Vec3(0, 0, 0);\n    this._scale = null;\n    this.localTransform = new pc.Mat4;\n    this._dirtyLocal = false;\n    this._aabbVer = 0;\n    this._frozen = false;\n    this.worldTransform = new pc.Mat4;\n    this._dirtyWorld = false;\n    this.normalMatrix = new pc.Mat3;\n    this._dirtyNormal = true;\n    this._right = null;\n    this._up = null;\n    this._forward = null;\n    this._parent = null;\n    this._children = [];\n    this._graphDepth = 0;\n    this._enabled = true;\n    this._enabledInHierarchy = false;\n    this.scaleCompensation = false;\n  };\n  GraphNode.prototype = Object.create(pc.EventHandler.prototype);\n  GraphNode.prototype.constructor = GraphNode;\n  Object.defineProperty(GraphNode.prototype, \"right\", {get:function() {\n    if (!this._right) {\n      this._right = new pc.Vec3;\n    }\n    return this.getWorldTransform().getX(this._right).normalize();\n  }});\n  Object.defineProperty(GraphNode.prototype, \"up\", {get:function() {\n    if (!this._up) {\n      this._up = new pc.Vec3;\n    }\n    return this.getWorldTransform().getY(this._up).normalize();\n  }});\n  Object.defineProperty(GraphNode.prototype, \"forward\", {get:function() {\n    if (!this._forward) {\n      this._forward = new pc.Vec3;\n    }\n    return this.getWorldTransform().getZ(this._forward).normalize().scale(-1);\n  }});\n  Object.defineProperty(GraphNode.prototype, \"enabled\", {get:function() {\n    return this._enabled && this._enabledInHierarchy;\n  }, set:function(enabled) {\n    if (this._enabled !== enabled) {\n      this._enabled = enabled;\n      if (!this._parent || this._parent.enabled) {\n        this._notifyHierarchyStateChanged(this, enabled);\n      }\n    }\n  }});\n  Object.defineProperty(GraphNode.prototype, \"parent\", {get:function() {\n    return this._parent;\n  }});\n  Object.defineProperty(GraphNode.prototype, \"path\", {get:function() {\n    var parent = this._parent;\n    if (parent) {\n      var path = this.name;\n      var format = \"{0}/{1}\";\n      while (parent && parent._parent) {\n        path = pc.string.format(format, parent.name, path);\n        parent = parent._parent;\n      }\n      return path;\n    }\n    return \"\";\n  }});\n  Object.defineProperty(GraphNode.prototype, \"root\", {get:function() {\n    var parent = this._parent;\n    if (!parent) {\n      return this;\n    }\n    while (parent._parent) {\n      parent = parent._parent;\n    }\n    return parent;\n  }});\n  Object.defineProperty(GraphNode.prototype, \"children\", {get:function() {\n    return this._children;\n  }});\n  Object.defineProperty(GraphNode.prototype, \"graphDepth\", {get:function() {\n    return this._graphDepth;\n  }});\n  Object.assign(GraphNode.prototype, {_notifyHierarchyStateChanged:function(node, enabled) {\n    node._onHierarchyStateChanged(enabled);\n    var c = node._children;\n    for (var i = 0, len = c.length;i < len;i++) {\n      if (c[i]._enabled) {\n        this._notifyHierarchyStateChanged(c[i], enabled);\n      }\n    }\n  }, _onHierarchyStateChanged:function(enabled) {\n    this._enabledInHierarchy = enabled;\n    if (enabled && !this._frozen) {\n      this._unfreezeParentToRoot();\n    }\n  }, _cloneInternal:function(clone) {\n    clone.name = this.name;\n    var tags = this.tags._list;\n    for (var i = 0;i < tags.length;i++) {\n      clone.tags.add(tags[i]);\n    }\n    clone._labels = Object.assign({}, this._labels);\n    clone.localPosition.copy(this.localPosition);\n    clone.localRotation.copy(this.localRotation);\n    clone.localScale.copy(this.localScale);\n    clone.localEulerAngles.copy(this.localEulerAngles);\n    clone.position.copy(this.position);\n    clone.rotation.copy(this.rotation);\n    clone.eulerAngles.copy(this.eulerAngles);\n    clone.localTransform.copy(this.localTransform);\n    clone._dirtyLocal = this._dirtyLocal;\n    clone.worldTransform.copy(this.worldTransform);\n    clone._dirtyWorld = this._dirtyWorld;\n    clone._dirtyNormal = this._dirtyNormal;\n    clone._aabbVer = this._aabbVer + 1;\n    clone._enabled = this._enabled;\n    clone.scaleCompensation = this.scaleCompensation;\n    clone._enabledInHierarchy = false;\n  }, clone:function() {\n    var clone = new pc.GraphNode;\n    this._cloneInternal(clone);\n    return clone;\n  }, find:function(attr, value) {\n    var result, results = [];\n    var len = this._children.length;\n    var i, descendants;\n    if (attr instanceof Function) {\n      var fn = attr;\n      result = fn(this);\n      if (result) {\n        results.push(this);\n      }\n      for (i = 0;i < len;i++) {\n        descendants = this._children[i].find(fn);\n        if (descendants.length) {\n          results = results.concat(descendants);\n        }\n      }\n    } else {\n      var testValue;\n      if (this[attr]) {\n        if (this[attr] instanceof Function) {\n          testValue = this[attr]();\n        } else {\n          testValue = this[attr];\n        }\n        if (testValue === value) {\n          results.push(this);\n        }\n      }\n      for (i = 0;i < len;++i) {\n        descendants = this._children[i].find(attr, value);\n        if (descendants.length) {\n          results = results.concat(descendants);\n        }\n      }\n    }\n    return results;\n  }, findOne:function(attr, value) {\n    var i;\n    var len = this._children.length;\n    var result = null;\n    if (attr instanceof Function) {\n      var fn = attr;\n      result = fn(this);\n      if (result) {\n        return this;\n      }\n      for (i = 0;i < len;i++) {\n        result = this._children[i].findOne(fn);\n        if (result) {\n          return result;\n        }\n      }\n    } else {\n      var testValue;\n      if (this[attr]) {\n        if (this[attr] instanceof Function) {\n          testValue = this[attr]();\n        } else {\n          testValue = this[attr];\n        }\n        if (testValue === value) {\n          return this;\n        }\n      }\n      for (i = 0;i < len;i++) {\n        result = this._children[i].findOne(attr, value);\n        if (result !== null) {\n          return result;\n        }\n      }\n    }\n    return null;\n  }, findByTag:function() {\n    var tags = this.tags._processArguments(arguments);\n    return this._findByTag(tags);\n  }, _findByTag:function(tags) {\n    var result = [];\n    var i, len = this._children.length;\n    var descendants;\n    for (i = 0;i < len;i++) {\n      if (this._children[i].tags._has(tags)) {\n        result.push(this._children[i]);\n      }\n      descendants = this._children[i]._findByTag(tags);\n      if (descendants.length) {\n        result = result.concat(descendants);\n      }\n    }\n    return result;\n  }, findByName:function(name) {\n    if (this.name === name) {\n      return this;\n    }\n    for (var i = 0;i < this._children.length;i++) {\n      var found = this._children[i].findByName(name);\n      if (found !== null) {\n        return found;\n      }\n    }\n    return null;\n  }, findByPath:function(path) {\n    var parts = path.split(\"/\");\n    var currentParent = this;\n    var result = null;\n    for (var i = 0, imax = parts.length;i < imax && currentParent;i++) {\n      var part = parts[i];\n      result = null;\n      var children = currentParent._children;\n      for (var j = 0, jmax = children.length;j < jmax;j++) {\n        if (children[j].name == part) {\n          result = children[j];\n          break;\n        }\n      }\n      currentParent = result;\n    }\n    return result;\n  }, forEach:function(callback, thisArg) {\n    callback.call(thisArg, this);\n    var children = this._children;\n    for (var i = 0;i < children.length;i++) {\n      children[i].forEach(callback, thisArg);\n    }\n  }, isDescendantOf:function(node) {\n    var parent = this._parent;\n    while (parent) {\n      if (parent === node) {\n        return true;\n      }\n      parent = parent._parent;\n    }\n    return false;\n  }, isAncestorOf:function(node) {\n    return node.isDescendantOf(this);\n  }, getEulerAngles:function() {\n    this.getWorldTransform().getEulerAngles(this.eulerAngles);\n    return this.eulerAngles;\n  }, getLocalEulerAngles:function() {\n    this.localRotation.getEulerAngles(this.localEulerAngles);\n    return this.localEulerAngles;\n  }, getLocalPosition:function() {\n    return this.localPosition;\n  }, getLocalRotation:function() {\n    return this.localRotation;\n  }, getLocalScale:function() {\n    return this.localScale;\n  }, getLocalTransform:function() {\n    if (this._dirtyLocal) {\n      this.localTransform.setTRS(this.localPosition, this.localRotation, this.localScale);\n      this._dirtyLocal = false;\n    }\n    return this.localTransform;\n  }, getPosition:function() {\n    this.getWorldTransform().getTranslation(this.position);\n    return this.position;\n  }, getRotation:function() {\n    this.rotation.setFromMat4(this.getWorldTransform());\n    return this.rotation;\n  }, getScale:function() {\n    if (!this._scale) {\n      this._scale = new pc.Vec3;\n    }\n    return this.getWorldTransform().getScale(this._scale);\n  }, getWorldTransform:function() {\n    if (!this._dirtyLocal && !this._dirtyWorld) {\n      return this.worldTransform;\n    }\n    if (this._parent) {\n      this._parent.getWorldTransform();\n    }\n    this._sync();\n    return this.worldTransform;\n  }, reparent:function(parent, index) {\n    var current = this._parent;\n    if (current) {\n      current.removeChild(this);\n    }\n    if (parent) {\n      if (index >= 0) {\n        parent.insertChild(this, index);\n      } else {\n        parent.addChild(this);\n      }\n    }\n  }, setLocalEulerAngles:function(x, y, z) {\n    if (x instanceof pc.Vec3) {\n      this.localRotation.setFromEulerAngles(x.x, x.y, x.z);\n    } else {\n      this.localRotation.setFromEulerAngles(x, y, z);\n    }\n    if (!this._dirtyLocal) {\n      this._dirtifyLocal();\n    }\n  }, setLocalPosition:function(x, y, z) {\n    if (x instanceof pc.Vec3) {\n      this.localPosition.copy(x);\n    } else {\n      this.localPosition.set(x, y, z);\n    }\n    if (!this._dirtyLocal) {\n      this._dirtifyLocal();\n    }\n  }, setLocalRotation:function(x, y, z, w) {\n    if (x instanceof pc.Quat) {\n      this.localRotation.copy(x);\n    } else {\n      this.localRotation.set(x, y, z, w);\n    }\n    if (!this._dirtyLocal) {\n      this._dirtifyLocal();\n    }\n  }, setLocalScale:function(x, y, z) {\n    if (x instanceof pc.Vec3) {\n      this.localScale.copy(x);\n    } else {\n      this.localScale.set(x, y, z);\n    }\n    if (!this._dirtyLocal) {\n      this._dirtifyLocal();\n    }\n  }, _dirtifyLocal:function() {\n    if (!this._dirtyLocal) {\n      this._dirtyLocal = true;\n      if (!this._dirtyWorld) {\n        this._dirtifyWorld();\n      }\n    }\n  }, _unfreezeParentToRoot:function() {\n    var p = this._parent;\n    while (p) {\n      p._frozen = false;\n      p = p._parent;\n    }\n  }, _dirtifyWorld:function() {\n    if (!this._dirtyWorld) {\n      this._unfreezeParentToRoot();\n    }\n    this._dirtifyWorldInternal();\n  }, _dirtifyWorldInternal:function() {\n    if (!this._dirtyWorld) {\n      this._frozen = false;\n      this._dirtyWorld = true;\n      for (var i = 0;i < this._children.length;i++) {\n        if (!this._children[i]._dirtyWorld) {\n          this._children[i]._dirtifyWorldInternal();\n        }\n      }\n    }\n    this._dirtyNormal = true;\n    this._aabbVer++;\n  }, setPosition:function() {\n    var position = new pc.Vec3;\n    var invParentWtm = new pc.Mat4;\n    return function(x, y, z) {\n      if (x instanceof pc.Vec3) {\n        position.copy(x);\n      } else {\n        position.set(x, y, z);\n      }\n      if (this._parent === null) {\n        this.localPosition.copy(position);\n      } else {\n        invParentWtm.copy(this._parent.getWorldTransform()).invert();\n        invParentWtm.transformPoint(position, this.localPosition);\n      }\n      if (!this._dirtyLocal) {\n        this._dirtifyLocal();\n      }\n    };\n  }(), setRotation:function() {\n    var rotation = new pc.Quat;\n    var invParentRot = new pc.Quat;\n    return function(x, y, z, w) {\n      if (x instanceof pc.Quat) {\n        rotation.copy(x);\n      } else {\n        rotation.set(x, y, z, w);\n      }\n      if (this._parent === null) {\n        this.localRotation.copy(rotation);\n      } else {\n        var parentRot = this._parent.getRotation();\n        invParentRot.copy(parentRot).invert();\n        this.localRotation.copy(invParentRot).mul(rotation);\n      }\n      if (!this._dirtyLocal) {\n        this._dirtifyLocal();\n      }\n    };\n  }(), setEulerAngles:function() {\n    var invParentRot = new pc.Quat;\n    return function(x, y, z) {\n      if (x instanceof pc.Vec3) {\n        this.localRotation.setFromEulerAngles(x.x, x.y, x.z);\n      } else {\n        this.localRotation.setFromEulerAngles(x, y, z);\n      }\n      if (this._parent !== null) {\n        var parentRot = this._parent.getRotation();\n        invParentRot.copy(parentRot).invert();\n        this.localRotation.mul2(invParentRot, this.localRotation);\n      }\n      if (!this._dirtyLocal) {\n        this._dirtifyLocal();\n      }\n    };\n  }(), addChild:function(node) {\n    if (node._parent !== null) {\n      throw new Error(\"GraphNode is already parented\");\n    }\n    this._children.push(node);\n    this._onInsertChild(node);\n  }, addChildAndSaveTransform:function(node) {\n    var wPos = node.getPosition();\n    var wRot = node.getRotation();\n    var current = node._parent;\n    if (current) {\n      current.removeChild(node);\n    }\n    node.setPosition(tmpMat4.copy(this.worldTransform).invert().transformPoint(wPos));\n    node.setRotation(tmpQuat.copy(this.getRotation()).invert().mul(wRot));\n    this._children.push(node);\n    this._onInsertChild(node);\n  }, insertChild:function(node, index) {\n    if (node._parent !== null) {\n      throw new Error(\"GraphNode is already parented\");\n    }\n    this._children.splice(index, 0, node);\n    this._onInsertChild(node);\n  }, _onInsertChild:function(node) {\n    node._parent = this;\n    var enabledInHierarchy = node._enabled && this.enabled;\n    if (node._enabledInHierarchy !== enabledInHierarchy) {\n      node._enabledInHierarchy = enabledInHierarchy;\n      node._notifyHierarchyStateChanged(node, enabledInHierarchy);\n    }\n    node._updateGraphDepth();\n    node._dirtifyWorld();\n    if (this._frozen) {\n      node._unfreezeParentToRoot();\n    }\n    if (node.fire) {\n      node.fire(\"insert\", this);\n    }\n    if (this.fire) {\n      this.fire(\"childinsert\", node);\n    }\n  }, _updateGraphDepth:function() {\n    if (this._parent) {\n      this._graphDepth = this._parent._graphDepth + 1;\n    } else {\n      this._graphDepth = 0;\n    }\n    for (var i = 0, len = this._children.length;i < len;i++) {\n      this._children[i]._updateGraphDepth();\n    }\n  }, removeChild:function(child) {\n    var i;\n    var length = this._children.length;\n    for (i = 0;i < length;++i) {\n      if (this._children[i] === child) {\n        this._children.splice(i, 1);\n        child._parent = null;\n        if (this.fire) {\n          this.fire(\"childremove\", child);\n        }\n        return;\n      }\n    }\n  }, _sync:function() {\n    if (this._dirtyLocal) {\n      this.localTransform.setTRS(this.localPosition, this.localRotation, this.localScale);\n      this._dirtyLocal = false;\n    }\n    if (this._dirtyWorld) {\n      if (this._parent === null) {\n        this.worldTransform.copy(this.localTransform);\n      } else {\n        if (this.scaleCompensation) {\n          var parentWorldScale;\n          var parent = this._parent;\n          var scale = this.localScale;\n          var parentToUseScaleFrom = parent;\n          if (parentToUseScaleFrom) {\n            while (parentToUseScaleFrom && parentToUseScaleFrom.scaleCompensation) {\n              parentToUseScaleFrom = parentToUseScaleFrom._parent;\n            }\n            if (parentToUseScaleFrom) {\n              parentToUseScaleFrom = parentToUseScaleFrom._parent;\n              if (parentToUseScaleFrom) {\n                parentWorldScale = parentToUseScaleFrom.worldTransform.getScale();\n                scaleCompensateScale.mul2(parentWorldScale, this.localScale);\n                scale = scaleCompensateScale;\n              }\n            }\n          }\n          scaleCompensateRot2.setFromMat4(parent.worldTransform);\n          scaleCompensateRot.mul2(scaleCompensateRot2, this.localRotation);\n          var tmatrix = parent.worldTransform;\n          if (parent.scaleCompensation) {\n            scaleCompensateScaleForParent.mul2(parentWorldScale, parent.getLocalScale());\n            scaleCompensatePosTransform.setTRS(parent.worldTransform.getTranslation(scaleCompensatePos), scaleCompensateRot2, scaleCompensateScaleForParent);\n            tmatrix = scaleCompensatePosTransform;\n          }\n          tmatrix.transformPoint(this.localPosition, scaleCompensatePos);\n          this.worldTransform.setTRS(scaleCompensatePos, scaleCompensateRot, scale);\n        } else {\n          this.worldTransform.mul2(this._parent.worldTransform, this.localTransform);\n        }\n      }\n      this._dirtyWorld = false;\n    }\n  }, syncHierarchy:function() {\n    if (!this._enabled) {\n      return;\n    }\n    if (this._frozen) {\n      return;\n    }\n    this._frozen = true;\n    if (this._dirtyLocal || this._dirtyWorld) {\n      this._sync();\n    }\n    var children = this._children;\n    for (var i = 0, len = children.length;i < len;i++) {\n      children[i].syncHierarchy();\n    }\n  }, lookAt:function() {\n    var matrix = new pc.Mat4;\n    var target = new pc.Vec3;\n    var up = new pc.Vec3;\n    var rotation = new pc.Quat;\n    return function(tx, ty, tz, ux, uy, uz) {\n      if (tx instanceof pc.Vec3) {\n        target.copy(tx);\n        if (ty instanceof pc.Vec3) {\n          up.copy(ty);\n        } else {\n          up.copy(pc.Vec3.UP);\n        }\n      } else {\n        if (tz === undefined) {\n          return;\n        } else {\n          target.set(tx, ty, tz);\n          if (ux !== undefined) {\n            up.set(ux, uy, uz);\n          } else {\n            up.copy(pc.Vec3.UP);\n          }\n        }\n      }\n      matrix.setLookAt(this.getPosition(), target, up);\n      rotation.setFromMat4(matrix);\n      this.setRotation(rotation);\n    };\n  }(), translate:function() {\n    var translation = new pc.Vec3;\n    return function(x, y, z) {\n      if (x instanceof pc.Vec3) {\n        translation.copy(x);\n      } else {\n        translation.set(x, y, z);\n      }\n      translation.add(this.getPosition());\n      this.setPosition(translation);\n    };\n  }(), translateLocal:function() {\n    var translation = new pc.Vec3;\n    return function(x, y, z) {\n      if (x instanceof pc.Vec3) {\n        translation.copy(x);\n      } else {\n        translation.set(x, y, z);\n      }\n      this.localRotation.transformVector(translation, translation);\n      this.localPosition.add(translation);\n      if (!this._dirtyLocal) {\n        this._dirtifyLocal();\n      }\n    };\n  }(), rotate:function() {\n    var quaternion = new pc.Quat;\n    var invParentRot = new pc.Quat;\n    return function(x, y, z) {\n      if (x instanceof pc.Vec3) {\n        quaternion.setFromEulerAngles(x.x, x.y, x.z);\n      } else {\n        quaternion.setFromEulerAngles(x, y, z);\n      }\n      if (this._parent === null) {\n        this.localRotation.mul2(quaternion, this.localRotation);\n      } else {\n        var rot = this.getRotation();\n        var parentRot = this._parent.getRotation();\n        invParentRot.copy(parentRot).invert();\n        quaternion.mul2(invParentRot, quaternion);\n        this.localRotation.mul2(quaternion, rot);\n      }\n      if (!this._dirtyLocal) {\n        this._dirtifyLocal();\n      }\n    };\n  }(), rotateLocal:function() {\n    var quaternion = new pc.Quat;\n    return function(x, y, z) {\n      if (x instanceof pc.Vec3) {\n        quaternion.setFromEulerAngles(x.x, x.y, x.z);\n      } else {\n        quaternion.setFromEulerAngles(x, y, z);\n      }\n      this.localRotation.mul(quaternion);\n      if (!this._dirtyLocal) {\n        this._dirtifyLocal();\n      }\n    };\n  }()});\n  return {GraphNode:GraphNode};\n}());\nObject.assign(pc, function() {\n  var _deviceCoord = new pc.Vec3;\n  var _far = new pc.Vec3;\n  var _farW = new pc.Vec3;\n  var _invViewProjMat = new pc.Mat4;\n  var Camera = function() {\n    this._projection = pc.PROJECTION_PERSPECTIVE;\n    this._nearClip = 0.1;\n    this._farClip = 10000;\n    this._shaderParams = new Float32Array(4);\n    this._fov = 45;\n    this._orthoHeight = 10;\n    this._aspect = 16 / 9;\n    this._aspectRatioMode = pc.ASPECT_AUTO;\n    this._horizontalFov = false;\n    this.frustumCulling = false;\n    this.cullingMask = 4294967295;\n    this._renderDepthRequests = 0;\n    this._projMatDirty = true;\n    this._projMat = new pc.Mat4;\n    this._viewMatDirty = true;\n    this._viewMat = new pc.Mat4;\n    this._viewProjMatDirty = true;\n    this._viewProjMat = new pc.Mat4;\n    this.vrDisplay = null;\n    this._rect = {x:0, y:0, width:1, height:1};\n    this._scissorRect = {x:0, y:0, width:1, height:1};\n    this.frustum = new pc.Frustum(this._projMat, this._viewMat);\n    this.renderTarget = null;\n    this._depthTarget = null;\n    this._clearOptions = {color:[0.5, 0.5, 0.5, 1.0], depth:1.0, stencil:0, flags:pc.CLEARFLAG_COLOR | pc.CLEARFLAG_DEPTH | pc.CLEARFLAG_STENCIL};\n    this._node = null;\n    this.calculateTransform = null;\n    this.overrideCalculateTransform = false;\n    this.calculateProjection = null;\n    this.overrideCalculateProjection = false;\n    this._cullFaces = true;\n    this._flipFaces = false;\n    this._component = null;\n  };\n  Object.assign(Camera.prototype, {clone:function() {\n    var clone = new pc.Camera;\n    clone.projection = this._projection;\n    clone.nearClip = this._nearClip;\n    clone.farClip = this._farClip;\n    clone._shaderParams = this._shaderParams.slice();\n    clone.fov = this._fov;\n    clone.aspectRatio = this._aspect;\n    clone._aspectRatioMode = this._aspectRatioMode;\n    clone.renderTarget = this.renderTarget;\n    clone.setClearOptions(this.getClearOptions());\n    clone.frustumCulling = this.frustumCulling;\n    clone.cullingMask = this.cullingMask;\n    return clone;\n  }, worldToScreen:function(worldCoord, cw, ch, screenCoord) {\n    if (screenCoord === undefined) {\n      screenCoord = new pc.Vec3;\n    }\n    if (this._projMatDirty || this._viewMatDirty || this._viewProjMatDirty) {\n      var projMat = this.getProjectionMatrix();\n      var viewMat = this.getViewMatrix();\n      this._viewProjMat.mul2(projMat, viewMat);\n      this._viewProjMatDirty = false;\n    }\n    this._viewProjMat.transformPoint(worldCoord, screenCoord);\n    var vpm = this._viewProjMat.data;\n    var w = worldCoord.x * vpm[3] + worldCoord.y * vpm[7] + worldCoord.z * vpm[11] + 1 * vpm[15];\n    screenCoord.x = (screenCoord.x / w + 1) * 0.5 * cw;\n    screenCoord.y = (1 - screenCoord.y / w) * 0.5 * ch;\n    return screenCoord;\n  }, screenToWorld:function(x, y, z, cw, ch, worldCoord) {\n    if (worldCoord === undefined) {\n      worldCoord = new pc.Vec3;\n    }\n    if (this._projMatDirty || this._viewMatDirty || this._viewProjMatDirty) {\n      var projMat = this.getProjectionMatrix();\n      var viewMat = this.getViewMatrix();\n      this._viewProjMat.mul2(projMat, viewMat);\n      this._viewProjMatDirty = false;\n    }\n    _invViewProjMat.copy(this._viewProjMat).invert();\n    if (this._projection === pc.PROJECTION_PERSPECTIVE) {\n      _far.set(x / cw * 2 - 1, (ch - y) / ch * 2 - 1, 1);\n      _invViewProjMat.transformPoint(_far, _farW);\n      var w = _far.x * _invViewProjMat.data[3] + _far.y * _invViewProjMat.data[7] + _far.z * _invViewProjMat.data[11] + _invViewProjMat.data[15];\n      _farW.scale(1 / w);\n      var alpha = z / this._farClip;\n      worldCoord.lerp(this._node.getPosition(), _farW, alpha);\n    } else {\n      var range = this._farClip - this._nearClip;\n      _deviceCoord.set(x / cw, (ch - y) / ch, z / range);\n      _deviceCoord.scale(2);\n      _deviceCoord.sub(pc.Vec3.ONE);\n      _invViewProjMat.transformPoint(_deviceCoord, worldCoord);\n    }\n    return worldCoord;\n  }, getClearOptions:function() {\n    return this._clearOptions;\n  }, getProjectionMatrix:function() {\n    if (this._projMatDirty) {\n      if (this._projection === pc.PROJECTION_PERSPECTIVE) {\n        this._projMat.setPerspective(this._fov, this._aspect, this._nearClip, this._farClip, this._horizontalFov);\n      } else {\n        var y = this._orthoHeight;\n        var x = y * this._aspect;\n        this._projMat.setOrtho(-x, x, -y, y, this._nearClip, this._farClip);\n      }\n      var n = this._nearClip;\n      var f = this._farClip;\n      this._shaderParams[0] = 1 / f;\n      this._shaderParams[1] = f;\n      this._shaderParams[2] = (1 - f / n) / 2;\n      this._shaderParams[3] = (1 + f / n) / 2;\n      this._projMatDirty = false;\n    }\n    return this._projMat;\n  }, getViewMatrix:function() {\n    if (this._viewMatDirty) {\n      var wtm = this._node.getWorldTransform();\n      this._viewMat.copy(wtm).invert();\n      this._viewMatDirty = false;\n    }\n    return this._viewMat;\n  }, getRect:function() {\n    return this._rect;\n  }, setClearOptions:function(options) {\n    this._clearOptions.color[0] = options.color[0];\n    this._clearOptions.color[1] = options.color[1];\n    this._clearOptions.color[2] = options.color[2];\n    this._clearOptions.color[3] = options.color[3];\n    this._clearOptions.depth = options.depth;\n    this._clearOptions.stencil = options.stencil;\n    this._clearOptions.flags = options.flags;\n  }, setRect:function(x, y, width, height) {\n    this._rect.x = x;\n    this._rect.y = y;\n    this._rect.width = width;\n    this._rect.height = height;\n  }, setScissorRect:function(x, y, width, height) {\n    this._scissorRect.x = x;\n    this._scissorRect.y = y;\n    this._scissorRect.width = width;\n    this._scissorRect.height = height;\n  }, requestDepthMap:function() {\n    this._renderDepthRequests++;\n  }, releaseDepthMap:function() {\n    this._renderDepthRequests--;\n  }});\n  Object.defineProperty(Camera.prototype, \"aspectRatio\", {get:function() {\n    return this._aspect;\n  }, set:function(v) {\n    if (this._aspect !== v) {\n      this._aspect = v;\n      this._projMatDirty = true;\n    }\n  }});\n  Object.defineProperty(Camera.prototype, \"projection\", {get:function() {\n    return this._projection;\n  }, set:function(v) {\n    if (this._projection !== v) {\n      this._projection = v;\n      this._projMatDirty = true;\n    }\n  }});\n  Object.defineProperty(Camera.prototype, \"nearClip\", {get:function() {\n    return this._nearClip;\n  }, set:function(v) {\n    if (this._nearClip !== v) {\n      this._nearClip = v;\n      this._projMatDirty = true;\n    }\n  }});\n  Object.defineProperty(Camera.prototype, \"farClip\", {get:function() {\n    return this._farClip;\n  }, set:function(v) {\n    if (this._farClip !== v) {\n      this._farClip = v;\n      this._projMatDirty = true;\n    }\n  }});\n  Object.defineProperty(Camera.prototype, \"fov\", {get:function() {\n    return this._fov;\n  }, set:function(v) {\n    if (this._fov !== v) {\n      this._fov = v;\n      this._projMatDirty = true;\n    }\n  }});\n  Object.defineProperty(Camera.prototype, \"horizontalFov\", {get:function() {\n    return this._horizontalFov;\n  }, set:function(v) {\n    if (this._horizontalFov !== v) {\n      this._horizontalFov = v;\n      this._projMatDirty = true;\n    }\n  }});\n  Object.defineProperty(Camera.prototype, \"orthoHeight\", {get:function() {\n    return this._orthoHeight;\n  }, set:function(v) {\n    if (this._orthoHeight !== v) {\n      this._orthoHeight = v;\n      this._projMatDirty = true;\n    }\n  }});\n  Object.defineProperty(Camera.prototype, \"clearColor\", {get:function() {\n    return this._clearOptions.color;\n  }, set:function(v) {\n    this._clearOptions.color[0] = v[0];\n    this._clearOptions.color[1] = v[1];\n    this._clearOptions.color[2] = v[2];\n    this._clearOptions.color[3] = v[3];\n  }});\n  Object.defineProperty(Camera.prototype, \"clearDepth\", {get:function() {\n    return this._clearOptions.depth;\n  }, set:function(v) {\n    this._clearOptions.depth = v;\n  }});\n  Object.defineProperty(Camera.prototype, \"clearStencil\", {get:function() {\n    return this._clearOptions.stencil;\n  }, set:function(v) {\n    this._clearOptions.stencil = v;\n  }});\n  Object.defineProperty(Camera.prototype, \"clearFlags\", {get:function() {\n    return this._clearOptions.flags;\n  }, set:function(v) {\n    this._clearOptions.flags = v;\n  }});\n  return {Camera:Camera};\n}());\nObject.assign(pc, function() {\n  var spotCenter = new pc.Vec3;\n  var spotEndPoint = new pc.Vec3;\n  var tmpVec = new pc.Vec3;\n  var chanId = {r:0, g:1, b:2, a:3};\n  var Light = function Light() {\n    this._type = pc.LIGHTTYPE_DIRECTIONAL;\n    this._color = new pc.Color(0.8, 0.8, 0.8);\n    this._intensity = 1;\n    this._castShadows = false;\n    this._enabled = false;\n    this._mask = 1;\n    this.isStatic = false;\n    this.key = 0;\n    this.bakeDir = true;\n    this.attenuationStart = 10;\n    this.attenuationEnd = 10;\n    this._falloffMode = 0;\n    this._shadowType = pc.SHADOW_PCF3;\n    this._vsmBlurSize = 11;\n    this.vsmBlurMode = pc.BLUR_GAUSSIAN;\n    this.vsmBias = 0.01 * 0.25;\n    this._cookie = null;\n    this.cookieIntensity = 1;\n    this._cookieFalloff = true;\n    this._cookieChannel = \"rgb\";\n    this._cookieTransform = null;\n    this._cookieTransformUniform = new Float32Array(4);\n    this._cookieOffset = null;\n    this._cookieOffsetUniform = new Float32Array(2);\n    this._cookieTransformSet = false;\n    this._cookieOffsetSet = false;\n    this._innerConeAngle = 40;\n    this._outerConeAngle = 45;\n    this._finalColor = new Float32Array([0.8, 0.8, 0.8]);\n    var c = Math.pow(this._finalColor[0], 2.2);\n    this._linearFinalColor = new Float32Array([c, c, c]);\n    this._position = new pc.Vec3(0, 0, 0);\n    this._direction = new pc.Vec3(0, 0, 0);\n    this._innerConeAngleCos = Math.cos(this._innerConeAngle * Math.PI / 180);\n    this._outerConeAngleCos = Math.cos(this._outerConeAngle * Math.PI / 180);\n    this._shadowCamera = null;\n    this._shadowMatrix = new pc.Mat4;\n    this.shadowDistance = 40;\n    this._shadowResolution = 1024;\n    this.shadowBias = -0.0005;\n    this._normalOffsetBias = 0.0;\n    this.shadowUpdateMode = pc.SHADOWUPDATE_REALTIME;\n    this._scene = null;\n    this._node = null;\n    this._rendererParams = [];\n    this._isVsm = false;\n    this._isPcf = true;\n    this._cacheShadowMap = false;\n    this._isCachedShadowMap = false;\n    this._visibleLength = [0];\n    this._visibleList = [[]];\n    this._visibleCameraSettings = [];\n  };\n  Object.assign(Light.prototype, {destroy:function() {\n    this._destroyShadowMap();\n  }, clone:function() {\n    var clone = new pc.Light;\n    clone.type = this._type;\n    clone.setColor(this._color);\n    clone.intensity = this._intensity;\n    clone.castShadows = this.castShadows;\n    clone.enabled = this._enabled;\n    clone.attenuationStart = this.attenuationStart;\n    clone.attenuationEnd = this.attenuationEnd;\n    clone.falloffMode = this._falloffMode;\n    clone.shadowType = this._shadowType;\n    clone.vsmBlurSize = this._vsmBlurSize;\n    clone.vsmBlurMode = this.vsmBlurMode;\n    clone.vsmBias = this.vsmBias;\n    clone.shadowUpdateMode = this.shadowUpdateMode;\n    clone.mask = this._mask;\n    clone.innerConeAngle = this._innerConeAngle;\n    clone.outerConeAngle = this._outerConeAngle;\n    clone.shadowBias = this.shadowBias;\n    clone.normalOffsetBias = this._normalOffsetBias;\n    clone.shadowResolution = this._shadowResolution;\n    clone.shadowDistance = this.shadowDistance;\n    return clone;\n  }, getColor:function() {\n    return this._color;\n  }, getBoundingSphere:function(sphere) {\n    if (this._type === pc.LIGHTTYPE_SPOT) {\n      var range = this.attenuationEnd;\n      var angle = this._outerConeAngle;\n      var f = Math.cos(angle * pc.math.DEG_TO_RAD);\n      var node = this._node;\n      spotCenter.copy(node.up);\n      spotCenter.scale(-range * 0.5 * f);\n      spotCenter.add(node.getPosition());\n      sphere.center = spotCenter;\n      spotEndPoint.copy(node.up);\n      spotEndPoint.scale(-range);\n      tmpVec.copy(node.right);\n      tmpVec.scale(Math.sin(angle * pc.math.DEG_TO_RAD) * range);\n      spotEndPoint.add(tmpVec);\n      sphere.radius = spotEndPoint.length() * 0.5;\n    } else {\n      if (this._type === pc.LIGHTTYPE_POINT) {\n        sphere.center = this._node.getPosition();\n        sphere.radius = this.attenuationEnd;\n      }\n    }\n  }, getBoundingBox:function(box) {\n    if (this._type === pc.LIGHTTYPE_SPOT) {\n      var range = this.attenuationEnd;\n      var angle = this._outerConeAngle;\n      var node = this._node;\n      var scl = Math.abs(Math.sin(angle * pc.math.DEG_TO_RAD) * range);\n      box.center.set(0, -range * 0.5, 0);\n      box.halfExtents.set(scl, range * 0.5, scl);\n      box.setFromTransformedAabb(box, node.getWorldTransform());\n    } else {\n      if (this._type === pc.LIGHTTYPE_POINT) {\n        box.center.copy(this._node.getPosition());\n        box.halfExtents.set(this.attenuationEnd, this.attenuationEnd, this.attenuationEnd);\n      }\n    }\n  }, _updateFinalColor:function() {\n    var color = this._color;\n    var r = color.r;\n    var g = color.g;\n    var b = color.b;\n    var i = this._intensity;\n    var finalColor = this._finalColor;\n    var linearFinalColor = this._linearFinalColor;\n    finalColor[0] = r * i;\n    finalColor[1] = g * i;\n    finalColor[2] = b * i;\n    if (i >= 1) {\n      linearFinalColor[0] = Math.pow(r, 2.2) * i;\n      linearFinalColor[1] = Math.pow(g, 2.2) * i;\n      linearFinalColor[2] = Math.pow(b, 2.2) * i;\n    } else {\n      linearFinalColor[0] = Math.pow(finalColor[0], 2.2);\n      linearFinalColor[1] = Math.pow(finalColor[1], 2.2);\n      linearFinalColor[2] = Math.pow(finalColor[2], 2.2);\n    }\n  }, setColor:function() {\n    var r, g, b;\n    if (arguments.length === 1) {\n      r = arguments[0].r;\n      g = arguments[0].g;\n      b = arguments[0].b;\n    } else {\n      if (arguments.length === 3) {\n        r = arguments[0];\n        g = arguments[1];\n        b = arguments[2];\n      }\n    }\n    this._color.set(r, g, b);\n    this._updateFinalColor();\n  }, _destroyShadowMap:function() {\n    if (this._shadowCamera) {\n      if (!this._isCachedShadowMap) {\n        var rt = this._shadowCamera.renderTarget;\n        var i;\n        if (rt) {\n          if (rt.length) {\n            for (i = 0;i < rt.length;i++) {\n              if (rt[i].colorBuffer) {\n                rt[i].colorBuffer.destroy();\n              }\n              rt[i].destroy();\n            }\n          } else {\n            if (rt.colorBuffer) {\n              rt.colorBuffer.destroy();\n            }\n            if (rt.depthBuffer) {\n              rt.depthBuffer.destroy();\n            }\n            rt.destroy();\n          }\n        }\n      }\n      this._shadowCamera.renderTarget = null;\n      this._shadowCamera = null;\n      this._shadowCubeMap = null;\n      if (this.shadowUpdateMode === pc.SHADOWUPDATE_NONE) {\n        this.shadowUpdateMode = pc.SHADOWUPDATE_THISFRAME;\n      }\n    }\n  }, updateShadow:function() {\n    if (this.shadowUpdateMode !== pc.SHADOWUPDATE_REALTIME) {\n      this.shadowUpdateMode = pc.SHADOWUPDATE_THISFRAME;\n    }\n  }, updateKey:function() {\n    var key = this._type << 29 | (this._castShadows ? 1 : 0) << 28 | this._shadowType << 25 | this._falloffMode << 23 | (this._normalOffsetBias !== 0.0 ? 1 : 0) << 22 | (this._cookie ? 1 : 0) << 21 | (this._cookieFalloff ? 1 : 0) << 20 | chanId[this._cookieChannel.charAt(0)] << 18 | (this._cookieTransform ? 1 : 0) << 12;\n    if (this._cookieChannel.length === 3) {\n      key |= chanId[this._cookieChannel.charAt(1)] << 16;\n      key |= chanId[this._cookieChannel.charAt(2)] << 14;\n    }\n    if (key !== this.key && this._scene !== null) {\n      this._scene.layers._dirtyLights = true;\n    }\n    this.key = key;\n  }});\n  Object.defineProperty(Light.prototype, \"enabled\", {get:function() {\n    return this._type;\n  }, set:function(value) {\n    if (this._type === value) {\n      return;\n    }\n    this._enabled = value;\n  }});\n  Object.defineProperty(Light.prototype, \"type\", {get:function() {\n    return this._type;\n  }, set:function(value) {\n    if (this._type === value) {\n      return;\n    }\n    this._type = value;\n    this._destroyShadowMap();\n    this.updateKey();\n    var stype = this._shadowType;\n    this._shadowType = null;\n    this.shadowType = stype;\n  }});\n  Object.defineProperty(Light.prototype, \"mask\", {get:function() {\n    return this._mask;\n  }, set:function(value) {\n    if (this._mask === value) {\n      return;\n    }\n    this._mask = value;\n  }});\n  Object.defineProperty(Light.prototype, \"shadowType\", {get:function() {\n    return this._shadowType;\n  }, set:function(value) {\n    if (this._shadowType === value) {\n      return;\n    }\n    var device = pc.Application.getApplication().graphicsDevice;\n    if (this._type === pc.LIGHTTYPE_POINT) {\n      value = pc.SHADOW_PCF3;\n    }\n    if (value === pc.SHADOW_PCF5 && !device.webgl2) {\n      value = pc.SHADOW_PCF3;\n    }\n    if (value === pc.SHADOW_VSM32 && !device.textureFloatRenderable) {\n      value = pc.SHADOW_VSM16;\n    }\n    if (value === pc.SHADOW_VSM16 && !device.textureHalfFloatRenderable) {\n      value = pc.SHADOW_VSM8;\n    }\n    this._isVsm = value >= pc.SHADOW_VSM8 && value <= pc.SHADOW_VSM32;\n    this._isPcf = value === pc.SHADOW_PCF5 || value === pc.SHADOW_PCF3;\n    this._shadowType = value;\n    this._destroyShadowMap();\n    this.updateKey();\n  }});\n  Object.defineProperty(Light.prototype, \"castShadows\", {get:function() {\n    return this._castShadows && this._mask !== pc.MASK_LIGHTMAP && this._mask !== 0;\n  }, set:function(value) {\n    if (this._castShadows === value) {\n      return;\n    }\n    this._castShadows = value;\n    this.updateKey();\n  }});\n  Object.defineProperty(Light.prototype, \"shadowResolution\", {get:function() {\n    return this._shadowResolution;\n  }, set:function(value) {\n    if (this._shadowResolution === value) {\n      return;\n    }\n    var device = pc.Application.getApplication().graphicsDevice;\n    if (this._type === pc.LIGHTTYPE_POINT) {\n      value = Math.min(value, device.maxCubeMapSize);\n    } else {\n      value = Math.min(value, device.maxTextureSize);\n    }\n    this._shadowResolution = value;\n  }});\n  Object.defineProperty(Light.prototype, \"vsmBlurSize\", {get:function() {\n    return this._vsmBlurSize;\n  }, set:function(value) {\n    if (this._vsmBlurSize === value) {\n      return;\n    }\n    if (value % 2 === 0) {\n      value++;\n    }\n    this._vsmBlurSize = value;\n  }});\n  Object.defineProperty(Light.prototype, \"normalOffsetBias\", {get:function() {\n    return this._normalOffsetBias;\n  }, set:function(value) {\n    if (this._normalOffsetBias === value) {\n      return;\n    }\n    if (!this._normalOffsetBias && value || this._normalOffsetBias && !value) {\n      this.updateKey();\n    }\n    this._normalOffsetBias = value;\n  }});\n  Object.defineProperty(Light.prototype, \"falloffMode\", {get:function() {\n    return this._falloffMode;\n  }, set:function(value) {\n    if (this._falloffMode === value) {\n      return;\n    }\n    this._falloffMode = value;\n    this.updateKey();\n  }});\n  Object.defineProperty(Light.prototype, \"innerConeAngle\", {get:function() {\n    return this._innerConeAngle;\n  }, set:function(value) {\n    if (this._innerConeAngle === value) {\n      return;\n    }\n    this._innerConeAngle = value;\n    this._innerConeAngleCos = Math.cos(value * Math.PI / 180);\n  }});\n  Object.defineProperty(Light.prototype, \"outerConeAngle\", {get:function() {\n    return this._outerConeAngle;\n  }, set:function(value) {\n    if (this._outerConeAngle === value) {\n      return;\n    }\n    this._outerConeAngle = value;\n    this._outerConeAngleCos = Math.cos(value * Math.PI / 180);\n  }});\n  Object.defineProperty(Light.prototype, \"intensity\", {get:function() {\n    return this._intensity;\n  }, set:function(value) {\n    if (this._intensity !== value) {\n      this._intensity = value;\n      this._updateFinalColor();\n    }\n  }});\n  Object.defineProperty(Light.prototype, \"cookie\", {get:function() {\n    return this._cookie;\n  }, set:function(value) {\n    if (this._cookie === value) {\n      return;\n    }\n    this._cookie = value;\n    this.updateKey();\n  }});\n  Object.defineProperty(Light.prototype, \"cookieFalloff\", {get:function() {\n    return this._cookieFalloff;\n  }, set:function(value) {\n    if (this._cookieFalloff === value) {\n      return;\n    }\n    this._cookieFalloff = value;\n    this.updateKey();\n  }});\n  Object.defineProperty(Light.prototype, \"cookieChannel\", {get:function() {\n    return this._cookieChannel;\n  }, set:function(value) {\n    if (this._cookieChannel === value) {\n      return;\n    }\n    if (value.length < 3) {\n      var chr = value.charAt(value.length - 1);\n      var addLen = 3 - value.length;\n      for (var i = 0;i < addLen;i++) {\n        value += chr;\n      }\n    }\n    this._cookieChannel = value;\n    this.updateKey();\n  }});\n  Object.defineProperty(Light.prototype, \"cookieTransform\", {get:function() {\n    return this._cookieTransform;\n  }, set:function(value) {\n    if (this._cookieTransform === value) {\n      return;\n    }\n    this._cookieTransform = value;\n    this._cookieTransformSet = !!value;\n    if (value && !this._cookieOffset) {\n      this.cookieOffset = new pc.Vec2;\n      this._cookieOffsetSet = false;\n    }\n    this.updateKey();\n  }});\n  Object.defineProperty(Light.prototype, \"cookieOffset\", {get:function() {\n    return this._cookieOffset;\n  }, set:function(value) {\n    if (this._cookieOffset === value) {\n      return;\n    }\n    var xformNew = !!(this._cookieTransformSet || value);\n    if (xformNew && !value && this._cookieOffset) {\n      this._cookieOffset.set(0, 0);\n    } else {\n      this._cookieOffset = value;\n    }\n    this._cookieOffsetSet = !!value;\n    if (value && !this._cookieTransform) {\n      this.cookieTransform = new pc.Vec4(1, 1, 0, 0);\n      this._cookieTransformSet = false;\n    }\n    this.updateKey();\n  }});\n  return {Light:Light};\n}());\nObject.assign(pc, function() {\n  var id = 0;\n  var Material = function Material() {\n    this.name = \"Untitled\";\n    this.id = id++;\n    this._shader = null;\n    this.variants = {};\n    this.parameters = {};\n    this.alphaTest = 0;\n    this.alphaToCoverage = false;\n    this.blend = false;\n    this.blendSrc = pc.BLENDMODE_ONE;\n    this.blendDst = pc.BLENDMODE_ZERO;\n    this.blendEquation = pc.BLENDEQUATION_ADD;\n    this.separateAlphaBlend = false;\n    this.blendSrcAlpha = pc.BLENDMODE_ONE;\n    this.blendDstAlpha = pc.BLENDMODE_ZERO;\n    this.blendAlphaEquation = pc.BLENDEQUATION_ADD;\n    this.cull = pc.CULLFACE_BACK;\n    this.depthTest = true;\n    this.depthWrite = true;\n    this.stencilFront = null;\n    this.stencilBack = null;\n    this.depthBias = 0;\n    this.slopeDepthBias = 0;\n    this.redWrite = true;\n    this.greenWrite = true;\n    this.blueWrite = true;\n    this.alphaWrite = true;\n    this.meshInstances = [];\n    this._shaderVersion = 0;\n    this._scene = null;\n    this._dirtyBlend = false;\n    this.dirty = true;\n  };\n  Object.defineProperty(Material.prototype, \"shader\", {get:function() {\n    return this._shader;\n  }, set:function(shader) {\n    this._shader = shader;\n  }});\n  Object.defineProperty(Material.prototype, \"blendType\", {get:function() {\n    if (!this.blend && this.blendSrc === pc.BLENDMODE_ONE && this.blendDst === pc.BLENDMODE_ZERO && this.blendEquation === pc.BLENDEQUATION_ADD) {\n      return pc.BLEND_NONE;\n    } else {\n      if (this.blend && this.blendSrc === pc.BLENDMODE_SRC_ALPHA && this.blendDst === pc.BLENDMODE_ONE_MINUS_SRC_ALPHA && this.blendEquation === pc.BLENDEQUATION_ADD) {\n        return pc.BLEND_NORMAL;\n      } else {\n        if (this.blend && this.blendSrc === pc.BLENDMODE_ONE && this.blendDst === pc.BLENDMODE_ONE && this.blendEquation === pc.BLENDEQUATION_ADD) {\n          return pc.BLEND_ADDITIVE;\n        } else {\n          if (this.blend && this.blendSrc === pc.BLENDMODE_SRC_ALPHA && this.blendDst === pc.BLENDMODE_ONE && this.blendEquation === pc.BLENDEQUATION_ADD) {\n            return pc.BLEND_ADDITIVEALPHA;\n          } else {\n            if (this.blend && this.blendSrc === pc.BLENDMODE_DST_COLOR && this.blendDst === pc.BLENDMODE_SRC_COLOR && this.blendEquation === pc.BLENDEQUATION_ADD) {\n              return pc.BLEND_MULTIPLICATIVE2X;\n            } else {\n              if (this.blend && this.blendSrc === pc.BLENDMODE_ONE_MINUS_DST_COLOR && this.blendDst === pc.BLENDMODE_ONE && this.blendEquation === pc.BLENDEQUATION_ADD) {\n                return pc.BLEND_SCREEN;\n              } else {\n                if (this.blend && this.blendSrc === pc.BLENDMODE_ONE && this.blendDst === pc.BLENDMODE_ONE && this.blendEquation === pc.BLENDEQUATION_MIN) {\n                  return pc.BLEND_MIN;\n                } else {\n                  if (this.blend && this.blendSrc === pc.BLENDMODE_ONE && this.blendDst === pc.BLENDMODE_ONE && this.blendEquation === pc.BLENDEQUATION_MAX) {\n                    return pc.BLEND_MAX;\n                  } else {\n                    if (this.blend && this.blendSrc === pc.BLENDMODE_DST_COLOR && this.blendDst === pc.BLENDMODE_ZERO && this.blendEquation === pc.BLENDEQUATION_ADD) {\n                      return pc.BLEND_MULTIPLICATIVE;\n                    } else {\n                      if (this.blend && this.blendSrc === pc.BLENDMODE_ONE && this.blendDst === pc.BLENDMODE_ONE_MINUS_SRC_ALPHA && this.blendEquation === pc.BLENDEQUATION_ADD) {\n                        return pc.BLEND_PREMULTIPLIED;\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    return pc.BLEND_NORMAL;\n  }, set:function(type) {\n    var prevBlend = this.blend;\n    switch(type) {\n      case pc.BLEND_NONE:\n        this.blend = false;\n        this.blendSrc = pc.BLENDMODE_ONE;\n        this.blendDst = pc.BLENDMODE_ZERO;\n        this.blendEquation = pc.BLENDEQUATION_ADD;\n        break;\n      case pc.BLEND_NORMAL:\n        this.blend = true;\n        this.blendSrc = pc.BLENDMODE_SRC_ALPHA;\n        this.blendDst = pc.BLENDMODE_ONE_MINUS_SRC_ALPHA;\n        this.blendEquation = pc.BLENDEQUATION_ADD;\n        break;\n      case pc.BLEND_PREMULTIPLIED:\n        this.blend = true;\n        this.blendSrc = pc.BLENDMODE_ONE;\n        this.blendDst = pc.BLENDMODE_ONE_MINUS_SRC_ALPHA;\n        this.blendEquation = pc.BLENDEQUATION_ADD;\n        break;\n      case pc.BLEND_ADDITIVE:\n        this.blend = true;\n        this.blendSrc = pc.BLENDMODE_ONE;\n        this.blendDst = pc.BLENDMODE_ONE;\n        this.blendEquation = pc.BLENDEQUATION_ADD;\n        break;\n      case pc.BLEND_ADDITIVEALPHA:\n        this.blend = true;\n        this.blendSrc = pc.BLENDMODE_SRC_ALPHA;\n        this.blendDst = pc.BLENDMODE_ONE;\n        this.blendEquation = pc.BLENDEQUATION_ADD;\n        break;\n      case pc.BLEND_MULTIPLICATIVE2X:\n        this.blend = true;\n        this.blendSrc = pc.BLENDMODE_DST_COLOR;\n        this.blendDst = pc.BLENDMODE_SRC_COLOR;\n        this.blendEquation = pc.BLENDEQUATION_ADD;\n        break;\n      case pc.BLEND_SCREEN:\n        this.blend = true;\n        this.blendSrc = pc.BLENDMODE_ONE_MINUS_DST_COLOR;\n        this.blendDst = pc.BLENDMODE_ONE;\n        this.blendEquation = pc.BLENDEQUATION_ADD;\n        break;\n      case pc.BLEND_MULTIPLICATIVE:\n        this.blend = true;\n        this.blendSrc = pc.BLENDMODE_DST_COLOR;\n        this.blendDst = pc.BLENDMODE_ZERO;\n        this.blendEquation = pc.BLENDEQUATION_ADD;\n        break;\n      case pc.BLEND_MIN:\n        this.blend = true;\n        this.blendSrc = pc.BLENDMODE_ONE;\n        this.blendDst = pc.BLENDMODE_ONE;\n        this.blendEquation = pc.BLENDEQUATION_MIN;\n        break;\n      case pc.BLEND_MAX:\n        this.blend = true;\n        this.blendSrc = pc.BLENDMODE_ONE;\n        this.blendDst = pc.BLENDMODE_ONE;\n        this.blendEquation = pc.BLENDEQUATION_MAX;\n        break;\n    }\n    if (prevBlend !== this.blend) {\n      if (this._scene) {\n        this._scene.layers._dirtyBlend = true;\n      } else {\n        this._dirtyBlend = true;\n      }\n    }\n    this._updateMeshInstanceKeys();\n  }});\n  Material.prototype._cloneInternal = function(clone) {\n    clone.name = this.name;\n    clone.shader = this.shader;\n    clone.alphaTest = this.alphaTest;\n    clone.alphaToCoverage = this.alphaToCoverage;\n    clone.blend = this.blend;\n    clone.blendSrc = this.blendSrc;\n    clone.blendDst = this.blendDst;\n    clone.blendEquation = this.blendEquation;\n    clone.separateAlphaBlend = this.separateAlphaBlend;\n    clone.blendSrcAlpha = this.blendSrcAlpha;\n    clone.blendDstAlpha = this.blendDstAlpha;\n    clone.blendAlphaEquation = this.blendAlphaEquation;\n    clone.cull = this.cull;\n    clone.depthTest = this.depthTest;\n    clone.depthWrite = this.depthWrite;\n    clone.depthBias = this.depthBias;\n    clone.slopeDepthBias = this.slopeDepthBias;\n    if (this.stencilFront) {\n      clone.stencilFront = this.stencilFront.clone();\n    }\n    if (this.stencilBack) {\n      if (this.stencilFront === this.stencilBack) {\n        clone.stencilBack = clone.stencilFront;\n      } else {\n        clone.stencilBack = this.stencilBack.clone();\n      }\n    }\n    clone.redWrite = this.redWrite;\n    clone.greenWrite = this.greenWrite;\n    clone.blueWrite = this.blueWrite;\n    clone.alphaWrite = this.alphaWrite;\n  };\n  Material.prototype.clone = function() {\n    var clone = new pc.Material;\n    this._cloneInternal(clone);\n    return clone;\n  };\n  Material.prototype._updateMeshInstanceKeys = function() {\n    var i, meshInstances = this.meshInstances;\n    for (i = 0;i < meshInstances.length;i++) {\n      meshInstances[i].updateKey();\n    }\n  };\n  Material.prototype.updateUniforms = function() {\n  };\n  Material.prototype.updateShader = function(device, scene, objDefs) {\n  };\n  Material.prototype.update = function() {\n    this.dirty = true;\n  };\n  Material.prototype.clearParameters = function() {\n    this.parameters = {};\n  };\n  Material.prototype.getParameters = function() {\n    return this.parameters;\n  };\n  Material.prototype.clearVariants = function() {\n    var meshInstance;\n    this.variants = {};\n    var j;\n    for (var i = 0;i < this.meshInstances.length;i++) {\n      meshInstance = this.meshInstances[i];\n      for (j = 0;j < meshInstance._shader.length;j++) {\n        meshInstance._shader[j] = null;\n      }\n    }\n  };\n  Material.prototype.getParameter = function(name) {\n    return this.parameters[name];\n  };\n  Material.prototype.setParameter = function(name, data, passFlags) {\n    if (passFlags === undefined) {\n      passFlags = -524285;\n    }\n    if (data === undefined && typeof name === \"object\") {\n      var uniformObject = name;\n      if (uniformObject.length) {\n        for (var i = 0;i < uniformObject.length;i++) {\n          this.setParameter(uniformObject[i]);\n        }\n        return;\n      }\n      name = uniformObject.name;\n      data = uniformObject.value;\n    }\n    var param = this.parameters[name];\n    if (param) {\n      param.data = data;\n      param.passFlags = passFlags;\n    } else {\n      this.parameters[name] = {scopeId:null, data:data, passFlags:passFlags};\n    }\n  };\n  Material.prototype.deleteParameter = function(name) {\n    if (this.parameters[name]) {\n      delete this.parameters[name];\n    }\n  };\n  Material.prototype.setParameters = function() {\n    for (var paramName in this.parameters) {\n      var parameter = this.parameters[paramName];\n      parameter.scopeId.setValue(parameter.data);\n    }\n  };\n  Material.prototype.destroy = function() {\n    this.variants = {};\n    this.shader = null;\n    var meshInstance, j;\n    for (var i = 0;i < this.meshInstances.length;i++) {\n      meshInstance = this.meshInstances[i];\n      for (j = 0;j < meshInstance._shader.length;j++) {\n        meshInstance._shader[j] = null;\n      }\n      meshInstance._material = null;\n      var defaultMaterial = pc.getDefaultMaterial();\n      if (this !== defaultMaterial) {\n        meshInstance.material = defaultMaterial;\n      }\n    }\n  };\n  return {Material:Material};\n}());\nObject.assign(pc, function() {\n  var BasicMaterial = function() {\n    pc.Material.call(this);\n    this.color = new pc.Color(1, 1, 1, 1);\n    this.colorUniform = new Float32Array(4);\n    this.colorMap = null;\n    this.vertexColors = false;\n  };\n  BasicMaterial.prototype = Object.create(pc.Material.prototype);\n  BasicMaterial.prototype.constructor = BasicMaterial;\n  Object.assign(BasicMaterial.prototype, {clone:function() {\n    var clone = new pc.BasicMaterial;\n    pc.Material.prototype._cloneInternal.call(this, clone);\n    clone.color.copy(this.color);\n    clone.colorMap = this.colorMap;\n    clone.vertexColors = this.vertexColors;\n    return clone;\n  }, updateUniforms:function() {\n    this.clearParameters();\n    this.colorUniform[0] = this.color.r;\n    this.colorUniform[1] = this.color.g;\n    this.colorUniform[2] = this.color.b;\n    this.colorUniform[3] = this.color.a;\n    this.setParameter(\"uColor\", this.colorUniform);\n    if (this.colorMap) {\n      this.setParameter(\"texture_diffuseMap\", this.colorMap);\n    }\n  }, updateShader:function(device, scene, objDefs, staticLightList, pass, sortedLights) {\n    var options = {skin:!!this.meshInstances[0].skinInstance, vertexColors:this.vertexColors, diffuseMap:this.colorMap, pass:pass};\n    var library = device.getProgramLibrary();\n    this.shader = library.getProgram(\"basic\", options);\n  }});\n  return {BasicMaterial:BasicMaterial};\n}());\nObject.assign(pc, function() {\n  var DepthMaterial = function() {\n    pc.Material.call(this);\n  };\n  DepthMaterial.prototype = Object.create(pc.Material.prototype);\n  DepthMaterial.prototype.constructor = DepthMaterial;\n  Object.assign(DepthMaterial.prototype, {clone:function() {\n    var clone = new pc.DepthMaterial;\n    pc.Material.prototype._cloneInternal.call(this, clone);\n    return clone;\n  }, updateShader:function(device) {\n    var options = {skin:!!this.meshInstances[0].skinInstance};\n    var library = device.getProgramLibrary();\n    this.shader = library.getProgram(\"depth\", options);\n  }});\n  return {DepthMaterial:DepthMaterial};\n}());\nObject.assign(pc, function() {\n  var StandardMaterial = function() {\n    pc.Material.call(this);\n    this._assetReferences = {};\n    this._validator = null;\n    this.shaderOptBuilder = new pc.StandardMaterialOptionsBuilder;\n    this.reset();\n  };\n  StandardMaterial.prototype = Object.create(pc.Material.prototype);\n  StandardMaterial.prototype.constructor = StandardMaterial;\n  var _propsSerial = [];\n  var _propsSerialDefaultVal = [];\n  var _propsInternalNull = [];\n  var _propsInternalVec3 = [];\n  var _prop2Uniform = {};\n  var _defineTex2D = function(obj, name, uv, channels, defChannel) {\n    var privMap = \"_\" + name + \"Map\";\n    var privMapTiling = privMap + \"Tiling\";\n    var privMapOffset = privMap + \"Offset\";\n    var mapTransform = privMap.substring(1) + \"Transform\";\n    var mapTransformUniform = mapTransform + \"Uniform\";\n    var privMapUv = privMap + \"Uv\";\n    var privMapChannel = privMap + \"Channel\";\n    var privMapVertexColor = \"_\" + name + \"VertexColor\";\n    var privMapVertexColorChannel = \"_\" + name + \"VertexColorChannel\";\n    obj[privMap] = null;\n    obj[privMapTiling] = new pc.Vec2(1, 1);\n    obj[privMapOffset] = new pc.Vec2(0, 0);\n    obj[mapTransform] = null;\n    obj[mapTransformUniform] = null;\n    obj[privMapUv] = uv;\n    if (channels > 0) {\n      var channel = defChannel ? defChannel : channels > 1 ? \"rgb\" : \"g\";\n      obj[privMapChannel] = channel;\n      obj[privMapVertexColorChannel] = channel;\n    }\n    obj[privMapVertexColor] = false;\n    if (!pc._matTex2D) {\n      pc._matTex2D = [];\n    }\n    pc._matTex2D[name] = channels;\n    Object.defineProperty(StandardMaterial.prototype, privMap.substring(1), {get:function() {\n      return this[privMap];\n    }, set:function(value) {\n      var oldVal = this[privMap];\n      if (!!oldVal ^ !!value) {\n        this.dirtyShader = true;\n      }\n      if (oldVal && value) {\n        if (oldVal.rgbm !== value.rgbm || oldVal.fixCubemapSeams !== value.fixCubemapSeams || oldVal.format !== value.format) {\n          this.dirtyShader = true;\n        }\n      }\n      this[privMap] = value;\n    }});\n    var mapTiling = privMapTiling.substring(1);\n    var mapOffset = privMapOffset.substring(1);\n    Object.defineProperty(StandardMaterial.prototype, mapTiling, {get:function() {\n      return this[privMapTiling];\n    }, set:function(value) {\n      this.dirtyShader = true;\n      this[privMapTiling] = value;\n    }});\n    _prop2Uniform[mapTiling] = function(mat, val, changeMat) {\n      var tform = mat._updateMapTransform(changeMat ? mat[mapTransform] : null, val, mat[privMapOffset]);\n      return {name:\"texture_\" + mapTransform, value:tform.data};\n    };\n    Object.defineProperty(StandardMaterial.prototype, mapOffset, {get:function() {\n      return this[privMapOffset];\n    }, set:function(value) {\n      this.dirtyShader = true;\n      this[privMapOffset] = value;\n    }});\n    _prop2Uniform[mapOffset] = function(mat, val, changeMat) {\n      var tform = mat._updateMapTransform(changeMat ? mat[mapTransform] : null, mat[privMapTiling], val);\n      return {name:\"texture_\" + mapTransform, value:tform.data};\n    };\n    Object.defineProperty(StandardMaterial.prototype, privMapUv.substring(1), {get:function() {\n      return this[privMapUv];\n    }, set:function(value) {\n      if (this[privMapUv] !== value) {\n        this.dirtyShader = true;\n      }\n      this[privMapUv] = value;\n    }});\n    Object.defineProperty(StandardMaterial.prototype, privMapChannel.substring(1), {get:function() {\n      return this[privMapChannel];\n    }, set:function(value) {\n      if (this[privMapChannel] !== value) {\n        this.dirtyShader = true;\n      }\n      this[privMapChannel] = value;\n    }});\n    Object.defineProperty(StandardMaterial.prototype, privMapVertexColor.substring(1), {get:function() {\n      return this[privMapVertexColor];\n    }, set:function(value) {\n      this.dirtyShader = true;\n      this[privMapVertexColor] = value;\n    }});\n    Object.defineProperty(StandardMaterial.prototype, privMapVertexColorChannel.substring(1), {get:function() {\n      return this[privMapVertexColorChannel];\n    }, set:function(value) {\n      if (this[privMapVertexColorChannel] !== value) {\n        this.dirtyShader = true;\n      }\n      this[privMapVertexColorChannel] = value;\n    }});\n    _propsSerial.push(privMap.substring(1));\n    _propsSerial.push(privMapTiling.substring(1));\n    _propsSerial.push(privMapOffset.substring(1));\n    _propsSerial.push(privMapUv.substring(1));\n    _propsSerial.push(privMapChannel.substring(1));\n    _propsSerial.push(privMapVertexColor.substring(1));\n    _propsSerial.push(privMapVertexColorChannel.substring(1));\n    _propsInternalNull.push(mapTransform);\n  };\n  var _propsColor = [];\n  var _defineColor = function(obj, name, defaultValue, hasMultiplier) {\n    var priv = \"_\" + name;\n    var uform = name + \"Uniform\";\n    var mult = name + \"Intensity\";\n    var pmult = \"_\" + mult;\n    obj[priv] = defaultValue;\n    obj[uform] = new Float32Array(3);\n    Object.defineProperty(StandardMaterial.prototype, name, {get:function() {\n      this.dirtyColor = true;\n      this.dirtyShader = true;\n      return this[priv];\n    }, set:function(newValue) {\n      var oldValue = this[priv];\n      var wasRound = oldValue.r === 0 && oldValue.g === 0 && oldValue.b === 0 || oldValue.r === 1 && oldValue.g === 1 && oldValue.b === 1;\n      var isRound = newValue.r === 0 && newValue.g === 0 && newValue.b === 0 || newValue.r === 1 && newValue.g === 1 && newValue.b === 1;\n      if (wasRound ^ isRound) {\n        this.dirtyShader = true;\n      }\n      this.dirtyColor = true;\n      this[priv] = newValue;\n    }});\n    _propsSerial.push(name);\n    _propsInternalVec3.push(uform);\n    _propsColor.push(name);\n    _prop2Uniform[name] = function(mat, val, changeMat) {\n      var arr = changeMat ? mat[uform] : new Float32Array(3);\n      var gammaCorrection = false;\n      if (mat.useGammaTonemap) {\n        var scene = mat._scene || pc.Application.getApplication().scene;\n        gammaCorrection = scene.gammaCorrection;\n      }\n      for (var c = 0;c < 3;c++) {\n        if (gammaCorrection) {\n          arr[c] = Math.pow(val.data[c], 2.2);\n        } else {\n          arr[c] = val.data[c];\n        }\n        if (hasMultiplier) {\n          arr[c] *= mat[pmult];\n        }\n      }\n      return {name:\"material_\" + name, value:arr};\n    };\n    if (hasMultiplier) {\n      obj[pmult] = 1;\n      Object.defineProperty(StandardMaterial.prototype, mult, {get:function() {\n        return this[pmult];\n      }, set:function(newValue) {\n        var oldValue = this[pmult];\n        var wasRound = oldValue === 0 || oldValue === 1;\n        var isRound = newValue === 0 || newValue === 1;\n        if (wasRound ^ isRound) {\n          this.dirtyShader = true;\n        }\n        this.dirtyColor = true;\n        this[pmult] = newValue;\n      }});\n      _propsSerial.push(mult);\n      _prop2Uniform[mult] = function(mat, val, changeMat) {\n        var arr = changeMat ? mat[uform] : new Float32Array(3);\n        var gammaCorrection = false;\n        if (mat.useGammaTonemap) {\n          var scene = mat._scene || pc.Application.getApplication().scene;\n          gammaCorrection = scene.gammaCorrection;\n        }\n        for (var c = 0;c < 3;c++) {\n          if (gammaCorrection) {\n            arr[c] = Math.pow(mat[priv].data[c], 2.2);\n          } else {\n            arr[c] = mat[priv].data[c];\n          }\n          arr[c] *= mat[pmult];\n        }\n        return {name:\"material_\" + name, value:arr};\n      };\n    }\n  };\n  var _defineFloat = function(obj, name, defaultValue, func) {\n    var priv = \"_\" + name;\n    obj[priv] = defaultValue;\n    Object.defineProperty(StandardMaterial.prototype, name, {get:function() {\n      return this[priv];\n    }, set:function(newValue) {\n      var oldValue = this[priv];\n      if (oldValue === newValue) {\n        return;\n      }\n      this[priv] = newValue;\n      var wasRound = oldValue === 0 || oldValue === 1;\n      var isRound = newValue === 0 || newValue === 1;\n      if (wasRound || isRound) {\n        this.dirtyShader = true;\n      }\n    }});\n    _propsSerial.push(name);\n    _prop2Uniform[name] = func !== undefined ? func : function(mat, val, changeMat) {\n      return {name:\"material_\" + name, value:val};\n    };\n  };\n  var _defineObject = function(obj, name, func) {\n    var priv = \"_\" + name;\n    obj[priv] = null;\n    Object.defineProperty(StandardMaterial.prototype, name, {get:function() {\n      return this[priv];\n    }, set:function(value) {\n      var oldVal = this[priv];\n      if (!!oldVal ^ !!value) {\n        this.dirtyShader = true;\n      }\n      this[priv] = value;\n    }});\n    _propsSerial.push(name);\n    _prop2Uniform[name] = func;\n  };\n  var _defineAlias = function(obj, newName, oldName) {\n    Object.defineProperty(StandardMaterial.prototype, oldName, {get:function() {\n      return this[newName];\n    }, set:function(value) {\n      this[newName] = value;\n    }});\n  };\n  var _defineChunks = function(obj) {\n    Object.defineProperty(StandardMaterial.prototype, \"chunks\", {get:function() {\n      this.dirtyShader = true;\n      return this._chunks;\n    }, set:function(value) {\n      this.dirtyShader = true;\n      this._chunks = value;\n    }});\n    _propsSerial.push(\"chunks\");\n  };\n  var _defineFlag = function(obj, name, defaultValue) {\n    var priv = \"_\" + name;\n    obj[priv] = defaultValue;\n    Object.defineProperty(StandardMaterial.prototype, name, {get:function() {\n      return this[priv];\n    }, set:function(value) {\n      if (this[priv] !== value) {\n        this.dirtyShader = true;\n      }\n      this[priv] = value;\n    }});\n    _propsSerial.push(name);\n  };\n  var Chunks = function() {\n  };\n  Chunks.prototype.copy = function(from) {\n    for (var p in from) {\n      if (from.hasOwnProperty(p) && p !== \"copy\") {\n        this[p] = from[p];\n      }\n    }\n  };\n  Object.assign(StandardMaterial.prototype, {reset:function() {\n    var i;\n    for (i = 0;i < _propsSerial.length;i++) {\n      var defVal = _propsSerialDefaultVal[i];\n      this[_propsSerial[i]] = defVal ? defVal.clone ? defVal.clone() : defVal : defVal;\n    }\n    for (i = 0;i < _propsInternalNull.length;i++) {\n      this[_propsInternalNull[i]] = null;\n    }\n    for (i = 0;i < _propsInternalVec3.length;i++) {\n      this[_propsInternalVec3[i]] = new Float32Array(3);\n    }\n    this._chunks = new Chunks;\n    this.cubeMapMinUniform = new Float32Array(3);\n    this.cubeMapMaxUniform = new Float32Array(3);\n  }, clone:function() {\n    var clone = new pc.StandardMaterial;\n    pc.Material.prototype._cloneInternal.call(this, clone);\n    var pname;\n    for (var i = 0;i < _propsSerial.length;i++) {\n      pname = _propsSerial[i];\n      if (this[pname] !== undefined) {\n        if (this[pname] && this[pname].copy) {\n          if (clone[pname]) {\n            clone[pname].copy(this[pname]);\n          } else {\n            clone[pname] = this[pname].clone();\n          }\n        } else {\n          clone[pname] = this[pname];\n        }\n      }\n    }\n    return clone;\n  }, _updateMapTransform:function(transform, tiling, offset) {\n    transform = transform || new pc.Vec4;\n    transform.set(tiling.x, tiling.y, offset.x, offset.y);\n    if (transform.x === 1 && transform.y === 1 && transform.z === 0 && transform.w === 0) {\n      return null;\n    }\n    return transform;\n  }, _setParameter:function(name, value) {\n    if (!this.parameters[name]) {\n      this._propsSet.push(name);\n    }\n    this.setParameter(name, value);\n  }, _clearParameters:function() {\n    var props = this._propsSet;\n    for (var i = 0;i < props.length;i++) {\n      delete this.parameters[props[i]];\n    }\n    this._propsSet = [];\n  }, _updateMap:function(p) {\n    var mname = p + \"Map\";\n    if (this[mname]) {\n      this._setParameter(\"texture_\" + mname, this[mname]);\n      var tname = mname + \"Transform\";\n      var uname = mname + \"TransformUniform\";\n      if (!this[tname]) {\n        this[uname] = new Float32Array(4);\n      }\n      this[tname] = this._updateMapTransform(this[tname], this[mname + \"Tiling\"], this[mname + \"Offset\"]);\n      if (this[tname]) {\n        this[uname][0] = this[tname].x;\n        this[uname][1] = this[tname].y;\n        this[uname][2] = this[tname].z;\n        this[uname][3] = this[tname].w;\n        this._setParameter(\"texture_\" + tname, this[uname]);\n      }\n    }\n  }, getUniform:function(varName, value, changeMat) {\n    var func = _prop2Uniform[varName];\n    if (func) {\n      return func(this, value, changeMat);\n    }\n    return null;\n  }, updateUniforms:function() {\n    var uniform;\n    this._clearParameters();\n    this._setParameter(\"material_ambient\", this.ambientUniform);\n    if (!this.diffuseMap || this.diffuseTint) {\n      this._setParameter(\"material_diffuse\", this.diffuseUniform);\n    }\n    if (!this.useMetalness) {\n      if (!this.specularMap || this.specularTint) {\n        this._setParameter(\"material_specular\", this.specularUniform);\n      }\n    } else {\n      if (!this.metalnessMap || this.metalness < 1) {\n        this._setParameter(\"material_metalness\", this.metalness);\n      }\n    }\n    uniform = this.getUniform(\"shininess\", this.shininess, true);\n    this._setParameter(uniform.name, uniform.value);\n    if (!this.emissiveMap || this.emissiveTint) {\n      this._setParameter(\"material_emissive\", this.emissiveUniform);\n    }\n    if (this.emissiveMap) {\n      this._setParameter(\"material_emissiveIntensity\", this.emissiveIntensity);\n    }\n    if (this.refraction > 0) {\n      this._setParameter(\"material_refraction\", this.refraction);\n      this._setParameter(\"material_refractionIndex\", this.refractionIndex);\n    }\n    this._setParameter(\"material_opacity\", this.opacity);\n    if (this.occludeSpecular) {\n      this._setParameter(\"material_occludeSpecularIntensity\", this.occludeSpecularIntensity);\n    }\n    if (this.cubeMapProjection === pc.CUBEPROJ_BOX) {\n      this._setParameter(this.getUniform(\"cubeMapProjectionBox\", this.cubeMapProjectionBox, true));\n    }\n    for (var p in pc._matTex2D) {\n      this._updateMap(p);\n    }\n    if (this.ambientSH) {\n      this._setParameter(\"ambientSH[0]\", this.ambientSH);\n    }\n    if (this.normalMap) {\n      this._setParameter(\"material_bumpiness\", this.bumpiness);\n    }\n    if (this.heightMap) {\n      uniform = this.getUniform(\"heightMapFactor\", this.heightMapFactor, true);\n      this._setParameter(uniform.name, uniform.value);\n    }\n    if (this.cubeMap) {\n      this._setParameter(\"texture_cubeMap\", this.cubeMap);\n    }\n    if (this.prefilteredCubeMap128) {\n      this._setParameter(\"texture_prefilteredCubeMap128\", this.prefilteredCubeMap128);\n    } else {\n      if (this._scene && this._scene._skyboxPrefiltered[0]) {\n        this._setParameter(\"texture_prefilteredCubeMap128\", this._scene._skyboxPrefiltered[0]);\n      }\n    }\n    if (this.prefilteredCubeMap64) {\n      this._setParameter(\"texture_prefilteredCubeMap64\", this.prefilteredCubeMap64);\n    } else {\n      if (this._scene && this._scene._skyboxPrefiltered[1]) {\n        this._setParameter(\"texture_prefilteredCubeMap64\", this._scene._skyboxPrefiltered[1]);\n      }\n    }\n    if (this.prefilteredCubeMap32) {\n      this._setParameter(\"texture_prefilteredCubeMap32\", this.prefilteredCubeMap32);\n    } else {\n      if (this._scene && this._scene._skyboxPrefiltered[2]) {\n        this._setParameter(\"texture_prefilteredCubeMap32\", this._scene._skyboxPrefiltered[2]);\n      }\n    }\n    if (this.prefilteredCubeMap16) {\n      this._setParameter(\"texture_prefilteredCubeMap16\", this.prefilteredCubeMap16);\n    } else {\n      if (this._scene && this._scene._skyboxPrefiltered[3]) {\n        this._setParameter(\"texture_prefilteredCubeMap16\", this._scene._skyboxPrefiltered[3]);\n      }\n    }\n    if (this.prefilteredCubeMap8) {\n      this._setParameter(\"texture_prefilteredCubeMap8\", this.prefilteredCubeMap8);\n    } else {\n      if (this._scene && this._scene._skyboxPrefiltered[4]) {\n        this._setParameter(\"texture_prefilteredCubeMap8\", this._scene._skyboxPrefiltered[4]);\n      }\n    }\n    if (this.prefilteredCubeMap4) {\n      this._setParameter(\"texture_prefilteredCubeMap4\", this.prefilteredCubeMap4);\n    } else {\n      if (this._scene && this._scene._skyboxPrefiltered[5]) {\n        this._setParameter(\"texture_prefilteredCubeMap4\", this._scene._skyboxPrefiltered[5]);\n      }\n    }\n    if (this.sphereMap) {\n      this._setParameter(\"texture_sphereMap\", this.sphereMap);\n    }\n    if (this.dpAtlas) {\n      this._setParameter(\"texture_sphereMap\", this.dpAtlas);\n    }\n    this._setParameter(\"material_reflectivity\", this.reflectivity);\n    if (this.dirtyShader || !this._scene) {\n      this.shader = null;\n      this.clearVariants();\n    }\n    this._processColor();\n  }, _processColor:function() {\n    var c, i;\n    if (!this.dirtyColor) {\n      return;\n    }\n    if (!this._scene && this.useGammaTonemap) {\n      return;\n    }\n    var gammaCorrection = false;\n    if (this.useGammaTonemap) {\n      gammaCorrection = this._scene.gammaCorrection;\n    }\n    for (i = 0;i < _propsColor.length;i++) {\n      var clr = this[\"_\" + _propsColor[i]];\n      var arr = this[_propsColor[i] + \"Uniform\"];\n      if (gammaCorrection) {\n        arr[0] = Math.pow(clr.r, 2.2);\n        arr[1] = Math.pow(clr.g, 2.2);\n        arr[2] = Math.pow(clr.b, 2.2);\n      } else {\n        arr[0] = clr.r;\n        arr[1] = clr.g;\n        arr[2] = clr.b;\n      }\n    }\n    for (c = 0;c < 3;c++) {\n      this.emissiveUniform[c] *= this.emissiveIntensity;\n    }\n    this.dirtyColor = false;\n  }, updateShader:function(device, scene, objDefs, staticLightList, pass, sortedLights) {\n    if (!this._colorProcessed && this._scene) {\n      this._colorProcessed = true;\n      this._processColor();\n    }\n    var useTexCubeLod = device.useTexCubeLod;\n    var useDp = !device.extTextureLod;\n    var globalSky128, globalSky64, globalSky32, globalSky16, globalSky8, globalSky4;\n    if (this.useSkybox) {\n      globalSky128 = scene._skyboxPrefiltered[0];\n      globalSky64 = scene._skyboxPrefiltered[1];\n      globalSky32 = scene._skyboxPrefiltered[2];\n      globalSky16 = scene._skyboxPrefiltered[3];\n      globalSky8 = scene._skyboxPrefiltered[4];\n      globalSky4 = scene._skyboxPrefiltered[5];\n    }\n    var prefilteredCubeMap128 = this.prefilteredCubeMap128 || globalSky128;\n    var prefilteredCubeMap64 = this.prefilteredCubeMap64 || globalSky64;\n    var prefilteredCubeMap32 = this.prefilteredCubeMap32 || globalSky32;\n    var prefilteredCubeMap16 = this.prefilteredCubeMap16 || globalSky16;\n    var prefilteredCubeMap8 = this.prefilteredCubeMap8 || globalSky8;\n    var prefilteredCubeMap4 = this.prefilteredCubeMap4 || globalSky4;\n    if (prefilteredCubeMap128) {\n      var allMips = prefilteredCubeMap128 && prefilteredCubeMap64 && prefilteredCubeMap32 && prefilteredCubeMap16 && prefilteredCubeMap8 && prefilteredCubeMap4;\n      if (useDp && allMips) {\n        if (!prefilteredCubeMap128.dpAtlas) {\n          var atlas = [prefilteredCubeMap128, prefilteredCubeMap64, prefilteredCubeMap32, prefilteredCubeMap16, prefilteredCubeMap8, prefilteredCubeMap4];\n          prefilteredCubeMap128.dpAtlas = pc.generateDpAtlas(device, atlas);\n          prefilteredCubeMap128.sh = pc.shFromCubemap(prefilteredCubeMap16);\n        }\n        this.dpAtlas = prefilteredCubeMap128.dpAtlas;\n        this.ambientSH = prefilteredCubeMap128.sh;\n        this._setParameter(\"ambientSH[0]\", this.ambientSH);\n        this._setParameter(\"texture_sphereMap\", this.dpAtlas);\n      } else {\n        if (useTexCubeLod) {\n          if (prefilteredCubeMap128._levels.length < 6) {\n            if (allMips) {\n              this._setParameter(\"texture_prefilteredCubeMap128\", prefilteredCubeMap128);\n            } else {\n              console.log(\"Can't use prefiltered cubemap: \" + allMips + \", \" + useTexCubeLod + \", \" + prefilteredCubeMap128._levels);\n            }\n          } else {\n            this._setParameter(\"texture_prefilteredCubeMap128\", prefilteredCubeMap128);\n          }\n        } else {\n          if (allMips) {\n            this._setParameter(\"texture_prefilteredCubeMap128\", prefilteredCubeMap128);\n            this._setParameter(\"texture_prefilteredCubeMap64\", prefilteredCubeMap64);\n            this._setParameter(\"texture_prefilteredCubeMap32\", prefilteredCubeMap32);\n            this._setParameter(\"texture_prefilteredCubeMap16\", prefilteredCubeMap16);\n            this._setParameter(\"texture_prefilteredCubeMap8\", prefilteredCubeMap8);\n            this._setParameter(\"texture_prefilteredCubeMap4\", prefilteredCubeMap4);\n          } else {\n            console.log(\"Can't use prefiltered cubemap: \" + allMips + \", \" + useTexCubeLod + \", \" + prefilteredCubeMap128._levels);\n          }\n        }\n      }\n    }\n    var generator = pc.programlib.standard;\n    var minimalOptions = pass > pc.SHADER_FORWARDHDR && pass <= pc.SHADER_PICK;\n    var options = minimalOptions ? generator.optionsContextMin : generator.optionsContext;\n    if (minimalOptions) {\n      this.shaderOptBuilder.updateMinRef(options, device, scene, this, objDefs, staticLightList, pass, sortedLights, prefilteredCubeMap128);\n    } else {\n      this.shaderOptBuilder.updateRef(options, device, scene, this, objDefs, staticLightList, pass, sortedLights, prefilteredCubeMap128);\n    }\n    if (this.onUpdateShader) {\n      options = this.onUpdateShader(options);\n    }\n    var library = device.getProgramLibrary();\n    this.shader = library.getProgram(\"standard\", options);\n    if (!objDefs) {\n      this.clearVariants();\n      this.variants[0] = this.shader;\n    }\n    this.dirtyShader = false;\n  }});\n  var _defineMaterialProps = function(obj) {\n    obj.dirtyShader = true;\n    obj.dirtyColor = true;\n    obj._scene = null;\n    obj._colorProcessed = false;\n    _defineColor(obj, \"ambient\", new pc.Color(0.7, 0.7, 0.7));\n    _defineColor(obj, \"diffuse\", new pc.Color(1, 1, 1));\n    _defineColor(obj, \"specular\", new pc.Color(0, 0, 0));\n    _defineColor(obj, \"emissive\", new pc.Color(0, 0, 0), true);\n    _defineFloat(obj, \"shininess\", 25, function(mat, shininess) {\n      var value;\n      if (mat.shadingModel === pc.SPECULAR_PHONG) {\n        value = Math.pow(2, shininess * 0.01 * 11);\n      } else {\n        value = shininess * 0.01;\n      }\n      return {name:\"material_shininess\", value:value};\n    });\n    _defineFloat(obj, \"heightMapFactor\", 1, function(mat, height) {\n      return {name:\"material_heightMapFactor\", value:height * 0.025};\n    });\n    _defineFloat(obj, \"opacity\", 1);\n    _defineFloat(obj, \"alphaTest\", 0);\n    _defineFloat(obj, \"bumpiness\", 1);\n    _defineFloat(obj, \"reflectivity\", 1);\n    _defineFloat(obj, \"occludeSpecularIntensity\", 1);\n    _defineFloat(obj, \"refraction\", 0);\n    _defineFloat(obj, \"refractionIndex\", 1.0 / 1.5);\n    _defineFloat(obj, \"metalness\", 1);\n    _defineFloat(obj, \"aoUvSet\", 0, null);\n    _defineObject(obj, \"ambientSH\", function(mat, val, changeMat) {\n      return {name:\"ambientSH[0]\", value:val};\n    });\n    _defineObject(obj, \"cubeMapProjectionBox\", function(mat, val, changeMat) {\n      var bmin = changeMat ? mat.cubeMapMinUniform : new Float32Array(3);\n      var bmax = changeMat ? mat.cubeMapMaxUniform : new Float32Array(3);\n      bmin[0] = val.center.x - val.halfExtents.x;\n      bmin[1] = val.center.y - val.halfExtents.y;\n      bmin[2] = val.center.z - val.halfExtents.z;\n      bmax[0] = val.center.x + val.halfExtents.x;\n      bmax[1] = val.center.y + val.halfExtents.y;\n      bmax[2] = val.center.z + val.halfExtents.z;\n      return [{name:\"envBoxMin\", value:bmin}, {name:\"envBoxMax\", value:bmax}];\n    });\n    _defineChunks(obj);\n    _defineFlag(obj, \"ambientTint\", false);\n    _defineFlag(obj, \"diffuseTint\", false);\n    _defineFlag(obj, \"specularTint\", false);\n    _defineFlag(obj, \"emissiveTint\", false);\n    _defineFlag(obj, \"fastTbn\", false);\n    _defineFlag(obj, \"specularAntialias\", false);\n    _defineFlag(obj, \"useMetalness\", false);\n    _defineFlag(obj, \"occludeDirect\", false);\n    _defineFlag(obj, \"normalizeNormalMap\", true);\n    _defineFlag(obj, \"conserveEnergy\", true);\n    _defineFlag(obj, \"occludeSpecular\", pc.SPECOCC_AO);\n    _defineFlag(obj, \"shadingModel\", pc.SPECULAR_BLINN);\n    _defineFlag(obj, \"fresnelModel\", pc.FRESNEL_NONE);\n    _defineFlag(obj, \"cubeMapProjection\", pc.CUBEPROJ_NONE);\n    _defineFlag(obj, \"customFragmentShader\", null);\n    _defineFlag(obj, \"forceFragmentPrecision\", null);\n    _defineFlag(obj, \"useFog\", true);\n    _defineFlag(obj, \"useLighting\", true);\n    _defineFlag(obj, \"useGammaTonemap\", true);\n    _defineFlag(obj, \"useSkybox\", true);\n    _defineFlag(obj, \"forceUv1\", false);\n    _defineFlag(obj, \"pixelSnap\", false);\n    _defineFlag(obj, \"twoSidedLighting\", false);\n    _defineFlag(obj, \"nineSlicedMode\", pc.SPRITE_RENDERMODE_SLICED);\n    _defineTex2D(obj, \"diffuse\", 0, 3);\n    _defineTex2D(obj, \"specular\", 0, 3);\n    _defineTex2D(obj, \"emissive\", 0, 3);\n    _defineTex2D(obj, \"normal\", 0, -1);\n    _defineTex2D(obj, \"metalness\", 0, 1);\n    _defineTex2D(obj, \"gloss\", 0, 1);\n    _defineTex2D(obj, \"opacity\", 0, 1, \"a\");\n    _defineTex2D(obj, \"height\", 0, 1);\n    _defineTex2D(obj, \"ao\", 0, 1);\n    _defineTex2D(obj, \"light\", 1, 3);\n    _defineTex2D(obj, \"msdf\", 0, 3);\n    _defineObject(obj, \"cubeMap\");\n    _defineObject(obj, \"sphereMap\");\n    _defineObject(obj, \"dpAtlas\");\n    _defineObject(obj, \"prefilteredCubeMap128\");\n    _defineObject(obj, \"prefilteredCubeMap64\");\n    _defineObject(obj, \"prefilteredCubeMap32\");\n    _defineObject(obj, \"prefilteredCubeMap16\");\n    _defineObject(obj, \"prefilteredCubeMap8\");\n    _defineObject(obj, \"prefilteredCubeMap4\");\n    _defineAlias(obj, \"diffuseTint\", \"diffuseMapTint\");\n    _defineAlias(obj, \"specularTint\", \"specularMapTint\");\n    _defineAlias(obj, \"emissiveTint\", \"emissiveMapTint\");\n    _defineAlias(obj, \"aoVertexColor\", \"aoMapVertexColor\");\n    _defineAlias(obj, \"diffuseVertexColor\", \"diffuseMapVertexColor\");\n    _defineAlias(obj, \"specularVertexColor\", \"specularMapVertexColor\");\n    _defineAlias(obj, \"emissiveVertexColor\", \"emissiveMapVertexColor\");\n    _defineAlias(obj, \"metalnessVertexColor\", \"metalnessMapVertexColor\");\n    _defineAlias(obj, \"glossVertexColor\", \"glossMapVertexColor\");\n    _defineAlias(obj, \"opacityVertexColor\", \"opacityMapVertexColor\");\n    _defineAlias(obj, \"lightVertexColor\", \"lightMapVertexColor\");\n    for (var i = 0;i < _propsSerial.length;i++) {\n      _propsSerialDefaultVal[i] = obj[_propsSerial[i]];\n    }\n    obj._propsSet = [];\n  };\n  _defineMaterialProps(StandardMaterial.prototype);\n  return {StandardMaterial:StandardMaterial};\n}());\n(function() {\n  pc.StandardMaterial.PARAMETER_TYPES = {name:\"string\", chunks:\"chunks\", mappingFormat:\"string\", _engine:\"boolean\", ambient:\"rgb\", ambientTint:\"boolean\", aoVertexColor:\"boolean\", aoVertexColorChannel:\"string\", aoMap:\"texture\", aoMapChannel:\"string\", aoMapUv:\"number\", aoMapTiling:\"vec2\", aoMapOffset:\"vec2\", diffuse:\"rgb\", diffuseTint:\"boolean\", diffuseVertexColor:\"boolean\", diffuseVertexColorChannel:\"string\", diffuseMap:\"texture\", diffuseMapChannel:\"string\", diffuseMapUv:\"number\", diffuseMapTiling:\"vec2\", \n  diffuseMapOffset:\"vec2\", specular:\"rgb\", specularTint:\"boolean\", specularVertexColor:\"boolean\", specularVertexColorChannel:\"string\", specularMap:\"texture\", specularMapChannel:\"string\", specularMapUv:\"number\", specularMapTiling:\"vec2\", specularMapOffset:\"vec2\", specularAntialias:\"boolean\", occludeSpecular:\"enum:occludeSpecular\", useMetalness:\"boolean\", metalness:\"number\", metalnessTint:\"boolean\", metalnessVertexColor:\"boolean\", metalnessVertexColorChannel:\"string\", metalnessMap:\"texture\", metalnessMapChannel:\"string\", \n  metalnessMapUv:\"number\", metalnessMapTiling:\"vec2\", metalnessMapOffset:\"vec2\", conserveEnergy:\"boolean\", shininess:\"number\", glossVertexColor:\"boolean\", glossVertexColorChannel:\"string\", glossMap:\"texture\", glossMapChannel:\"string\", glossMapUv:\"number\", glossMapTiling:\"vec2\", glossMapOffset:\"vec2\", fresnelModel:\"number\", emissive:\"rgb\", emissiveTint:\"boolean\", emissiveVertexColor:\"boolean\", emissiveVertexColorChannel:\"string\", emissiveMap:\"texture\", emissiveMapChannel:\"string\", emissiveMapUv:\"number\", \n  emissiveMapTiling:\"vec2\", emissiveMapOffset:\"vec2\", emissiveIntensity:\"number\", normalMap:\"texture\", normalMapTiling:\"vec2\", normalMapOffset:\"vec2\", normalMapUv:\"number\", bumpiness:\"number\", heightMap:\"texture\", heightMapChannel:\"string\", heightMapUv:\"number\", heightMapTiling:\"vec2\", heightMapOffset:\"vec2\", heightMapFactor:\"number\", alphaToCoverage:\"boolean\", alphaTest:\"number\", opacity:\"number\", opacityVertexColor:\"boolean\", opacityVertexColorChannel:\"string\", opacityMap:\"texture\", opacityMapChannel:\"string\", \n  opacityMapUv:\"number\", opacityMapTiling:\"vec2\", opacityMapOffset:\"vec2\", reflectivity:\"number\", refraction:\"number\", refractionIndex:\"number\", sphereMap:\"texture\", cubeMap:\"cubemap\", cubeMapProjection:\"number\", cubeMapProjectionBox:\"boundingbox\", lightVertexColor:\"boolean\", lightVertexColorChannel:\"string\", lightMap:\"texture\", lightMapChannel:\"string\", lightMapUv:\"number\", lightMapTiling:\"vec2\", lightMapOffset:\"vec2\", depthTest:\"boolean\", depthWrite:\"boolean\", depthBias:\"number\", slopeDepthBias:\"number\", \n  cull:\"enum:cull\", blendType:\"enum:blendType\", shadingModel:\"enum:shadingModel\", useFog:\"boolean\", useLighting:\"boolean\", useSkybox:\"boolean\", useGammaTonemap:\"boolean\", prefilteredCubeMap128:\"texture\", prefilteredCubeMap64:\"texture\", prefilteredCubeMap32:\"texture\", prefilteredCubeMap16:\"texture\", prefilteredCubeMap8:\"texture\", prefilteredCubeMap4:\"texture\"};\n  var key, type;\n  pc.StandardMaterial.TEXTURE_PARAMETERS = [];\n  for (key in pc.StandardMaterial.PARAMETER_TYPES) {\n    type = pc.StandardMaterial.PARAMETER_TYPES[key];\n    if (type === \"texture\") {\n      pc.StandardMaterial.TEXTURE_PARAMETERS.push(key);\n    }\n  }\n  pc.StandardMaterial.CUBEMAP_PARAMETERS = [];\n  for (key in pc.StandardMaterial.PARAMETER_TYPES) {\n    type = pc.StandardMaterial.PARAMETER_TYPES[key];\n    if (type === \"cubemap\") {\n      pc.StandardMaterial.CUBEMAP_PARAMETERS.push(key);\n    }\n  }\n})();\nObject.assign(pc, function() {\n  var StandardMaterialValidator = function() {\n    this.removeInvalid = true;\n    this.valid = true;\n    this.enumValidators = {occludeSpecular:this._createEnumValidator([pc.SPECOCC_NONE, pc.SPECOCC_AO, pc.SPECOCC_GLOSSDEPENDENT]), cull:this._createEnumValidator([pc.CULLFACE_NONE, pc.CULLFACE_BACK, pc.CULLFACE_FRONT, pc.CULLFACE_FRONTANDBACK]), blendType:this._createEnumValidator([pc.BLEND_SUBTRACTIVE, pc.BLEND_ADDITIVE, pc.BLEND_NORMAL, pc.BLEND_NONE, pc.BLEND_PREMULTIPLIED, pc.BLEND_MULTIPLICATIVE, pc.BLEND_ADDITIVEALPHA, pc.BLEND_MULTIPLICATIVE2X, pc.BLEND_SCREEN, pc.BLEND_MIN, pc.BLEND_MAX]), \n    shadingModel:this._createEnumValidator([pc.SPECULAR_PHONG, pc.SPECULAR_BLINN])};\n  };\n  StandardMaterialValidator.prototype.setInvalid = function(key, data) {\n    this.valid = false;\n    if (this.removeInvalid) {\n      delete data[key];\n    }\n  };\n  StandardMaterialValidator.prototype.validate = function(data) {\n    var TYPES = pc.StandardMaterial.PARAMETER_TYPES;\n    var type;\n    var i;\n    var pathMapping = data.mappingFormat === \"path\";\n    for (var key in data) {\n      type = TYPES[key];\n      if (!type) {\n        this.valid = false;\n        continue;\n      }\n      if (type.startsWith(\"enum\")) {\n        var enumType = type.split(\":\")[1];\n        if (this.enumValidators[enumType]) {\n          if (!this.enumValidators[enumType](data[key])) {\n            this.setInvalid(key, data);\n          }\n        }\n      } else {\n        if (type === \"number\") {\n          if (typeof data[key] !== \"number\") {\n            this.setInvalid(key, data);\n          }\n        } else {\n          if (type === \"boolean\") {\n            if (typeof data[key] !== \"boolean\") {\n              this.setInvalid(key, data);\n            }\n          } else {\n            if (type === \"string\") {\n              if (typeof data[key] !== \"string\") {\n                this.setInvalid(key, data);\n              }\n            } else {\n              if (type === \"vec2\") {\n                if (!(data[key] instanceof Array && data[key].length === 2)) {\n                  this.setInvalid(key, data);\n                }\n              } else {\n                if (type === \"rgb\") {\n                  if (!(data[key] instanceof Array && data[key].length === 3)) {\n                    this.setInvalid(key, data);\n                  }\n                } else {\n                  if (type === \"texture\") {\n                    if (!pathMapping) {\n                      if (typeof data[key] === \"number\" || data[key] === null) {\n                      } else {\n                        if (!(data[key] instanceof pc.Texture)) {\n                          this.setInvalid(key, data);\n                        }\n                      }\n                    } else {\n                      if (typeof data[key] === \"string\" || data[key === null]) {\n                      } else {\n                        if (!(data[key] instanceof pc.Texture)) {\n                          this.setInvalid(key, data);\n                        }\n                      }\n                    }\n                  } else {\n                    if (type === \"boundingbox\") {\n                      if (!(data[key].center && data[key].center instanceof Array && data[key].center.length === 3)) {\n                        this.setInvalid(key, data);\n                      }\n                      if (!(data[key].halfExtents && data[key].halfExtents instanceof Array && data[key].halfExtents.length === 3)) {\n                        this.setInvalid(key, data);\n                      }\n                    } else {\n                      if (type === \"cubemap\") {\n                        if (typeof data[key] === \"number\" || data[key] === null || data[key] === undefined) {\n                        } else {\n                          if (!(data[key] instanceof pc.Texture && data[key].cubemap)) {\n                            this.setInvalid(key, data);\n                          }\n                        }\n                      } else {\n                        if (type === \"chunks\") {\n                          var chunkNames = Object.keys(data[key]);\n                          for (i = 0;i < chunkNames.length;i++) {\n                            if (typeof data[key][chunkNames[i]] !== \"string\") {\n                              this.setInvalid(chunkNames[i], data[key]);\n                            }\n                          }\n                        } else {\n                          console.error(\"Unknown material type: \" + type);\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    data.validated = true;\n    return this.valid;\n  };\n  StandardMaterialValidator.prototype._createEnumValidator = function(values) {\n    return function(value) {\n      return values.indexOf(value) >= 0;\n    };\n  };\n  return {StandardMaterialValidator:StandardMaterialValidator};\n}());\nObject.assign(pc, function() {\n  var StandardMaterialOptionsBuilder = function() {\n    this._mapXForms = null;\n  };\n  StandardMaterialOptionsBuilder.prototype.updateMinRef = function(options, device, scene, stdMat, objDefs, staticLightList, pass, sortedLights, prefilteredCubeMap128) {\n    this._updateSharedOptions(options, stdMat, objDefs, pass);\n    this._updateMinOptions(options, stdMat);\n    this._updateUVOptions(options, stdMat, objDefs, true);\n  };\n  StandardMaterialOptionsBuilder.prototype.updateRef = function(options, device, scene, stdMat, objDefs, staticLightList, pass, sortedLights, prefilteredCubeMap128) {\n    this._updateSharedOptions(options, stdMat, objDefs, pass);\n    options.useTexCubeLod = device.useTexCubeLod;\n    this._updateEnvOptions(options, stdMat, scene, prefilteredCubeMap128);\n    this._updateMaterialOptions(options, stdMat);\n    if (pass === pc.SHADER_FORWARDHDR) {\n      if (options.gamma) {\n        options.gamma = pc.GAMMA_SRGBHDR;\n      }\n      options.toneMap = pc.TONEMAP_LINEAR;\n    }\n    options.hasTangents = objDefs && stdMat.normalMap && (objDefs & pc.SHADERDEF_TANGENTS) !== 0;\n    this._updateLightOptions(options, stdMat, objDefs, sortedLights, staticLightList);\n    this._updateUVOptions(options, stdMat, objDefs, false);\n  };\n  StandardMaterialOptionsBuilder.prototype._updateSharedOptions = function(options, stdMat, objDefs, pass) {\n    options.pass = pass;\n    options.alphaTest = stdMat.alphaTest > 0;\n    options.forceFragmentPrecision = stdMat.forceFragmentPrecision || \"\";\n    options.chunks = stdMat.chunks || \"\";\n    options.blendType = stdMat.blendType;\n    options.forceUv1 = stdMat.forceUv1;\n    options.screenSpace = objDefs && (objDefs & pc.SHADERDEF_SCREENSPACE) !== 0;\n    options.skin = objDefs && (objDefs & pc.SHADERDEF_SKIN) !== 0;\n    options.useInstancing = objDefs && (objDefs & pc.SHADERDEF_INSTANCING) !== 0;\n    options.nineSlicedMode = stdMat.nineSlicedMode || 0;\n  };\n  StandardMaterialOptionsBuilder.prototype._updateUVOptions = function(options, stdMat, objDefs, minimalOptions) {\n    var hasUv0 = false;\n    var hasUv1 = false;\n    var hasVcolor = false;\n    if (objDefs) {\n      hasUv0 = (objDefs & pc.SHADERDEF_UV0) !== 0;\n      hasUv1 = (objDefs & pc.SHADERDEF_UV1) !== 0;\n      hasVcolor = (objDefs & pc.SHADERDEF_VCOLOR) !== 0;\n    }\n    options.vertexColors = false;\n    this._mapXForms = [];\n    for (var p in pc._matTex2D) {\n      this._updateTexOptions(options, stdMat, p, hasUv0, hasUv1, hasVcolor, minimalOptions);\n    }\n    this._mapXForms = null;\n  };\n  StandardMaterialOptionsBuilder.prototype._updateMinOptions = function(options, stdMat) {\n    options.opacityTint = stdMat.opacity !== 1 && stdMat.blendType !== pc.BLEND_NONE;\n    options.lights = [];\n  };\n  StandardMaterialOptionsBuilder.prototype._updateMaterialOptions = function(options, stdMat) {\n    var diffuseTint = (stdMat.diffuse.r !== 1 || stdMat.diffuse.g !== 1 || stdMat.diffuse.b !== 1) && (stdMat.diffuseTint || !stdMat.diffuseMap && !stdMat.diffuseVertexColor) ? 3 : 0;\n    var specularTint = false;\n    var useSpecular = (stdMat.useMetalness ? true : !!stdMat.specularMap) || !!stdMat.sphereMap || !!stdMat.cubeMap || !!stdMat.dpAtlas;\n    useSpecular = useSpecular || (stdMat.useMetalness ? true : !(stdMat.specular.r === 0 && stdMat.specular.g === 0 && stdMat.specular.b === 0));\n    if (useSpecular) {\n      if ((stdMat.specularTint || !stdMat.specularMap && !stdMat.specularVertexColor) && !stdMat.useMetalness) {\n        specularTint = stdMat.specular.r !== 1 || stdMat.specular.g !== 1 || stdMat.specular.b !== 1;\n      }\n    }\n    var emissiveTint = stdMat.emissiveMap ? 0 : 3;\n    if (!emissiveTint) {\n      emissiveTint = (stdMat.emissive.r !== 1 || stdMat.emissive.g !== 1 || stdMat.emissive.b !== 1 || stdMat.emissiveIntensity !== 1) && stdMat.emissiveTint;\n      emissiveTint = emissiveTint ? 3 : stdMat.emissiveIntensity !== 1 ? 1 : 0;\n    }\n    options.opacityTint = stdMat.opacity !== 1 && stdMat.blendType !== pc.BLEND_NONE ? 1 : 0;\n    options.blendMapsWithColors = true;\n    options.ambientTint = stdMat.ambientTint;\n    options.diffuseTint = diffuseTint;\n    options.specularTint = specularTint ? 3 : 0;\n    options.metalnessTint = stdMat.useMetalness && stdMat.metalness < 1 ? 1 : 0;\n    options.glossTint = 1;\n    options.emissiveTint = emissiveTint;\n    options.alphaToCoverage = stdMat.alphaToCoverage;\n    options.needsNormalFloat = stdMat.normalizeNormalMap;\n    options.sphereMap = !!stdMat.sphereMap;\n    options.cubeMap = !!stdMat.cubeMap;\n    options.dpAtlas = !!stdMat.dpAtlas;\n    options.ambientSH = !!stdMat.ambientSH;\n    options.useSpecular = useSpecular;\n    options.emissiveFormat = stdMat.emissiveMap ? stdMat.emissiveMap.rgbm ? 1 : stdMat.emissiveMap.format === pc.PIXELFORMAT_RGBA32F ? 2 : 0 : null;\n    options.lightMapFormat = stdMat.lightMap ? stdMat.lightMap.rgbm ? 1 : stdMat.lightMap.format === pc.PIXELFORMAT_RGBA32F ? 2 : 0 : null;\n    options.specularAntialias = stdMat.specularAntialias;\n    options.conserveEnergy = stdMat.conserveEnergy;\n    options.occludeSpecular = stdMat.occludeSpecular;\n    options.occludeSpecularFloat = stdMat.occludeSpecularIntensity !== 1.0;\n    options.occludeDirect = stdMat.occludeDirect;\n    options.shadingModel = stdMat.shadingModel;\n    options.fresnelModel = stdMat.fresnelModel;\n    options.packedNormal = stdMat.normalMap ? stdMat.normalMap.format === pc.PIXELFORMAT_DXT5 : false;\n    options.fastTbn = stdMat.fastTbn;\n    options.cubeMapProjection = stdMat.cubeMapProjection;\n    options.customFragmentShader = stdMat.customFragmentShader;\n    options.refraction = !!stdMat.refraction;\n    options.useMetalness = stdMat.useMetalness;\n    options.msdf = !!stdMat.msdfMap;\n    options.twoSidedLighting = stdMat.twoSidedLighting;\n    options.pixelSnap = stdMat.pixelSnap;\n    options.aoMapUv = stdMat.aoUvSet;\n  };\n  StandardMaterialOptionsBuilder.prototype._updateEnvOptions = function(options, stdMat, scene, prefilteredCubeMap128) {\n    var rgbmAmbient = (prefilteredCubeMap128 ? prefilteredCubeMap128.rgbm : false) || (stdMat.cubeMap ? stdMat.cubeMap.rgbm : false) || (stdMat.dpAtlas ? stdMat.dpAtlas.rgbm : false);\n    var hdrAmbient = (prefilteredCubeMap128 ? prefilteredCubeMap128.rgbm || prefilteredCubeMap128.format === pc.PIXELFORMAT_RGBA32F : false) || (stdMat.cubeMap ? stdMat.cubeMap.rgbm || stdMat.cubeMap.format === pc.PIXELFORMAT_RGBA32F : false) || (stdMat.dpAtlas ? stdMat.dpAtlas.rgbm || stdMat.dpAtlas.format === pc.PIXELFORMAT_RGBA32F : false);\n    var rgbmReflection = (prefilteredCubeMap128 && !stdMat.cubeMap && !stdMat.sphereMap && !stdMat.dpAtlas ? prefilteredCubeMap128.rgbm : false) || (stdMat.cubeMap ? stdMat.cubeMap.rgbm : false) || (stdMat.sphereMap ? stdMat.sphereMap.rgbm : false) || (stdMat.dpAtlas ? stdMat.dpAtlas.rgbm : false);\n    var hdrReflection = (prefilteredCubeMap128 && !stdMat.cubeMap && !stdMat.sphereMap && !stdMat.dpAtlas ? prefilteredCubeMap128.rgbm || prefilteredCubeMap128.format === pc.PIXELFORMAT_RGBA32F : false) || (stdMat.cubeMap ? stdMat.cubeMap.rgbm || stdMat.cubeMap.format === pc.PIXELFORMAT_RGBA32F : false) || (stdMat.sphereMap ? stdMat.sphereMap.rgbm || stdMat.sphereMap.format === pc.PIXELFORMAT_RGBA32F : false) || (stdMat.dpAtlas ? stdMat.dpAtlas.rgbm || stdMat.dpAtlas.format === pc.PIXELFORMAT_RGBA32F : \n    false);\n    var globalSky128;\n    if (stdMat.useSkybox && scene._skyboxPrefiltered) {\n      globalSky128 = scene._skyboxPrefiltered[0];\n    }\n    options.fog = stdMat.useFog ? scene.fog : \"none\";\n    options.gamma = stdMat.useGammaTonemap ? scene.gammaCorrection : pc.GAMMA_NONE;\n    options.toneMap = stdMat.useGammaTonemap ? scene.toneMapping : -1;\n    options.rgbmAmbient = rgbmAmbient;\n    options.hdrAmbient = hdrAmbient;\n    options.rgbmReflection = rgbmReflection;\n    options.hdrReflection = hdrReflection;\n    options.useRgbm = rgbmReflection || rgbmAmbient || (stdMat.emissiveMap ? stdMat.emissiveMap.rgbm : false) || (stdMat.lightMap ? stdMat.lightMap.rgbm : false);\n    options.fixSeams = prefilteredCubeMap128 ? prefilteredCubeMap128.fixCubemapSeams : stdMat.cubeMap ? stdMat.cubeMap.fixCubemapSeams : false;\n    options.prefilteredCubemap = !!prefilteredCubeMap128;\n    options.skyboxIntensity = prefilteredCubeMap128 && globalSky128 && prefilteredCubeMap128 === globalSky128 && scene.skyboxIntensity !== 1;\n  };\n  StandardMaterialOptionsBuilder.prototype._updateLightOptions = function(options, stdMat, objDefs, sortedLights, staticLightList) {\n    options.lightMap = false;\n    options.lightMapChannel = \"\";\n    options.lightMapUv = 0;\n    options.lightMapTransform = 0;\n    options.lightMapWithoutAmbient = false;\n    options.dirLightMap = false;\n    if (objDefs) {\n      options.noShadow = (objDefs & pc.SHADERDEF_NOSHADOW) !== 0;\n      if ((objDefs & pc.SHADERDEF_LM) !== 0) {\n        options.lightMapFormat = 1;\n        options.lightMap = true;\n        options.lightMapChannel = \"rgb\";\n        options.lightMapUv = 1;\n        options.lightMapTransform = 0;\n        options.lightMapWithoutAmbient = !stdMat.lightMap;\n        options.useRgbm = true;\n        if ((objDefs & pc.SHADERDEF_DIRLM) !== 0) {\n          options.dirLightMap = true;\n        }\n      }\n    }\n    if (stdMat.useLighting) {\n      var lightsFiltered = [];\n      var mask = objDefs ? objDefs >> 16 : 1;\n      if (sortedLights) {\n        this._collectLights(pc.LIGHTTYPE_DIRECTIONAL, sortedLights[pc.LIGHTTYPE_DIRECTIONAL], lightsFiltered, mask);\n        this._collectLights(pc.LIGHTTYPE_POINT, sortedLights[pc.LIGHTTYPE_POINT], lightsFiltered, mask, staticLightList);\n        this._collectLights(pc.LIGHTTYPE_SPOT, sortedLights[pc.LIGHTTYPE_SPOT], lightsFiltered, mask, staticLightList);\n      }\n      options.lights = lightsFiltered;\n    } else {\n      options.lights = [];\n    }\n    if (options.lights.length === 0) {\n      options.noShadow = true;\n    }\n  };\n  StandardMaterialOptionsBuilder.prototype._updateTexOptions = function(options, stdMat, p, hasUv0, hasUv1, hasVcolor, minimalOptions) {\n    var mname = p + \"Map\";\n    var vname = p + \"VertexColor\";\n    var vcname = p + \"VertexColorChannel\";\n    var cname = mname + \"Channel\";\n    var tname = mname + \"Transform\";\n    var uname = mname + \"Uv\";\n    if (p !== \"light\") {\n      options[mname] = false;\n      options[cname] = \"\";\n      options[tname] = 0;\n      options[uname] = 0;\n    }\n    options[vname] = false;\n    options[vcname] = \"\";\n    var isOpacity = p === \"opacity\";\n    if (isOpacity && stdMat.blendType === pc.BLEND_NONE && stdMat.alphaTest === 0.0 && !stdMat.alphaToCoverage) {\n      return options;\n    }\n    if (!minimalOptions || isOpacity) {\n      if (p !== \"height\" && stdMat[vname]) {\n        if (hasVcolor) {\n          options[vname] = stdMat[vname];\n          options[vcname] = stdMat[vcname];\n          options.vertexColors = true;\n        }\n      }\n      if (stdMat[mname]) {\n        var allow = true;\n        if (stdMat[uname] === 0 && !hasUv0) {\n          allow = false;\n        }\n        if (stdMat[uname] === 1 && !hasUv1) {\n          allow = false;\n        }\n        if (allow) {\n          options[mname] = !!stdMat[mname];\n          options[tname] = this._getMapTransformID(stdMat[tname], stdMat[uname]);\n          options[cname] = stdMat[cname];\n          options[uname] = stdMat[uname];\n        }\n      }\n    }\n  };\n  StandardMaterialOptionsBuilder.prototype._collectLights = function(lType, lights, lightsFiltered, mask, staticLightList) {\n    var light;\n    var i;\n    for (i = 0;i < lights.length;i++) {\n      light = lights[i];\n      if (light._enabled) {\n        if (light._mask & mask) {\n          if (lType !== pc.LIGHTTYPE_DIRECTIONAL) {\n            if (light.isStatic) {\n              continue;\n            }\n          }\n          lightsFiltered.push(light);\n        }\n      }\n    }\n    if (staticLightList) {\n      for (i = 0;i < staticLightList.length;i++) {\n        light = staticLightList[i];\n        if (light._type === lType) {\n          lightsFiltered.push(light);\n        }\n      }\n    }\n  };\n  StandardMaterialOptionsBuilder.prototype._getMapTransformID = function(xform, uv) {\n    if (!xform) {\n      return 0;\n    }\n    if (!this._mapXForms[uv]) {\n      this._mapXForms[uv] = [];\n    }\n    var i, same;\n    for (i = 0;i < this._mapXForms[uv].length;i++) {\n      same = true;\n      if (this._mapXForms[uv][i][0] != xform.x) {\n        same = false;\n        break;\n      }\n      if (this._mapXForms[uv][i][1] != xform.y) {\n        same = false;\n        break;\n      }\n      if (this._mapXForms[uv][i][2] != xform.z) {\n        same = false;\n        break;\n      }\n      if (this._mapXForms[uv][i][3] != xform.w) {\n        same = false;\n        break;\n      }\n      if (same) {\n        return i + 1;\n      }\n    }\n    var newID = this._mapXForms[uv].length;\n    this._mapXForms[uv][newID] = [];\n    this._mapXForms[uv][newID][0] = xform.x;\n    this._mapXForms[uv][newID][1] = xform.y;\n    this._mapXForms[uv][newID][2] = xform.z;\n    this._mapXForms[uv][newID][3] = xform.w;\n    return newID + 1;\n  };\n  return {StandardMaterialOptionsBuilder:StandardMaterialOptionsBuilder};\n}());\nObject.assign(pc, function() {\n  var id = 0;\n  var _tmpAabb = new pc.BoundingBox;\n  var Mesh = function() {\n    this._refCount = 0;\n    this.id = id++;\n    this.vertexBuffer = null;\n    this.indexBuffer = [null];\n    this.primitive = [{type:0, base:0, count:0}];\n    this.skin = null;\n    this.morph = null;\n    this._aabb = new pc.BoundingBox;\n    this.boneAabb = null;\n  };\n  Object.defineProperty(Mesh.prototype, \"aabb\", {get:function() {\n    return this.morph ? this.morph.aabb : this._aabb;\n  }, set:function(aabb) {\n    if (this.morph) {\n      this._aabb = this.morph._baseAabb = aabb;\n      this.morph._calculateAabb();\n    } else {\n      this._aabb = aabb;\n    }\n  }});\n  var MeshInstance = function MeshInstance(node, mesh, material) {\n    this._key = [0, 0];\n    this._shader = [null, null, null];\n    this.isStatic = false;\n    this._staticLightList = null;\n    this._staticSource = null;\n    this.node = node;\n    this._mesh = mesh;\n    mesh._refCount++;\n    this.material = material;\n    this._shaderDefs = pc.MASK_DYNAMIC << 16;\n    this._shaderDefs |= mesh.vertexBuffer.format.hasUv0 ? pc.SHADERDEF_UV0 : 0;\n    this._shaderDefs |= mesh.vertexBuffer.format.hasUv1 ? pc.SHADERDEF_UV1 : 0;\n    this._shaderDefs |= mesh.vertexBuffer.format.hasColor ? pc.SHADERDEF_VCOLOR : 0;\n    this._shaderDefs |= mesh.vertexBuffer.format.hasTangents ? pc.SHADERDEF_TANGENTS : 0;\n    this._lightHash = 0;\n    this.visible = true;\n    this.layer = pc.LAYER_WORLD;\n    this.renderStyle = pc.RENDERSTYLE_SOLID;\n    this.castShadow = false;\n    this._receiveShadow = true;\n    this._screenSpace = false;\n    this._noDepthDrawGl1 = false;\n    this.cull = true;\n    this.pick = true;\n    this._updateAabb = true;\n    this._updateAabbFunc = null;\n    this.updateKey();\n    this._skinInstance = null;\n    this.morphInstance = null;\n    this.instancingData = null;\n    this.aabb = new pc.BoundingBox;\n    this._boneAabb = null;\n    this._aabbVer = -1;\n    this.drawOrder = 0;\n    this.visibleThisFrame = 0;\n    this.isVisibleFunc = null;\n    this.parameters = {};\n    this.stencilFront = null;\n    this.stencilBack = null;\n    this.flipFaces = false;\n  };\n  Object.defineProperty(MeshInstance.prototype, \"mesh\", {get:function() {\n    return this._mesh;\n  }, set:function(mesh) {\n    if (this._mesh) {\n      this._mesh._refCount--;\n    }\n    this._mesh = mesh;\n    if (mesh) {\n      mesh._refCount++;\n    }\n  }});\n  Object.defineProperty(MeshInstance.prototype, \"aabb\", {get:function() {\n    var aabb;\n    if (!this._updateAabb) {\n      return this._aabb;\n    }\n    if (this._updateAabbFunc) {\n      return this._updateAabbFunc(this._aabb);\n    }\n    if (this.skinInstance) {\n      var numBones = this.mesh.skin.boneNames.length;\n      var boneUsed, i;\n      if (!this.mesh.boneAabb) {\n        this.mesh.boneAabb = [];\n        this.mesh.boneUsed = [];\n        var elems = this.mesh.vertexBuffer.format.elements;\n        var numVerts = this.mesh.vertexBuffer.numVertices;\n        var vertSize = this.mesh.vertexBuffer.format.size;\n        var index;\n        var offsetP, offsetI, offsetW;\n        var j, k, l;\n        for (i = 0;i < elems.length;i++) {\n          if (elems[i].name === pc.SEMANTIC_POSITION) {\n            offsetP = elems[i].offset;\n          } else {\n            if (elems[i].name === pc.SEMANTIC_BLENDINDICES) {\n              offsetI = elems[i].offset;\n            } else {\n              if (elems[i].name === pc.SEMANTIC_BLENDWEIGHT) {\n                offsetW = elems[i].offset;\n              }\n            }\n          }\n        }\n        var data8 = new Uint8Array(this.mesh.vertexBuffer.storage);\n        var dataF = new Float32Array(this.mesh.vertexBuffer.storage);\n        var offsetPF = offsetP / 4;\n        var offsetWF = offsetW / 4;\n        var vertSizeF = vertSize / 4;\n        var bMax, bMin;\n        var x, y, z;\n        var boneMin = [];\n        var boneMax = [];\n        boneUsed = this.mesh.boneUsed;\n        for (i = 0;i < numBones;i++) {\n          boneMin[i] = new pc.Vec3(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n          boneMax[i] = new pc.Vec3(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\n        }\n        for (j = 0;j < numVerts;j++) {\n          for (k = 0;k < 4;k++) {\n            if (dataF[j * vertSizeF + offsetWF + k] > 0) {\n              index = data8[j * vertSize + offsetI + k];\n              x = dataF[j * vertSizeF + offsetPF];\n              y = dataF[j * vertSizeF + offsetPF + 1];\n              z = dataF[j * vertSizeF + offsetPF + 2];\n              bMax = boneMax[index];\n              bMin = boneMin[index];\n              if (bMin.x > x) {\n                bMin.x = x;\n              }\n              if (bMin.y > y) {\n                bMin.y = y;\n              }\n              if (bMin.z > z) {\n                bMin.z = z;\n              }\n              if (bMax.x < x) {\n                bMax.x = x;\n              }\n              if (bMax.y < y) {\n                bMax.y = y;\n              }\n              if (bMax.z < z) {\n                bMax.z = z;\n              }\n              boneUsed[index] = true;\n            }\n          }\n        }\n        if (this.morphInstance) {\n          var vertIndex;\n          var targets = this.morphInstance.morph._targets;\n          var minMorphedPos = new Float32Array(numVerts * 3);\n          var maxMorphedPos = new Float32Array(numVerts * 3);\n          var m, dx, dy, dz;\n          var target, mtIndices, mtIndicesLength, deltaPos;\n          for (j = 0;j < numVerts;j++) {\n            minMorphedPos[j * 3] = maxMorphedPos[j * 3] = dataF[j * vertSizeF + offsetPF];\n            minMorphedPos[j * 3 + 1] = maxMorphedPos[j * 3 + 1] = dataF[j * vertSizeF + offsetPF + 1];\n            minMorphedPos[j * 3 + 2] = maxMorphedPos[j * 3 + 2] = dataF[j * vertSizeF + offsetPF + 2];\n          }\n          for (l = 0;l < targets.length;l++) {\n            target = targets[l];\n            mtIndices = target.indices;\n            mtIndicesLength = mtIndices.length;\n            deltaPos = target.deltaPositions;\n            for (k = 0;k < mtIndicesLength;k++) {\n              vertIndex = mtIndices[k];\n              dx = deltaPos[k * 3];\n              dy = deltaPos[k * 3 + 1];\n              dz = deltaPos[k * 3 + 2];\n              if (dx < 0) {\n                minMorphedPos[vertIndex * 3] += dx;\n              } else {\n                maxMorphedPos[vertIndex * 3] += dx;\n              }\n              if (dy < 0) {\n                minMorphedPos[vertIndex * 3 + 1] += dy;\n              } else {\n                maxMorphedPos[vertIndex * 3 + 1] += dy;\n              }\n              if (dz < 0) {\n                minMorphedPos[vertIndex * 3 + 2] += dz;\n              } else {\n                maxMorphedPos[vertIndex * 3 + 2] += dz;\n              }\n            }\n          }\n          for (l = 0;l < targets.length;l++) {\n            target = targets[l];\n            mtIndices = target.indices;\n            mtIndicesLength = mtIndices.length;\n            deltaPos = target.deltaPositions;\n            for (k = 0;k < mtIndicesLength;k++) {\n              vertIndex = mtIndices[k];\n              for (m = 0;m < 4;m++) {\n                if (dataF[vertIndex * vertSizeF + offsetWF + m] > 0) {\n                  index = data8[vertIndex * vertSize + offsetI + m];\n                  bMax = boneMax[index];\n                  bMin = boneMin[index];\n                  x = minMorphedPos[vertIndex * 3];\n                  y = minMorphedPos[vertIndex * 3 + 1];\n                  z = minMorphedPos[vertIndex * 3 + 2];\n                  if (bMin.x > x) {\n                    bMin.x = x;\n                  }\n                  if (bMin.y > y) {\n                    bMin.y = y;\n                  }\n                  if (bMin.z > z) {\n                    bMin.z = z;\n                  }\n                  x = maxMorphedPos[vertIndex * 3];\n                  y = maxMorphedPos[vertIndex * 3 + 1];\n                  z = maxMorphedPos[vertIndex * 3 + 2];\n                  if (bMax.x < x) {\n                    bMax.x = x;\n                  }\n                  if (bMax.y < y) {\n                    bMax.y = y;\n                  }\n                  if (bMax.z < z) {\n                    bMax.z = z;\n                  }\n                }\n              }\n            }\n          }\n        }\n        for (i = 0;i < numBones;i++) {\n          aabb = new pc.BoundingBox;\n          aabb.setMinMax(boneMin[i], boneMax[i]);\n          this.mesh.boneAabb.push(aabb);\n        }\n      }\n      if (!this._boneAabb) {\n        this._boneAabb = [];\n        for (i = 0;i < this.mesh.boneAabb.length;i++) {\n          this._boneAabb[i] = new pc.BoundingBox;\n        }\n      }\n      boneUsed = this.mesh.boneUsed;\n      for (i = 0;i < this.mesh.boneAabb.length;i++) {\n        if (!boneUsed[i]) {\n          continue;\n        }\n        this._boneAabb[i].setFromTransformedAabb(this.mesh.boneAabb[i], this.skinInstance.matrices[i]);\n      }\n      var rootNodeTransform = this.node.getWorldTransform();\n      var first = true;\n      for (i = 0;i < this.mesh.boneAabb.length;i++) {\n        if (!boneUsed[i]) {\n          continue;\n        }\n        if (first) {\n          _tmpAabb.center.copy(this._boneAabb[i].center);\n          _tmpAabb.halfExtents.copy(this._boneAabb[i].halfExtents);\n          first = false;\n        } else {\n          _tmpAabb.add(this._boneAabb[i]);\n        }\n      }\n      this._aabb.setFromTransformedAabb(_tmpAabb, rootNodeTransform);\n    } else {\n      if (this.node._aabbVer !== this._aabbVer) {\n        aabb = this.mesh ? this.mesh.aabb : this._aabb;\n        if (!this.mesh) {\n          aabb.center.set(0, 0, 0);\n          aabb.halfExtents.set(0, 0, 0);\n        }\n        this._aabb.setFromTransformedAabb(aabb, this.node.getWorldTransform());\n        this._aabbVer = this.node._aabbVer;\n      }\n    }\n    return this._aabb;\n  }, set:function(aabb) {\n    this._aabb = aabb;\n  }});\n  Object.defineProperty(MeshInstance.prototype, \"material\", {get:function() {\n    return this._material;\n  }, set:function(material) {\n    var i;\n    for (i = 0;i < this._shader.length;i++) {\n      this._shader[i] = null;\n    }\n    if (this._material) {\n      var meshInstances = this._material.meshInstances;\n      i = meshInstances.indexOf(this);\n      if (i !== -1) {\n        meshInstances.splice(i, 1);\n      }\n    }\n    var prevBlend = this._material ? this._material.blendType !== pc.BLEND_NONE : false;\n    var prevMat = this._material;\n    this._material = material;\n    if (this._material) {\n      this._material.meshInstances.push(this);\n      this.updateKey();\n    }\n    if (material) {\n      if (material.blendType !== pc.BLEND_NONE !== prevBlend) {\n        var scene = material._scene;\n        if (!scene && prevMat && prevMat._scene) {\n          scene = prevMat._scene;\n        }\n        if (scene) {\n          scene.layers._dirtyBlend = true;\n        } else {\n          material._dirtyBlend = true;\n        }\n      }\n    }\n  }});\n  Object.defineProperty(MeshInstance.prototype, \"layer\", {get:function() {\n    return this._layer;\n  }, set:function(layer) {\n    this._layer = layer;\n    this.updateKey();\n  }});\n  Object.defineProperty(MeshInstance.prototype, \"receiveShadow\", {get:function() {\n    return this._receiveShadow;\n  }, set:function(val) {\n    this._receiveShadow = val;\n    this._shaderDefs = val ? this._shaderDefs & ~pc.SHADERDEF_NOSHADOW : this._shaderDefs | pc.SHADERDEF_NOSHADOW;\n    this._shader[pc.SHADER_FORWARD] = null;\n    this._shader[pc.SHADER_FORWARDHDR] = null;\n  }});\n  Object.defineProperty(MeshInstance.prototype, \"skinInstance\", {get:function() {\n    return this._skinInstance;\n  }, set:function(val) {\n    this._skinInstance = val;\n    this._shaderDefs = val ? this._shaderDefs | pc.SHADERDEF_SKIN : this._shaderDefs & ~pc.SHADERDEF_SKIN;\n    for (var i = 0;i < this._shader.length;i++) {\n      this._shader[i] = null;\n    }\n  }});\n  Object.defineProperty(MeshInstance.prototype, \"screenSpace\", {get:function() {\n    return this._screenSpace;\n  }, set:function(val) {\n    this._screenSpace = val;\n    this._shaderDefs = val ? this._shaderDefs | pc.SHADERDEF_SCREENSPACE : this._shaderDefs & ~pc.SHADERDEF_SCREENSPACE;\n    this._shader[pc.SHADER_FORWARD] = null;\n  }});\n  Object.defineProperty(MeshInstance.prototype, \"key\", {get:function() {\n    return this._key[pc.SORTKEY_FORWARD];\n  }, set:function(val) {\n    this._key[pc.SORTKEY_FORWARD] = val;\n  }});\n  Object.defineProperty(MeshInstance.prototype, \"mask\", {get:function() {\n    return this._shaderDefs >> 16;\n  }, set:function(val) {\n    var toggles = this._shaderDefs & 65535;\n    this._shaderDefs = toggles | val << 16;\n    this._shader[pc.SHADER_FORWARD] = null;\n    this._shader[pc.SHADER_FORWARDHDR] = null;\n  }});\n  Object.assign(MeshInstance.prototype, {syncAabb:function() {\n  }, updateKey:function() {\n    var material = this.material;\n    this._key[pc.SORTKEY_FORWARD] = getKey(this.layer, material.alphaToCoverage || material.alphaTest ? pc.BLEND_NORMAL : material.blendType, false, material.id);\n  }, setParameter:pc.Material.prototype.setParameter, setParameters:pc.Material.prototype.setParameters, deleteParameter:pc.Material.prototype.deleteParameter, getParameter:pc.Material.prototype.getParameter, getParameters:pc.Material.prototype.getParameters, clearParameters:pc.Material.prototype.clearParameters});\n  var Command = function(layer, blendType, command) {\n    this._key = [];\n    this._key[pc.SORTKEY_FORWARD] = getKey(layer, blendType, true, 0);\n    this.command = command;\n  };\n  Object.defineProperty(Command.prototype, \"key\", {get:function() {\n    return this._key[pc.SORTKEY_FORWARD];\n  }, set:function(val) {\n    this._key[pc.SORTKEY_FORWARD] = val;\n  }});\n  var InstancingData = function(numObjects, dynamic, instanceSize) {\n    instanceSize = instanceSize || 16;\n    this.buffer = new Float32Array(numObjects * instanceSize);\n    this.count = numObjects;\n    this.offset = 0;\n    this.usage = dynamic ? pc.BUFFER_DYNAMIC : pc.BUFFER_STATIC;\n    this._buffer = null;\n  };\n  Object.assign(InstancingData.prototype, {update:function() {\n    if (this._buffer) {\n      this._buffer.setData(this.buffer);\n    }\n  }});\n  function getKey(layer, blendType, isCommand, materialId) {\n    return (layer & 15) << 27 | (blendType === pc.BLEND_NONE ? 1 : 0) << 26 | (isCommand ? 1 : 0) << 25 | (materialId & 33554431) << 0;\n  }\n  return {Command:Command, Mesh:Mesh, MeshInstance:MeshInstance, InstancingData:InstancingData, _getDrawcallSortKey:getKey};\n}());\nObject.assign(pc, function() {\n  var _invMatrix = new pc.Mat4;\n  var Skin = function(graphicsDevice, ibp, boneNames) {\n    this.device = graphicsDevice;\n    this.inverseBindPose = ibp;\n    this.boneNames = boneNames;\n  };\n  var SkinInstance = function(skin) {\n    this.skin = skin;\n    this._dirty = true;\n    this.bones = [];\n    var numBones = skin.inverseBindPose.length;\n    var device = skin.device;\n    if (device.supportsBoneTextures) {\n      var size;\n      if (numBones > 256) {\n        size = 64;\n      } else {\n        if (numBones > 64) {\n          size = 32;\n        } else {\n          if (numBones > 16) {\n            size = 16;\n          } else {\n            size = 8;\n          }\n        }\n      }\n      this.boneTexture = new pc.Texture(device, {width:size, height:size, format:pc.PIXELFORMAT_RGBA32F, mipmaps:false, minFilter:pc.FILTER_NEAREST, magFilter:pc.FILTER_NEAREST});\n      this.boneTexture.name = \"skin\";\n      this.matrixPalette = this.boneTexture.lock();\n    } else {\n      this.matrixPalette = new Float32Array(numBones * 16);\n    }\n    this.matrices = [];\n    for (var i = 0;i < numBones;i++) {\n      this.matrices[i] = new pc.Mat4;\n    }\n  };\n  Object.assign(SkinInstance.prototype, {updateMatrices:function(rootNode) {\n    _invMatrix.copy(rootNode.getWorldTransform()).invert();\n    for (var i = this.bones.length - 1;i >= 0;i--) {\n      this.matrices[i].mul2(_invMatrix, this.bones[i].getWorldTransform());\n      this.matrices[i].mul2(this.matrices[i], this.skin.inverseBindPose[i]);\n    }\n  }, updateMatrixPalette:function() {\n    var pe;\n    var mp = this.matrixPalette;\n    var base;\n    for (var i = this.bones.length - 1;i >= 0;i--) {\n      pe = this.matrices[i].data;\n      base = i * 16;\n      mp[base] = pe[0];\n      mp[base + 1] = pe[1];\n      mp[base + 2] = pe[2];\n      mp[base + 3] = pe[3];\n      mp[base + 4] = pe[4];\n      mp[base + 5] = pe[5];\n      mp[base + 6] = pe[6];\n      mp[base + 7] = pe[7];\n      mp[base + 8] = pe[8];\n      mp[base + 9] = pe[9];\n      mp[base + 10] = pe[10];\n      mp[base + 11] = pe[11];\n      mp[base + 12] = pe[12];\n      mp[base + 13] = pe[13];\n      mp[base + 14] = pe[14];\n      mp[base + 15] = pe[15];\n    }\n    if (this.skin.device.supportsBoneTextures) {\n      this.boneTexture.lock();\n      this.boneTexture.unlock();\n    }\n  }});\n  return {Skin:Skin, SkinInstance:SkinInstance};\n}());\nObject.assign(pc, function() {\n  function PartitionedVertex() {\n    this.index = 0;\n    this.boneIndices = [0, 0, 0, 0];\n  }\n  function SkinPartition() {\n    this.partition = 0;\n    this.vertexStart = 0;\n    this.vertexCount = 0;\n    this.indexStart = 0;\n    this.indexCount = 0;\n    this.boneIndices = [];\n    this.vertices = [];\n    this.indices = [];\n    this.indexMap = {};\n  }\n  Object.assign(SkinPartition.prototype, {addVertex:function(vertex, idx, vertexArray) {\n    var remappedIndex = -1;\n    if (this.indexMap[idx] !== undefined) {\n      remappedIndex = this.indexMap[idx];\n      this.indices.push(remappedIndex);\n    } else {\n      for (var influence = 0;influence < 4;influence++) {\n        if (vertexArray.blendWeight.data[idx * 4 + influence] === 0) {\n          continue;\n        }\n        var originalBoneIndex = vertexArray.blendIndices.data[vertex.index * 4 + influence];\n        vertex.boneIndices[influence] = this.getBoneRemap(originalBoneIndex);\n      }\n      remappedIndex = this.vertices.length;\n      this.indices.push(remappedIndex);\n      this.vertices.push(vertex);\n      this.indexMap[idx] = remappedIndex;\n    }\n  }, addPrimitive:function(vertices, vertexIndices, vertexArray, boneLimit) {\n    var i, j;\n    var bonesToAdd = [];\n    var bonesToAddCount = 0;\n    var vertexCount = vertices.length;\n    for (i = 0;i < vertexCount;i++) {\n      var vertex = vertices[i];\n      var idx = vertex.index;\n      for (var influence = 0;influence < 4;influence++) {\n        if (vertexArray.blendWeight.data[idx * 4 + influence] > 0) {\n          var boneIndex = vertexArray.blendIndices.data[idx * 4 + influence];\n          var needToAdd = true;\n          for (j = 0;j < bonesToAddCount;j++) {\n            if (bonesToAdd[j] == boneIndex) {\n              needToAdd = false;\n              break;\n            }\n          }\n          if (needToAdd) {\n            bonesToAdd[bonesToAddCount] = boneIndex;\n            var boneRemap = this.getBoneRemap(boneIndex);\n            bonesToAddCount += boneRemap === -1 ? 1 : 0;\n          }\n        }\n      }\n    }\n    if (this.boneIndices.length + bonesToAddCount > boneLimit) {\n      return false;\n    }\n    for (i = 0;i < bonesToAddCount;i++) {\n      this.boneIndices.push(bonesToAdd[i]);\n    }\n    for (i = 0;i < vertexCount;i++) {\n      this.addVertex(vertices[i], vertexIndices[i], vertexArray);\n    }\n    return true;\n  }, getBoneRemap:function(boneIndex) {\n    for (var i = 0;i < this.boneIndices.length;i++) {\n      if (this.boneIndices[i] === boneIndex) {\n        return i;\n      }\n    }\n    return -1;\n  }});\n  function indicesToReferences(model) {\n    var i;\n    var vertices = model.vertices;\n    var skins = model.skins;\n    var meshes = model.meshes;\n    var meshInstances = model.meshInstances;\n    for (i = 0;i < meshes.length;i++) {\n      meshes[i].vertices = vertices[meshes[i].vertices];\n      if (meshes[i].skin !== undefined) {\n        meshes[i].skin = skins[meshes[i].skin];\n      }\n    }\n    for (i = 0;i < meshInstances.length;i++) {\n      meshInstances[i].mesh = meshes[meshInstances[i].mesh];\n    }\n  }\n  function referencesToIndices(model) {\n    var i;\n    var vertices = model.vertices;\n    var skins = model.skins;\n    var meshes = model.meshes;\n    var meshInstances = model.meshInstances;\n    for (i = 0;i < meshes.length;i++) {\n      meshes[i].vertices = vertices.indexOf(meshes[i].vertices);\n      if (meshes[i].skin !== undefined) {\n        meshes[i].skin = skins.indexOf(meshes[i].skin);\n      }\n    }\n    for (i = 0;i < meshInstances.length;i++) {\n      meshInstances[i].mesh = meshes.indexOf(meshInstances[i].mesh);\n    }\n  }\n  function partitionSkin(model, materialMappings, boneLimit) {\n    var i, j, k, index;\n    indicesToReferences(model);\n    var vertexArrays = model.vertices;\n    var skins = model.skins;\n    var mesh;\n    var meshes = model.meshes;\n    var meshInstances = model.meshInstances;\n    var getVertex = function(idx) {\n      var vert = new PartitionedVertex;\n      vert.index = idx;\n      return vert;\n    };\n    for (i = skins.length - 1;i >= 0;i--) {\n      if (skins[i].boneNames.length > boneLimit) {\n        var skin = skins.splice(i, 1)[0];\n        var meshesToSplit = [];\n        for (j = 0;j < meshes.length;j++) {\n          if (meshes[j].skin === skin) {\n            meshesToSplit.push(meshes[j]);\n          }\n        }\n        for (j = 0;j < meshesToSplit.length;j++) {\n          index = meshes.indexOf(meshesToSplit[j]);\n          if (index !== -1) {\n            meshes.splice(index, 1);\n          }\n        }\n        if (meshesToSplit.length === 0) {\n          throw new Error(\"partitionSkin: There should be at least one mesh that references a skin\");\n        }\n        var vertexArray = meshesToSplit[0].vertices;\n        for (j = 1;j < meshesToSplit.length;j++) {\n          if (meshesToSplit[j].vertices !== vertexArray) {\n            throw new Error(\"partitionSkin: All meshes that share a skin should also share the same vertex buffer\");\n          }\n        }\n        var partition;\n        var partitions = [];\n        var primitiveVertices = [];\n        var primitiveIndices = [];\n        var basePartition = 0;\n        for (j = 0;j < meshesToSplit.length;j++) {\n          mesh = meshesToSplit[j];\n          var indices = mesh.indices;\n          for (var iIndex = mesh.base;iIndex < mesh.base + mesh.count;) {\n            index = indices[iIndex++];\n            primitiveVertices[0] = getVertex(index);\n            primitiveIndices[0] = index;\n            index = indices[iIndex++];\n            primitiveVertices[1] = getVertex(index);\n            primitiveIndices[1] = index;\n            index = indices[iIndex++];\n            primitiveVertices[2] = getVertex(index);\n            primitiveIndices[2] = index;\n            var added = false;\n            for (var iBonePartition = basePartition;iBonePartition < partitions.length;iBonePartition++) {\n              partition = partitions[iBonePartition];\n              if (partition.addPrimitive(primitiveVertices, primitiveIndices, vertexArray, boneLimit)) {\n                added = true;\n                break;\n              }\n            }\n            if (!added) {\n              partition = new SkinPartition;\n              partition.originalMesh = mesh;\n              partition.addPrimitive(primitiveVertices, primitiveIndices, vertexArray, boneLimit);\n              partitions.push(partition);\n            }\n          }\n          basePartition = partitions.length;\n        }\n        var partitionedVertices = [];\n        var partitionedIndices = [];\n        for (j = 0;j < partitions.length;j++) {\n          partition = partitions[j];\n          if (partition.vertices.length && partition.indices.length) {\n            var vertexStart = partitionedVertices.length;\n            var vertexCount = partition.vertices.length;\n            var indexStart = partitionedIndices.length;\n            var indexCount = partition.indices.length;\n            partition.partition = j;\n            partition.vertexStart = vertexStart;\n            partition.vertexCount = vertexCount;\n            partition.indexStart = indexStart;\n            partition.indexCount = indexCount;\n            var iSour;\n            var iDest;\n            iSour = 0;\n            iDest = vertexStart;\n            while (iSour < vertexCount) {\n              partitionedVertices[iDest++] = partition.vertices[iSour++];\n            }\n            iSour = 0;\n            iDest = indexStart;\n            while (iSour < indexCount) {\n              partitionedIndices[iDest++] = partition.indices[iSour++] + vertexStart;\n            }\n          }\n        }\n        var splitSkins = [];\n        for (j = 0;j < partitions.length;j++) {\n          partition = partitions[j];\n          var ibp = [];\n          var boneNames = [];\n          for (k = 0;k < partition.boneIndices.length;k++) {\n            ibp.push(skin.inverseBindMatrices[partition.boneIndices[k]]);\n            boneNames.push(skin.boneNames[partition.boneIndices[k]]);\n          }\n          var splitSkin = {inverseBindMatrices:ibp, boneNames:boneNames};\n          splitSkins.push(splitSkin);\n          skins.push(splitSkin);\n        }\n        var attrib, attribName, data, components;\n        var splitVertexArray = {};\n        for (attribName in vertexArray) {\n          splitVertexArray[attribName] = {components:vertexArray[attribName].components, data:[], type:vertexArray[attribName].type};\n        }\n        for (attribName in vertexArray) {\n          if (attribName === \"blendIndices\") {\n            var dstBoneIndices = splitVertexArray[attribName].data;\n            for (j = 0;j < partitionedVertices.length;j++) {\n              var srcBoneIndices = partitionedVertices[j].boneIndices;\n              dstBoneIndices.push(srcBoneIndices[0], srcBoneIndices[1], srcBoneIndices[2], srcBoneIndices[3]);\n            }\n          } else {\n            attrib = vertexArray[attribName];\n            data = attrib.data;\n            components = attrib.components;\n            for (j = 0;j < partitionedVertices.length;j++) {\n              index = partitionedVertices[j].index;\n              for (k = 0;k < components;k++) {\n                splitVertexArray[attribName].data.push(data[index * components + k]);\n              }\n            }\n          }\n        }\n        vertexArrays[vertexArrays.indexOf(vertexArray)] = splitVertexArray;\n        for (j = 0;j < partitions.length;j++) {\n          partition = partitions[j];\n          mesh = {aabb:{min:[0, 0, 0], max:[0, 0, 0]}, vertices:splitVertexArray, skin:splitSkins[j], indices:partitionedIndices.splice(0, partition.indexCount), type:\"triangles\", base:0, count:partition.indexCount};\n          meshes.push(mesh);\n          for (k = meshInstances.length - 1;k >= 0;k--) {\n            if (meshInstances[k].mesh === partition.originalMesh) {\n              meshInstances.push({mesh:mesh, node:meshInstances[k].node});\n              if (materialMappings) {\n                materialMappings.push({material:materialMappings[k].material, path:materialMappings[k].path});\n              }\n            }\n          }\n        }\n        for (j = 0;j < partitions.length;j++) {\n          partition = partitions[j];\n          for (k = meshInstances.length - 1;k >= 0;k--) {\n            if (meshInstances[k].mesh === partition.originalMesh) {\n              meshInstances.splice(k, 1);\n              if (materialMappings) {\n                materialMappings.splice(k, 1);\n              }\n            }\n          }\n        }\n      }\n    }\n    referencesToIndices(model);\n  }\n  return {partitionSkin:partitionSkin};\n}());\nObject.assign(pc, function() {\n  var _morphMin = new pc.Vec3;\n  var _morphMax = new pc.Vec3;\n  var MorphTarget = function(options) {\n    if (options.indices) {\n      this.indices = options.indices;\n    } else {\n      var arr = options.deltaPositions;\n      this.indices = [];\n      this.indices.length = arr.length;\n      for (var i = 0;i < arr.length;i++) {\n        this.indices[i] = i;\n      }\n    }\n    this.deltaPositions = options.deltaPositions;\n    this.deltaNormals = options.deltaNormals;\n    this.deltaTangents = options.deltaTangents;\n    this.name = options.name;\n    this.aabb = options.aabb;\n  };\n  var Morph = function(targets) {\n    this.aabb = new pc.BoundingBox;\n    this._baseBuffer = null;\n    this._baseAabb = null;\n    this._targets = targets;\n    this._dirty = true;\n    this._aabbDirty = true;\n    this._baseData = null;\n    this._offsetPF = 0;\n    this._offsetNF = 0;\n    this._offsetTF = 0;\n    this._vertSizeF = 0;\n  };\n  Object.assign(Morph.prototype, {_setBaseMesh:function(baseMesh) {\n    this._baseBuffer = baseMesh.vertexBuffer;\n    this._baseAabb = baseMesh._aabb;\n    this._baseData = new Float32Array(this._baseBuffer.storage);\n    var offsetP = -1;\n    var offsetN = -1;\n    var offsetT = -1;\n    var elems = this._baseBuffer.format.elements;\n    var vertSize = this._baseBuffer.format.size;\n    for (var j = 0;j < elems.length;j++) {\n      if (elems[j].name === pc.SEMANTIC_POSITION) {\n        offsetP = elems[j].offset;\n      } else {\n        if (elems[j].name === pc.SEMANTIC_NORMAL) {\n          offsetN = elems[j].offset;\n        } else {\n          if (elems[j].name === pc.SEMANTIC_TANGENT) {\n            offsetT = elems[j].offset;\n          }\n        }\n      }\n    }\n    this._offsetPF = offsetP / 4;\n    this._offsetNF = offsetN / 4;\n    this._offsetTF = offsetT / 4;\n    this._vertSizeF = vertSize / 4;\n    this._dirty = true;\n  }, _calculateAabb:function() {\n    if (!this._baseBuffer) {\n      return;\n    }\n    this.aabb.copy(this._baseAabb);\n    var numIndices;\n    var i, j, target, index, id;\n    var x, y, z;\n    var vertSizeF = this._vertSizeF;\n    var offsetPF = this._offsetPF;\n    var baseData = this._baseData;\n    for (i = 0;i < this._targets.length;i++) {\n      target = this._targets[i];\n      if (!target.aabb && target.indices.length > 0) {\n        target.aabb = this.aabb.clone();\n        _morphMin.set(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n        _morphMax.set(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\n        numIndices = target.indices.length;\n        for (j = 0;j < numIndices;j++) {\n          index = target.indices[j];\n          id = index * vertSizeF + offsetPF;\n          x = baseData[id] + target.deltaPositions[j * 3];\n          y = baseData[id + 1] + target.deltaPositions[j * 3 + 1];\n          z = baseData[id + 2] + target.deltaPositions[j * 3 + 2];\n          if (_morphMin.x > x) {\n            _morphMin.x = x;\n          }\n          if (_morphMin.y > y) {\n            _morphMin.y = y;\n          }\n          if (_morphMin.z > z) {\n            _morphMin.z = z;\n          }\n          if (_morphMax.x < x) {\n            _morphMax.x = x;\n          }\n          if (_morphMax.y < y) {\n            _morphMax.y = y;\n          }\n          if (_morphMax.z < z) {\n            _morphMax.z = z;\n          }\n        }\n        target.aabb.setMinMax(_morphMin, _morphMax);\n      }\n      if (target.aabb) {\n        this.aabb.add(target.aabb);\n      }\n    }\n    this._aabbDirty = false;\n  }, addTarget:function(target) {\n    this._targets.push(target);\n    this._aabbDirty = true;\n  }, removeTarget:function(target) {\n    var index = this._targets.indexOf(target);\n    if (index !== -1) {\n      this._targets.splice(index, 1);\n      this._aabbDirty = true;\n    }\n  }, getTarget:function(index) {\n    return this._targets[index];\n  }});\n  var MorphInstance = function(morph) {\n    this.morph = morph;\n    this._vertexBuffer = null;\n    this._vertexData = null;\n    this._weights = [];\n    this._dirty = true;\n  };\n  Object.assign(MorphInstance.prototype, {_setBaseMesh:function(baseMesh) {\n    this.destroy();\n    this._vertexBuffer = new pc.VertexBuffer(this.morph._baseBuffer.device, this.morph._baseBuffer.format, this.morph._baseBuffer.numVertices, pc.BUFFER_DYNAMIC, this.morph._baseBuffer.storage.slice(0));\n    this._vertexData = new Float32Array(this._vertexBuffer.storage);\n    this._weights = [];\n    this._weights.length = this.morph._targets.length;\n    for (var i = 0;i < this.morph._targets.length;i++) {\n      this._weights[i] = 0;\n    }\n    this._dirty = true;\n  }, destroy:function() {\n    if (this._vertexBuffer) {\n      this._vertexBuffer.destroy();\n      this._vertexBuffer = null;\n    }\n  }, getWeight:function(index) {\n    return this._weights[index];\n  }, setWeight:function(index, weight) {\n    this._weights[index] = weight;\n    this._dirty = true;\n  }, updateBounds:function(mesh) {\n    if (this.morph._baseBuffer !== mesh.vertexBuffer) {\n      this.morph._setBaseMesh(mesh);\n    }\n    if (!this._vertexData) {\n      this._setBaseMesh(mesh);\n    }\n    if (this.morph._aabbDirty) {\n      this.morph._calculateAabb();\n    }\n  }, update:function(mesh) {\n    if (this.morph._baseBuffer !== mesh.vertexBuffer) {\n      this.morph._setBaseMesh(mesh);\n    }\n    if (!this._vertexData) {\n      this._setBaseMesh(mesh);\n    }\n    var numIndices, index;\n    var targets = this.morph._targets;\n    var weights = this._weights;\n    var target, weight, j, id, j3, j4;\n    var vertSizeF = this.morph._vertSizeF;\n    var offsetPF = this.morph._offsetPF;\n    var offsetNF = this.morph._offsetNF;\n    var offsetTF = this.morph._offsetTF;\n    var vdata = this._vertexData;\n    vdata.set(this.morph._baseData);\n    for (var i = 0;i < targets.length;i++) {\n      weight = weights[i];\n      if (weight === 0) {\n        continue;\n      }\n      target = targets[i];\n      numIndices = target.indices.length;\n      for (j = 0;j < numIndices;j++) {\n        j3 = j * 3;\n        index = target.indices[j];\n        id = index * vertSizeF + offsetPF;\n        vdata[id] += target.deltaPositions[j3] * weight;\n        vdata[id + 1] += target.deltaPositions[j3 + 1] * weight;\n        vdata[id + 2] += target.deltaPositions[j3 + 2] * weight;\n        if (target.deltaNormals) {\n          id = index * vertSizeF + offsetNF;\n          vdata[id] += target.deltaNormals[j3] * weight;\n          vdata[id + 1] += target.deltaNormals[j3 + 1] * weight;\n          vdata[id + 2] += target.deltaNormals[j3 + 2] * weight;\n          if (target.deltaTangents) {\n            j4 = j * 4;\n            id = index * vertSizeF + offsetTF;\n            vdata[id] += target.deltaTangents[j4] * weight;\n            vdata[id + 1] += target.deltaTangents[j4 + 1] * weight;\n            vdata[id + 2] += target.deltaTangents[j4 + 2] * weight;\n            vdata[id + 3] += target.deltaTangents[j4 + 3] * weight;\n            vdata[id + 3] = vdata[id + 3] > 0 ? 1 : -1;\n          }\n        }\n      }\n    }\n    this._vertexBuffer.unlock();\n  }});\n  return {MorphTarget:MorphTarget, Morph:Morph, MorphInstance:MorphInstance};\n}());\nObject.assign(pc, function() {\n  var Model = function Model() {\n    this.graph = null;\n    this.meshInstances = [];\n    this.skinInstances = [];\n    this.morphInstances = [];\n    this.cameras = [];\n    this.lights = [];\n    this._shadersVersion = 0;\n  };\n  Object.assign(Model.prototype, {getGraph:function() {\n    return this.graph;\n  }, setGraph:function(graph) {\n    this.graph = graph;\n  }, getCameras:function() {\n    return this.cameras;\n  }, setCameras:function(cameras) {\n    this.cameras = cameras;\n  }, getLights:function() {\n    return this.lights;\n  }, setLights:function(lights) {\n    this.lights = lights;\n  }, getMaterials:function() {\n    var i;\n    var materials = [];\n    for (i = 0;i < this.meshInstances.length;i++) {\n      var meshInstance = this.meshInstances[i];\n      if (materials.indexOf(meshInstance.material) === -1) {\n        materials.push(meshInstance.material);\n      }\n    }\n    return materials;\n  }, clone:function() {\n    var i, j;\n    var srcNodes = [];\n    var cloneNodes = [];\n    var _duplicate = function(node) {\n      var newNode = node.clone();\n      srcNodes.push(node);\n      cloneNodes.push(newNode);\n      for (var idx = 0;idx < node._children.length;idx++) {\n        newNode.addChild(_duplicate(node._children[idx]));\n      }\n      return newNode;\n    };\n    var cloneGraph = _duplicate(this.graph);\n    var cloneMeshInstances = [];\n    var cloneSkinInstances = [];\n    var cloneMorphInstances = [];\n    for (i = 0;i < this.skinInstances.length;i++) {\n      var skin = this.skinInstances[i].skin;\n      var cloneSkinInstance = new pc.SkinInstance(skin);\n      var bones = [];\n      for (j = 0;j < skin.boneNames.length;j++) {\n        var boneName = skin.boneNames[j];\n        var bone = cloneGraph.findByName(boneName);\n        bones.push(bone);\n      }\n      cloneSkinInstance.bones = bones;\n      cloneSkinInstances.push(cloneSkinInstance);\n    }\n    for (i = 0;i < this.morphInstances.length;i++) {\n      var morph = this.morphInstances[i].morph;\n      var cloneMorphInstance = new pc.MorphInstance(morph);\n      cloneMorphInstances.push(cloneMorphInstance);\n    }\n    for (i = 0;i < this.meshInstances.length;i++) {\n      var meshInstance = this.meshInstances[i];\n      var nodeIndex = srcNodes.indexOf(meshInstance.node);\n      var cloneMeshInstance = new pc.MeshInstance(cloneNodes[nodeIndex], meshInstance.mesh, meshInstance.material);\n      if (meshInstance.skinInstance) {\n        var skinInstanceIndex = this.skinInstances.indexOf(meshInstance.skinInstance);\n        cloneMeshInstance.skinInstance = cloneSkinInstances[skinInstanceIndex];\n      }\n      if (meshInstance.morphInstance) {\n        var morphInstanceIndex = this.morphInstances.indexOf(meshInstance.morphInstance);\n        cloneMeshInstance.morphInstance = cloneMorphInstances[morphInstanceIndex];\n      }\n      cloneMeshInstances.push(cloneMeshInstance);\n    }\n    var clone = new pc.Model;\n    clone.graph = cloneGraph;\n    clone.meshInstances = cloneMeshInstances;\n    clone.skinInstances = cloneSkinInstances;\n    clone.morphInstances = cloneMorphInstances;\n    clone.getGraph().syncHierarchy();\n    return clone;\n  }, destroy:function() {\n    var meshInstances = this.meshInstances;\n    var meshInstance, mesh, skin, morph, ib, boneTex, j;\n    var device;\n    for (var i = 0;i < meshInstances.length;i++) {\n      meshInstance = meshInstances[i];\n      mesh = meshInstance.mesh;\n      if (mesh) {\n        mesh._refCount--;\n        if (mesh._refCount < 1) {\n          if (mesh.vertexBuffer) {\n            device = device || mesh.vertexBuffer.device;\n            mesh.vertexBuffer.destroy();\n            mesh.vertexBuffer = null;\n          }\n          for (j = 0;j < mesh.indexBuffer.length;j++) {\n            device = device || mesh.indexBuffer.device;\n            ib = mesh.indexBuffer[j];\n            if (!ib) {\n              continue;\n            }\n            ib.destroy();\n          }\n          mesh.indexBuffer.length = 0;\n        }\n      }\n      skin = meshInstance.skinInstance;\n      if (skin) {\n        boneTex = skin.boneTexture;\n        if (boneTex) {\n          boneTex.destroy();\n        }\n      }\n      meshInstance.skinInstance = null;\n      morph = meshInstance.morphInstance;\n      if (morph) {\n        morph.destroy();\n      }\n      meshInstance.morphInstance = null;\n      meshInstance.material = null;\n    }\n  }, generateWireframe:function() {\n    var i, j, k;\n    var i1, i2;\n    var mesh, base, count, indexBuffer, wireBuffer;\n    var srcIndices, dstIndices;\n    var meshes = [];\n    for (i = 0;i < this.meshInstances.length;i++) {\n      mesh = this.meshInstances[i].mesh;\n      if (meshes.indexOf(mesh) === -1) {\n        meshes.push(mesh);\n      }\n    }\n    var offsets = [[0, 1], [1, 2], [2, 0]];\n    for (i = 0;i < meshes.length;i++) {\n      mesh = meshes[i];\n      base = mesh.primitive[pc.RENDERSTYLE_SOLID].base;\n      count = mesh.primitive[pc.RENDERSTYLE_SOLID].count;\n      indexBuffer = mesh.indexBuffer[pc.RENDERSTYLE_SOLID];\n      srcIndices = new Uint16Array(indexBuffer.lock());\n      var uniqueLineIndices = {};\n      var lines = [];\n      for (j = base;j < base + count;j += 3) {\n        for (k = 0;k < 3;k++) {\n          i1 = srcIndices[j + offsets[k][0]];\n          i2 = srcIndices[j + offsets[k][1]];\n          var line = i1 > i2 ? i2 << 16 | i1 : i1 << 16 | i2;\n          if (uniqueLineIndices[line] === undefined) {\n            uniqueLineIndices[line] = 0;\n            lines.push(i1, i2);\n          }\n        }\n      }\n      indexBuffer.unlock();\n      wireBuffer = new pc.IndexBuffer(indexBuffer.device, pc.INDEXFORMAT_UINT16, lines.length);\n      dstIndices = new Uint16Array(wireBuffer.lock());\n      dstIndices.set(lines);\n      wireBuffer.unlock();\n      mesh.primitive[pc.RENDERSTYLE_WIREFRAME] = {type:pc.PRIMITIVE_LINES, base:0, count:lines.length, indexed:true};\n      mesh.indexBuffer[pc.RENDERSTYLE_WIREFRAME] = wireBuffer;\n    }\n  }});\n  return {Model:Model};\n}());\nObject.assign(pc, function() {\n  var particleVerts = [[-1, -1], [1, -1], [1, 1], [-1, 1]];\n  var _createTexture = function(device, width, height, pixelData, format, mult8Bit, filter) {\n    if (!format) {\n      format = pc.PIXELFORMAT_RGBA32F;\n    }\n    var mipFilter = pc.FILTER_NEAREST;\n    if (filter && format === pc.PIXELFORMAT_R8_G8_B8_A8) {\n      mipFilter = pc.FILTER_LINEAR;\n    }\n    var texture = new pc.Texture(device, {width:width, height:height, format:format, cubemap:false, mipmaps:false, minFilter:mipFilter, magFilter:mipFilter, addressU:pc.ADDRESS_CLAMP_TO_EDGE, addressV:pc.ADDRESS_CLAMP_TO_EDGE});\n    texture.name = \"PSTexture\";\n    var pixels = texture.lock();\n    if (format === pc.PIXELFORMAT_R8_G8_B8_A8) {\n      var temp = new Uint8Array(pixelData.length);\n      for (var i = 0;i < pixelData.length;i++) {\n        temp[i] = pixelData[i] * mult8Bit * 255;\n      }\n      pixelData = temp;\n    }\n    pixels.set(pixelData);\n    texture.unlock();\n    return texture;\n  };\n  function saturate(x) {\n    return Math.max(Math.min(x, 1), 0);\n  }\n  var default0Curve = new pc.Curve([0, 0, 1, 0]);\n  var default1Curve = new pc.Curve([0, 1, 1, 1]);\n  var default0Curve3 = new pc.CurveSet([0, 0, 1, 0], [0, 0, 1, 0], [0, 0, 1, 0]);\n  var default1Curve3 = new pc.CurveSet([0, 1, 1, 1], [0, 1, 1, 1], [0, 1, 1, 1]);\n  var particleTexHeight = 2;\n  var particleTexChannels = 4;\n  var extentsInnerRatioUniform = new Float32Array(3);\n  var spawnMatrix = new pc.Mat4;\n  var tmpVec3 = new pc.Vec3;\n  var bMin = new pc.Vec3;\n  var bMax = new pc.Vec3;\n  var setPropertyTarget;\n  var setPropertyOptions;\n  function setProperty(pName, defaultVal) {\n    if (setPropertyOptions[pName] !== undefined && setPropertyOptions[pName] !== null) {\n      setPropertyTarget[pName] = setPropertyOptions[pName];\n    } else {\n      setPropertyTarget[pName] = defaultVal;\n    }\n  }\n  function pack3NFloats(a, b, c) {\n    var packed = a * 255 << 16 | b * 255 << 8 | c * 255;\n    return packed / (1 << 24);\n  }\n  function packTextureXYZ_NXYZ(qXYZ, qXYZ2) {\n    var num = qXYZ.length / 3;\n    var colors = new Array(num * 4);\n    for (var i = 0;i < num;i++) {\n      colors[i * 4] = qXYZ[i * 3];\n      colors[i * 4 + 1] = qXYZ[i * 3 + 1];\n      colors[i * 4 + 2] = qXYZ[i * 3 + 2];\n      colors[i * 4 + 3] = pack3NFloats(qXYZ2[i * 3], qXYZ2[i * 3 + 1], qXYZ2[i * 3 + 2]);\n    }\n    return colors;\n  }\n  function packTextureRGBA(qRGB, qA) {\n    var colors = new Array(qA.length * 4);\n    for (var i = 0;i < qA.length;i++) {\n      colors[i * 4] = qRGB[i * 3];\n      colors[i * 4 + 1] = qRGB[i * 3 + 1];\n      colors[i * 4 + 2] = qRGB[i * 3 + 2];\n      colors[i * 4 + 3] = qA[i];\n    }\n    return colors;\n  }\n  function packTexture5Floats(qA, qB, qC, qD, qE) {\n    var colors = new Array(qA.length * 4);\n    for (var i = 0;i < qA.length;i++) {\n      colors[i * 4] = qA[i];\n      colors[i * 4 + 1] = qB[i];\n      colors[i * 4 + 2] = 0;\n      colors[i * 4 + 3] = pack3NFloats(qC[i], qD[i], qE[i]);\n    }\n    return colors;\n  }\n  function packTexture2Floats(qA, qB) {\n    var colors = new Array(qA.length * 4);\n    for (var i = 0;i < qA.length;i++) {\n      colors[i * 4] = qA[i];\n      colors[i * 4 + 1] = qB[i];\n      colors[i * 4 + 2] = 0;\n      colors[i * 4 + 3] = 0;\n    }\n    return colors;\n  }\n  var ParticleEmitter = function(graphicsDevice, options) {\n    this.graphicsDevice = graphicsDevice;\n    var gd = graphicsDevice;\n    var precision = 32;\n    this.precision = precision;\n    this._addTimeTime = 0;\n    if (!ParticleEmitter.DEFAULT_PARAM_TEXTURE) {\n      var resolution = 16;\n      var centerPoint = resolution * 0.5 + 0.5;\n      var dtex = new Float32Array(resolution * resolution * 4);\n      var x, y, xgrad, ygrad, p, c;\n      for (y = 0;y < resolution;y++) {\n        for (x = 0;x < resolution;x++) {\n          xgrad = x + 1 - centerPoint;\n          ygrad = y + 1 - centerPoint;\n          c = saturate(1 - saturate(Math.sqrt(xgrad * xgrad + ygrad * ygrad) / resolution) - 0.5);\n          p = y * resolution + x;\n          dtex[p * 4] = 1;\n          dtex[p * 4 + 1] = 1;\n          dtex[p * 4 + 2] = 1;\n          dtex[p * 4 + 3] = c;\n        }\n      }\n      ParticleEmitter.DEFAULT_PARAM_TEXTURE = _createTexture(gd, resolution, resolution, dtex, pc.PIXELFORMAT_R8_G8_B8_A8, 1.0, true);\n      ParticleEmitter.DEFAULT_PARAM_TEXTURE.minFilter = pc.FILTER_LINEAR;\n      ParticleEmitter.DEFAULT_PARAM_TEXTURE.magFilter = pc.FILTER_LINEAR;\n    }\n    setPropertyTarget = this;\n    setPropertyOptions = options;\n    setProperty(\"numParticles\", 1);\n    if (this.numParticles > graphicsDevice.maxTextureSize) {\n      console.warn(\"WARNING: can't create more than \" + graphicsDevice.maxTextureSize + \" particles on this device.\");\n      this.numParticles = graphicsDevice.maxTextureSize;\n    }\n    setProperty(\"rate\", 1);\n    setProperty(\"rate2\", this.rate);\n    setProperty(\"lifetime\", 50);\n    setProperty(\"emitterExtents\", new pc.Vec3(0, 0, 0));\n    setProperty(\"emitterExtentsInner\", new pc.Vec3(0, 0, 0));\n    setProperty(\"emitterRadius\", 0);\n    setProperty(\"emitterRadiusInner\", 0);\n    setProperty(\"emitterShape\", pc.EMITTERSHAPE_BOX);\n    setProperty(\"initialVelocity\", 1);\n    setProperty(\"wrap\", false);\n    setProperty(\"localSpace\", false);\n    setProperty(\"wrapBounds\", null);\n    setProperty(\"colorMap\", ParticleEmitter.DEFAULT_PARAM_TEXTURE);\n    setProperty(\"normalMap\", null);\n    setProperty(\"loop\", true);\n    setProperty(\"preWarm\", false);\n    setProperty(\"sort\", pc.PARTICLESORT_NONE);\n    setProperty(\"mode\", pc.PARTICLEMODE_GPU);\n    setProperty(\"scene\", null);\n    setProperty(\"lighting\", false);\n    setProperty(\"halfLambert\", false);\n    setProperty(\"intensity\", 1.0);\n    setProperty(\"stretch\", 0.0);\n    setProperty(\"alignToMotion\", false);\n    setProperty(\"depthSoftening\", 0);\n    setProperty(\"mesh\", null);\n    setProperty(\"particleNormal\", new pc.Vec3(0, 1, 0));\n    setProperty(\"orientation\", pc.PARTICLEORIENTATION_SCREEN);\n    setProperty(\"depthWrite\", false);\n    setProperty(\"noFog\", false);\n    setProperty(\"blendType\", pc.BLEND_NORMAL);\n    setProperty(\"node\", null);\n    setProperty(\"startAngle\", 0);\n    setProperty(\"startAngle2\", this.startAngle);\n    setProperty(\"animTilesX\", 1);\n    setProperty(\"animTilesY\", 1);\n    setProperty(\"animNumFrames\", 1);\n    setProperty(\"animSpeed\", 1);\n    setProperty(\"animLoop\", true);\n    this._gpuUpdater = new pc.ParticleGPUUpdater(this, gd);\n    this._cpuUpdater = new pc.ParticleCPUUpdater(this);\n    this.constantLightCube = gd.scope.resolve(\"lightCube[0]\");\n    this.emitterPosUniform = new Float32Array(3);\n    this.wrapBoundsUniform = new Float32Array(3);\n    this.emitterScaleUniform = new Float32Array([1, 1, 1]);\n    setProperty(\"colorGraph\", default1Curve3);\n    setProperty(\"colorGraph2\", this.colorGraph);\n    setProperty(\"scaleGraph\", default1Curve);\n    setProperty(\"scaleGraph2\", this.scaleGraph);\n    setProperty(\"alphaGraph\", default1Curve);\n    setProperty(\"alphaGraph2\", this.alphaGraph);\n    setProperty(\"localVelocityGraph\", default0Curve3);\n    setProperty(\"localVelocityGraph2\", this.localVelocityGraph);\n    setProperty(\"velocityGraph\", default0Curve3);\n    setProperty(\"velocityGraph2\", this.velocityGraph);\n    setProperty(\"rotationSpeedGraph\", default0Curve);\n    setProperty(\"rotationSpeedGraph2\", this.rotationSpeedGraph);\n    setProperty(\"radialSpeedGraph\", default0Curve);\n    setProperty(\"radialSpeedGraph2\", this.radialSpeedGraph);\n    this.lightCube = new Float32Array(6 * 3);\n    this.lightCubeDir = new Array(6);\n    this.lightCubeDir[0] = new pc.Vec3(-1, 0, 0);\n    this.lightCubeDir[1] = new pc.Vec3(1, 0, 0);\n    this.lightCubeDir[2] = new pc.Vec3(0, -1, 0);\n    this.lightCubeDir[3] = new pc.Vec3(0, 1, 0);\n    this.lightCubeDir[4] = new pc.Vec3(0, 0, -1);\n    this.lightCubeDir[5] = new pc.Vec3(0, 0, 1);\n    this.animParams = new Float32Array(4);\n    this.internalTex0 = null;\n    this.internalTex1 = null;\n    this.internalTex2 = null;\n    this.colorParam = null;\n    this.vbToSort = null;\n    this.vbOld = null;\n    this.particleDistance = null;\n    this.camera = null;\n    this.swapTex = false;\n    this.useMesh = true;\n    this.useCpu = false;\n    this.pack8 = true;\n    this.localBounds = new pc.BoundingBox;\n    this.worldBoundsNoTrail = new pc.BoundingBox;\n    this.worldBoundsTrail = [new pc.BoundingBox, new pc.BoundingBox];\n    this.worldBounds = new pc.BoundingBox;\n    this.worldBoundsSize = new pc.Vec3;\n    this.prevWorldBoundsSize = new pc.Vec3;\n    this.prevWorldBoundsCenter = new pc.Vec3;\n    this.worldBoundsMul = new pc.Vec3;\n    this.worldBoundsAdd = new pc.Vec3;\n    this.timeToSwitchBounds = 0;\n    this.shaderParticleUpdateRespawn = null;\n    this.shaderParticleUpdateNoRespawn = null;\n    this.shaderParticleUpdateOnStop = null;\n    this.numParticleVerts = 0;\n    this.numParticleIndices = 0;\n    this.material = null;\n    this.meshInstance = null;\n    this.seed = 0;\n    this.fixedTimeStep = 1.0 / 60;\n    this.maxSubSteps = 10;\n    this.simTime = 0;\n    this.simTimeTotal = 0;\n    this.beenReset = false;\n    this._layer = null;\n    this.rebuild();\n  };\n  function calcEndTime(emitter) {\n    var interval = Math.max(emitter.rate, emitter.rate2) * emitter.numParticles + emitter.lifetime;\n    return Date.now() + interval * 1000;\n  }\n  function subGraph(A, B) {\n    var r = new Float32Array(A.length);\n    for (var i = 0;i < A.length;i++) {\n      r[i] = A[i] - B[i];\n    }\n    return r;\n  }\n  function maxUnsignedGraphValue(A, outUMax) {\n    var i, j;\n    var chans = outUMax.length;\n    var values = A.length / chans;\n    for (i = 0;i < values;i++) {\n      for (j = 0;j < chans;j++) {\n        var a = Math.abs(A[i * chans + j]);\n        outUMax[j] = Math.max(outUMax[j], a);\n      }\n    }\n  }\n  function normalizeGraph(A, uMax) {\n    var chans = uMax.length;\n    var i, j;\n    var values = A.length / chans;\n    for (i = 0;i < values;i++) {\n      for (j = 0;j < chans;j++) {\n        A[i * chans + j] /= uMax[j] === 0 ? 1 : uMax[j];\n        A[i * chans + j] *= 0.5;\n        A[i * chans + j] += 0.5;\n      }\n    }\n  }\n  function divGraphFrom2Curves(curve1, curve2, outUMax) {\n    var sub = subGraph(curve2, curve1);\n    maxUnsignedGraphValue(sub, outUMax);\n    normalizeGraph(sub, outUMax);\n    return sub;\n  }\n  Object.assign(ParticleEmitter.prototype, {onChangeCamera:function() {\n    this.regenShader();\n    this.resetMaterial();\n  }, calculateBoundsMad:function() {\n    this.worldBoundsMul.x = 1.0 / this.worldBoundsSize.x;\n    this.worldBoundsMul.y = 1.0 / this.worldBoundsSize.y;\n    this.worldBoundsMul.z = 1.0 / this.worldBoundsSize.z;\n    this.worldBoundsAdd.copy(this.worldBounds.center).mul(this.worldBoundsMul).scale(-1);\n    this.worldBoundsAdd.x += 0.5;\n    this.worldBoundsAdd.y += 0.5;\n    this.worldBoundsAdd.z += 0.5;\n  }, calculateWorldBounds:function() {\n    if (!this.node) {\n      return;\n    }\n    this.prevWorldBoundsSize.copy(this.worldBoundsSize);\n    this.prevWorldBoundsCenter.copy(this.worldBounds.center);\n    var nodeWT = this.node.getWorldTransform();\n    if (this.localSpace) {\n      this.worldBoundsNoTrail.copy(this.localBounds);\n    } else {\n      this.worldBoundsNoTrail.setFromTransformedAabb(this.localBounds, nodeWT);\n    }\n    this.worldBoundsTrail[0].add(this.worldBoundsNoTrail);\n    this.worldBoundsTrail[1].add(this.worldBoundsNoTrail);\n    var now = this.simTimeTotal;\n    if (now >= this.timeToSwitchBounds) {\n      this.worldBoundsTrail[0].copy(this.worldBoundsTrail[1]);\n      this.worldBoundsTrail[1].copy(this.worldBoundsNoTrail);\n      this.timeToSwitchBounds = now + this.lifetime;\n    }\n    this.worldBounds.copy(this.worldBoundsTrail[0]);\n    this.worldBoundsSize.copy(this.worldBounds.halfExtents).scale(2);\n    if (this.localSpace) {\n      this.meshInstance.aabb.setFromTransformedAabb(this.worldBounds, nodeWT);\n      this.meshInstance.mesh.aabb.setFromTransformedAabb(this.worldBounds, nodeWT);\n    } else {\n      this.meshInstance.aabb.copy(this.worldBounds);\n      this.meshInstance.mesh.aabb.copy(this.worldBounds);\n    }\n    this.meshInstance._aabbVer = 1 - this.meshInstance._aabbVer;\n    if (this.pack8) {\n      this.calculateBoundsMad();\n    }\n  }, resetWorldBounds:function() {\n    if (!this.node) {\n      return;\n    }\n    this.worldBoundsNoTrail.setFromTransformedAabb(this.localBounds, this.localSpace ? pc.Mat4.IDENTITY : this.node.getWorldTransform());\n    this.worldBoundsTrail[0].copy(this.worldBoundsNoTrail);\n    this.worldBoundsTrail[1].copy(this.worldBoundsNoTrail);\n    this.worldBounds.copy(this.worldBoundsTrail[0]);\n    this.worldBoundsSize.copy(this.worldBounds.halfExtents).scale(2);\n    this.prevWorldBoundsSize.copy(this.worldBoundsSize);\n    this.prevWorldBoundsCenter.copy(this.worldBounds.center);\n    this.simTimeTotal = 0;\n    this.timeToSwitchBounds = 0;\n  }, calculateLocalBounds:function() {\n    var minx = Number.MAX_VALUE;\n    var miny = Number.MAX_VALUE;\n    var minz = Number.MAX_VALUE;\n    var maxx = -Number.MAX_VALUE;\n    var maxy = -Number.MAX_VALUE;\n    var maxz = -Number.MAX_VALUE;\n    var maxR = 0;\n    var maxScale = 0;\n    var stepWeight = this.lifetime / this.precision;\n    var wVels = [this.qVelocity, this.qVelocity2];\n    var lVels = [this.qLocalVelocity, this.qLocalVelocity2];\n    var accumX = [0, 0];\n    var accumY = [0, 0];\n    var accumZ = [0, 0];\n    var accumR = [0, 0];\n    var accumW = [0, 0];\n    var i, j;\n    var index;\n    var x, y, z;\n    for (i = 0;i < this.precision + 1;i++) {\n      index = Math.min(i, this.precision - 1);\n      for (j = 0;j < 2;j++) {\n        x = lVels[j][index * 3 + 0] * stepWeight + accumX[j];\n        y = lVels[j][index * 3 + 1] * stepWeight + accumY[j];\n        z = lVels[j][index * 3 + 2] * stepWeight + accumZ[j];\n        minx = Math.min(x, minx);\n        miny = Math.min(y, miny);\n        minz = Math.min(z, minz);\n        maxx = Math.max(x, maxx);\n        maxy = Math.max(y, maxy);\n        maxz = Math.max(z, maxz);\n        accumX[j] = x;\n        accumY[j] = y;\n        accumZ[j] = z;\n      }\n      for (j = 0;j < 2;j++) {\n        accumW[j] += stepWeight * Math.sqrt(wVels[j][index * 3 + 0] * wVels[j][index * 3 + 0] + wVels[j][index * 3 + 1] * wVels[j][index * 3 + 1] + wVels[j][index * 3 + 2] * wVels[j][index * 3 + 2]);\n      }\n      accumR[0] += this.qRadialSpeed[index] * stepWeight;\n      accumR[1] += this.qRadialSpeed2[index] * stepWeight;\n      maxR = Math.max(maxR, Math.max(Math.abs(accumR[0]), Math.abs(accumR[1])));\n      maxScale = Math.max(maxScale, this.qScale[index]);\n    }\n    if (this.emitterShape === pc.EMITTERSHAPE_BOX) {\n      x = this.emitterExtents.x * 0.5;\n      y = this.emitterExtents.y * 0.5;\n      z = this.emitterExtents.z * 0.5;\n    } else {\n      x = this.emitterRadius;\n      y = this.emitterRadius;\n      z = this.emitterRadius;\n    }\n    var w = Math.max(accumW[0], accumW[1]);\n    bMin.x = minx - maxScale - x - maxR - w;\n    bMin.y = miny - maxScale - y - maxR - w;\n    bMin.z = minz - maxScale - z - maxR - w;\n    bMax.x = maxx + maxScale + x + maxR + w;\n    bMax.y = maxy + maxScale + y + maxR + w;\n    bMax.z = maxz + maxScale + z + maxR + w;\n    this.localBounds.setMinMax(bMin, bMax);\n  }, rebuild:function() {\n    var i;\n    var gd = this.graphicsDevice;\n    if (this.colorMap === null) {\n      this.colorMap = ParticleEmitter.DEFAULT_PARAM_TEXTURE;\n    }\n    this.spawnBounds = this.emitterShape === pc.EMITTERSHAPE_BOX ? this.emitterExtents : this.emitterRadius;\n    this.useCpu = this.useCpu || this.sort > pc.PARTICLESORT_NONE || gd.maxVertexTextures <= 1 || gd.fragmentUniformsCount < 64 || gd.forceCpuParticles || !gd.extTextureFloat;\n    this._destroyResources();\n    this.pack8 = (this.pack8 || !gd.textureFloatRenderable) && !this.useCpu;\n    particleTexHeight = this.useCpu || this.pack8 ? 4 : 2;\n    this.useMesh = false;\n    if (this.mesh) {\n      var totalVertCount = this.numParticles * this.mesh.vertexBuffer.numVertices;\n      if (totalVertCount > 65535) {\n        console.warn(\"WARNING: particle system can't render mesh particles because numParticles * numVertices is more than 65k. Reverting to quad particles.\");\n      } else {\n        this.useMesh = true;\n      }\n    }\n    this.numParticlesPot = pc.math.nextPowerOfTwo(this.numParticles);\n    this.rebuildGraphs();\n    this.calculateLocalBounds();\n    this.resetWorldBounds();\n    if (this.node) {\n      this.worldBounds.setFromTransformedAabb(this.localBounds, this.localSpace ? pc.Mat4.IDENTITY : this.node.getWorldTransform());\n      this.worldBoundsTrail[0].copy(this.worldBounds);\n      this.worldBoundsTrail[1].copy(this.worldBounds);\n      this.worldBoundsSize.copy(this.worldBounds.halfExtents).scale(2);\n      this.prevWorldBoundsSize.copy(this.worldBoundsSize);\n      this.prevWorldBoundsCenter.copy(this.worldBounds.center);\n      if (this.pack8) {\n        this.calculateBoundsMad();\n      }\n    }\n    this.vbToSort = new Array(this.numParticles);\n    for (var iSort = 0;iSort < this.numParticles;iSort++) {\n      this.vbToSort[iSort] = [0, 0];\n    }\n    this.particleDistance = new Float32Array(this.numParticles);\n    this._gpuUpdater.randomize();\n    this.particleTex = new Float32Array(this.numParticlesPot * particleTexHeight * particleTexChannels);\n    var emitterPos = this.node === null || this.localSpace ? pc.Vec3.ZERO : this.node.getPosition();\n    if (this.emitterShape === pc.EMITTERSHAPE_BOX) {\n      if (this.node === null || this.localSpace) {\n        spawnMatrix.setTRS(pc.Vec3.ZERO, pc.Quat.IDENTITY, this.spawnBounds);\n      } else {\n        spawnMatrix.setTRS(pc.Vec3.ZERO, this.node.getRotation(), tmpVec3.copy(this.spawnBounds).mul(this.node.localScale));\n      }\n      extentsInnerRatioUniform[0] = this.emitterExtents.x != 0 ? this.emitterExtentsInner.x / this.emitterExtents.x : 0;\n      extentsInnerRatioUniform[1] = this.emitterExtents.y != 0 ? this.emitterExtentsInner.y / this.emitterExtents.y : 0;\n      extentsInnerRatioUniform[2] = this.emitterExtents.z != 0 ? this.emitterExtentsInner.z / this.emitterExtents.z : 0;\n    }\n    for (i = 0;i < this.numParticles;i++) {\n      this._cpuUpdater.calcSpawnPosition(this.particleTex, spawnMatrix, extentsInnerRatioUniform, emitterPos, i);\n      if (this.useCpu) {\n        this.particleTex[i * particleTexChannels + 3 + this.numParticlesPot * 2 * particleTexChannels] = 1;\n      }\n    }\n    this.particleTexStart = new Float32Array(this.numParticlesPot * particleTexHeight * particleTexChannels);\n    for (i = 0;i < this.particleTexStart.length;i++) {\n      this.particleTexStart[i] = this.particleTex[i];\n    }\n    if (!this.useCpu) {\n      if (this.pack8) {\n        this.particleTexIN = _createTexture(gd, this.numParticlesPot, particleTexHeight, this.particleTex, pc.PIXELFORMAT_R8_G8_B8_A8, 1, false);\n        this.particleTexOUT = _createTexture(gd, this.numParticlesPot, particleTexHeight, this.particleTex, pc.PIXELFORMAT_R8_G8_B8_A8, 1, false);\n        this.particleTexStart = _createTexture(gd, this.numParticlesPot, particleTexHeight, this.particleTexStart, pc.PIXELFORMAT_R8_G8_B8_A8, 1, false);\n      } else {\n        this.particleTexIN = _createTexture(gd, this.numParticlesPot, particleTexHeight, this.particleTex);\n        this.particleTexOUT = _createTexture(gd, this.numParticlesPot, particleTexHeight, this.particleTex);\n        this.particleTexStart = _createTexture(gd, this.numParticlesPot, particleTexHeight, this.particleTexStart);\n      }\n      this.rtParticleTexIN = new pc.RenderTarget(gd, this.particleTexIN, {depth:false});\n      this.rtParticleTexOUT = new pc.RenderTarget(gd, this.particleTexOUT, {depth:false});\n      this.swapTex = false;\n    }\n    var chunks = pc.shaderChunks;\n    var shaderCodeStart = (this.localSpace ? \"#define LOCAL_SPACE\\n\" : \"\") + chunks.particleUpdaterInitPS + (this.pack8 ? chunks.particleInputRgba8PS + chunks.particleOutputRgba8PS : chunks.particleInputFloatPS + chunks.particleOutputFloatPS) + (this.emitterShape === pc.EMITTERSHAPE_BOX ? chunks.particleUpdaterAABBPS : chunks.particleUpdaterSpherePS) + chunks.particleUpdaterStartPS;\n    var shaderCodeRespawn = shaderCodeStart + chunks.particleUpdaterRespawnPS + chunks.particleUpdaterEndPS;\n    var shaderCodeNoRespawn = shaderCodeStart + chunks.particleUpdaterNoRespawnPS + chunks.particleUpdaterEndPS;\n    var shaderCodeOnStop = shaderCodeStart + chunks.particleUpdaterOnStopPS + chunks.particleUpdaterEndPS;\n    var params = this.emitterShape + \"\" + this.pack8 + \"\" + this.localSpace;\n    this.shaderParticleUpdateRespawn = chunks.createShaderFromCode(gd, chunks.fullscreenQuadVS, shaderCodeRespawn, \"fsQuad0\" + params);\n    this.shaderParticleUpdateNoRespawn = chunks.createShaderFromCode(gd, chunks.fullscreenQuadVS, shaderCodeNoRespawn, \"fsQuad1\" + params);\n    this.shaderParticleUpdateOnStop = chunks.createShaderFromCode(gd, chunks.fullscreenQuadVS, shaderCodeOnStop, \"fsQuad2\" + params);\n    this.numParticleVerts = this.useMesh ? this.mesh.vertexBuffer.numVertices : 4;\n    this.numParticleIndices = this.useMesh ? this.mesh.indexBuffer[0].numIndices : 6;\n    this._allocate(this.numParticles);\n    var mesh = new pc.Mesh;\n    mesh.vertexBuffer = this.vertexBuffer;\n    mesh.indexBuffer[0] = this.indexBuffer;\n    mesh.primitive[0].type = pc.PRIMITIVE_TRIANGLES;\n    mesh.primitive[0].base = 0;\n    mesh.primitive[0].count = this.numParticles * this.numParticleIndices;\n    mesh.primitive[0].indexed = true;\n    this.material = new pc.Material;\n    this.material.name = this.node.name;\n    this.material.cull = pc.CULLFACE_NONE;\n    this.material.alphaWrite = false;\n    this.material.blend = true;\n    this.material.blendType = this.blendType;\n    this.material.depthWrite = this.depthWrite;\n    this.material.emitter = this;\n    this.regenShader();\n    this.resetMaterial();\n    var wasVisible = this.meshInstance ? this.meshInstance.visible : true;\n    this.meshInstance = new pc.MeshInstance(this.node, mesh, this.material);\n    this.meshInstance.pick = false;\n    this.meshInstance.updateKey();\n    this.meshInstance.cull = true;\n    this.meshInstance._noDepthDrawGl1 = true;\n    if (this.localSpace) {\n      this.meshInstance.aabb.setFromTransformedAabb(this.worldBounds, this.node.getWorldTransform());\n    } else {\n      this.meshInstance.aabb.copy(this.worldBounds);\n    }\n    this.meshInstance._updateAabb = false;\n    this.meshInstance.visible = wasVisible;\n    this._initializeTextures();\n    this.resetTime();\n    this.addTime(0, false);\n    if (this.preWarm) {\n      this.prewarm(this.lifetime);\n    }\n  }, _isAnimated:function() {\n    return this.animNumFrames >= 1 && (this.animTilesX > 1 || this.animTilesY > 1) && (this.colorMap && this.colorMap !== ParticleEmitter.DEFAULT_PARAM_TEXTURE || this.normalMap);\n  }, rebuildGraphs:function() {\n    var precision = this.precision;\n    var gd = this.graphicsDevice;\n    var i;\n    this.qLocalVelocity = this.localVelocityGraph.quantize(precision);\n    this.qVelocity = this.velocityGraph.quantize(precision);\n    this.qColor = this.colorGraph.quantizeClamped(precision, 0, 1);\n    this.qRotSpeed = this.rotationSpeedGraph.quantize(precision);\n    this.qScale = this.scaleGraph.quantize(precision);\n    this.qAlpha = this.alphaGraph.quantize(precision);\n    this.qRadialSpeed = this.radialSpeedGraph.quantize(precision);\n    this.qLocalVelocity2 = this.localVelocityGraph2.quantize(precision);\n    this.qVelocity2 = this.velocityGraph2.quantize(precision);\n    this.qColor2 = this.colorGraph2.quantizeClamped(precision, 0, 1);\n    this.qRotSpeed2 = this.rotationSpeedGraph2.quantize(precision);\n    this.qScale2 = this.scaleGraph2.quantize(precision);\n    this.qAlpha2 = this.alphaGraph2.quantize(precision);\n    this.qRadialSpeed2 = this.radialSpeedGraph2.quantize(precision);\n    for (i = 0;i < precision;i++) {\n      this.qRotSpeed[i] *= pc.math.DEG_TO_RAD;\n      this.qRotSpeed2[i] *= pc.math.DEG_TO_RAD;\n    }\n    this.localVelocityUMax = new Float32Array(3);\n    this.velocityUMax = new Float32Array(3);\n    this.colorUMax = new Float32Array(3);\n    this.rotSpeedUMax = [0];\n    this.scaleUMax = [0];\n    this.alphaUMax = [0];\n    this.radialSpeedUMax = [0];\n    this.qLocalVelocityDiv = divGraphFrom2Curves(this.qLocalVelocity, this.qLocalVelocity2, this.localVelocityUMax);\n    this.qVelocityDiv = divGraphFrom2Curves(this.qVelocity, this.qVelocity2, this.velocityUMax);\n    this.qColorDiv = divGraphFrom2Curves(this.qColor, this.qColor2, this.colorUMax);\n    this.qRotSpeedDiv = divGraphFrom2Curves(this.qRotSpeed, this.qRotSpeed2, this.rotSpeedUMax);\n    this.qScaleDiv = divGraphFrom2Curves(this.qScale, this.qScale2, this.scaleUMax);\n    this.qAlphaDiv = divGraphFrom2Curves(this.qAlpha, this.qAlpha2, this.alphaUMax);\n    this.qRadialSpeedDiv = divGraphFrom2Curves(this.qRadialSpeed, this.qRadialSpeed2, this.radialSpeedUMax);\n    if (this.pack8) {\n      var umax = [0, 0, 0];\n      maxUnsignedGraphValue(this.qVelocity, umax);\n      var umax2 = [0, 0, 0];\n      maxUnsignedGraphValue(this.qVelocity2, umax2);\n      var lumax = [0, 0, 0];\n      maxUnsignedGraphValue(this.qLocalVelocity, lumax);\n      var lumax2 = [0, 0, 0];\n      maxUnsignedGraphValue(this.qLocalVelocity2, lumax2);\n      var rumax = [0];\n      maxUnsignedGraphValue(this.qRadialSpeed, rumax);\n      var rumax2 = [0];\n      maxUnsignedGraphValue(this.qRadialSpeed2, rumax2);\n      var maxVel = Math.max(umax[0], umax2[0]);\n      maxVel = Math.max(maxVel, umax[1]);\n      maxVel = Math.max(maxVel, umax2[1]);\n      maxVel = Math.max(maxVel, umax[2]);\n      maxVel = Math.max(maxVel, umax2[2]);\n      var lmaxVel = Math.max(lumax[0], lumax2[0]);\n      lmaxVel = Math.max(lmaxVel, lumax[1]);\n      lmaxVel = Math.max(lmaxVel, lumax2[1]);\n      lmaxVel = Math.max(lmaxVel, lumax[2]);\n      lmaxVel = Math.max(lmaxVel, lumax2[2]);\n      var maxRad = Math.max(rumax[0], rumax2[0]);\n      this.maxVel = maxVel + lmaxVel + maxRad;\n    }\n    if (!this.useCpu) {\n      this.internalTex0 = _createTexture(gd, precision, 1, packTextureXYZ_NXYZ(this.qLocalVelocity, this.qLocalVelocityDiv));\n      this.internalTex1 = _createTexture(gd, precision, 1, packTextureXYZ_NXYZ(this.qVelocity, this.qVelocityDiv));\n      this.internalTex2 = _createTexture(gd, precision, 1, packTexture5Floats(this.qRotSpeed, this.qScale, this.qScaleDiv, this.qRotSpeedDiv, this.qAlphaDiv));\n      this.internalTex3 = _createTexture(gd, precision, 1, packTexture2Floats(this.qRadialSpeed, this.qRadialSpeedDiv));\n    }\n    this.colorParam = _createTexture(gd, precision, 1, packTextureRGBA(this.qColor, this.qAlpha), pc.PIXELFORMAT_R8_G8_B8_A8, 1.0, true);\n  }, _initializeTextures:function() {\n    if (this.colorMap) {\n      this.material.setParameter(\"colorMap\", this.colorMap);\n      if (this.lighting && this.normalMap) {\n        this.material.setParameter(\"normalMap\", this.normalMap);\n      }\n    }\n  }, regenShader:function() {\n    var programLib = this.graphicsDevice.getProgramLibrary();\n    var hasNormal = this.normalMap !== null;\n    this.normalOption = 0;\n    if (this.lighting) {\n      this.normalOption = hasNormal ? 2 : 1;\n    }\n    this.material.updateShader = function() {\n      if (this.emitter.scene) {\n        if (this.emitter.camera != this.emitter.scene._activeCamera) {\n          this.emitter.camera = this.emitter.scene._activeCamera;\n          this.emitter.onChangeCamera();\n        }\n      }\n      var shader = programLib.getProgram(\"particle\", {useCpu:this.emitter.useCpu, normal:this.emitter.normalOption, halflambert:this.emitter.halfLambert, stretch:this.emitter.stretch, alignToMotion:this.emitter.alignToMotion, soft:this.emitter.depthSoftening, mesh:this.emitter.useMesh, gamma:this.emitter.scene ? this.emitter.scene.gammaCorrection : 0, toneMap:this.emitter.scene ? this.emitter.scene.toneMapping : 0, fog:this.emitter.scene && !this.emitter.noFog ? this.emitter.scene.fog : \"none\", wrap:this.emitter.wrap && \n      this.emitter.wrapBounds, localSpace:this.emitter.localSpace, blend:this.blendType, animTex:this.emitter._isAnimated(), animTexLoop:this.emitter.animLoop, pack8:this.emitter.pack8, customFace:this.emitter.orientation != pc.PARTICLEORIENTATION_SCREEN});\n      this.shader = shader;\n    };\n    this.material.updateShader();\n  }, resetMaterial:function() {\n    var material = this.material;\n    material.setParameter(\"stretch\", this.stretch);\n    if (this._isAnimated()) {\n      material.setParameter(\"animTexParams\", this.animParams);\n    }\n    material.setParameter(\"colorMult\", this.intensity);\n    if (!this.useCpu) {\n      material.setParameter(\"internalTex0\", this.internalTex0);\n      material.setParameter(\"internalTex1\", this.internalTex1);\n      material.setParameter(\"internalTex2\", this.internalTex2);\n      material.setParameter(\"internalTex3\", this.internalTex3);\n    }\n    material.setParameter(\"colorParam\", this.colorParam);\n    material.setParameter(\"numParticles\", this.numParticles);\n    material.setParameter(\"numParticlesPot\", this.numParticlesPot);\n    material.setParameter(\"lifetime\", this.lifetime);\n    material.setParameter(\"rate\", this.rate);\n    material.setParameter(\"rateDiv\", this.rate2 - this.rate);\n    material.setParameter(\"seed\", this.seed);\n    material.setParameter(\"scaleDivMult\", this.scaleUMax[0]);\n    material.setParameter(\"alphaDivMult\", this.alphaUMax[0]);\n    material.setParameter(\"radialSpeedDivMult\", this.radialSpeedUMax[0]);\n    material.setParameter(\"graphNumSamples\", this.precision);\n    material.setParameter(\"graphSampleSize\", 1.0 / this.precision);\n    material.setParameter(\"emitterScale\", new Float32Array([1, 1, 1]));\n    if (this.pack8) {\n      this._gpuUpdater._setInputBounds();\n      material.setParameter(\"inBoundsSize\", this._gpuUpdater.inBoundsSizeUniform);\n      material.setParameter(\"inBoundsCenter\", this._gpuUpdater.inBoundsCenterUniform);\n      material.setParameter(\"maxVel\", this.maxVel);\n    }\n    if (this.wrap && this.wrapBounds) {\n      this.wrapBoundsUniform[0] = this.wrapBounds.x;\n      this.wrapBoundsUniform[1] = this.wrapBounds.y;\n      this.wrapBoundsUniform[2] = this.wrapBounds.z;\n      material.setParameter(\"wrapBounds\", this.wrapBoundsUniform);\n    }\n    if (this.colorMap) {\n      material.setParameter(\"colorMap\", this.colorMap);\n    }\n    if (this.lighting) {\n      if (this.normalMap) {\n        material.setParameter(\"normalMap\", this.normalMap);\n      }\n    }\n    if (this.depthSoftening > 0) {\n      material.setParameter(\"softening\", 1.0 / (this.depthSoftening * this.depthSoftening * 100));\n    }\n    if (this.stretch > 0.0) {\n      material.cull = pc.CULLFACE_NONE;\n    }\n    this._compParticleFaceParams();\n  }, _compParticleFaceParams:function() {\n    var tangent, binormal;\n    if (this.orientation == pc.PARTICLEORIENTATION_SCREEN) {\n      tangent = new Float32Array([1, 0, 0]);\n      binormal = new Float32Array([0, 0, 1]);\n    } else {\n      var n;\n      if (this.orientation == pc.PARTICLEORIENTATION_WORLD) {\n        n = this.particleNormal.normalize();\n      } else {\n        var emitterMat = this.node === null ? pc.Mat4.IDENTITY : this.node.getWorldTransform();\n        n = emitterMat.transformVector(this.particleNormal).normalize();\n      }\n      var t = new pc.Vec3(1, 0, 0);\n      if (Math.abs(t.dot(n)) == 1) {\n        t.set(0, 0, 1);\n      }\n      var b = (new pc.Vec3).cross(n, t).normalize();\n      t.cross(b, n).normalize();\n      tangent = new Float32Array([t.x, t.y, t.z]);\n      binormal = new Float32Array([b.x, b.y, b.z]);\n    }\n    this.material.setParameter(\"faceTangent\", tangent);\n    this.material.setParameter(\"faceBinorm\", binormal);\n  }, _allocate:function(numParticles) {\n    var psysVertCount = numParticles * this.numParticleVerts;\n    var psysIndexCount = numParticles * this.numParticleIndices;\n    var elements, particleFormat;\n    var i;\n    if (this.vertexBuffer === undefined || this.vertexBuffer.getNumVertices() !== psysVertCount) {\n      if (!this.useCpu) {\n        elements = [{semantic:pc.SEMANTIC_ATTR0, components:4, type:pc.TYPE_FLOAT32}];\n        if (this.useMesh) {\n          elements.push({semantic:pc.SEMANTIC_ATTR1, components:2, type:pc.TYPE_FLOAT32});\n        }\n        particleFormat = new pc.VertexFormat(this.graphicsDevice, elements);\n        this.vertexBuffer = new pc.VertexBuffer(this.graphicsDevice, particleFormat, psysVertCount, pc.BUFFER_DYNAMIC);\n        this.indexBuffer = new pc.IndexBuffer(this.graphicsDevice, pc.INDEXFORMAT_UINT16, psysIndexCount);\n      } else {\n        elements = [{semantic:pc.SEMANTIC_ATTR0, components:4, type:pc.TYPE_FLOAT32}, {semantic:pc.SEMANTIC_ATTR1, components:4, type:pc.TYPE_FLOAT32}, {semantic:pc.SEMANTIC_ATTR2, components:4, type:pc.TYPE_FLOAT32}, {semantic:pc.SEMANTIC_ATTR3, components:this.useMesh ? 4 : 2, type:pc.TYPE_FLOAT32}];\n        particleFormat = new pc.VertexFormat(this.graphicsDevice, elements);\n        this.vertexBuffer = new pc.VertexBuffer(this.graphicsDevice, particleFormat, psysVertCount, pc.BUFFER_DYNAMIC);\n        this.indexBuffer = new pc.IndexBuffer(this.graphicsDevice, pc.INDEXFORMAT_UINT16, psysIndexCount);\n      }\n      var data = new Float32Array(this.vertexBuffer.lock());\n      var meshData, stride, texCoordOffset;\n      if (this.useMesh) {\n        meshData = new Float32Array(this.mesh.vertexBuffer.lock());\n        stride = meshData.length / this.mesh.vertexBuffer.numVertices;\n        for (var elem = 0;elem < this.mesh.vertexBuffer.format.elements.length;elem++) {\n          if (this.mesh.vertexBuffer.format.elements[elem].name === pc.SEMANTIC_TEXCOORD0) {\n            texCoordOffset = this.mesh.vertexBuffer.format.elements[elem].offset / 4;\n            break;\n          }\n        }\n      }\n      var id;\n      for (i = 0;i < psysVertCount;i++) {\n        id = Math.floor(i / this.numParticleVerts);\n        if (!this.useMesh) {\n          var vertID = i % 4;\n          data[i * 4] = particleVerts[vertID][0];\n          data[i * 4 + 1] = particleVerts[vertID][1];\n          data[i * 4 + 2] = 0;\n          data[i * 4 + 3] = id;\n        } else {\n          var vert = i % this.numParticleVerts;\n          data[i * 6] = meshData[vert * stride];\n          data[i * 6 + 1] = meshData[vert * stride + 1];\n          data[i * 6 + 2] = meshData[vert * stride + 2];\n          data[i * 6 + 3] = id;\n          data[i * 6 + 4] = meshData[vert * stride + texCoordOffset + 0];\n          data[i * 6 + 5] = meshData[vert * stride + texCoordOffset + 1];\n        }\n      }\n      if (this.useCpu) {\n        this.vbCPU = new Float32Array(data);\n        this.vbOld = new Float32Array(this.vbCPU.length);\n      }\n      this.vertexBuffer.unlock();\n      if (this.useMesh) {\n        this.mesh.vertexBuffer.unlock();\n      }\n      var dst = 0;\n      var indices = new Uint16Array(this.indexBuffer.lock());\n      if (this.useMesh) {\n        meshData = new Uint16Array(this.mesh.indexBuffer[0].lock());\n      }\n      for (i = 0;i < numParticles;i++) {\n        if (!this.useMesh) {\n          var baseIndex = i * 4;\n          indices[dst++] = baseIndex;\n          indices[dst++] = baseIndex + 1;\n          indices[dst++] = baseIndex + 2;\n          indices[dst++] = baseIndex;\n          indices[dst++] = baseIndex + 2;\n          indices[dst++] = baseIndex + 3;\n        } else {\n          for (var j = 0;j < this.numParticleIndices;j++) {\n            indices[i * this.numParticleIndices + j] = meshData[j] + i * this.numParticleVerts;\n          }\n        }\n      }\n      this.indexBuffer.unlock();\n      if (this.useMesh) {\n        this.mesh.indexBuffer[0].unlock();\n      }\n    }\n  }, reset:function() {\n    this.beenReset = true;\n    this.seed = Math.random();\n    this.material.setParameter(\"seed\", this.seed);\n    if (this.useCpu) {\n      for (var i = 0;i < this.particleTexStart.length;i++) {\n        this.particleTex[i] = this.particleTexStart[i];\n      }\n    } else {\n      this._initializeTextures();\n    }\n    this.resetWorldBounds();\n    this.resetTime();\n    var origLoop = this.loop;\n    this.loop = true;\n    this.addTime(0, false);\n    this.loop = origLoop;\n    if (this.preWarm) {\n      this.prewarm(this.lifetime);\n    }\n  }, prewarm:function(time) {\n    var lifetimeFraction = time / this.lifetime;\n    var iterations = Math.min(Math.floor(lifetimeFraction * this.precision), this.precision);\n    var stepDelta = time / iterations;\n    for (var i = 0;i < iterations;i++) {\n      this.addTime(stepDelta, false);\n    }\n  }, resetTime:function() {\n    this.endTime = calcEndTime(this);\n  }, finishFrame:function() {\n    if (this.useCpu) {\n      this.vertexBuffer.unlock();\n    }\n  }, addTime:function(delta, isOnStop) {\n    var device = this.graphicsDevice;\n    this.simTimeTotal += delta;\n    this.calculateWorldBounds();\n    if (this._isAnimated()) {\n      var params = this.animParams;\n      params[0] = 1.0 / this.animTilesX;\n      params[1] = 1.0 / this.animTilesY;\n      params[2] = this.animNumFrames * this.animSpeed;\n      params[3] = this.animNumFrames - 1;\n    }\n    if (this.scene) {\n      if (this.camera != this.scene._activeCamera) {\n        this.camera = this.scene._activeCamera;\n        this.onChangeCamera();\n      }\n    }\n    if (this.emitterShape === pc.EMITTERSHAPE_BOX) {\n      extentsInnerRatioUniform[0] = this.emitterExtents.x != 0 ? this.emitterExtentsInner.x / this.emitterExtents.x : 0;\n      extentsInnerRatioUniform[1] = this.emitterExtents.y != 0 ? this.emitterExtentsInner.y / this.emitterExtents.y : 0;\n      extentsInnerRatioUniform[2] = this.emitterExtents.z != 0 ? this.emitterExtentsInner.z / this.emitterExtents.z : 0;\n      if (this.meshInstance.node === null) {\n        spawnMatrix.setTRS(pc.Vec3.ZERO, pc.Quat.IDENTITY, this.emitterExtents);\n      } else {\n        spawnMatrix.setTRS(pc.Vec3.ZERO, this.meshInstance.node.getRotation(), tmpVec3.copy(this.emitterExtents).mul(this.meshInstance.node.localScale));\n      }\n    }\n    var emitterPos;\n    var emitterScale = this.meshInstance.node === null ? pc.Vec3.ONE : this.meshInstance.node.localScale;\n    this.emitterScaleUniform[0] = emitterScale.x;\n    this.emitterScaleUniform[1] = emitterScale.y;\n    this.emitterScaleUniform[2] = emitterScale.z;\n    this.material.setParameter(\"emitterScale\", this.emitterScaleUniform);\n    if (this.localSpace && this.meshInstance.node) {\n      emitterPos = this.meshInstance.node.getPosition();\n      this.emitterPosUniform[0] = emitterPos.x;\n      this.emitterPosUniform[1] = emitterPos.y;\n      this.emitterPosUniform[2] = emitterPos.z;\n      this.material.setParameter(\"emitterPos\", this.emitterPosUniform);\n    }\n    this._compParticleFaceParams();\n    if (!this.useCpu) {\n      this._gpuUpdater.update(device, spawnMatrix, extentsInnerRatioUniform, delta, isOnStop);\n    } else {\n      var data = new Float32Array(this.vertexBuffer.lock());\n      this._cpuUpdater.update(data, this.vbToSort, this.particleTex, spawnMatrix, extentsInnerRatioUniform, emitterPos, delta, isOnStop);\n    }\n    if (!this.loop) {\n      if (Date.now() > this.endTime) {\n        if (this.onFinished) {\n          this.onFinished();\n        }\n        this.meshInstance.visible = false;\n      }\n    }\n  }, _destroyResources:function() {\n    if (this.particleTexIN) {\n      this.particleTexIN.destroy();\n      this.particleTexIN = null;\n    }\n    if (this.particleTexOUT) {\n      this.particleTexOUT.destroy();\n      this.particleTexOUT = null;\n    }\n    if (this.particleTexStart && this.particleTexStart.destroy) {\n      this.particleTexStart.destroy();\n      this.particleTexStart = null;\n    }\n    if (this.rtParticleTexIN) {\n      this.rtParticleTexIN.destroy();\n      this.rtParticleTexIN = null;\n    }\n    if (this.rtParticleTexOUT) {\n      this.rtParticleTexOUT.destroy();\n      this.rtParticleTexOUT = null;\n    }\n    if (this.internalTex0) {\n      this.internalTex0.destroy();\n      this.internalTex0 = null;\n    }\n    if (this.internalTex1) {\n      this.internalTex1.destroy();\n      this.internalTex1 = null;\n    }\n    if (this.internalTex2) {\n      this.internalTex2.destroy();\n      this.internalTex2 = null;\n    }\n    if (this.internalTex3) {\n      this.internalTex3.destroy();\n      this.internalTex3 = null;\n    }\n    if (this.colorParam) {\n      this.colorParam.destroy();\n      this.colorParam = null;\n    }\n    if (this.vertexBuffer) {\n      this.vertexBuffer.destroy();\n      this.vertexBuffer = undefined;\n    }\n    if (this.indexBuffer) {\n      this.indexBuffer.destroy();\n      this.indexBuffer = undefined;\n    }\n    if (this.material) {\n      this.material.destroy();\n      this.material = null;\n    }\n  }, destroy:function() {\n    this.camera = null;\n    this._destroyResources();\n  }});\n  return {ParticleEmitter:ParticleEmitter};\n}());\nObject.assign(pc, function() {\n  var nonUniformScale;\n  var uniformScale = 1;\n  var particleTexChannels = 4;\n  var rotMat = new pc.Mat4;\n  var rotMatInv = new pc.Mat4;\n  var randomPosTformed = new pc.Vec3;\n  var randomPos = new pc.Vec3;\n  var rndFactor3Vec = new pc.Vec3;\n  var particlePosPrev = new pc.Vec3;\n  var velocityVec = new pc.Vec3;\n  var localVelocityVec = new pc.Vec3;\n  var velocityVec2 = new pc.Vec3;\n  var localVelocityVec2 = new pc.Vec3;\n  var radialVelocityVec = new pc.Vec3;\n  var particlePos = new pc.Vec3;\n  var particleFinalPos = new pc.Vec3;\n  var moveDirVec = new pc.Vec3;\n  var tmpVec3 = new pc.Vec3;\n  function frac(f) {\n    return f - Math.floor(f);\n  }\n  function saturate(x) {\n    return Math.max(Math.min(x, 1), 0);\n  }\n  function glMod(x, y) {\n    return x - y * Math.floor(x / y);\n  }\n  function encodeFloatRGBA(v) {\n    var encX = frac(v);\n    var encY = frac(255.0 * v);\n    var encZ = frac(65025.0 * v);\n    var encW = frac(160581375.0 * v);\n    encX -= encY / 255.0;\n    encY -= encZ / 255.0;\n    encZ -= encW / 255.0;\n    encW -= encW / 255.0;\n    return [encX, encY, encZ, encW];\n  }\n  function encodeFloatRG(v) {\n    var encX = frac(v);\n    var encY = frac(255.0 * v);\n    encX -= encY / 255.0;\n    encY -= encY / 255.0;\n    return [encX, encY];\n  }\n  var ParticleCPUUpdater = function(emitter) {\n    this._emitter = emitter;\n  };\n  ParticleCPUUpdater.prototype.calcSpawnPosition = function(particleTex, spawnMatrix, extentsInnerRatioUniform, emitterPos, i) {\n    var emitter = this._emitter;\n    var rX = Math.random();\n    var rY = Math.random();\n    var rZ = Math.random();\n    var rW = Math.random();\n    if (emitter.useCpu) {\n      particleTex[i * particleTexChannels + 0 + emitter.numParticlesPot * 2 * particleTexChannels] = rX;\n      particleTex[i * particleTexChannels + 1 + emitter.numParticlesPot * 2 * particleTexChannels] = rY;\n      particleTex[i * particleTexChannels + 2 + emitter.numParticlesPot * 2 * particleTexChannels] = rZ;\n    }\n    randomPos.x = rX - 0.5;\n    randomPos.y = rY - 0.5;\n    randomPos.z = rZ - 0.5;\n    if (emitter.emitterShape === pc.EMITTERSHAPE_BOX) {\n      var max = Math.max(Math.abs(randomPos.x), Math.max(Math.abs(randomPos.y), Math.abs(randomPos.z)));\n      var edgeX = max + (0.5 - max) * extentsInnerRatioUniform[0];\n      var edgeY = max + (0.5 - max) * extentsInnerRatioUniform[1];\n      var edgeZ = max + (0.5 - max) * extentsInnerRatioUniform[2];\n      randomPos.x = edgeX * (max == Math.abs(randomPos.x) ? Math.sign(randomPos.x) : 2 * randomPos.x);\n      randomPos.y = edgeY * (max == Math.abs(randomPos.y) ? Math.sign(randomPos.y) : 2 * randomPos.y);\n      randomPos.z = edgeZ * (max == Math.abs(randomPos.z) ? Math.sign(randomPos.z) : 2 * randomPos.z);\n      if (!emitter.localSpace) {\n        randomPosTformed.copy(emitterPos).add(spawnMatrix.transformPoint(randomPos));\n      } else {\n        randomPosTformed.copy(spawnMatrix.transformPoint(randomPos));\n      }\n    } else {\n      randomPos.normalize();\n      var spawnBoundsSphereInnerRatio = emitter.emitterRadius === 0 ? 0 : emitter.emitterRadiusInner / emitter.emitterRadius;\n      var r = rW * (1.0 - spawnBoundsSphereInnerRatio) + spawnBoundsSphereInnerRatio;\n      if (!emitter.localSpace) {\n        randomPosTformed.copy(emitterPos).add(randomPos.scale(r * emitter.emitterRadius));\n      } else {\n        randomPosTformed.copy(randomPos.scale(r * emitter.emitterRadius));\n      }\n    }\n    var particleRate, startSpawnTime;\n    particleRate = pc.math.lerp(emitter.rate, emitter.rate2, rX);\n    startSpawnTime = -particleRate * i;\n    if (emitter.pack8) {\n      var packX = (randomPosTformed.x - emitter.worldBounds.center.x) / emitter.worldBoundsSize.x + 0.5;\n      var packY = (randomPosTformed.y - emitter.worldBounds.center.y) / emitter.worldBoundsSize.y + 0.5;\n      var packZ = (randomPosTformed.z - emitter.worldBounds.center.z) / emitter.worldBoundsSize.z + 0.5;\n      var packA = pc.math.lerp(emitter.startAngle * pc.math.DEG_TO_RAD, emitter.startAngle2 * pc.math.DEG_TO_RAD, rX);\n      packA = packA % (Math.PI * 2) / (Math.PI * 2);\n      var rg0 = encodeFloatRG(packX);\n      particleTex[i * particleTexChannels] = rg0[0];\n      particleTex[i * particleTexChannels + 1] = rg0[1];\n      var ba0 = encodeFloatRG(packY);\n      particleTex[i * particleTexChannels + 2] = ba0[0];\n      particleTex[i * particleTexChannels + 3] = ba0[1];\n      var rg1 = encodeFloatRG(packZ);\n      particleTex[i * particleTexChannels + 0 + emitter.numParticlesPot * particleTexChannels] = rg1[0];\n      particleTex[i * particleTexChannels + 1 + emitter.numParticlesPot * particleTexChannels] = rg1[1];\n      var ba1 = encodeFloatRG(packA);\n      particleTex[i * particleTexChannels + 2 + emitter.numParticlesPot * particleTexChannels] = ba1[0];\n      particleTex[i * particleTexChannels + 3 + emitter.numParticlesPot * particleTexChannels] = ba1[1];\n      var a2 = 1.0;\n      particleTex[i * particleTexChannels + 3 + emitter.numParticlesPot * particleTexChannels * 2] = a2;\n      var maxNegLife = Math.max(emitter.lifetime, (emitter.numParticles - 1.0) * Math.max(emitter.rate, emitter.rate2));\n      var maxPosLife = emitter.lifetime + 1.0;\n      startSpawnTime = (startSpawnTime + maxNegLife) / (maxNegLife + maxPosLife);\n      var rgba3 = encodeFloatRGBA(startSpawnTime);\n      particleTex[i * particleTexChannels + 0 + emitter.numParticlesPot * particleTexChannels * 3] = rgba3[0];\n      particleTex[i * particleTexChannels + 1 + emitter.numParticlesPot * particleTexChannels * 3] = rgba3[1];\n      particleTex[i * particleTexChannels + 2 + emitter.numParticlesPot * particleTexChannels * 3] = rgba3[2];\n      particleTex[i * particleTexChannels + 3 + emitter.numParticlesPot * particleTexChannels * 3] = rgba3[3];\n    } else {\n      particleTex[i * particleTexChannels] = randomPosTformed.x;\n      particleTex[i * particleTexChannels + 1] = randomPosTformed.y;\n      particleTex[i * particleTexChannels + 2] = randomPosTformed.z;\n      particleTex[i * particleTexChannels + 3] = pc.math.lerp(emitter.startAngle * pc.math.DEG_TO_RAD, emitter.startAngle2 * pc.math.DEG_TO_RAD, rX);\n      particleTex[i * particleTexChannels + 3 + emitter.numParticlesPot * particleTexChannels] = startSpawnTime;\n    }\n  };\n  ParticleCPUUpdater.prototype.update = function(data, vbToSort, particleTex, spawnMatrix, extentsInnerRatioUniform, emitterPos, delta, isOnStop) {\n    var a, b, c, i, j;\n    var emitter = this._emitter;\n    if (emitter.meshInstance.node) {\n      var fullMat = emitter.meshInstance.node.worldTransform;\n      for (j = 0;j < 12;j++) {\n        rotMat.data[j] = fullMat.data[j];\n      }\n      rotMatInv.copy(rotMat);\n      rotMatInv.invert();\n      nonUniformScale = emitter.meshInstance.node.localScale;\n      uniformScale = Math.max(Math.max(nonUniformScale.x, nonUniformScale.y), nonUniformScale.z);\n    }\n    emitterPos = emitter.meshInstance.node === null || emitter.localSpace ? pc.Vec3.ZERO : emitter.meshInstance.node.getPosition();\n    var posCam = emitter.camera ? emitter.camera._node.getPosition() : pc.Vec3.ZERO;\n    var vertSize = !emitter.useMesh ? 14 : 16;\n    var cf, cc;\n    var rotSpeed, rotSpeed2, scale2, alpha, alpha2, radialSpeed, radialSpeed2;\n    var precision1 = emitter.precision - 1;\n    for (i = 0;i < emitter.numParticles;i++) {\n      var id = Math.floor(emitter.vbCPU[i * emitter.numParticleVerts * (emitter.useMesh ? 6 : 4) + 3]);\n      var rndFactor = particleTex[id * particleTexChannels + 0 + emitter.numParticlesPot * 2 * particleTexChannels];\n      rndFactor3Vec.x = rndFactor;\n      rndFactor3Vec.y = particleTex[id * particleTexChannels + 1 + emitter.numParticlesPot * 2 * particleTexChannels];\n      rndFactor3Vec.z = particleTex[id * particleTexChannels + 2 + emitter.numParticlesPot * 2 * particleTexChannels];\n      var particleRate = emitter.rate + (emitter.rate2 - emitter.rate) * rndFactor;\n      var particleLifetime = emitter.lifetime;\n      var life = particleTex[id * particleTexChannels + 3 + emitter.numParticlesPot * particleTexChannels] + delta;\n      var nlife = saturate(life / particleLifetime);\n      var scale = 0;\n      var alphaDiv = 0;\n      var angle = 0;\n      var respawn = life - delta <= 0.0 || life >= particleLifetime;\n      if (respawn) {\n        this.calcSpawnPosition(particleTex, spawnMatrix, extentsInnerRatioUniform, emitterPos, id);\n      }\n      var particleEnabled = life > 0.0 && life < particleLifetime;\n      if (particleEnabled) {\n        c = nlife * precision1;\n        cf = Math.floor(c);\n        cc = Math.ceil(c);\n        c %= 1;\n        a = emitter.qRotSpeed[cf];\n        b = emitter.qRotSpeed[cc];\n        rotSpeed = a + (b - a) * c;\n        a = emitter.qRotSpeed2[cf];\n        b = emitter.qRotSpeed2[cc];\n        rotSpeed2 = a + (b - a) * c;\n        a = emitter.qScale[cf];\n        b = emitter.qScale[cc];\n        scale = a + (b - a) * c;\n        a = emitter.qScale2[cf];\n        b = emitter.qScale2[cc];\n        scale2 = a + (b - a) * c;\n        a = emitter.qAlpha[cf];\n        b = emitter.qAlpha[cc];\n        alpha = a + (b - a) * c;\n        a = emitter.qAlpha2[cf];\n        b = emitter.qAlpha2[cc];\n        alpha2 = a + (b - a) * c;\n        a = emitter.qRadialSpeed[cf];\n        b = emitter.qRadialSpeed[cc];\n        radialSpeed = a + (b - a) * c;\n        a = emitter.qRadialSpeed2[cf];\n        b = emitter.qRadialSpeed2[cc];\n        radialSpeed2 = a + (b - a) * c;\n        radialSpeed += (radialSpeed2 - radialSpeed) * (rndFactor * 100.0 % 1.0);\n        particlePosPrev.x = particleTex[id * particleTexChannels];\n        particlePosPrev.y = particleTex[id * particleTexChannels + 1];\n        particlePosPrev.z = particleTex[id * particleTexChannels + 2];\n        if (!emitter.localSpace) {\n          radialVelocityVec.copy(particlePosPrev).sub(emitterPos);\n        } else {\n          radialVelocityVec.copy(particlePosPrev);\n        }\n        radialVelocityVec.normalize().scale(radialSpeed);\n        cf *= 3;\n        cc *= 3;\n        a = emitter.qLocalVelocity[cf];\n        b = emitter.qLocalVelocity[cc];\n        localVelocityVec.x = a + (b - a) * c;\n        a = emitter.qLocalVelocity[cf + 1];\n        b = emitter.qLocalVelocity[cc + 1];\n        localVelocityVec.y = a + (b - a) * c;\n        a = emitter.qLocalVelocity[cf + 2];\n        b = emitter.qLocalVelocity[cc + 2];\n        localVelocityVec.z = a + (b - a) * c;\n        a = emitter.qLocalVelocity2[cf];\n        b = emitter.qLocalVelocity2[cc];\n        localVelocityVec2.x = a + (b - a) * c;\n        a = emitter.qLocalVelocity2[cf + 1];\n        b = emitter.qLocalVelocity2[cc + 1];\n        localVelocityVec2.y = a + (b - a) * c;\n        a = emitter.qLocalVelocity2[cf + 2];\n        b = emitter.qLocalVelocity2[cc + 2];\n        localVelocityVec2.z = a + (b - a) * c;\n        a = emitter.qVelocity[cf];\n        b = emitter.qVelocity[cc];\n        velocityVec.x = a + (b - a) * c;\n        a = emitter.qVelocity[cf + 1];\n        b = emitter.qVelocity[cc + 1];\n        velocityVec.y = a + (b - a) * c;\n        a = emitter.qVelocity[cf + 2];\n        b = emitter.qVelocity[cc + 2];\n        velocityVec.z = a + (b - a) * c;\n        a = emitter.qVelocity2[cf];\n        b = emitter.qVelocity2[cc];\n        velocityVec2.x = a + (b - a) * c;\n        a = emitter.qVelocity2[cf + 1];\n        b = emitter.qVelocity2[cc + 1];\n        velocityVec2.y = a + (b - a) * c;\n        a = emitter.qVelocity2[cf + 2];\n        b = emitter.qVelocity2[cc + 2];\n        velocityVec2.z = a + (b - a) * c;\n        localVelocityVec.x += (localVelocityVec2.x - localVelocityVec.x) * rndFactor3Vec.x;\n        localVelocityVec.y += (localVelocityVec2.y - localVelocityVec.y) * rndFactor3Vec.y;\n        localVelocityVec.z += (localVelocityVec2.z - localVelocityVec.z) * rndFactor3Vec.z;\n        if (emitter.initialVelocity > 0) {\n          if (emitter.emitterShape === pc.EMITTERSHAPE_SPHERE) {\n            randomPos.copy(rndFactor3Vec).scale(2).sub(pc.Vec3.ONE).normalize();\n            localVelocityVec.add(randomPos.scale(emitter.initialVelocity));\n          } else {\n            localVelocityVec.add(pc.Vec3.FORWARD.scale(emitter.initialVelocity));\n          }\n        }\n        velocityVec.x += (velocityVec2.x - velocityVec.x) * rndFactor3Vec.x;\n        velocityVec.y += (velocityVec2.y - velocityVec.y) * rndFactor3Vec.y;\n        velocityVec.z += (velocityVec2.z - velocityVec.z) * rndFactor3Vec.z;\n        rotSpeed += (rotSpeed2 - rotSpeed) * rndFactor3Vec.y;\n        scale = (scale + (scale2 - scale) * (rndFactor * 10000.0 % 1.0)) * uniformScale;\n        alphaDiv = (alpha2 - alpha) * (rndFactor * 1000.0 % 1.0);\n        if (emitter.meshInstance.node) {\n          if (!emitter.localSpace) {\n            rotMat.transformPoint(localVelocityVec, localVelocityVec);\n          } else {\n            localVelocityVec.x /= nonUniformScale.x;\n            localVelocityVec.y /= nonUniformScale.y;\n            localVelocityVec.z /= nonUniformScale.z;\n          }\n        }\n        if (!emitter.localSpace) {\n          localVelocityVec.add(velocityVec.mul(nonUniformScale));\n          localVelocityVec.add(radialVelocityVec.mul(nonUniformScale));\n        } else {\n          rotMatInv.transformPoint(velocityVec, velocityVec);\n          localVelocityVec.add(velocityVec).add(radialVelocityVec);\n        }\n        moveDirVec.copy(localVelocityVec);\n        particlePos.copy(particlePosPrev).add(localVelocityVec.scale(delta));\n        particleFinalPos.copy(particlePos);\n        particleTex[id * particleTexChannels] = particleFinalPos.x;\n        particleTex[id * particleTexChannels + 1] = particleFinalPos.y;\n        particleTex[id * particleTexChannels + 2] = particleFinalPos.z;\n        particleTex[id * particleTexChannels + 3] += rotSpeed * delta;\n        if (emitter.wrap && emitter.wrapBounds) {\n          if (!emitter.localSpace) {\n            particleFinalPos.sub(emitterPos);\n          }\n          particleFinalPos.x = glMod(particleFinalPos.x, emitter.wrapBounds.x) - emitter.wrapBounds.x * 0.5;\n          particleFinalPos.y = glMod(particleFinalPos.y, emitter.wrapBounds.y) - emitter.wrapBounds.y * 0.5;\n          particleFinalPos.z = glMod(particleFinalPos.z, emitter.wrapBounds.z) - emitter.wrapBounds.z * 0.5;\n          if (!emitter.localSpace) {\n            particleFinalPos.add(emitterPos);\n          }\n        }\n        if (emitter.sort > 0) {\n          if (emitter.sort === 1) {\n            tmpVec3.copy(particleFinalPos).sub(posCam);\n            emitter.particleDistance[id] = -(tmpVec3.x * tmpVec3.x + tmpVec3.y * tmpVec3.y + tmpVec3.z * tmpVec3.z);\n          } else {\n            if (emitter.sort === 2) {\n              emitter.particleDistance[id] = life;\n            } else {\n              if (emitter.sort === 3) {\n                emitter.particleDistance[id] = -life;\n              }\n            }\n          }\n        }\n      }\n      if (isOnStop) {\n        if (life < 0) {\n          particleTex[id * particleTexChannels + 3 + emitter.numParticlesPot * 2 * particleTexChannels] = -1;\n        }\n      } else {\n        if (life >= particleLifetime) {\n          life -= Math.max(particleLifetime, (emitter.numParticles - 1) * particleRate);\n          particleTex[id * particleTexChannels + 3 + emitter.numParticlesPot * 2 * particleTexChannels] = emitter.loop ? 1 : -1;\n        }\n        if (life < 0 && emitter.loop) {\n          particleTex[id * particleTexChannels + 3 + emitter.numParticlesPot * 2 * particleTexChannels] = 1;\n        }\n      }\n      if (particleTex[id * particleTexChannels + 3 + emitter.numParticlesPot * 2 * particleTexChannels] < 0) {\n        particleEnabled = false;\n      }\n      particleTex[id * particleTexChannels + 3 + emitter.numParticlesPot * particleTexChannels] = life;\n      for (var v = 0;v < emitter.numParticleVerts;v++) {\n        var vbOffset = (i * emitter.numParticleVerts + v) * (emitter.useMesh ? 6 : 4);\n        var quadX = emitter.vbCPU[vbOffset];\n        var quadY = emitter.vbCPU[vbOffset + 1];\n        var quadZ = emitter.vbCPU[vbOffset + 2];\n        if (!particleEnabled) {\n          quadX = quadY = quadZ = 0;\n        }\n        var w = i * emitter.numParticleVerts * vertSize + v * vertSize;\n        data[w] = particleFinalPos.x;\n        data[w + 1] = particleFinalPos.y;\n        data[w + 2] = particleFinalPos.z;\n        data[w + 3] = nlife;\n        data[w + 4] = emitter.alignToMotion ? angle : particleTex[id * particleTexChannels + 3];\n        data[w + 5] = scale;\n        data[w + 6] = alphaDiv;\n        data[w + 7] = moveDirVec.x;\n        data[w + 8] = quadX;\n        data[w + 9] = quadY;\n        data[w + 10] = quadZ;\n        data[w + 11] = moveDirVec.y;\n        data[w + 12] = moveDirVec.z;\n        data[w + 13] = emitter.vbCPU[vbOffset + 3];\n        if (emitter.useMesh) {\n          data[w + 14] = emitter.vbCPU[vbOffset + 4];\n          data[w + 15] = emitter.vbCPU[vbOffset + 5];\n        }\n      }\n    }\n    if (emitter.sort > pc.PARTICLESORT_NONE && emitter.camera) {\n      var vbStride = emitter.useMesh ? 6 : 4;\n      var particleDistance = emitter.particleDistance;\n      for (i = 0;i < emitter.numParticles;i++) {\n        vbToSort[i][0] = i;\n        vbToSort[i][1] = particleDistance[Math.floor(emitter.vbCPU[i * emitter.numParticleVerts * vbStride + 3])];\n      }\n      emitter.vbOld.set(emitter.vbCPU);\n      vbToSort.sort(function(p1, p2) {\n        return p1[1] - p2[1];\n      });\n      for (i = 0;i < emitter.numParticles;i++) {\n        var src = vbToSort[i][0] * emitter.numParticleVerts * vbStride;\n        var dest = i * emitter.numParticleVerts * vbStride;\n        for (j = 0;j < emitter.numParticleVerts * vbStride;j++) {\n          emitter.vbCPU[dest + j] = emitter.vbOld[src + j];\n        }\n      }\n    }\n  };\n  return {ParticleCPUUpdater:ParticleCPUUpdater};\n}());\nObject.assign(pc, function() {\n  var spawnMatrix3 = new pc.Mat3;\n  var emitterMatrix3 = new pc.Mat3;\n  var emitterMatrix3Inv = new pc.Mat3;\n  function mat4ToMat3(mat4, mat3) {\n    mat3.data[0] = mat4.data[0];\n    mat3.data[1] = mat4.data[1];\n    mat3.data[2] = mat4.data[2];\n    mat3.data[3] = mat4.data[4];\n    mat3.data[4] = mat4.data[5];\n    mat3.data[5] = mat4.data[6];\n    mat3.data[6] = mat4.data[8];\n    mat3.data[7] = mat4.data[9];\n    mat3.data[8] = mat4.data[10];\n  }\n  var ParticleGPUUpdater = function(emitter, gd) {\n    this._emitter = emitter;\n    this.frameRandomUniform = new Float32Array(3);\n    this.emitterPosUniform = new Float32Array(3);\n    this.emitterScaleUniform = new Float32Array([1, 1, 1]);\n    this.worldBoundsMulUniform = new Float32Array(3);\n    this.worldBoundsAddUniform = new Float32Array(3);\n    this.inBoundsSizeUniform = new Float32Array(3);\n    this.inBoundsCenterUniform = new Float32Array(3);\n    this.constantParticleTexIN = gd.scope.resolve(\"particleTexIN\");\n    this.constantParticleTexOUT = gd.scope.resolve(\"particleTexOUT\");\n    this.constantEmitterPos = gd.scope.resolve(\"emitterPos\");\n    this.constantEmitterScale = gd.scope.resolve(\"emitterScale\");\n    this.constantSpawnBounds = gd.scope.resolve(\"spawnBounds\");\n    this.constantSpawnPosInnerRatio = gd.scope.resolve(\"spawnPosInnerRatio\");\n    this.constantSpawnBoundsSphere = gd.scope.resolve(\"spawnBoundsSphere\");\n    this.constantSpawnBoundsSphereInnerRatio = gd.scope.resolve(\"spawnBoundsSphereInnerRatio\");\n    this.constantInitialVelocity = gd.scope.resolve(\"initialVelocity\");\n    this.constantFrameRandom = gd.scope.resolve(\"frameRandom\");\n    this.constantDelta = gd.scope.resolve(\"delta\");\n    this.constantRate = gd.scope.resolve(\"rate\");\n    this.constantRateDiv = gd.scope.resolve(\"rateDiv\");\n    this.constantLifetime = gd.scope.resolve(\"lifetime\");\n    this.constantGraphSampleSize = gd.scope.resolve(\"graphSampleSize\");\n    this.constantGraphNumSamples = gd.scope.resolve(\"graphNumSamples\");\n    this.constantInternalTex0 = gd.scope.resolve(\"internalTex0\");\n    this.constantInternalTex1 = gd.scope.resolve(\"internalTex1\");\n    this.constantInternalTex2 = gd.scope.resolve(\"internalTex2\");\n    this.constantInternalTex3 = gd.scope.resolve(\"internalTex3\");\n    this.constantEmitterMatrix = gd.scope.resolve(\"emitterMatrix\");\n    this.constantEmitterMatrixInv = gd.scope.resolve(\"emitterMatrixInv\");\n    this.constantNumParticles = gd.scope.resolve(\"numParticles\");\n    this.constantNumParticlesPot = gd.scope.resolve(\"numParticlesPot\");\n    this.constantLocalVelocityDivMult = gd.scope.resolve(\"localVelocityDivMult\");\n    this.constantVelocityDivMult = gd.scope.resolve(\"velocityDivMult\");\n    this.constantRotSpeedDivMult = gd.scope.resolve(\"rotSpeedDivMult\");\n    this.constantSeed = gd.scope.resolve(\"seed\");\n    this.constantStartAngle = gd.scope.resolve(\"startAngle\");\n    this.constantStartAngle2 = gd.scope.resolve(\"startAngle2\");\n    this.constantOutBoundsMul = gd.scope.resolve(\"outBoundsMul\");\n    this.constantOutBoundsAdd = gd.scope.resolve(\"outBoundsAdd\");\n    this.constantInBoundsSize = gd.scope.resolve(\"inBoundsSize\");\n    this.constantInBoundsCenter = gd.scope.resolve(\"inBoundsCenter\");\n    this.constantMaxVel = gd.scope.resolve(\"maxVel\");\n    this.constantFaceTangent = gd.scope.resolve(\"faceTangent\");\n    this.constantFaceBinorm = gd.scope.resolve(\"faceBinorm\");\n  };\n  ParticleGPUUpdater.prototype._setInputBounds = function() {\n    this.inBoundsSizeUniform[0] = this._emitter.prevWorldBoundsSize.x;\n    this.inBoundsSizeUniform[1] = this._emitter.prevWorldBoundsSize.y;\n    this.inBoundsSizeUniform[2] = this._emitter.prevWorldBoundsSize.z;\n    this.constantInBoundsSize.setValue(this.inBoundsSizeUniform);\n    this.inBoundsCenterUniform[0] = this._emitter.prevWorldBoundsCenter.x;\n    this.inBoundsCenterUniform[1] = this._emitter.prevWorldBoundsCenter.y;\n    this.inBoundsCenterUniform[2] = this._emitter.prevWorldBoundsCenter.z;\n    this.constantInBoundsCenter.setValue(this.inBoundsCenterUniform);\n  };\n  ParticleGPUUpdater.prototype.randomize = function() {\n    this.frameRandomUniform[0] = Math.random();\n    this.frameRandomUniform[1] = Math.random();\n    this.frameRandomUniform[2] = Math.random();\n  };\n  ParticleGPUUpdater.prototype.update = function(device, spawnMatrix, extentsInnerRatioUniform, delta, isOnStop) {\n    var emitter = this._emitter;\n    device.setBlending(false);\n    device.setColorWrite(true, true, true, true);\n    device.setCullMode(pc.CULLFACE_NONE);\n    device.setDepthTest(false);\n    device.setDepthWrite(false);\n    this.randomize();\n    this.constantGraphSampleSize.setValue(1.0 / emitter.precision);\n    this.constantGraphNumSamples.setValue(emitter.precision);\n    this.constantNumParticles.setValue(emitter.numParticles);\n    this.constantNumParticlesPot.setValue(emitter.numParticlesPot);\n    this.constantInternalTex0.setValue(emitter.internalTex0);\n    this.constantInternalTex1.setValue(emitter.internalTex1);\n    this.constantInternalTex2.setValue(emitter.internalTex2);\n    this.constantInternalTex3.setValue(emitter.internalTex3);\n    var node = emitter.meshInstance.node;\n    var emitterScale = node === null ? pc.Vec3.ONE : node.localScale;\n    if (emitter.pack8) {\n      this.worldBoundsMulUniform[0] = emitter.worldBoundsMul.x;\n      this.worldBoundsMulUniform[1] = emitter.worldBoundsMul.y;\n      this.worldBoundsMulUniform[2] = emitter.worldBoundsMul.z;\n      this.constantOutBoundsMul.setValue(this.worldBoundsMulUniform);\n      this.worldBoundsAddUniform[0] = emitter.worldBoundsAdd.x;\n      this.worldBoundsAddUniform[1] = emitter.worldBoundsAdd.y;\n      this.worldBoundsAddUniform[2] = emitter.worldBoundsAdd.z;\n      this.constantOutBoundsAdd.setValue(this.worldBoundsAddUniform);\n      this._setInputBounds();\n      var maxVel = emitter.maxVel * Math.max(Math.max(emitterScale.x, emitterScale.y), emitterScale.z);\n      maxVel = Math.max(maxVel, 1);\n      this.constantMaxVel.setValue(maxVel);\n    }\n    var emitterPos = node === null || emitter.localSpace ? pc.Vec3.ZERO : node.getPosition();\n    var emitterMatrix = node === null ? pc.Mat4.IDENTITY : node.getWorldTransform();\n    if (emitter.emitterShape === pc.EMITTERSHAPE_BOX) {\n      mat4ToMat3(spawnMatrix, spawnMatrix3);\n      this.constantSpawnBounds.setValue(spawnMatrix3.data);\n      this.constantSpawnPosInnerRatio.setValue(extentsInnerRatioUniform);\n    } else {\n      this.constantSpawnBoundsSphere.setValue(emitter.emitterRadius);\n      this.constantSpawnBoundsSphereInnerRatio.setValue(emitter.emitterRadius === 0 ? 0 : emitter.emitterRadiusInner / emitter.emitterRadius);\n    }\n    this.constantInitialVelocity.setValue(emitter.initialVelocity);\n    mat4ToMat3(emitterMatrix, emitterMatrix3);\n    emitterMatrix.invertTo3x3(emitterMatrix3Inv);\n    this.emitterPosUniform[0] = emitterPos.x;\n    this.emitterPosUniform[1] = emitterPos.y;\n    this.emitterPosUniform[2] = emitterPos.z;\n    this.constantEmitterPos.setValue(this.emitterPosUniform);\n    this.constantFrameRandom.setValue(this.frameRandomUniform);\n    this.constantDelta.setValue(delta);\n    this.constantRate.setValue(emitter.rate);\n    this.constantRateDiv.setValue(emitter.rate2 - emitter.rate);\n    this.constantStartAngle.setValue(emitter.startAngle * pc.math.DEG_TO_RAD);\n    this.constantStartAngle2.setValue(emitter.startAngle2 * pc.math.DEG_TO_RAD);\n    this.constantSeed.setValue(emitter.seed);\n    this.constantLifetime.setValue(emitter.lifetime);\n    this.emitterScaleUniform[0] = emitterScale.x;\n    this.emitterScaleUniform[1] = emitterScale.y;\n    this.emitterScaleUniform[2] = emitterScale.z;\n    this.constantEmitterScale.setValue(this.emitterScaleUniform);\n    this.constantEmitterMatrix.setValue(emitterMatrix3.data);\n    this.constantEmitterMatrixInv.setValue(emitterMatrix3Inv.data);\n    this.constantLocalVelocityDivMult.setValue(emitter.localVelocityUMax);\n    this.constantVelocityDivMult.setValue(emitter.velocityUMax);\n    this.constantRotSpeedDivMult.setValue(emitter.rotSpeedUMax[0]);\n    var texIN = emitter.swapTex ? emitter.particleTexOUT : emitter.particleTexIN;\n    texIN = emitter.beenReset ? emitter.particleTexStart : texIN;\n    var texOUT = emitter.swapTex ? emitter.particleTexIN : emitter.particleTexOUT;\n    this.constantParticleTexIN.setValue(texIN);\n    pc.drawQuadWithShader(device, emitter.swapTex ? emitter.rtParticleTexIN : emitter.rtParticleTexOUT, !isOnStop ? emitter.loop ? emitter.shaderParticleUpdateRespawn : emitter.shaderParticleUpdateNoRespawn : emitter.shaderParticleUpdateOnStop);\n    emitter.material.setParameter(\"particleTexOUT\", texIN);\n    emitter.material.setParameter(\"particleTexIN\", texOUT);\n    emitter.beenReset = false;\n    emitter.swapTex = !emitter.swapTex;\n    device.setDepthTest(true);\n    device.setDepthWrite(true);\n    emitter.prevWorldBoundsSize.copy(emitter.worldBoundsSize);\n    emitter.prevWorldBoundsCenter.copy(emitter.worldBounds.center);\n    if (emitter.pack8) {\n      this._setInputBounds();\n    }\n  };\n  return {ParticleGPUUpdater:ParticleGPUUpdater};\n}());\nObject.assign(pc, function() {\n  var _deviceDeprecationWarning = false;\n  var _getSelectionDeprecationWarning = false;\n  var _prepareDeprecationWarning = false;\n  var Picker = function(app, width, height) {\n    if (app instanceof pc.GraphicsDevice) {\n      app = pc.Application.getApplication();\n      if (!_deviceDeprecationWarning) {\n        _deviceDeprecationWarning = true;\n      }\n    }\n    this.app = app;\n    this.device = app.graphicsDevice;\n    var device = this.device;\n    this.library = device.getProgramLibrary();\n    this.pickColor = new Float32Array(4);\n    this.pickColor[3] = 1;\n    this.scene = null;\n    this.drawCalls = [];\n    this.layer = null;\n    this.layerComp = null;\n    this.clearOptions = {color:[1, 1, 1, 1], depth:1, flags:pc.CLEARFLAG_COLOR | pc.CLEARFLAG_DEPTH};\n    var self = this;\n    this._clearDepthOptions = {depth:1.0, flags:pc.CLEARFLAG_DEPTH};\n    this.clearDepthCommand = new pc.Command(0, 0, function() {\n      device.clear(self._clearDepthOptions);\n    });\n    this.resize(width, height);\n    this._ignoreOpacityFor = null;\n  };\n  Picker.prototype.getSelection = function(x, y, width, height) {\n    var device = this.device;\n    if (typeof x === \"object\") {\n      var rect = x;\n      x = rect.x;\n      y = rect.y;\n      width = rect.width;\n      height = rect.height;\n    } else {\n      y = this.layer.renderTarget.height - (y + (height || 1));\n    }\n    width = width || 1;\n    height = height || 1;\n    var prevRenderTarget = device.renderTarget;\n    device.setRenderTarget(this.layer.renderTarget);\n    device.updateBegin();\n    var pixels = new Uint8Array(4 * width * height);\n    device.readPixels(x, y, width, height, pixels);\n    device.updateEnd();\n    device.setRenderTarget(prevRenderTarget);\n    var selection = [];\n    var drawCalls = this.layer.instances.visibleOpaque[0].list;\n    var r, g, b, index;\n    for (var i = 0;i < width * height;i++) {\n      r = pixels[4 * i + 0];\n      g = pixels[4 * i + 1];\n      b = pixels[4 * i + 2];\n      index = r << 16 | g << 8 | b;\n      if (index !== 16777215) {\n        var selectedMeshInstance = drawCalls[index];\n        if (selection.indexOf(selectedMeshInstance) === -1) {\n          selection.push(selectedMeshInstance);\n        }\n      }\n    }\n    return selection;\n  };\n  Picker.prototype.prepare = function(camera, scene, arg) {\n    var device = this.device;\n    var i, j;\n    var self = this;\n    if (camera instanceof pc.Camera) {\n      camera = camera._component;\n    }\n    this.scene = scene;\n    var sourceLayer = null;\n    var sourceRt = null;\n    if (arg instanceof pc.Layer) {\n      sourceLayer = arg;\n    } else {\n      sourceRt = arg;\n    }\n    if (!this.layer) {\n      var pickColorId = device.scope.resolve(\"uColor\");\n      this.layer = new pc.Layer({name:\"Picker\", shaderPass:pc.SHADER_PICK, opaqueSortMode:pc.SORTMODE_NONE, onEnable:function() {\n        if (this.renderTarget) {\n          return;\n        }\n        var colorBuffer = new pc.Texture(device, {format:pc.PIXELFORMAT_R8_G8_B8_A8, width:self.width, height:self.height});\n        colorBuffer.name = \"pick\";\n        colorBuffer.minFilter = pc.FILTER_NEAREST;\n        colorBuffer.magFilter = pc.FILTER_NEAREST;\n        colorBuffer.addressU = pc.ADDRESS_CLAMP_TO_EDGE;\n        colorBuffer.addressV = pc.ADDRESS_CLAMP_TO_EDGE;\n        this.renderTarget = new pc.RenderTarget(device, colorBuffer, {depth:true});\n      }, onDisable:function() {\n        if (!this.renderTarget) {\n          return;\n        }\n        this.renderTarget._colorBuffer.destroy();\n        this.renderTarget.destroy();\n        this.renderTarget = null;\n      }, onDrawCall:function(meshInstance, index) {\n        self.pickColor[0] = (index >> 16 & 255) / 255;\n        self.pickColor[1] = (index >> 8 & 255) / 255;\n        self.pickColor[2] = (index & 255) / 255;\n        pickColorId.setValue(self.pickColor);\n        device.setBlending(false);\n      }});\n      this.layerComp = new pc.LayerComposition;\n      this.layerComp.pushOpaque(this.layer);\n      this.meshInstances = this.layer.opaqueMeshInstances;\n      this._instancesVersion = -1;\n    }\n    var instanceList, instanceListLength, drawCall;\n    if (!sourceLayer) {\n      this.layer.clearMeshInstances();\n      var layers = scene.layers.layerList;\n      var subLayerEnabled = scene.layers.subLayerEnabled;\n      var isTransparent = scene.layers.subLayerList;\n      var layer;\n      var layerCamId, transparent;\n      for (i = 0;i < layers.length;i++) {\n        if (layers[i].overrideClear && layers[i]._clearDepthBuffer) {\n          layers[i]._pickerCleared = false;\n        }\n      }\n      for (i = 0;i < layers.length;i++) {\n        layer = layers[i];\n        if (layer.renderTarget !== sourceRt || !layer.enabled || !subLayerEnabled[i]) {\n          continue;\n        }\n        layerCamId = layer.cameras.indexOf(camera);\n        if (layerCamId < 0) {\n          continue;\n        }\n        if (layer.overrideClear && layer._clearDepthBuffer && !layer._pickerCleared) {\n          this.meshInstances.push(this.clearDepthCommand);\n          layer._pickerCleared = true;\n        }\n        transparent = isTransparent[i];\n        instanceList = transparent ? layer.instances.transparentMeshInstances : layer.instances.opaqueMeshInstances;\n        instanceListLength = instanceList.length;\n        for (j = 0;j < instanceListLength;j++) {\n          drawCall = instanceList[j];\n          if (drawCall.pick) {\n            this.meshInstances.push(drawCall);\n          }\n        }\n      }\n    } else {\n      if (this._instancesVersion !== sourceLayer._version) {\n        this.layer.clearMeshInstances();\n        instanceList = sourceLayer.instances.opaqueMeshInstances;\n        instanceListLength = instanceList.length;\n        for (j = 0;j < instanceListLength;j++) {\n          drawCall = instanceList[j];\n          if (drawCall.pick) {\n            this.meshInstances.push(drawCall);\n          }\n        }\n        instanceList = sourceLayer.instances.transparentMeshInstances;\n        instanceListLength = instanceList.length;\n        for (j = 0;j < instanceListLength;j++) {\n          drawCall = instanceList[j];\n          if (drawCall.pick) {\n            this.meshInstances.push(drawCall);\n          }\n        }\n        this._instancesVersion = sourceLayer._version;\n      }\n    }\n    if (this.layer.cameras[0] !== camera) {\n      this.layer.clearCameras();\n      this.layer.addCamera(camera);\n    }\n    this.onLayerPreRender(this.layer, sourceLayer, sourceRt);\n    this.app.renderer.renderComposition(this.layerComp);\n    this.onLayerPostRender(this.layer);\n  };\n  Picker.prototype.onLayerPreRender = function(layer, sourceLayer, sourceRt) {\n    if (this.width !== layer.renderTarget.width || this.height !== layer.renderTarget.height) {\n      layer.onDisable();\n      layer.onEnable();\n    }\n    layer.oldClear = layer.cameras[0].camera._clearOptions;\n    layer.oldAspectMode = layer.cameras[0].aspectRatioMode;\n    layer.oldAspect = layer.cameras[0].aspectRatio;\n    layer.cameras[0].camera._clearOptions = this.clearOptions;\n    layer.cameras[0].aspectRatioMode = pc.ASPECT_MANUAL;\n    var rt = sourceRt ? sourceRt : sourceLayer ? sourceLayer.renderTarget : null;\n    layer.cameras[0].aspectRatio = layer.cameras[0].calculateAspectRatio(rt);\n    this.app.renderer.updateCameraFrustum(layer.cameras[0].camera);\n  };\n  Picker.prototype.onLayerPostRender = function(layer) {\n    layer.cameras[0].camera._clearOptions = layer.oldClear;\n    layer.cameras[0].aspectRatioMode = layer.oldAspectMode;\n    layer.cameras[0].aspectRatio = layer.oldAspect;\n  };\n  Picker.prototype.resize = function(width, height) {\n    this.width = width;\n    this.height = height;\n  };\n  Object.defineProperty(Picker.prototype, \"renderTarget\", {get:function() {\n    return this.layer.renderTarget;\n  }});\n  return {Picker:Picker};\n}());\nvar primitiveUv1Padding = 4.0 / 64;\nvar primitiveUv1PaddingScale = 1.0 - primitiveUv1Padding * 2;\npc.calculateNormals = function(positions, indices) {\n  var triangleCount = indices.length / 3;\n  var vertexCount = positions.length / 3;\n  var i1, i2, i3;\n  var i;\n  var p1 = new pc.Vec3;\n  var p2 = new pc.Vec3;\n  var p3 = new pc.Vec3;\n  var p1p2 = new pc.Vec3;\n  var p1p3 = new pc.Vec3;\n  var faceNormal = new pc.Vec3;\n  var normals = [];\n  for (i = 0;i < positions.length;i++) {\n    normals[i] = 0;\n  }\n  for (i = 0;i < triangleCount;i++) {\n    i1 = indices[i * 3];\n    i2 = indices[i * 3 + 1];\n    i3 = indices[i * 3 + 2];\n    p1.set(positions[i1 * 3], positions[i1 * 3 + 1], positions[i1 * 3 + 2]);\n    p2.set(positions[i2 * 3], positions[i2 * 3 + 1], positions[i2 * 3 + 2]);\n    p3.set(positions[i3 * 3], positions[i3 * 3 + 1], positions[i3 * 3 + 2]);\n    p1p2.sub2(p2, p1);\n    p1p3.sub2(p3, p1);\n    faceNormal.cross(p1p2, p1p3).normalize();\n    normals[i1 * 3] += faceNormal.x;\n    normals[i1 * 3 + 1] += faceNormal.y;\n    normals[i1 * 3 + 2] += faceNormal.z;\n    normals[i2 * 3] += faceNormal.x;\n    normals[i2 * 3 + 1] += faceNormal.y;\n    normals[i2 * 3 + 2] += faceNormal.z;\n    normals[i3 * 3] += faceNormal.x;\n    normals[i3 * 3 + 1] += faceNormal.y;\n    normals[i3 * 3 + 2] += faceNormal.z;\n  }\n  for (i = 0;i < vertexCount;i++) {\n    var nx = normals[i * 3];\n    var ny = normals[i * 3 + 1];\n    var nz = normals[i * 3 + 2];\n    var invLen = 1 / Math.sqrt(nx * nx + ny * ny + nz * nz);\n    normals[i * 3] *= invLen;\n    normals[i * 3 + 1] *= invLen;\n    normals[i * 3 + 2] *= invLen;\n  }\n  return normals;\n};\npc.calculateTangents = function(positions, normals, uvs, indices) {\n  var triangleCount = indices.length / 3;\n  var vertexCount = positions.length / 3;\n  var i1, i2, i3;\n  var x1, x2, y1, y2, z1, z2, s1, s2, t1, t2, r;\n  var sdir = new pc.Vec3;\n  var tdir = new pc.Vec3;\n  var v1 = new pc.Vec3;\n  var v2 = new pc.Vec3;\n  var v3 = new pc.Vec3;\n  var w1 = new pc.Vec2;\n  var w2 = new pc.Vec2;\n  var w3 = new pc.Vec2;\n  var i;\n  var tan1 = new Float32Array(vertexCount * 3);\n  var tan2 = new Float32Array(vertexCount * 3);\n  var tangents = [];\n  var area = 0.0;\n  for (i = 0;i < triangleCount;i++) {\n    i1 = indices[i * 3];\n    i2 = indices[i * 3 + 1];\n    i3 = indices[i * 3 + 2];\n    v1.set(positions[i1 * 3], positions[i1 * 3 + 1], positions[i1 * 3 + 2]);\n    v2.set(positions[i2 * 3], positions[i2 * 3 + 1], positions[i2 * 3 + 2]);\n    v3.set(positions[i3 * 3], positions[i3 * 3 + 1], positions[i3 * 3 + 2]);\n    w1.set(uvs[i1 * 2], uvs[i1 * 2 + 1]);\n    w2.set(uvs[i2 * 2], uvs[i2 * 2 + 1]);\n    w3.set(uvs[i3 * 2], uvs[i3 * 2 + 1]);\n    x1 = v2.x - v1.x;\n    x2 = v3.x - v1.x;\n    y1 = v2.y - v1.y;\n    y2 = v3.y - v1.y;\n    z1 = v2.z - v1.z;\n    z2 = v3.z - v1.z;\n    s1 = w2.x - w1.x;\n    s2 = w3.x - w1.x;\n    t1 = w2.y - w1.y;\n    t2 = w3.y - w1.y;\n    area = s1 * t2 - s2 * t1;\n    if (area == 0.0) {\n      sdir.set(0.0, 1.0, 0.0);\n      tdir.set(1.0, 0.0, 0.0);\n    } else {\n      r = 1.0 / area;\n      sdir.set((t2 * x1 - t1 * x2) * r, (t2 * y1 - t1 * y2) * r, (t2 * z1 - t1 * z2) * r);\n      tdir.set((s1 * x2 - s2 * x1) * r, (s1 * y2 - s2 * y1) * r, (s1 * z2 - s2 * z1) * r);\n    }\n    tan1[i1 * 3 + 0] += sdir.x;\n    tan1[i1 * 3 + 1] += sdir.y;\n    tan1[i1 * 3 + 2] += sdir.z;\n    tan1[i2 * 3 + 0] += sdir.x;\n    tan1[i2 * 3 + 1] += sdir.y;\n    tan1[i2 * 3 + 2] += sdir.z;\n    tan1[i3 * 3 + 0] += sdir.x;\n    tan1[i3 * 3 + 1] += sdir.y;\n    tan1[i3 * 3 + 2] += sdir.z;\n    tan2[i1 * 3 + 0] += tdir.x;\n    tan2[i1 * 3 + 1] += tdir.y;\n    tan2[i1 * 3 + 2] += tdir.z;\n    tan2[i2 * 3 + 0] += tdir.x;\n    tan2[i2 * 3 + 1] += tdir.y;\n    tan2[i2 * 3 + 2] += tdir.z;\n    tan2[i3 * 3 + 0] += tdir.x;\n    tan2[i3 * 3 + 1] += tdir.y;\n    tan2[i3 * 3 + 2] += tdir.z;\n  }\n  t1 = new pc.Vec3;\n  t2 = new pc.Vec3;\n  var n = new pc.Vec3;\n  var temp = new pc.Vec3;\n  for (i = 0;i < vertexCount;i++) {\n    n.set(normals[i * 3], normals[i * 3 + 1], normals[i * 3 + 2]);\n    t1.set(tan1[i * 3], tan1[i * 3 + 1], tan1[i * 3 + 2]);\n    t2.set(tan2[i * 3], tan2[i * 3 + 1], tan2[i * 3 + 2]);\n    var ndott = n.dot(t1);\n    temp.copy(n).scale(ndott);\n    temp.sub2(t1, temp).normalize();\n    tangents[i * 4] = temp.x;\n    tangents[i * 4 + 1] = temp.y;\n    tangents[i * 4 + 2] = temp.z;\n    temp.cross(n, t1);\n    tangents[i * 4 + 3] = temp.dot(t2) < 0.0 ? -1.0 : 1.0;\n  }\n  return tangents;\n};\npc.createMesh = function(device, positions, opts) {\n  var normals = opts && opts.normals !== undefined ? opts.normals : null;\n  var tangents = opts && opts.tangents !== undefined ? opts.tangents : null;\n  var colors = opts && opts.colors !== undefined ? opts.colors : null;\n  var uvs = opts && opts.uvs !== undefined ? opts.uvs : null;\n  var uvs1 = opts && opts.uvs1 !== undefined ? opts.uvs1 : null;\n  var indices = opts && opts.indices !== undefined ? opts.indices : null;\n  var blendIndices = opts && opts.blendIndices !== undefined ? opts.blendIndices : null;\n  var blendWeights = opts && opts.blendWeights !== undefined ? opts.blendWeights : null;\n  var vertexDesc = [{semantic:pc.SEMANTIC_POSITION, components:3, type:pc.TYPE_FLOAT32}];\n  if (normals !== null) {\n    vertexDesc.push({semantic:pc.SEMANTIC_NORMAL, components:3, type:pc.TYPE_FLOAT32});\n  }\n  if (tangents !== null) {\n    vertexDesc.push({semantic:pc.SEMANTIC_TANGENT, components:4, type:pc.TYPE_FLOAT32});\n  }\n  if (colors !== null) {\n    vertexDesc.push({semantic:pc.SEMANTIC_COLOR, components:4, type:pc.TYPE_UINT8, normalize:true});\n  }\n  if (uvs !== null) {\n    vertexDesc.push({semantic:pc.SEMANTIC_TEXCOORD0, components:2, type:pc.TYPE_FLOAT32});\n  }\n  if (uvs1 !== null) {\n    vertexDesc.push({semantic:pc.SEMANTIC_TEXCOORD1, components:2, type:pc.TYPE_FLOAT32});\n  }\n  if (blendIndices !== null) {\n    vertexDesc.push({semantic:pc.SEMANTIC_BLENDINDICES, components:2, type:pc.TYPE_UINT8});\n  }\n  if (blendWeights !== null) {\n    vertexDesc.push({semantic:pc.SEMANTIC_BLENDWEIGHT, components:2, type:pc.TYPE_FLOAT32});\n  }\n  var vertexFormat = new pc.VertexFormat(device, vertexDesc);\n  var numVertices = positions.length / 3;\n  var vertexBuffer = new pc.VertexBuffer(device, vertexFormat, numVertices);\n  var iterator = new pc.VertexIterator(vertexBuffer);\n  for (var i = 0;i < numVertices;i++) {\n    iterator.element[pc.SEMANTIC_POSITION].set(positions[i * 3], positions[i * 3 + 1], positions[i * 3 + 2]);\n    if (normals !== null) {\n      iterator.element[pc.SEMANTIC_NORMAL].set(normals[i * 3], normals[i * 3 + 1], normals[i * 3 + 2]);\n    }\n    if (tangents !== null) {\n      iterator.element[pc.SEMANTIC_TANGENT].set(tangents[i * 4], tangents[i * 4 + 1], tangents[i * 4 + 2], tangents[i * 4 + 3]);\n    }\n    if (colors !== null) {\n      iterator.element[pc.SEMANTIC_COLOR].set(colors[i * 4], colors[i * 4 + 1], colors[i * 4 + 2], colors[i * 4 + 3]);\n    }\n    if (uvs !== null) {\n      iterator.element[pc.SEMANTIC_TEXCOORD0].set(uvs[i * 2], uvs[i * 2 + 1]);\n    }\n    if (uvs1 !== null) {\n      iterator.element[pc.SEMANTIC_TEXCOORD1].set(uvs1[i * 2], uvs1[i * 2 + 1]);\n    }\n    if (blendIndices !== null) {\n      iterator.element[pc.SEMANTIC_BLENDINDICES].set(blendIndices[i * 2], blendIndices[i * 2 + 1]);\n    }\n    if (blendWeights !== null) {\n      iterator.element[pc.SEMANTIC_BLENDWEIGHT].set(blendWeights[i * 2], blendWeights[i * 2 + 1]);\n    }\n    iterator.next();\n  }\n  iterator.end();\n  var indexBuffer = null;\n  var indexed = indices !== null;\n  if (indexed) {\n    indexBuffer = new pc.IndexBuffer(device, pc.INDEXFORMAT_UINT16, indices.length);\n    var dst = new Uint16Array(indexBuffer.lock());\n    dst.set(indices);\n    indexBuffer.unlock();\n  }\n  var aabb = new pc.BoundingBox;\n  aabb.compute(positions);\n  var mesh = new pc.Mesh;\n  mesh.vertexBuffer = vertexBuffer;\n  mesh.indexBuffer[0] = indexBuffer;\n  mesh.primitive[0].type = pc.PRIMITIVE_TRIANGLES;\n  mesh.primitive[0].base = 0;\n  mesh.primitive[0].count = indexed ? indices.length : numVertices;\n  mesh.primitive[0].indexed = indexed;\n  mesh.aabb = aabb;\n  return mesh;\n};\npc.createTorus = function(device, opts) {\n  var rc = opts && opts.tubeRadius !== undefined ? opts.tubeRadius : 0.2;\n  var rt = opts && opts.ringRadius !== undefined ? opts.ringRadius : 0.3;\n  var segments = opts && opts.segments !== undefined ? opts.segments : 30;\n  var sides = opts && opts.sides !== undefined ? opts.sides : 20;\n  var calculateTangents = opts && opts.calculateTangents !== undefined ? opts.calculateTangents : false;\n  var i, j;\n  var x, y, z, nx, ny, nz, u, v;\n  var positions = [];\n  var normals = [];\n  var uvs = [];\n  var indices = [];\n  for (i = 0;i <= sides;i++) {\n    for (j = 0;j <= segments;j++) {\n      x = Math.cos(2.0 * Math.PI * j / segments) * (rt + rc * Math.cos(2.0 * Math.PI * i / sides));\n      y = Math.sin(2.0 * Math.PI * i / sides) * rc;\n      z = Math.sin(2.0 * Math.PI * j / segments) * (rt + rc * Math.cos(2.0 * Math.PI * i / sides));\n      nx = Math.cos(2.0 * Math.PI * j / segments) * Math.cos(2.0 * Math.PI * i / sides);\n      ny = Math.sin(2.0 * Math.PI * i / sides);\n      nz = Math.sin(2.0 * Math.PI * j / segments) * Math.cos(2.0 * Math.PI * i / sides);\n      u = i / sides;\n      v = 1.0 - j / segments;\n      positions.push(x, y, z);\n      normals.push(nx, ny, nz);\n      uvs.push(u, v);\n      if (i < sides && j < segments) {\n        var first, second, third, fourth;\n        first = i * (segments + 1) + j;\n        second = (i + 1) * (segments + 1) + j;\n        third = i * (segments + 1) + (j + 1);\n        fourth = (i + 1) * (segments + 1) + (j + 1);\n        indices.push(first, second, third);\n        indices.push(second, fourth, third);\n      }\n    }\n  }\n  var options = {normals:normals, uvs:uvs, indices:indices};\n  if (calculateTangents) {\n    options.tangents = pc.calculateTangents(positions, normals, uvs, indices);\n  }\n  return pc.createMesh(device, positions, options);\n};\npc._createConeData = function(baseRadius, peakRadius, height, heightSegments, capSegments, roundedCaps) {\n  var i, j;\n  var x, y, z, u, v;\n  var pos = new pc.Vec3;\n  var bottomToTop = new pc.Vec3;\n  var norm = new pc.Vec3;\n  var top, bottom, tangent;\n  var positions = [];\n  var normals = [];\n  var uvs = [];\n  var uvs1 = [];\n  var indices = [];\n  var theta, cosTheta, sinTheta;\n  var phi, sinPhi, cosPhi;\n  var first, second, third, fourth;\n  var offset;\n  if (height > 0) {\n    for (i = 0;i <= heightSegments;i++) {\n      for (j = 0;j <= capSegments;j++) {\n        theta = j / capSegments * 2.0 * Math.PI - Math.PI;\n        sinTheta = Math.sin(theta);\n        cosTheta = Math.cos(theta);\n        bottom = new pc.Vec3(sinTheta * baseRadius, -height / 2.0, cosTheta * baseRadius);\n        top = new pc.Vec3(sinTheta * peakRadius, height / 2.0, cosTheta * peakRadius);\n        pos.lerp(bottom, top, i / heightSegments);\n        bottomToTop.sub2(top, bottom).normalize();\n        tangent = new pc.Vec3(cosTheta, 0.0, -sinTheta);\n        norm.cross(tangent, bottomToTop).normalize();\n        positions.push(pos.x, pos.y, pos.z);\n        normals.push(norm.x, norm.y, norm.z);\n        u = j / capSegments;\n        v = i / heightSegments;\n        uvs.push(u, v);\n        var _v = v;\n        v = u;\n        u = _v;\n        u /= 3;\n        u = u * primitiveUv1PaddingScale + primitiveUv1Padding;\n        v = v * primitiveUv1PaddingScale + primitiveUv1Padding;\n        uvs1.push(u, v);\n        if (i < heightSegments && j < capSegments) {\n          first = i * (capSegments + 1) + j;\n          second = i * (capSegments + 1) + (j + 1);\n          third = (i + 1) * (capSegments + 1) + j;\n          fourth = (i + 1) * (capSegments + 1) + (j + 1);\n          indices.push(first, second, third);\n          indices.push(second, fourth, third);\n        }\n      }\n    }\n  }\n  if (roundedCaps) {\n    var lat, lon;\n    var latitudeBands = Math.floor(capSegments / 2);\n    var longitudeBands = capSegments;\n    var capOffset = height / 2;\n    for (lat = 0;lat <= latitudeBands;lat++) {\n      theta = lat * Math.PI * 0.5 / latitudeBands;\n      sinTheta = Math.sin(theta);\n      cosTheta = Math.cos(theta);\n      for (lon = 0;lon <= longitudeBands;lon++) {\n        phi = lon * 2 * Math.PI / longitudeBands - Math.PI / 2.0;\n        sinPhi = Math.sin(phi);\n        cosPhi = Math.cos(phi);\n        x = cosPhi * sinTheta;\n        y = cosTheta;\n        z = sinPhi * sinTheta;\n        u = 1.0 - lon / longitudeBands;\n        v = 1.0 - lat / latitudeBands;\n        positions.push(x * peakRadius, y * peakRadius + capOffset, z * peakRadius);\n        normals.push(x, y, z);\n        uvs.push(u, v);\n        u /= 3;\n        v /= 3;\n        u = u * primitiveUv1PaddingScale + primitiveUv1Padding;\n        v = v * primitiveUv1PaddingScale + primitiveUv1Padding;\n        u += 1.0 / 3;\n        uvs1.push(u, v);\n      }\n    }\n    offset = (heightSegments + 1) * (capSegments + 1);\n    for (lat = 0;lat < latitudeBands;++lat) {\n      for (lon = 0;lon < longitudeBands;++lon) {\n        first = lat * (longitudeBands + 1) + lon;\n        second = first + longitudeBands + 1;\n        indices.push(offset + first + 1, offset + second, offset + first);\n        indices.push(offset + first + 1, offset + second + 1, offset + second);\n      }\n    }\n    for (lat = 0;lat <= latitudeBands;lat++) {\n      theta = Math.PI * 0.5 + lat * Math.PI * 0.5 / latitudeBands;\n      sinTheta = Math.sin(theta);\n      cosTheta = Math.cos(theta);\n      for (lon = 0;lon <= longitudeBands;lon++) {\n        phi = lon * 2 * Math.PI / longitudeBands - Math.PI / 2.0;\n        sinPhi = Math.sin(phi);\n        cosPhi = Math.cos(phi);\n        x = cosPhi * sinTheta;\n        y = cosTheta;\n        z = sinPhi * sinTheta;\n        u = 1.0 - lon / longitudeBands;\n        v = 1.0 - lat / latitudeBands;\n        positions.push(x * peakRadius, y * peakRadius - capOffset, z * peakRadius);\n        normals.push(x, y, z);\n        uvs.push(u, v);\n        u /= 3;\n        v /= 3;\n        u = u * primitiveUv1PaddingScale + primitiveUv1Padding;\n        v = v * primitiveUv1PaddingScale + primitiveUv1Padding;\n        u += 2.0 / 3;\n        uvs1.push(u, v);\n      }\n    }\n    offset = (heightSegments + 1) * (capSegments + 1) + (longitudeBands + 1) * (latitudeBands + 1);\n    for (lat = 0;lat < latitudeBands;++lat) {\n      for (lon = 0;lon < longitudeBands;++lon) {\n        first = lat * (longitudeBands + 1) + lon;\n        second = first + longitudeBands + 1;\n        indices.push(offset + first + 1, offset + second, offset + first);\n        indices.push(offset + first + 1, offset + second + 1, offset + second);\n      }\n    }\n  } else {\n    offset = (heightSegments + 1) * (capSegments + 1);\n    if (baseRadius > 0.0) {\n      for (i = 0;i < capSegments;i++) {\n        theta = i / capSegments * 2.0 * Math.PI;\n        x = Math.sin(theta);\n        y = -height / 2.0;\n        z = Math.cos(theta);\n        u = 1.0 - (x + 1.0) / 2.0;\n        v = (z + 1.0) / 2.0;\n        positions.push(x * baseRadius, y, z * baseRadius);\n        normals.push(0.0, -1.0, 0.0);\n        uvs.push(u, v);\n        u /= 3;\n        v /= 3;\n        u = u * primitiveUv1PaddingScale + primitiveUv1Padding;\n        v = v * primitiveUv1PaddingScale + primitiveUv1Padding;\n        u += 1.0 / 3;\n        uvs1.push(u, v);\n        if (i > 1) {\n          indices.push(offset, offset + i, offset + i - 1);\n        }\n      }\n    }\n    offset += capSegments;\n    if (peakRadius > 0.0) {\n      for (i = 0;i < capSegments;i++) {\n        theta = i / capSegments * 2.0 * Math.PI;\n        x = Math.sin(theta);\n        y = height / 2.0;\n        z = Math.cos(theta);\n        u = 1.0 - (x + 1.0) / 2.0;\n        v = (z + 1.0) / 2.0;\n        positions.push(x * peakRadius, y, z * peakRadius);\n        normals.push(0.0, 1.0, 0.0);\n        uvs.push(u, v);\n        u /= 3;\n        v /= 3;\n        u = u * primitiveUv1PaddingScale + primitiveUv1Padding;\n        v = v * primitiveUv1PaddingScale + primitiveUv1Padding;\n        u += 2.0 / 3;\n        uvs1.push(u, v);\n        if (i > 1) {\n          indices.push(offset, offset + i - 1, offset + i);\n        }\n      }\n    }\n  }\n  return {positions:positions, normals:normals, uvs:uvs, uvs1:uvs1, indices:indices};\n};\npc.createCylinder = function(device, opts) {\n  var radius = opts && (opts.radius || opts.baseRadius);\n  radius = radius !== undefined ? radius : 0.5;\n  var height = opts && opts.height !== undefined ? opts.height : 1.0;\n  var heightSegments = opts && opts.heightSegments !== undefined ? opts.heightSegments : 5;\n  var capSegments = opts && opts.capSegments !== undefined ? opts.capSegments : 20;\n  var calculateTangents = opts && opts.calculateTangents !== undefined ? opts.calculateTangents : false;\n  var options = pc._createConeData(radius, radius, height, heightSegments, capSegments, false);\n  if (calculateTangents) {\n    options.tangents = pc.calculateTangents(options.positions, options.normals, options.uvs, options.indices);\n  }\n  return pc.createMesh(device, options.positions, options);\n};\npc.createCapsule = function(device, opts) {\n  var radius = opts && opts.radius !== undefined ? opts.radius : 0.3;\n  var height = opts && opts.height !== undefined ? opts.height : 1.0;\n  var heightSegments = opts && opts.heightSegments !== undefined ? opts.heightSegments : 1;\n  var sides = opts && opts.sides !== undefined ? opts.sides : 20;\n  var calculateTangents = opts && opts.calculateTangents !== undefined ? opts.calculateTangents : false;\n  var options = pc._createConeData(radius, radius, height - 2 * radius, heightSegments, sides, true);\n  if (calculateTangents) {\n    options.tangents = pc.calculateTangents(options.positions, options.normals, options.uvs, options.indices);\n  }\n  return pc.createMesh(device, options.positions, options);\n};\npc.createCone = function(device, opts) {\n  var baseRadius = opts && opts.baseRadius !== undefined ? opts.baseRadius : 0.5;\n  var peakRadius = opts && opts.peakRadius !== undefined ? opts.peakRadius : 0.0;\n  var height = opts && opts.height !== undefined ? opts.height : 1.0;\n  var heightSegments = opts && opts.heightSegments !== undefined ? opts.heightSegments : 5;\n  var capSegments = opts && opts.capSegments !== undefined ? opts.capSegments : 18;\n  var calculateTangents = opts && opts.calculateTangents !== undefined ? opts.calculateTangents : false;\n  var options = pc._createConeData(baseRadius, peakRadius, height, heightSegments, capSegments, false);\n  if (calculateTangents) {\n    options.tangents = pc.calculateTangents(options.positions, options.normals, options.uvs, options.indices);\n  }\n  return pc.createMesh(device, options.positions, options);\n};\npc.createSphere = function(device, opts) {\n  var radius = opts && opts.radius !== undefined ? opts.radius : 0.5;\n  var latitudeBands = opts && opts.latitudeBands !== undefined ? opts.latitudeBands : 16;\n  var longitudeBands = opts && opts.longitudeBands !== undefined ? opts.longitudeBands : 16;\n  var calculateTangents = opts && opts.calculateTangents !== undefined ? opts.calculateTangents : false;\n  var lon, lat;\n  var theta, sinTheta, cosTheta, phi, sinPhi, cosPhi;\n  var first, second;\n  var x, y, z, u, v;\n  var positions = [];\n  var normals = [];\n  var uvs = [];\n  var indices = [];\n  for (lat = 0;lat <= latitudeBands;lat++) {\n    theta = lat * Math.PI / latitudeBands;\n    sinTheta = Math.sin(theta);\n    cosTheta = Math.cos(theta);\n    for (lon = 0;lon <= longitudeBands;lon++) {\n      phi = lon * 2 * Math.PI / longitudeBands - Math.PI / 2.0;\n      sinPhi = Math.sin(phi);\n      cosPhi = Math.cos(phi);\n      x = cosPhi * sinTheta;\n      y = cosTheta;\n      z = sinPhi * sinTheta;\n      u = 1.0 - lon / longitudeBands;\n      v = 1.0 - lat / latitudeBands;\n      positions.push(x * radius, y * radius, z * radius);\n      normals.push(x, y, z);\n      uvs.push(u, v);\n    }\n  }\n  for (lat = 0;lat < latitudeBands;++lat) {\n    for (lon = 0;lon < longitudeBands;++lon) {\n      first = lat * (longitudeBands + 1) + lon;\n      second = first + longitudeBands + 1;\n      indices.push(first + 1, second, first);\n      indices.push(first + 1, second + 1, second);\n    }\n  }\n  var options = {normals:normals, uvs:uvs, uvs1:uvs, indices:indices};\n  if (calculateTangents) {\n    options.tangents = pc.calculateTangents(positions, normals, uvs, indices);\n  }\n  return pc.createMesh(device, positions, options);\n};\npc.createPlane = function(device, opts) {\n  var he = opts && opts.halfExtents !== undefined ? opts.halfExtents : new pc.Vec2(0.5, 0.5);\n  var ws = opts && opts.widthSegments !== undefined ? opts.widthSegments : 5;\n  var ls = opts && opts.lengthSegments !== undefined ? opts.lengthSegments : 5;\n  var calculateTangents = opts && opts.calculateTangents !== undefined ? opts.calculateTangents : false;\n  var i, j;\n  var x, y, z, u, v;\n  var positions = [];\n  var normals = [];\n  var uvs = [];\n  var indices = [];\n  var vcounter = 0;\n  for (i = 0;i <= ws;i++) {\n    for (j = 0;j <= ls;j++) {\n      x = -he.x + 2.0 * he.x * i / ws;\n      y = 0.0;\n      z = -(-he.y + 2.0 * he.y * j / ls);\n      u = i / ws;\n      v = j / ls;\n      positions.push(x, y, z);\n      normals.push(0.0, 1.0, 0.0);\n      uvs.push(u, v);\n      if (i < ws && j < ls) {\n        indices.push(vcounter + ls + 1, vcounter + 1, vcounter);\n        indices.push(vcounter + ls + 1, vcounter + ls + 2, vcounter + 1);\n      }\n      vcounter++;\n    }\n  }\n  var options = {normals:normals, uvs:uvs, uvs1:uvs, indices:indices};\n  if (calculateTangents) {\n    options.tangents = pc.calculateTangents(positions, normals, uvs, indices);\n  }\n  return pc.createMesh(device, positions, options);\n};\npc.createBox = function(device, opts) {\n  var he = opts && opts.halfExtents !== undefined ? opts.halfExtents : new pc.Vec3(0.5, 0.5, 0.5);\n  var ws = opts && opts.widthSegments !== undefined ? opts.widthSegments : 1;\n  var ls = opts && opts.lengthSegments !== undefined ? opts.lengthSegments : 1;\n  var hs = opts && opts.heightSegments !== undefined ? opts.heightSegments : 1;\n  var calculateTangents = opts && opts.calculateTangents !== undefined ? opts.calculateTangents : false;\n  var corners = [new pc.Vec3(-he.x, -he.y, he.z), new pc.Vec3(he.x, -he.y, he.z), new pc.Vec3(he.x, he.y, he.z), new pc.Vec3(-he.x, he.y, he.z), new pc.Vec3(he.x, -he.y, -he.z), new pc.Vec3(-he.x, -he.y, -he.z), new pc.Vec3(-he.x, he.y, -he.z), new pc.Vec3(he.x, he.y, -he.z)];\n  var faceAxes = [[0, 1, 3], [4, 5, 7], [3, 2, 6], [1, 0, 4], [1, 4, 2], [5, 0, 6]];\n  var faceNormals = [[0, 0, 1], [0, 0, -1], [0, 1, 0], [0, -1, 0], [1, 0, 0], [-1, 0, 0]];\n  var sides = {FRONT:0, BACK:1, TOP:2, BOTTOM:3, RIGHT:4, LEFT:5};\n  var positions = [];\n  var normals = [];\n  var uvs = [];\n  var uvs1 = [];\n  var indices = [];\n  var vcounter = 0;\n  var generateFace = function(side, uSegments, vSegments) {\n    var u, v;\n    var i, j;\n    for (i = 0;i <= uSegments;i++) {\n      for (j = 0;j <= vSegments;j++) {\n        var temp1 = new pc.Vec3;\n        var temp2 = new pc.Vec3;\n        var temp3 = new pc.Vec3;\n        var r = new pc.Vec3;\n        temp1.lerp(corners[faceAxes[side][0]], corners[faceAxes[side][1]], i / uSegments);\n        temp2.lerp(corners[faceAxes[side][0]], corners[faceAxes[side][2]], j / vSegments);\n        temp3.sub2(temp2, corners[faceAxes[side][0]]);\n        r.add2(temp1, temp3);\n        u = i / uSegments;\n        v = j / vSegments;\n        positions.push(r.x, r.y, r.z);\n        normals.push(faceNormals[side][0], faceNormals[side][1], faceNormals[side][2]);\n        uvs.push(u, v);\n        u /= 3;\n        v /= 3;\n        u = u * primitiveUv1PaddingScale + primitiveUv1Padding;\n        v = v * primitiveUv1PaddingScale + primitiveUv1Padding;\n        u += side % 3 / 3;\n        v += Math.floor(side / 3) / 3;\n        uvs1.push(u, v);\n        if (i < uSegments && j < vSegments) {\n          indices.push(vcounter + vSegments + 1, vcounter + 1, vcounter);\n          indices.push(vcounter + vSegments + 1, vcounter + vSegments + 2, vcounter + 1);\n        }\n        vcounter++;\n      }\n    }\n  };\n  generateFace(sides.FRONT, ws, hs);\n  generateFace(sides.BACK, ws, hs);\n  generateFace(sides.TOP, ws, ls);\n  generateFace(sides.BOTTOM, ws, ls);\n  generateFace(sides.RIGHT, ls, hs);\n  generateFace(sides.LEFT, ls, hs);\n  var options = {normals:normals, uvs:uvs, uvs1:uvs1, indices:indices};\n  if (calculateTangents) {\n    options.tangents = pc.calculateTangents(positions, normals, uvs, indices);\n  }\n  return pc.createMesh(device, positions, options);\n};\npc.getDefaultMaterial = function() {\n  return pc.Application.getApplication().scene.defaultMaterial;\n};\nObject.assign(pc, function() {\n  var keyA, keyB, sortPos, sortDir;\n  function sortManual(drawCallA, drawCallB) {\n    return drawCallA.drawOrder - drawCallB.drawOrder;\n  }\n  function sortMaterialMesh(drawCallA, drawCallB) {\n    keyA = drawCallA._key[pc.SORTKEY_FORWARD];\n    keyB = drawCallB._key[pc.SORTKEY_FORWARD];\n    if (keyA === keyB && drawCallA.mesh && drawCallB.mesh) {\n      return drawCallB.mesh.id - drawCallA.mesh.id;\n    }\n    return keyB - keyA;\n  }\n  function sortBackToFront(drawCallA, drawCallB) {\n    return drawCallB.zdist - drawCallA.zdist;\n  }\n  function sortFrontToBack(drawCallA, drawCallB) {\n    return drawCallA.zdist - drawCallB.zdist;\n  }\n  var sortCallbacks = [null, sortManual, sortMaterialMesh, sortBackToFront, sortFrontToBack];\n  function sortCameras(camA, camB) {\n    return camA.priority - camB.priority;\n  }\n  function sortLights(lightA, lightB) {\n    return lightB.key - lightA.key;\n  }\n  var layerCounter = 0;\n  var VisibleInstanceList = function() {\n    this.list = [];\n    this.length = 0;\n    this.done = false;\n  };\n  var InstanceList = function() {\n    this.opaqueMeshInstances = [];\n    this.transparentMeshInstances = [];\n    this.shadowCasters = [];\n    this.visibleOpaque = [];\n    this.visibleTransparent = [];\n  };\n  InstanceList.prototype.clearVisibleLists = function(cameraPass) {\n    if (this.visibleOpaque[cameraPass]) {\n      this.visibleOpaque[cameraPass].length = 0;\n      this.visibleOpaque[cameraPass].list.length = 0;\n    }\n    if (this.visibleTransparent[cameraPass]) {\n      this.visibleTransparent[cameraPass].length = 0;\n      this.visibleTransparent[cameraPass].list.length = 0;\n    }\n  };\n  var Layer = function(options) {\n    options = options || {};\n    if (options.id !== undefined) {\n      this.id = options.id;\n      layerCounter = Math.max(this.id + 1, layerCounter);\n    } else {\n      this.id = layerCounter++;\n    }\n    this.name = options.name;\n    this._enabled = options.enabled === undefined ? true : options.enabled;\n    this._refCounter = this._enabled ? 1 : 0;\n    this.opaqueSortMode = options.opaqueSortMode === undefined ? pc.SORTMODE_MATERIALMESH : options.opaqueSortMode;\n    this.transparentSortMode = options.transparentSortMode === undefined ? pc.SORTMODE_BACK2FRONT : options.transparentSortMode;\n    this.renderTarget = options.renderTarget;\n    this.shaderPass = options.shaderPass === undefined ? pc.SHADER_FORWARD : options.shaderPass;\n    this.passThrough = options.passThrough === undefined ? false : options.passThrough;\n    this.overrideClear = options.overrideClear === undefined ? false : options.overrideClear;\n    this._clearColor = new pc.Color(0, 0, 0, 1);\n    if (options.clearColor) {\n      this._clearColor.copy(options.clearColor);\n    }\n    this._clearColorBuffer = options.clearColorBuffer === undefined ? false : options.clearColorBuffer;\n    this._clearDepthBuffer = options.clearDepthBuffer === undefined ? false : options.clearDepthBuffer;\n    this._clearStencilBuffer = options.clearStencilBuffer === undefined ? false : options.clearStencilBuffer;\n    this._clearOptions = {color:[this._clearColor.r, this._clearColor.g, this._clearColor.b, this._clearColor.a], depth:1, stencil:0, flags:(this._clearColorBuffer ? pc.CLEARFLAG_COLOR : 0) | (this._clearDepthBuffer ? pc.CLEARFLAG_DEPTH : 0) | (this._clearStencilBuffer ? pc.CLEARFLAG_STENCIL : 0)};\n    this.onPreCull = options.onPreCull;\n    this.onPreRender = options.onPreRender;\n    this.onPreRenderOpaque = options.onPreRenderOpaque;\n    this.onPreRenderTransparent = options.onPreRenderTransparent;\n    this.onPostCull = options.onPostCull;\n    this.onPostRender = options.onPostRender;\n    this.onPostRenderOpaque = options.onPostRenderOpaque;\n    this.onPostRenderTransparent = options.onPostRenderTransparent;\n    this.onDrawCall = options.onDrawCall;\n    this.onEnable = options.onEnable;\n    this.onDisable = options.onDisable;\n    if (this._enabled && this.onEnable) {\n      this.onEnable();\n    }\n    this.layerReference = options.layerReference;\n    this.instances = options.layerReference ? options.layerReference.instances : new InstanceList;\n    this.cullingMask = options.cullingMask ? options.cullingMask : 4294967295;\n    this.opaqueMeshInstances = this.instances.opaqueMeshInstances;\n    this.transparentMeshInstances = this.instances.transparentMeshInstances;\n    this.shadowCasters = this.instances.shadowCasters;\n    this.customSortCallback = null;\n    this.customCalculateSortValues = null;\n    this._lightComponents = [];\n    this._lights = [];\n    this._sortedLights = [[], [], []];\n    this.cameras = [];\n    this._dirty = false;\n    this._dirtyLights = false;\n    this._dirtyCameras = false;\n    this._cameraHash = 0;\n    this._lightHash = 0;\n    this._staticLightHash = 0;\n    this._needsStaticPrepare = true;\n    this._staticPrepareDone = false;\n    this._shaderVersion = -1;\n    this._version = 0;\n    this._lightCube = null;\n  };\n  Object.defineProperty(Layer.prototype, \"enabled\", {get:function() {\n    return this._enabled;\n  }, set:function(val) {\n    if (val !== this._enabled) {\n      this._enabled = val;\n      if (val) {\n        this.incrementCounter();\n        if (this.onEnable) {\n          this.onEnable();\n        }\n      } else {\n        this.decrementCounter();\n        if (this.onDisable) {\n          this.onDisable();\n        }\n      }\n    }\n  }});\n  Object.defineProperty(Layer.prototype, \"clearColor\", {get:function() {\n    return this._clearColor;\n  }, set:function(val) {\n    this._clearColor.copy(val);\n  }});\n  Layer.prototype._updateClearFlags = function() {\n    var flags = 0;\n    if (this._clearColorBuffer) {\n      flags |= pc.CLEARFLAG_COLOR;\n    }\n    if (this._clearDepthBuffer) {\n      flags |= pc.CLEARFLAG_DEPTH;\n    }\n    if (this._clearStencilBuffer) {\n      flags |= pc.CLEARFLAG_STENCIL;\n    }\n    this._clearOptions.flags = flags;\n  };\n  Object.defineProperty(Layer.prototype, \"clearColorBuffer\", {get:function() {\n    return this._clearColorBuffer;\n  }, set:function(val) {\n    this._clearColorBuffer = val;\n    this._updateClearFlags();\n  }});\n  Object.defineProperty(Layer.prototype, \"clearDepthBuffer\", {get:function() {\n    return this._clearDepthBuffer;\n  }, set:function(val) {\n    this._clearDepthBuffer = val;\n    this._updateClearFlags();\n  }});\n  Object.defineProperty(Layer.prototype, \"clearStencilBuffer\", {get:function() {\n    return this._clearStencilBuffer;\n  }, set:function(val) {\n    this._clearStencilBuffer = val;\n    this._updateClearFlags();\n  }});\n  Layer.prototype.incrementCounter = function() {\n    if (this._refCounter === 0) {\n      this._enabled = true;\n      if (this.onEnable) {\n        this.onEnable();\n      }\n    }\n    this._refCounter++;\n  };\n  Layer.prototype.decrementCounter = function() {\n    if (this._refCounter === 1) {\n      this._enabled = false;\n      if (this.onDisable) {\n        this.onDisable();\n      }\n    } else {\n      if (this._refCounter === 0) {\n        return;\n      }\n    }\n    this._refCounter--;\n  };\n  Layer.prototype.addMeshInstances = function(meshInstances, skipShadowCasters) {\n    var sceneShaderVer = this._shaderVersion;\n    var m, arr, mat;\n    var casters = this.shadowCasters;\n    for (var i = 0;i < meshInstances.length;i++) {\n      m = meshInstances[i];\n      mat = m.material;\n      if (mat.blendType === pc.BLEND_NONE) {\n        arr = this.opaqueMeshInstances;\n      } else {\n        arr = this.transparentMeshInstances;\n      }\n      if (arr.indexOf(m) < 0) {\n        arr.push(m);\n      }\n      if (!skipShadowCasters && m.castShadow && casters.indexOf(m) < 0) {\n        casters.push(m);\n      }\n      if (!this.passThrough && sceneShaderVer >= 0 && mat._shaderVersion !== sceneShaderVer) {\n        if (mat.updateShader !== pc.Material.prototype.updateShader) {\n          mat.clearVariants();\n          mat.shader = null;\n        }\n        mat._shaderVersion = sceneShaderVer;\n      }\n    }\n    if (!this.passThrough) {\n      this._dirty = true;\n    }\n  };\n  Layer.prototype.removeMeshInstances = function(meshInstances, skipShadowCasters) {\n    var i, j, m, spliceOffset, spliceCount, len, drawCall;\n    var opaque = this.opaqueMeshInstances;\n    var transparent = this.transparentMeshInstances;\n    var casters = this.shadowCasters;\n    for (i = 0;i < meshInstances.length;i++) {\n      m = meshInstances[i];\n      spliceOffset = -1;\n      spliceCount = 0;\n      len = opaque.length;\n      for (j = 0;j < len;j++) {\n        drawCall = opaque[j];\n        if (drawCall === m) {\n          spliceOffset = j;\n          spliceCount = 1;\n          break;\n        }\n        if (drawCall._staticSource === m) {\n          if (spliceOffset < 0) {\n            spliceOffset = j;\n          }\n          spliceCount++;\n        } else {\n          if (spliceOffset >= 0) {\n            break;\n          }\n        }\n      }\n      if (spliceOffset >= 0) {\n        opaque.splice(spliceOffset, spliceCount);\n      }\n      spliceOffset = -1;\n      spliceCount = 0;\n      len = transparent.length;\n      for (j = 0;j < len;j++) {\n        drawCall = transparent[j];\n        if (drawCall === m) {\n          spliceOffset = j;\n          spliceCount = 1;\n          break;\n        }\n        if (drawCall._staticSource === m) {\n          if (spliceOffset < 0) {\n            spliceOffset = j;\n          }\n          spliceCount++;\n        } else {\n          if (spliceOffset >= 0) {\n            break;\n          }\n        }\n      }\n      if (spliceOffset >= 0) {\n        transparent.splice(spliceOffset, spliceCount);\n      }\n      if (skipShadowCasters) {\n        continue;\n      }\n      j = casters.indexOf(m);\n      if (j >= 0) {\n        casters.splice(j, 1);\n      }\n    }\n    this._dirty = true;\n  };\n  Layer.prototype.clearMeshInstances = function(skipShadowCasters) {\n    if (this.opaqueMeshInstances.length === 0 && this.transparentMeshInstances.length === 0) {\n      if (skipShadowCasters || this.shadowCasters.length === 0) {\n        return;\n      }\n    }\n    this.opaqueMeshInstances.length = 0;\n    this.transparentMeshInstances.length = 0;\n    if (!skipShadowCasters) {\n      this.shadowCasters.length = 0;\n    }\n    if (!this.passThrough) {\n      this._dirty = true;\n    }\n  };\n  Layer.prototype.addLight = function(light) {\n    if (this._lightComponents.indexOf(light) >= 0) {\n      return;\n    }\n    this._lightComponents.push(light);\n    this._lights.push(light.light);\n    this._dirtyLights = true;\n    this._generateLightHash();\n  };\n  Layer.prototype.removeLight = function(light) {\n    var id = this._lightComponents.indexOf(light);\n    if (id < 0) {\n      return;\n    }\n    this._lightComponents.splice(id, 1);\n    id = this._lights.indexOf(light.light);\n    this._lights.splice(id, 1);\n    this._dirtyLights = true;\n    this._generateLightHash();\n  };\n  Layer.prototype.clearLights = function() {\n    this._lightComponents.length = 0;\n    this._lights.length = 0;\n    this._dirtyLights = true;\n  };\n  Layer.prototype.addShadowCasters = function(meshInstances) {\n    var m;\n    var arr = this.shadowCasters;\n    for (var i = 0;i < meshInstances.length;i++) {\n      m = meshInstances[i];\n      if (!m.castShadow) {\n        continue;\n      }\n      if (arr.indexOf(m) < 0) {\n        arr.push(m);\n      }\n    }\n    this._dirtyLights = true;\n  };\n  Layer.prototype.removeShadowCasters = function(meshInstances) {\n    var id;\n    var arr = this.shadowCasters;\n    for (var i = 0;i < meshInstances.length;i++) {\n      id = arr.indexOf(meshInstances[i]);\n      if (id >= 0) {\n        arr.splice(id, 1);\n      }\n    }\n    this._dirtyLights = true;\n  };\n  Layer.prototype._generateLightHash = function() {\n    if (this._lights.length > 0) {\n      this._lights.sort(sortLights);\n      var str = \"\";\n      var strStatic = \"\";\n      for (var i = 0;i < this._lights.length;i++) {\n        if (this._lights[i].isStatic) {\n          strStatic += this._lights[i].key;\n        } else {\n          str += this._lights[i].key;\n        }\n      }\n      if (str.length === 0) {\n        this._lightHash = 0;\n      } else {\n        this._lightHash = pc.hashCode(str);\n      }\n      if (strStatic.length === 0) {\n        this._staticLightHash = 0;\n      } else {\n        this._staticLightHash = pc.hashCode(strStatic);\n      }\n    } else {\n      this._lightHash = 0;\n      this._staticLightHash = 0;\n    }\n  };\n  Layer.prototype._generateCameraHash = function() {\n    if (this.cameras.length > 1) {\n      this.cameras.sort(sortCameras);\n      var str = \"\";\n      for (var i = 0;i < this.cameras.length;i++) {\n        str += this.cameras[i].entity.getGuid();\n      }\n      this._cameraHash = pc.hashCode(str);\n    } else {\n      this._cameraHash = 0;\n    }\n    this._dirtyCameras = true;\n  };\n  Layer.prototype.addCamera = function(camera) {\n    if (this.cameras.indexOf(camera) >= 0) {\n      return;\n    }\n    this.cameras.push(camera);\n    this._generateCameraHash();\n  };\n  Layer.prototype.removeCamera = function(camera) {\n    var id = this.cameras.indexOf(camera);\n    if (id < 0) {\n      return;\n    }\n    this.cameras.splice(id, 1);\n    this._generateCameraHash();\n    this.instances.clearVisibleLists(id);\n  };\n  Layer.prototype.clearCameras = function() {\n    this.cameras.length = 0;\n    this._cameraHash = 0;\n    this._dirtyCameras = true;\n  };\n  Layer.prototype._sortCameras = function() {\n    this._generateCameraHash();\n  };\n  Layer.prototype._calculateSortDistances = function(drawCalls, drawCallsCount, camPos, camFwd) {\n    var i, drawCall, meshPos;\n    var tempx, tempy, tempz;\n    for (i = 0;i < drawCallsCount;i++) {\n      drawCall = drawCalls[i];\n      if (drawCall.command) {\n        continue;\n      }\n      if (drawCall.layer <= pc.LAYER_FX) {\n        continue;\n      }\n      meshPos = drawCall.aabb.center;\n      tempx = meshPos.x - camPos.x;\n      tempy = meshPos.y - camPos.y;\n      tempz = meshPos.z - camPos.z;\n      drawCall.zdist = tempx * camFwd.x + tempy * camFwd.y + tempz * camFwd.z;\n    }\n  };\n  Layer.prototype._sortVisible = function(transparent, cameraNode, cameraPass) {\n    var objects = this.instances;\n    var sortMode = transparent ? this.transparentSortMode : this.opaqueSortMode;\n    if (sortMode === pc.SORTMODE_NONE) {\n      return;\n    }\n    var visible = transparent ? objects.visibleTransparent[cameraPass] : objects.visibleOpaque[cameraPass];\n    if (sortMode === pc.SORTMODE_CUSTOM) {\n      sortPos = cameraNode.getPosition();\n      sortDir = cameraNode.forward;\n      if (this.customCalculateSortValues) {\n        this.customCalculateSortValues(visible.list, visible.length, sortPos, sortDir);\n      }\n      if (visible.list.length !== visible.length) {\n        visible.list.length = visible.length;\n      }\n      if (this.customSortCallback) {\n        visible.list.sort(this.customSortCallback);\n      }\n    } else {\n      if (sortMode === pc.SORTMODE_BACK2FRONT || sortMode === pc.SORTMODE_FRONT2BACK) {\n        sortPos = cameraNode.getPosition();\n        sortDir = cameraNode.forward;\n        this._calculateSortDistances(visible.list, visible.length, sortPos, sortDir);\n      }\n      if (visible.list.length !== visible.length) {\n        visible.list.length = visible.length;\n      }\n      visible.list.sort(sortCallbacks[sortMode]);\n    }\n  };\n  return {Layer:Layer, InstanceList:InstanceList, VisibleInstanceList:VisibleInstanceList};\n}());\nObject.assign(pc, function() {\n  var LayerComposition = function() {\n    pc.EventHandler.call(this);\n    this.layerList = [];\n    this.subLayerList = [];\n    this.subLayerEnabled = [];\n    this._opaqueOrder = {};\n    this._transparentOrder = {};\n    this._dirty = false;\n    this._dirtyBlend = false;\n    this._dirtyLights = false;\n    this._dirtyCameras = false;\n    this._meshInstances = [];\n    this._lights = [];\n    this.cameras = [];\n    this._sortedLights = [[], [], []];\n    this._lightShadowCasters = [];\n    this._globalLightCameras = [];\n    this._globalLightCameraIds = [];\n    this._renderedRt = [];\n    this._renderedByCam = [];\n    this._renderedLayer = [];\n    this._renderList = [];\n    this._renderListCamera = [];\n  };\n  LayerComposition.prototype = Object.create(pc.EventHandler.prototype);\n  LayerComposition.prototype.constructor = LayerComposition;\n  LayerComposition.prototype._sortLights = function(target) {\n    var light;\n    var lights = target._lights;\n    target._sortedLights[pc.LIGHTTYPE_DIRECTIONAL].length = 0;\n    target._sortedLights[pc.LIGHTTYPE_POINT].length = 0;\n    target._sortedLights[pc.LIGHTTYPE_SPOT].length = 0;\n    for (var i = 0;i < lights.length;i++) {\n      light = lights[i];\n      if (light._enabled) {\n        target._sortedLights[light._type].push(light);\n      }\n    }\n  };\n  LayerComposition.prototype._update = function() {\n    var i, j, k, l;\n    var layer;\n    var len = this.layerList.length;\n    var result = 0;\n    if (!this._dirty || !this._dirtyLights || !this._dirtyCameras) {\n      for (i = 0;i < len;i++) {\n        layer = this.layerList[i];\n        if (layer._dirty) {\n          this._dirty = true;\n        }\n        if (layer._dirtyLights) {\n          this._dirtyLights = true;\n        }\n        if (layer._dirtyCameras) {\n          this._dirtyCameras = true;\n        }\n      }\n    }\n    var arr;\n    if (this._dirty) {\n      result |= pc.COMPUPDATED_INSTANCES;\n      this._meshInstances.length = 0;\n      var mi;\n      for (i = 0;i < len;i++) {\n        layer = this.layerList[i];\n        if (layer.passThrough) {\n          continue;\n        }\n        arr = layer.opaqueMeshInstances;\n        for (j = 0;j < arr.length;j++) {\n          mi = arr[j];\n          if (this._meshInstances.indexOf(mi) < 0) {\n            this._meshInstances.push(mi);\n            if (mi.material && mi.material._dirtyBlend) {\n              this._dirtyBlend = true;\n              mi.material._dirtyBlend = false;\n            }\n          }\n        }\n        arr = layer.transparentMeshInstances;\n        for (j = 0;j < arr.length;j++) {\n          mi = arr[j];\n          if (this._meshInstances.indexOf(mi) < 0) {\n            this._meshInstances.push(mi);\n            if (mi.material && mi.material._dirtyBlend) {\n              this._dirtyBlend = true;\n              mi.material._dirtyBlend = false;\n            }\n          }\n        }\n      }\n      for (i = 0;i < len;i++) {\n        this.layerList[i]._dirty = false;\n        this.layerList[i]._version++;\n      }\n      this._dirty = false;\n    }\n    if (this._dirtyBlend) {\n      result |= pc.COMPUPDATED_BLEND;\n      var opaqueOld, transparentOld, opaqueNew, transparentNew;\n      for (i = 0;i < len;i++) {\n        layer = this.layerList[i];\n        if (layer.passThrough) {\n          continue;\n        }\n        opaqueOld = layer.opaqueMeshInstances;\n        transparentOld = layer.transparentMeshInstances;\n        opaqueNew = [];\n        transparentNew = [];\n        for (j = 0;j < opaqueOld.length;j++) {\n          if (opaqueOld[j].material && opaqueOld[j].material.blendType !== pc.BLEND_NONE) {\n            transparentNew.push(opaqueOld[j]);\n          } else {\n            opaqueNew.push(opaqueOld[j]);\n          }\n        }\n        for (j = 0;j < transparentOld.length;j++) {\n          if (transparentOld[j].material && transparentOld[j].material.blendType !== pc.BLEND_NONE) {\n            transparentNew.push(transparentOld[j]);\n          } else {\n            opaqueNew.push(transparentOld[j]);\n          }\n        }\n        layer.opaqueMeshInstances.length = opaqueNew.length;\n        for (j = 0;j < opaqueNew.length;j++) {\n          layer.opaqueMeshInstances[j] = opaqueNew[j];\n        }\n        layer.transparentMeshInstances.length = transparentNew.length;\n        for (j = 0;j < transparentNew.length;j++) {\n          layer.transparentMeshInstances[j] = transparentNew[j];\n        }\n      }\n      this._dirtyBlend = false;\n    }\n    var casters, lid, light;\n    if (this._dirtyLights) {\n      result |= pc.COMPUPDATED_LIGHTS;\n      this._lights.length = 0;\n      this._lightShadowCasters.length = 0;\n      for (i = 0;i < len;i++) {\n        layer = this.layerList[i];\n        arr = layer._lights;\n        for (j = 0;j < arr.length;j++) {\n          light = arr[j];\n          lid = this._lights.indexOf(light);\n          if (lid < 0) {\n            this._lights.push(light);\n            lid = this._lights.length - 1;\n          }\n          casters = this._lightShadowCasters[lid];\n          if (!casters) {\n            this._lightShadowCasters[lid] = casters = [];\n          }\n        }\n      }\n      this._sortLights(this);\n      this._dirtyLights = false;\n      for (i = 0;i < len;i++) {\n        layer = this.layerList[i];\n        this._sortLights(layer);\n        layer._dirtyLights = false;\n      }\n    }\n    if (result) {\n      for (i = 0;i < len;i++) {\n        layer = this.layerList[i];\n        arr = layer._lights;\n        for (j = 0;j < arr.length;j++) {\n          light = arr[j];\n          lid = this._lights.indexOf(light);\n          casters = this._lightShadowCasters[lid];\n          var meshInstances = layer.shadowCasters;\n          for (k = 0;k < casters.length;) {\n            if (this._meshInstances.indexOf(casters[k]) < 0) {\n              casters[k] = casters[casters.length - 1];\n              casters.length -= 1;\n            } else {\n              k++;\n            }\n          }\n          for (k = 0;k < meshInstances.length;k++) {\n            if (casters.indexOf(meshInstances[k]) < 0) {\n              casters.push(meshInstances[k]);\n            }\n          }\n        }\n      }\n    }\n    if (result & pc.COMPUPDATED_LIGHTS || this._dirtyCameras) {\n      this._globalLightCameras.length = 0;\n      var globalLights = this._sortedLights[pc.LIGHTTYPE_DIRECTIONAL];\n      for (l = 0;l < globalLights.length;l++) {\n        light = globalLights[l];\n        this._globalLightCameras[l] = [];\n        for (i = 0;i < len;i++) {\n          layer = this.layerList[i];\n          if (layer._sortedLights[pc.LIGHTTYPE_DIRECTIONAL].indexOf(light) < 0) {\n            continue;\n          }\n          for (k = 0;k < layer.cameras.length;k++) {\n            if (this._globalLightCameras[l].indexOf(layer.cameras[k]) >= 0) {\n              continue;\n            }\n            this._globalLightCameras[l].push(layer.cameras[k]);\n          }\n        }\n      }\n    }\n    var camera, index;\n    if (this._dirtyCameras) {\n      result |= pc.COMPUPDATED_CAMERAS;\n      this.cameras.length = 0;\n      for (i = 0;i < len;i++) {\n        layer = this.layerList[i];\n        for (j = 0;j < layer.cameras.length;j++) {\n          camera = layer.cameras[j];\n          index = this.cameras.indexOf(camera);\n          if (index < 0) {\n            index = this.cameras.length;\n            this.cameras.push(camera);\n          }\n        }\n      }\n      this._renderList.length = 0;\n      this._renderListCamera.length = 0;\n      var hash, hash2, groupLength, cam;\n      var skipCount = 0;\n      for (i = 0;i < len;i++) {\n        if (skipCount) {\n          skipCount--;\n          continue;\n        }\n        layer = this.layerList[i];\n        if (layer.cameras.length === 0 && !layer.isPostEffect) {\n          continue;\n        }\n        hash = layer._cameraHash;\n        if (hash === 0) {\n          this._renderList.push(i);\n          this._renderListCamera.push(0);\n        } else {\n          groupLength = 1;\n          for (j = i + 1;j < len;j++) {\n            hash2 = this.layerList[j]._cameraHash;\n            if (hash !== hash2) {\n              groupLength = j - i - 1;\n              break;\n            } else {\n              if (j === len - 1) {\n                groupLength = j - i;\n              }\n            }\n          }\n          if (groupLength === 1) {\n            for (cam = 0;cam < layer.cameras.length;cam++) {\n              this._renderList.push(i);\n              this._renderListCamera.push(cam);\n            }\n          } else {\n            cam = 0;\n            for (cam = 0;cam < layer.cameras.length;cam++) {\n              for (j = 0;j <= groupLength;j++) {\n                this._renderList.push(i + j);\n                this._renderListCamera.push(cam);\n              }\n            }\n            skipCount = groupLength;\n          }\n        }\n      }\n      this._dirtyCameras = false;\n      for (i = 0;i < len;i++) {\n        this.layerList[i]._dirtyCameras = false;\n      }\n    }\n    if (result & pc.COMPUPDATED_LIGHTS || result & pc.COMPUPDATED_CAMERAS) {\n      this._globalLightCameraIds.length = 0;\n      for (l = 0;l < this._globalLightCameras.length;l++) {\n        arr = [];\n        for (i = 0;i < this._globalLightCameras[l].length;i++) {\n          index = this.cameras.indexOf(this._globalLightCameras[l][i]);\n          if (index < 0) {\n            continue;\n          }\n          arr.push(index);\n        }\n        this._globalLightCameraIds.push(arr);\n      }\n    }\n    return result;\n  };\n  LayerComposition.prototype._isLayerAdded = function(layer) {\n    if (this.layerList.indexOf(layer) >= 0) {\n      return true;\n    }\n    return false;\n  };\n  LayerComposition.prototype._isSublayerAdded = function(layer, transparent) {\n    for (var i = 0;i < this.layerList.length;i++) {\n      if (this.layerList[i] === layer && this.subLayerList[i] === transparent) {\n        return true;\n      }\n    }\n    return false;\n  };\n  LayerComposition.prototype.push = function(layer) {\n    if (this._isLayerAdded(layer)) {\n      return;\n    }\n    this.layerList.push(layer);\n    this.layerList.push(layer);\n    this._opaqueOrder[layer.id] = this.subLayerList.push(false) - 1;\n    this._transparentOrder[layer.id] = this.subLayerList.push(true) - 1;\n    this.subLayerEnabled.push(true);\n    this.subLayerEnabled.push(true);\n    this._dirty = true;\n    this._dirtyLights = true;\n    this._dirtyCameras = true;\n    this.fire(\"add\", layer);\n  };\n  LayerComposition.prototype.insert = function(layer, index) {\n    if (this._isLayerAdded(layer)) {\n      return;\n    }\n    this.layerList.splice(index, 0, layer, layer);\n    this.subLayerList.splice(index, 0, false, true);\n    var count = this.layerList.length;\n    this._updateOpaqueOrder(index, count - 1);\n    this._updateTransparentOrder(index, count - 1);\n    this.subLayerEnabled.splice(index, 0, true, true);\n    this._dirty = true;\n    this._dirtyLights = true;\n    this._dirtyCameras = true;\n    this.fire(\"add\", layer);\n  };\n  LayerComposition.prototype.remove = function(layer) {\n    var id = this.layerList.indexOf(layer);\n    delete this._opaqueOrder[id];\n    delete this._transparentOrder[id];\n    while (id >= 0) {\n      this.layerList.splice(id, 1);\n      this.subLayerList.splice(id, 1);\n      this.subLayerEnabled.splice(id, 1);\n      id = this.layerList.indexOf(layer);\n      this._dirty = true;\n      this._dirtyLights = true;\n      this._dirtyCameras = true;\n      this.fire(\"remove\", layer);\n    }\n    var count = this.layerList.length;\n    this._updateOpaqueOrder(0, count - 1);\n    this._updateTransparentOrder(0, count - 1);\n  };\n  LayerComposition.prototype.pushOpaque = function(layer) {\n    if (this._isSublayerAdded(layer, false)) {\n      return;\n    }\n    this.layerList.push(layer);\n    this._opaqueOrder[layer.id] = this.subLayerList.push(false) - 1;\n    this.subLayerEnabled.push(true);\n    this._dirty = true;\n    this._dirtyLights = true;\n    this._dirtyCameras = true;\n    this.fire(\"add\", layer);\n  };\n  LayerComposition.prototype.insertOpaque = function(layer, index) {\n    if (this._isSublayerAdded(layer, false)) {\n      return;\n    }\n    this.layerList.splice(index, 0, layer);\n    this.subLayerList.splice(index, 0, false);\n    var count = this.subLayerList.length;\n    this._updateOpaqueOrder(index, count - 1);\n    this.subLayerEnabled.splice(index, 0, true);\n    this._dirty = true;\n    this._dirtyLights = true;\n    this._dirtyCameras = true;\n    this.fire(\"add\", layer);\n  };\n  LayerComposition.prototype.removeOpaque = function(layer) {\n    for (var i = 0, len = this.layerList.length;i < len;i++) {\n      if (this.layerList[i] === layer && !this.subLayerList[i]) {\n        this.layerList.splice(i, 1);\n        this.subLayerList.splice(i, 1);\n        len--;\n        this._updateOpaqueOrder(i, len - 1);\n        this.subLayerEnabled.splice(i, 1);\n        this._dirty = true;\n        this._dirtyLights = true;\n        this._dirtyCameras = true;\n        if (this.layerList.indexOf(layer) < 0) {\n          this.fire(\"remove\", layer);\n        }\n        return;\n      }\n    }\n  };\n  LayerComposition.prototype.pushTransparent = function(layer) {\n    if (this._isSublayerAdded(layer, true)) {\n      return;\n    }\n    this.layerList.push(layer);\n    this._transparentOrder[layer.id] = this.subLayerList.push(true) - 1;\n    this.subLayerEnabled.push(true);\n    this._dirty = true;\n    this._dirtyLights = true;\n    this._dirtyCameras = true;\n    this.fire(\"add\", layer);\n  };\n  LayerComposition.prototype.insertTransparent = function(layer, index) {\n    if (this._isSublayerAdded(layer, true)) {\n      return;\n    }\n    this.layerList.splice(index, 0, layer);\n    this.subLayerList.splice(index, 0, true);\n    var count = this.subLayerList.length;\n    this._updateTransparentOrder(index, count - 1);\n    this.subLayerEnabled.splice(index, 0, true);\n    this._dirty = true;\n    this._dirtyLights = true;\n    this._dirtyCameras = true;\n    this.fire(\"add\", layer);\n  };\n  LayerComposition.prototype.removeTransparent = function(layer) {\n    for (var i = 0, len = this.layerList.length;i < len;i++) {\n      if (this.layerList[i] === layer && this.subLayerList[i]) {\n        this.layerList.splice(i, 1);\n        this.subLayerList.splice(i, 1);\n        len--;\n        this._updateTransparentOrder(i, len - 1);\n        this.subLayerEnabled.splice(i, 1);\n        this._dirty = true;\n        this._dirtyLights = true;\n        this._dirtyCameras = true;\n        if (this.layerList.indexOf(layer) < 0) {\n          this.fire(\"remove\", layer);\n        }\n        return;\n      }\n    }\n  };\n  LayerComposition.prototype._getSublayerIndex = function(layer, transparent) {\n    var id = this.layerList.indexOf(layer);\n    if (id < 0) {\n      return -1;\n    }\n    if (this.subLayerList[id] !== transparent) {\n      id = this.layerList.indexOf(layer, id + 1);\n      if (id < 0) {\n        return -1;\n      }\n      if (this.subLayerList[id] !== transparent) {\n        return -1;\n      }\n    }\n    return id;\n  };\n  LayerComposition.prototype.getOpaqueIndex = function(layer) {\n    return this._getSublayerIndex(layer, false);\n  };\n  LayerComposition.prototype.getTransparentIndex = function(layer) {\n    return this._getSublayerIndex(layer, true);\n  };\n  LayerComposition.prototype.getLayerById = function(id) {\n    for (var i = 0;i < this.layerList.length;i++) {\n      if (this.layerList[i].id === id) {\n        return this.layerList[i];\n      }\n    }\n    return null;\n  };\n  LayerComposition.prototype.getLayerByName = function(name) {\n    for (var i = 0;i < this.layerList.length;i++) {\n      if (this.layerList[i].name === name) {\n        return this.layerList[i];\n      }\n    }\n    return null;\n  };\n  LayerComposition.prototype._updateOpaqueOrder = function(startIndex, endIndex) {\n    for (var i = startIndex;i <= endIndex;i++) {\n      if (this.subLayerList[i] === false) {\n        this._opaqueOrder[this.layerList[i].id] = i;\n      }\n    }\n  };\n  LayerComposition.prototype._updateTransparentOrder = function(startIndex, endIndex) {\n    for (var i = startIndex;i <= endIndex;i++) {\n      if (this.subLayerList[i] === true) {\n        this._transparentOrder[this.layerList[i].id] = i;\n      }\n    }\n  };\n  LayerComposition.prototype._sortLayersDescending = function(layersA, layersB, order) {\n    var i = 0;\n    var len = 0;\n    var id = 0;\n    var topLayerA = -1;\n    var topLayerB = -1;\n    for (i = 0, len = layersA.length;i < len;i++) {\n      id = layersA[i];\n      if (order.hasOwnProperty(id)) {\n        topLayerA = Math.max(topLayerA, order[id]);\n      }\n    }\n    for (i = 0, len = layersB.length;i < len;i++) {\n      id = layersB[i];\n      if (order.hasOwnProperty(id)) {\n        topLayerB = Math.max(topLayerB, order[id]);\n      }\n    }\n    if (topLayerA === -1 && topLayerB !== -1) {\n      return 1;\n    } else {\n      if (topLayerB === -1 && topLayerA !== -1) {\n        return -1;\n      }\n    }\n    return topLayerB - topLayerA;\n  };\n  LayerComposition.prototype.sortTransparentLayers = function(layersA, layersB) {\n    return this._sortLayersDescending(layersA, layersB, this._transparentOrder);\n  };\n  LayerComposition.prototype.sortOpaqueLayers = function(layersA, layersB) {\n    return this._sortLayersDescending(layersA, layersB, this._opaqueOrder);\n  };\n  return {LayerComposition:LayerComposition};\n}());\nObject.assign(pc, function() {\n  pc.SPRITE_RENDERMODE_SIMPLE = 0;\n  pc.SPRITE_RENDERMODE_SLICED = 1;\n  pc.SPRITE_RENDERMODE_TILED = 2;\n  var spriteNormals = [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1];\n  var spriteIndices = [0, 1, 3, 2, 3, 1];\n  var Sprite = function(device, options) {\n    pc.EventHandler.call(this);\n    this._device = device;\n    this._pixelsPerUnit = options && options.pixelsPerUnit !== undefined ? options.pixelsPerUnit : 1;\n    this._renderMode = options && options.renderMode !== undefined ? options.renderMode : pc.SPRITE_RENDERMODE_SIMPLE;\n    this._atlas = options && options.atlas !== undefined ? options.atlas : null;\n    this._frameKeys = options && options.frameKeys !== undefined ? options.frameKeys : null;\n    this._meshes = [];\n    this._updatingProperties = false;\n    this._meshesDirty = false;\n    if (this._atlas && this._frameKeys) {\n      this._createMeshes();\n    }\n  };\n  Sprite.prototype = Object.create(pc.EventHandler.prototype);\n  Sprite.prototype.constructor = Sprite;\n  Sprite.prototype._createMeshes = function() {\n    var i, len;\n    for (i = 0, len = this._meshes.length;i < len;i++) {\n      var mesh = this._meshes[i];\n      if (!mesh) {\n        continue;\n      }\n      mesh.vertexBuffer.destroy();\n      for (var j = 0, len2 = mesh.indexBuffer.length;j < len2;j++) {\n        mesh.indexBuffer[j].destroy();\n      }\n    }\n    var count = this._frameKeys.length;\n    this._meshes = new Array(count);\n    var createMeshFunc = this.renderMode === pc.SPRITE_RENDERMODE_SLICED || this._renderMode === pc.SPRITE_RENDERMODE_TILED ? this._create9SliceMesh : this._createSimpleMesh;\n    for (i = 0;i < count;i++) {\n      var frame = this._atlas.frames[this._frameKeys[i]];\n      this._meshes[i] = frame ? createMeshFunc.call(this, frame) : null;\n    }\n    this.fire(\"set:meshes\");\n  };\n  Sprite.prototype._createSimpleMesh = function(frame) {\n    var rect = frame.rect;\n    var texWidth = this._atlas.texture.width;\n    var texHeight = this._atlas.texture.height;\n    var w = rect.z / this._pixelsPerUnit;\n    var h = rect.w / this._pixelsPerUnit;\n    var hp = frame.pivot.x;\n    var vp = frame.pivot.y;\n    var positions = [-hp * w, -vp * h, 0, (1 - hp) * w, -vp * h, 0, (1 - hp) * w, (1 - vp) * h, 0, -hp * w, (1 - vp) * h, 0];\n    var lu = rect.x / texWidth;\n    var bv = rect.y / texHeight;\n    var ru = (rect.x + rect.z) / texWidth;\n    var tv = (rect.y + rect.w) / texHeight;\n    var uvs = [lu, bv, ru, bv, ru, tv, lu, tv];\n    var mesh = pc.createMesh(this._device, positions, {uvs:uvs, normals:spriteNormals, indices:spriteIndices});\n    return mesh;\n  };\n  Sprite.prototype._create9SliceMesh = function() {\n    var he = pc.Vec2.ONE;\n    var ws = 3;\n    var ls = 3;\n    var i, j;\n    var x, y, z, u, v;\n    var positions = [];\n    var normals = [];\n    var uvs = [];\n    var indices = [];\n    var vcounter = 0;\n    for (i = 0;i <= ws;i++) {\n      u = i === 0 || i === ws ? 0 : 1;\n      for (j = 0;j <= ls;j++) {\n        x = -he.x + 2.0 * he.x * (i <= 1 ? 0 : 3) / ws;\n        y = 0.0;\n        z = -(-he.y + 2.0 * he.y * (j <= 1 ? 0 : 3) / ls);\n        v = j === 0 || j === ls ? 0 : 1;\n        positions.push(-x, y, z);\n        normals.push(0.0, 1.0, 0.0);\n        uvs.push(u, v);\n        if (i < ws && j < ls) {\n          indices.push(vcounter + ls + 1, vcounter + 1, vcounter);\n          indices.push(vcounter + ls + 1, vcounter + ls + 2, vcounter + 1);\n        }\n        vcounter++;\n      }\n    }\n    var options = {normals:normals, uvs:uvs, indices:indices};\n    return pc.createMesh(this._device, positions, options);\n  };\n  Sprite.prototype._onSetFrames = function(frames) {\n    if (this._updatingProperties) {\n      this._meshesDirty = true;\n    } else {\n      this._createMeshes();\n    }\n  };\n  Sprite.prototype._onFrameChanged = function(frameKey, frame) {\n    var idx = this._frameKeys.indexOf(frameKey);\n    if (idx < 0) {\n      return;\n    }\n    if (frame) {\n      if (this.renderMode === pc.SPRITE_RENDERMODE_SIMPLE) {\n        this._meshes[idx] = this._createSimpleMesh(frame);\n      }\n    } else {\n      this._meshes[idx] = null;\n    }\n    this.fire(\"set:meshes\");\n  };\n  Sprite.prototype._onFrameRemoved = function(frameKey) {\n    var idx = this._frameKeys.indexOf(frameKey);\n    if (idx < 0) {\n      return;\n    }\n    this._meshes[idx] = null;\n    this.fire(\"set:meshes\");\n  };\n  Sprite.prototype.startUpdate = function() {\n    this._updatingProperties = true;\n    this._meshesDirty = false;\n  };\n  Sprite.prototype.endUpdate = function() {\n    this._updatingProperties = false;\n    if (this._meshesDirty && this._atlas && this._frameKeys) {\n      this._createMeshes();\n    }\n    this._meshesDirty = false;\n  };\n  Sprite.prototype.destroy = function() {\n    var i;\n    var len;\n    for (i = 0, len = this._meshes.length;i < len;i++) {\n      var mesh = this._meshes[i];\n      if (!mesh) {\n        continue;\n      }\n      mesh.vertexBuffer.destroy();\n      for (var j = 0, len2 = mesh.indexBuffer.length;j < len2;j++) {\n        mesh.indexBuffer[j].destroy();\n      }\n    }\n    this._meshes.length = 0;\n  };\n  Object.defineProperty(Sprite.prototype, \"frameKeys\", {get:function() {\n    return this._frameKeys;\n  }, set:function(value) {\n    this._frameKeys = value;\n    if (this._atlas && this._frameKeys) {\n      if (this._updatingProperties) {\n        this._meshesDirty = true;\n      } else {\n        this._createMeshes();\n      }\n    }\n    this.fire(\"set:frameKeys\", value);\n  }});\n  Object.defineProperty(Sprite.prototype, \"atlas\", {get:function() {\n    return this._atlas;\n  }, set:function(value) {\n    if (value === this._atlas) {\n      return;\n    }\n    if (this._atlas) {\n      this._atlas.off(\"set:frames\", this._onSetFrames, this);\n      this._atlas.off(\"set:frame\", this._onFrameChanged, this);\n      this._atlas.off(\"remove:frame\", this._onFrameRemoved, this);\n    }\n    this._atlas = value;\n    if (this._atlas && this._frameKeys) {\n      this._atlas.on(\"set:frames\", this._onSetFrames, this);\n      this._atlas.on(\"set:frame\", this._onFrameChanged, this);\n      this._atlas.on(\"remove:frame\", this._onFrameRemoved, this);\n      if (this._updatingProperties) {\n        this._meshesDirty = true;\n      } else {\n        this._createMeshes();\n      }\n    }\n    this.fire(\"set:atlas\", value);\n  }});\n  Object.defineProperty(Sprite.prototype, \"pixelsPerUnit\", {get:function() {\n    return this._pixelsPerUnit;\n  }, set:function(value) {\n    if (this._pixelsPerUnit === value) {\n      return;\n    }\n    this._pixelsPerUnit = value;\n    this.fire(\"set:pixelsPerUnit\", value);\n    if (this._atlas && this._frameKeys && this.renderMode === pc.SPRITE_RENDERMODE_SIMPLE) {\n      if (this._updatingProperties) {\n        this._meshesDirty = true;\n      } else {\n        this._createMeshes();\n      }\n    }\n  }});\n  Object.defineProperty(Sprite.prototype, \"renderMode\", {get:function() {\n    return this._renderMode;\n  }, set:function(value) {\n    if (this._renderMode === value) {\n      return;\n    }\n    var prev = this._renderMode;\n    this._renderMode = value;\n    this.fire(\"set:renderMode\", value);\n    if (prev === pc.SPRITE_RENDERMODE_SIMPLE || value === pc.SPRITE_RENDERMODE_SIMPLE) {\n      if (this._atlas && this._frameKeys) {\n        if (this._updatingProperties) {\n          this._meshesDirty = true;\n        } else {\n          this._createMeshes();\n        }\n      }\n    }\n  }});\n  Object.defineProperty(Sprite.prototype, \"meshes\", {get:function() {\n    return this._meshes;\n  }});\n  return {Sprite:Sprite};\n}());\nObject.assign(pc, function() {\n  var SyncQueue = function() {\n    this._index = [];\n    this._values = [];\n  };\n  SyncQueue.prototype.runSync = function() {\n    for (var i = 0, len = this._values.length;i < len;i++) {\n      this._values[i].syncHierarchy();\n    }\n    this._values.length = 0;\n    this._index.length = 0;\n  };\n  SyncQueue.prototype.erase = function(n) {\n    var idx = this._values.indexOf(n);\n    if (idx >= 0) {\n      this._index.splice(idx, 1);\n      this._values.splice(idx, 1);\n    }\n  };\n  var bs = function(index, s, e, k) {\n    if (s === e) {\n      return s;\n    }\n    var m = Math.floor((s + e) / 2);\n    if (index[m] > k) {\n      return bs(index, s, m, k);\n    } else {\n      if (index[m] < k) {\n        return bs(index, m + 1, e, k);\n      }\n    }\n    return m;\n  };\n  SyncQueue.prototype.push = function(p, v) {\n    var i = bs(this._index, 0, this._index.length, p);\n    this._values.splice(i, 0, v);\n    this._index.splice(i, 0, p);\n  };\n  return {SyncQueue:SyncQueue};\n}());\nObject.assign(pc, function() {\n  var TextureAtlas = function() {\n    pc.EventHandler.call(this);\n    this._texture = null;\n    this._frames = null;\n  };\n  TextureAtlas.prototype = Object.create(pc.EventHandler.prototype);\n  TextureAtlas.prototype.constructor = TextureAtlas;\n  TextureAtlas.prototype.setFrame = function(key, data) {\n    var frame = this._frames[key];\n    if (!frame) {\n      frame = {rect:data.rect.clone(), pivot:data.pivot.clone(), border:data.border.clone()};\n      this._frames[key] = frame;\n    } else {\n      frame.rect.copy(data.rect);\n      frame.pivot.copy(data.pivot);\n      frame.border.copy(data.border);\n    }\n    this.fire(\"set:frame\", key.toString(), frame);\n  };\n  TextureAtlas.prototype.removeFrame = function(key) {\n    var frame = this._frames[key];\n    if (frame) {\n      delete this._frames[key];\n      this.fire(\"remove:frame\", key.toString(), frame);\n    }\n  };\n  TextureAtlas.prototype.destroy = function() {\n    if (this._texture) {\n      this._texture.destroy();\n    }\n  };\n  Object.defineProperty(TextureAtlas.prototype, \"texture\", {get:function() {\n    return this._texture;\n  }, set:function(value) {\n    this._texture = value;\n    this.fire(\"set:texture\", value);\n  }});\n  Object.defineProperty(TextureAtlas.prototype, \"frames\", {get:function() {\n    return this._frames;\n  }, set:function(value) {\n    this._frames = value;\n    this.fire(\"set:frames\", value);\n  }});\n  return {TextureAtlas:TextureAtlas};\n}());\nObject.assign(pc, function() {\n  var StencilParameters = function(options) {\n    this.func = options.func === undefined ? pc.FUNC_ALWAYS : options.func;\n    this.ref = options.ref || 0;\n    this.readMask = options.readMask === undefined ? 255 : options.readMask;\n    this.writeMask = options.writeMask === undefined ? 255 : options.writeMask;\n    this.fail = options.fail || pc.STENCILOP_KEEP;\n    this.zfail = options.zfail || pc.STENCILOP_KEEP;\n    this.zpass = options.zpass || pc.STENCILOP_KEEP;\n  };\n  StencilParameters.prototype.clone = function() {\n    var clone = new pc.StencilParameters({func:this.func, ref:this.ref, readMask:this.readMask, writeMask:this.writeMask, fail:this.fail, zfail:this.zfail, zpass:this.zpass});\n    return clone;\n  };\n  return {StencilParameters:StencilParameters};\n}());\nObject.assign(pc, function() {\n  var Key = function Key(time, position, rotation, scale) {\n    this.time = time;\n    this.position = position;\n    this.rotation = rotation;\n    this.scale = scale;\n  };\n  var Node = function Node() {\n    this._name = \"\";\n    this._keys = [];\n  };\n  var Animation = function Animation() {\n    this.name = \"\";\n    this.duration = 0;\n    this._nodes = [];\n    this._nodeDict = {};\n  };\n  Animation.prototype.getDuration = function() {\n    return this.duration;\n  };\n  Animation.prototype.getName = function() {\n    return this.name;\n  };\n  Animation.prototype.getNode = function(name) {\n    return this._nodeDict[name];\n  };\n  Object.defineProperty(Animation.prototype, \"nodes\", {get:function() {\n    return this._nodes;\n  }});\n  Animation.prototype.getNodes = function() {\n    return this._nodes;\n  };\n  Animation.prototype.setDuration = function(duration) {\n    this.duration = duration;\n  };\n  Animation.prototype.setName = function(name) {\n    this.name = name;\n  };\n  Animation.prototype.addNode = function(node) {\n    this._nodes.push(node);\n    this._nodeDict[node._name] = node;\n  };\n  return {Animation:Animation, Key:Key, Node:Node};\n}());\nObject.assign(pc, function() {\n  function InterpolatedKey() {\n    this._written = false;\n    this._name = \"\";\n    this._keyFrames = [];\n    this._quat = new pc.Quat;\n    this._pos = new pc.Vec3;\n    this._scale = new pc.Vec3;\n    this._targetNode = null;\n  }\n  Object.assign(InterpolatedKey.prototype, {getTarget:function() {\n    return this._targetNode;\n  }, setTarget:function(node) {\n    this._targetNode = node;\n  }});\n  var Skeleton = function Skeleton(graph) {\n    this._animation = null;\n    this._time = 0;\n    this.looping = true;\n    this._interpolatedKeys = [];\n    this._interpolatedKeyDict = {};\n    this._currKeyIndices = {};\n    this.graph = null;\n    var self = this;\n    function addInterpolatedKeys(node) {\n      var interpKey = new InterpolatedKey;\n      interpKey._name = node.name;\n      self._interpolatedKeys.push(interpKey);\n      self._interpolatedKeyDict[node.name] = interpKey;\n      self._currKeyIndices[node.name] = 0;\n      for (var i = 0;i < node._children.length;i++) {\n        addInterpolatedKeys(node._children[i]);\n      }\n    }\n    addInterpolatedKeys(graph);\n  };\n  Skeleton.prototype.addTime = function(delta) {\n    if (this._animation !== null) {\n      var i;\n      var node, nodeName;\n      var keys, interpKey;\n      var k1, k2, alpha;\n      var nodes = this._animation._nodes;\n      var duration = this._animation.duration;\n      if (this._time === duration && !this.looping) {\n        return;\n      }\n      this._time += delta;\n      if (this._time > duration) {\n        this._time = this.looping ? 0.0 : duration;\n        for (i = 0;i < nodes.length;i++) {\n          node = nodes[i];\n          nodeName = node._name;\n          this._currKeyIndices[nodeName] = 0;\n        }\n      } else {\n        if (this._time < 0) {\n          this._time = this.looping ? duration : 0.0;\n          for (i = 0;i < nodes.length;i++) {\n            node = nodes[i];\n            nodeName = node._name;\n            this._currKeyIndices[nodeName] = node._keys.length - 2;\n          }\n        }\n      }\n      var offset = delta >= 0 ? 1 : -1;\n      var foundKey;\n      for (i = 0;i < nodes.length;i++) {\n        node = nodes[i];\n        nodeName = node._name;\n        keys = node._keys;\n        interpKey = this._interpolatedKeyDict[nodeName];\n        if (interpKey === undefined) {\n          continue;\n        }\n        foundKey = false;\n        if (keys.length !== 1) {\n          for (var currKeyIndex = this._currKeyIndices[nodeName];currKeyIndex < keys.length - 1 && currKeyIndex >= 0;currKeyIndex += offset) {\n            k1 = keys[currKeyIndex];\n            k2 = keys[currKeyIndex + 1];\n            if (k1.time <= this._time && k2.time >= this._time) {\n              alpha = (this._time - k1.time) / (k2.time - k1.time);\n              interpKey._pos.lerp(k1.position, k2.position, alpha);\n              interpKey._quat.slerp(k1.rotation, k2.rotation, alpha);\n              interpKey._scale.lerp(k1.scale, k2.scale, alpha);\n              interpKey._written = true;\n              this._currKeyIndices[nodeName] = currKeyIndex;\n              foundKey = true;\n              break;\n            }\n          }\n        }\n        if (keys.length === 1 || !foundKey && this._time === 0.0 && this.looping) {\n          interpKey._pos.copy(keys[0].position);\n          interpKey._quat.copy(keys[0].rotation);\n          interpKey._scale.copy(keys[0].scale);\n          interpKey._written = true;\n        }\n      }\n    }\n  };\n  Skeleton.prototype.blend = function(skel1, skel2, alpha) {\n    var numNodes = this._interpolatedKeys.length;\n    for (var i = 0;i < numNodes;i++) {\n      var key1 = skel1._interpolatedKeys[i];\n      var key2 = skel2._interpolatedKeys[i];\n      var dstKey = this._interpolatedKeys[i];\n      if (key1._written && key2._written) {\n        dstKey._quat.slerp(key1._quat, skel2._interpolatedKeys[i]._quat, alpha);\n        dstKey._pos.lerp(key1._pos, skel2._interpolatedKeys[i]._pos, alpha);\n        dstKey._scale.lerp(key1._scale, key2._scale, alpha);\n        dstKey._written = true;\n      } else {\n        if (key1._written) {\n          dstKey._quat.copy(key1._quat);\n          dstKey._pos.copy(key1._pos);\n          dstKey._scale.copy(key1._scale);\n          dstKey._written = true;\n        } else {\n          if (key2._written) {\n            dstKey._quat.copy(key2._quat);\n            dstKey._pos.copy(key2._pos);\n            dstKey._scale.copy(key2._scale);\n            dstKey._written = true;\n          }\n        }\n      }\n    }\n  };\n  Object.defineProperty(Skeleton.prototype, \"animation\", {get:function() {\n    return this._animation;\n  }, set:function(value) {\n    this._animation = value;\n    this.currentTime = 0;\n  }});\n  Skeleton.prototype.getAnimation = function() {\n    return this._animation;\n  };\n  Object.defineProperty(Skeleton.prototype, \"currentTime\", {get:function() {\n    return this._time;\n  }, set:function(value) {\n    this._time = value;\n    var numNodes = this._interpolatedKeys.length;\n    for (var i = 0;i < numNodes;i++) {\n      var node = this._interpolatedKeys[i];\n      var nodeName = node._name;\n      this._currKeyIndices[nodeName] = 0;\n    }\n    this.addTime(0);\n    this.updateGraph();\n  }});\n  Skeleton.prototype.getCurrentTime = function() {\n    return this._time;\n  };\n  Skeleton.prototype.setCurrentTime = function(time) {\n    this.currentTime = time;\n  };\n  Object.defineProperty(Skeleton.prototype, \"numNodes\", {get:function() {\n    return this._interpolatedKeys.length;\n  }});\n  Skeleton.prototype.getNumNodes = function() {\n    return this._interpolatedKeys.length;\n  };\n  Skeleton.prototype.setAnimation = function(animation) {\n    this.animation = animation;\n  };\n  Skeleton.prototype.setGraph = function(graph) {\n    var i;\n    this.graph = graph;\n    if (graph) {\n      for (i = 0;i < this._interpolatedKeys.length;i++) {\n        var interpKey = this._interpolatedKeys[i];\n        var graphNode = graph.findByName(interpKey._name);\n        this._interpolatedKeys[i].setTarget(graphNode);\n      }\n    } else {\n      for (i = 0;i < this._interpolatedKeys.length;i++) {\n        this._interpolatedKeys[i].setTarget(null);\n      }\n    }\n  };\n  Skeleton.prototype.updateGraph = function() {\n    if (this.graph) {\n      for (var i = 0;i < this._interpolatedKeys.length;i++) {\n        var interpKey = this._interpolatedKeys[i];\n        if (interpKey._written) {\n          var transform = interpKey.getTarget();\n          transform.localPosition.copy(interpKey._pos);\n          transform.localRotation.copy(interpKey._quat);\n          transform.localScale.copy(interpKey._scale);\n          if (!transform._dirtyLocal) {\n            transform._dirtifyLocal();\n          }\n          interpKey._written = false;\n        }\n      }\n    }\n  };\n  Skeleton.prototype.setLooping = function(looping) {\n    this.looping = looping;\n  };\n  Skeleton.prototype.getLooping = function() {\n    return this.looping;\n  };\n  return {Skeleton:Skeleton};\n}());\nObject.assign(pc, function() {\n  function hasAudio() {\n    return typeof Audio !== \"undefined\";\n  }\n  function hasAudioContext() {\n    return !!(typeof AudioContext !== \"undefined\" || typeof webkitAudioContext !== \"undefined\");\n  }\n  var SoundManager = function(options) {\n    pc.EventHandler.call(this);\n    if (hasAudioContext() || options.forceWebAudioApi) {\n      if (typeof AudioContext !== \"undefined\") {\n        this.context = new AudioContext;\n      } else {\n        if (typeof webkitAudioContext !== \"undefined\") {\n          this.context = new webkitAudioContext;\n        }\n      }\n      if (this.context) {\n        var context = this.context;\n        this.resumeContext = function() {\n          this.context.resume();\n          window.removeEventListener(\"mousedown\", this.resumeContext);\n          window.removeEventListener(\"touchend\", this.resumeContext);\n        }.bind(this);\n        window.addEventListener(\"mousedown\", this.resumeContext);\n        window.addEventListener(\"touchend\", this.resumeContext);\n        if (pc.platform.ios) {\n          var unlock = function() {\n            var buffer = context.createBuffer(1, 1, 44100);\n            var source = context.createBufferSource();\n            source.buffer = buffer;\n            source.connect(context.destination);\n            source.start(0);\n            source.disconnect();\n            window.removeEventListener(\"touchend\", unlock);\n          };\n          window.addEventListener(\"touchend\", unlock);\n        }\n      }\n    } else {\n      console.warn(\"No support for 3D audio found\");\n    }\n    if (!hasAudio()) {\n      console.warn(\"No support for 2D audio found\");\n    }\n    this.listener = new pc.Listener(this);\n    this._volume = 1;\n    this.suspended = false;\n  };\n  SoundManager.prototype = Object.create(pc.EventHandler.prototype);\n  SoundManager.prototype.constructor = SoundManager;\n  SoundManager.hasAudio = hasAudio;\n  SoundManager.hasAudioContext = hasAudioContext;\n  Object.assign(SoundManager.prototype, {suspend:function() {\n    this.suspended = true;\n    this.fire(\"suspend\");\n  }, resume:function() {\n    this.suspended = false;\n    this.fire(\"resume\");\n  }, destroy:function() {\n    window.removeEventListener(\"mousedown\", this.resumeContext);\n    window.removeEventListener(\"touchend\", this.resumeContext);\n    this.fire(\"destroy\");\n    if (this.context && this.context.close) {\n      this.context.close();\n      this.context = null;\n    }\n  }, getListener:function() {\n    console.warn('DEPRECATED: getListener is deprecated. Get the \"listener\" field instead.');\n    return this.listener;\n  }, getVolume:function() {\n    console.warn('DEPRECATED: getVolume is deprecated. Get the \"volume\" property instead.');\n    return this.volume;\n  }, setVolume:function(volume) {\n    console.warn('DEPRECATED: setVolume is deprecated. Set the \"volume\" property instead.');\n    this.volume = volume;\n  }, playSound:function(sound, options) {\n    options = options || {};\n    var channel = null;\n    if (pc.Channel) {\n      channel = new pc.Channel(this, sound, options);\n      channel.play();\n    }\n    return channel;\n  }, playSound3d:function(sound, position, options) {\n    options = options || {};\n    var channel = null;\n    if (pc.Channel3d) {\n      channel = new pc.Channel3d(this, sound, options);\n      channel.setPosition(position);\n      if (options.volume) {\n        channel.setVolume(options.volume);\n      }\n      if (options.loop) {\n        channel.setLoop(options.loop);\n      }\n      if (options.maxDistance) {\n        channel.setMaxDistance(options.maxDistance);\n      }\n      if (options.minDistance) {\n        channel.setMinDistance(options.minDistance);\n      }\n      if (options.rollOffFactor) {\n        channel.setRollOffFactor(options.rollOffFactor);\n      }\n      if (options.distanceModel) {\n        channel.setDistanceModel(options.distanceModel);\n      }\n      channel.play();\n    }\n    return channel;\n  }});\n  Object.defineProperty(SoundManager.prototype, \"volume\", {get:function() {\n    return this._volume;\n  }, set:function(volume) {\n    volume = pc.math.clamp(volume, 0, 1);\n    this._volume = volume;\n    this.fire(\"volumechange\", volume);\n  }});\n  pc.AudioManager = SoundManager;\n  return {SoundManager:SoundManager};\n}());\nObject.assign(pc, function() {\n  var Sound = function(resource) {\n    if (resource instanceof Audio) {\n      this.audio = resource;\n    } else {\n      this.buffer = resource;\n    }\n  };\n  Object.defineProperty(Sound.prototype, \"duration\", {get:function() {\n    var duration = 0;\n    if (this.buffer) {\n      duration = this.buffer.duration;\n    } else {\n      if (this.audio) {\n        duration = this.audio.duration;\n      }\n    }\n    return duration || 0;\n  }});\n  return {Sound:Sound};\n}());\nObject.assign(pc, function() {\n  var Listener = function(manager) {\n    this.position = new pc.Vec3;\n    this.velocity = new pc.Vec3;\n    this.orientation = new pc.Mat4;\n    if (pc.AudioManager.hasAudioContext()) {\n      this.listener = manager.context.listener;\n    }\n  };\n  Object.assign(Listener.prototype, {getPosition:function() {\n    return this.position;\n  }, setPosition:function(position) {\n    this.position.copy(position);\n    if (this.listener) {\n      this.listener.setPosition(position.x, position.y, position.z);\n    }\n  }, getVelocity:function() {\n    return this.velocity;\n  }, setVelocity:function(velocity) {\n    this.velocity.copy(velocity);\n    if (this.listener) {\n      this.listener.setPosition(velocity.x, velocity.y, velocity.z);\n    }\n  }, setOrientation:function(orientation) {\n    this.orientation.copy(orientation);\n    if (this.listener) {\n      this.listener.setOrientation(-orientation.data[8], -orientation.data[9], -orientation.data[10], orientation.data[4], orientation.data[5], orientation.data[6]);\n    }\n  }, getOrientation:function() {\n    return this.orientation;\n  }});\n  return {Listener:Listener};\n}());\nObject.assign(pc, function() {\n  var SoundInstance;\n  var STATE_PLAYING = 0;\n  var STATE_PAUSED = 1;\n  var STATE_STOPPED = 2;\n  var capTime = function(time, duration) {\n    return time % duration || 0;\n  };\n  if (pc.SoundManager.hasAudioContext()) {\n    SoundInstance = function(manager, sound, options) {\n      pc.EventHandler.call(this);\n      options = options || {};\n      this._volume = options.volume !== undefined ? pc.math.clamp(Number(options.volume) || 0, 0, 1) : 1;\n      this._pitch = options.pitch !== undefined ? Math.max(0.01, Number(options.pitch) || 0) : 1;\n      this._loop = !!(options.loop !== undefined ? options.loop : false);\n      this._sound = sound;\n      this._state = STATE_STOPPED;\n      this._suspended = false;\n      this._suspendEndEvent = false;\n      this._suspendInstanceEvents = false;\n      this._startTime = Math.max(0, Number(options.startTime) || 0);\n      this._duration = Math.max(0, Number(options.duration) || 0);\n      this._startedAt = 0;\n      this._startOffset = null;\n      this._currentTime = 0;\n      this._currentOffset = 0;\n      this._playWhenLoaded = true;\n      this._manager = manager;\n      this._inputNode = null;\n      this._connectorNode = null;\n      this._firstNode = null;\n      this._lastNode = null;\n      this._initializeNodes();\n      this._onPlayCallback = options.onPlay;\n      this._onPauseCallback = options.onPause;\n      this._onResumeCallback = options.onResume;\n      this._onStopCallback = options.onStop;\n      this._onEndCallback = options.onEnd;\n      this._endedHandler = this._onEnded.bind(this);\n      this.source = null;\n    };\n    SoundInstance.prototype = Object.create(pc.EventHandler.prototype);\n    SoundInstance.prototype.constructor = SoundInstance;\n    Object.assign(SoundInstance.prototype, {_initializeNodes:function() {\n      this.gain = this._manager.context.createGain();\n      this._inputNode = this.gain;\n      this._connectorNode = this.gain;\n      this._connectorNode.connect(this._manager.context.destination);\n    }, play:function() {\n      if (this._state !== STATE_STOPPED) {\n        this.stop();\n      }\n      if (!this.source) {\n        this._createSource();\n      }\n      var offset = capTime(this._startOffset, this.duration);\n      offset = capTime(this._startTime + offset, this._sound.duration);\n      this._startOffset = null;\n      if (this._duration) {\n        this.source.start(0, offset, this._duration);\n      } else {\n        this.source.start(0, offset);\n      }\n      this._startedAt = this._manager.context.currentTime;\n      this._currentTime = 0;\n      this._currentOffset = offset;\n      this._state = STATE_PLAYING;\n      this._playWhenLoaded = false;\n      this.volume = this._volume;\n      this.loop = this._loop;\n      this.pitch = this._pitch;\n      this._manager.on(\"volumechange\", this._onManagerVolumeChange, this);\n      this._manager.on(\"suspend\", this._onManagerSuspend, this);\n      this._manager.on(\"resume\", this._onManagerResume, this);\n      this._manager.on(\"destroy\", this._onManagerDestroy, this);\n      if (this._manager.suspended) {\n        this._onManagerSuspend();\n      }\n      if (!this._suspendInstanceEvents) {\n        this._onPlay();\n      }\n      return true;\n    }, pause:function() {\n      if (this._state !== STATE_PLAYING || !this.source) {\n        return false;\n      }\n      this._updateCurrentTime();\n      this._state = STATE_PAUSED;\n      this._suspendEndEvent = true;\n      this.source.stop(0);\n      this.source = null;\n      this._playWhenLoaded = false;\n      this._startOffset = null;\n      if (!this._suspendInstanceEvents) {\n        this._onPause();\n      }\n      return true;\n    }, resume:function() {\n      if (this._state !== STATE_PAUSED) {\n        return false;\n      }\n      if (!this.source) {\n        this._createSource();\n      }\n      var offset = this.currentTime;\n      if (this._startOffset !== null) {\n        offset = capTime(this._startOffset, this.duration);\n        offset = capTime(this._startTime + offset, this._sound.duration);\n        this._startOffset = null;\n      }\n      if (this._duration) {\n        this.source.start(0, offset, this._duration);\n      } else {\n        this.source.start(0, offset);\n      }\n      this._state = STATE_PLAYING;\n      this._startedAt = this._manager.context.currentTime;\n      this._currentOffset = offset;\n      this.volume = this._volume;\n      this.loop = this._loop;\n      this.pitch = this._pitch;\n      this._playWhenLoaded = false;\n      if (!this._suspendInstanceEvents) {\n        this._onResume();\n      }\n      return true;\n    }, stop:function() {\n      if (this._state === STATE_STOPPED || !this.source) {\n        return false;\n      }\n      this._manager.off(\"volumechange\", this._onManagerVolumeChange, this);\n      this._manager.off(\"suspend\", this._onManagerSuspend, this);\n      this._manager.off(\"resume\", this._onManagerResume, this);\n      this._manager.off(\"destroy\", this._onManagerDestroy, this);\n      this._startedAt = 0;\n      this._currentTime = 0;\n      this._currentOffset = 0;\n      this._startOffset = null;\n      this._playWhenLoaded = false;\n      this._suspendEndEvent = true;\n      if (this._state === STATE_PLAYING) {\n        this.source.stop(0);\n      }\n      this.source = null;\n      this._state = STATE_STOPPED;\n      if (!this._suspendInstanceEvents) {\n        this._onStop();\n      }\n      return true;\n    }, setExternalNodes:function(firstNode, lastNode) {\n      if (!firstNode) {\n        console.error(\"The firstNode must be a valid Audio Node\");\n        return;\n      }\n      if (!lastNode) {\n        lastNode = firstNode;\n      }\n      var speakers = this._manager.context.destination;\n      if (this._firstNode !== firstNode) {\n        if (this._firstNode) {\n          this._connectorNode.disconnect(this._firstNode);\n        } else {\n          this._connectorNode.disconnect(speakers);\n        }\n        this._firstNode = firstNode;\n        this._connectorNode.connect(firstNode);\n      }\n      if (this._lastNode !== lastNode) {\n        if (this._lastNode) {\n          this._lastNode.disconnect(speakers);\n        }\n        this._lastNode = lastNode;\n        this._lastNode.connect(speakers);\n      }\n    }, clearExternalNodes:function() {\n      var speakers = this._manager.context.destination;\n      if (this._firstNode) {\n        this._connectorNode.disconnect(this._firstNode);\n        this._firstNode = null;\n      }\n      if (this._lastNode) {\n        this._lastNode.disconnect(speakers);\n        this._lastNode = null;\n      }\n      this._connectorNode.connect(speakers);\n    }, getExternalNodes:function() {\n      return [this._firstNode, this._lastNode];\n    }, _createSource:function() {\n      if (!this._sound) {\n        return null;\n      }\n      var context = this._manager.context;\n      if (this._sound.buffer) {\n        this.source = context.createBufferSource();\n        this.source.buffer = this._sound.buffer;\n        this.source.connect(this._inputNode);\n        this.source.onended = this._endedHandler;\n        this.source.loopStart = capTime(this._startTime, this.source.buffer.duration);\n        if (this._duration) {\n          this.source.loopEnd = Math.max(this.source.loopStart, capTime(this._startTime + this._duration, this.source.buffer.duration));\n        }\n      }\n      return this.source;\n    }, _updateCurrentTime:function() {\n      this._currentTime = capTime((this._manager.context.currentTime - this._startedAt) * this._pitch + this._currentOffset, this.duration);\n    }, _onManagerDestroy:function() {\n      if (this.source && this._state === STATE_PLAYING) {\n        this.source.stop(0);\n        this.source = null;\n      }\n    }});\n    Object.defineProperty(SoundInstance.prototype, \"volume\", {get:function() {\n      return this._volume;\n    }, set:function(volume) {\n      volume = pc.math.clamp(volume, 0, 1);\n      this._volume = volume;\n      if (this.gain) {\n        this.gain.gain.value = volume * this._manager.volume;\n      }\n    }});\n    Object.defineProperty(SoundInstance.prototype, \"pitch\", {get:function() {\n      return this._pitch;\n    }, set:function(pitch) {\n      this._currentOffset = this.currentTime;\n      this._startedAt = this._manager.context.currentTime;\n      this._pitch = Math.max(Number(pitch) || 0, 0.01);\n      if (this.source) {\n        this.source.playbackRate.value = this._pitch;\n      }\n    }});\n    Object.defineProperty(SoundInstance.prototype, \"loop\", {get:function() {\n      return this._loop;\n    }, set:function(loop) {\n      this._loop = !!loop;\n      if (this.source) {\n        this.source.loop = this._loop;\n      }\n    }});\n    Object.defineProperty(SoundInstance.prototype, \"sound\", {get:function() {\n      return this._sound;\n    }, set:function(value) {\n      this._sound = value;\n      if (this._state !== STATE_STOPPED) {\n        this.stop();\n      } else {\n        this._createSource();\n      }\n    }});\n    Object.defineProperty(SoundInstance.prototype, \"currentTime\", {get:function() {\n      if (this._startOffset !== null) {\n        return this._startOffset;\n      }\n      if (this._state === STATE_PAUSED) {\n        return this._currentTime;\n      }\n      if (this._state === STATE_STOPPED || !this.source) {\n        return 0;\n      }\n      this._updateCurrentTime();\n      return this._currentTime;\n    }, set:function(value) {\n      if (value < 0) {\n        return;\n      }\n      if (this._state === STATE_PLAYING) {\n        this.stop();\n        var suspend = this._suspendInstanceEvents;\n        this._suspendInstanceEvents = true;\n        this._startOffset = value;\n        this.play();\n        this._suspendInstanceEvents = suspend;\n      } else {\n        this._startOffset = value;\n        this._currentTime = value;\n      }\n    }});\n  } else {\n    if (pc.SoundManager.hasAudio()) {\n      SoundInstance = function(manager, resource, options) {\n        pc.EventHandler.call(this);\n        options = options || {};\n        this._volume = options.volume !== undefined ? pc.math.clamp(Number(options.volume) || 0, 0, 1) : 1;\n        this._pitch = options.pitch !== undefined ? Math.max(0.01, Number(options.pitch) || 0) : 1;\n        this._loop = !!(options.loop !== undefined ? options.loop : false);\n        this._sound = resource;\n        this._state = STATE_STOPPED;\n        this._suspended = false;\n        this._suspendEndEvent = false;\n        this._suspendInstanceEvents = false;\n        this._playWhenLoaded = true;\n        this._startTime = Math.max(0, Number(options.startTime) || 0);\n        this._duration = Math.max(0, Number(options.duration) || 0);\n        this._startOffset = null;\n        this._isReady = false;\n        this._manager = manager;\n        this._loadedMetadataHandler = this._onLoadedMetadata.bind(this);\n        this._timeUpdateHandler = this._onTimeUpdate.bind(this);\n        this._endedHandler = this._onEnded.bind(this);\n        this._onPlayCallback = options.onPlay;\n        this._onPauseCallback = options.onPause;\n        this._onResumeCallback = options.onResume;\n        this._onStopCallback = options.onStop;\n        this._onEndCallback = options.onEnd;\n        this.source = null;\n        this._createSource();\n      };\n      SoundInstance.prototype = Object.create(pc.EventHandler.prototype);\n      SoundInstance.prototype.constructor = SoundInstance;\n      Object.assign(SoundInstance.prototype, {play:function() {\n        if (this._state !== STATE_STOPPED) {\n          this.stop();\n        }\n        if (!this.source) {\n          if (!this._createSource()) {\n            return false;\n          }\n        }\n        this.volume = this._volume;\n        this.pitch = this._pitch;\n        this.loop = this._loop;\n        this.source.play();\n        this._state = STATE_PLAYING;\n        this._playWhenLoaded = false;\n        this._manager.on(\"volumechange\", this._onManagerVolumeChange, this);\n        this._manager.on(\"suspend\", this._onManagerSuspend, this);\n        this._manager.on(\"resume\", this._onManagerResume, this);\n        this._manager.on(\"destroy\", this._onManagerDestroy, this);\n        if (this._manager.suspended) {\n          this._onManagerSuspend();\n        }\n        if (!this._suspendInstanceEvents) {\n          this._onPlay();\n        }\n        return true;\n      }, pause:function() {\n        if (!this.source || this._state !== STATE_PLAYING) {\n          return false;\n        }\n        this._suspendEndEvent = true;\n        this.source.pause();\n        this._playWhenLoaded = false;\n        this._state = STATE_PAUSED;\n        this._startOffset = null;\n        if (!this._suspendInstanceEvents) {\n          this._onPause();\n        }\n        return true;\n      }, resume:function() {\n        if (!this.source || this._state !== STATE_PAUSED) {\n          return false;\n        }\n        this._state = STATE_PLAYING;\n        this._playWhenLoaded = false;\n        if (this.source.paused) {\n          this.source.play();\n          if (!this._suspendInstanceEvents) {\n            this._onResume();\n          }\n        }\n        return true;\n      }, stop:function() {\n        if (!this.source || this._state === STATE_STOPPED) {\n          return false;\n        }\n        this._manager.off(\"volumechange\", this._onManagerVolumeChange, this);\n        this._manager.off(\"suspend\", this._onManagerSuspend, this);\n        this._manager.off(\"resume\", this._onManagerResume, this);\n        this._manager.off(\"destroy\", this._onManagerDestroy, this);\n        this._suspendEndEvent = true;\n        this.source.pause();\n        this._playWhenLoaded = false;\n        this._state = STATE_STOPPED;\n        this._startOffset = null;\n        if (!this._suspendInstanceEvents) {\n          this._onStop();\n        }\n        return true;\n      }, setExternalNodes:function() {\n      }, clearExternalNodes:function() {\n      }, getExternalNodes:function() {\n        return [null, null];\n      }, _onLoadedMetadata:function() {\n        this.source.removeEventListener(\"loadedmetadata\", this._loadedMetadataHandler);\n        this._isReady = true;\n        var offset = capTime(this._startOffset, this.duration);\n        offset = capTime(this._startTime + offset, this._sound.duration);\n        this._startOffset = null;\n        this.source.currentTime = offset;\n      }, _createSource:function() {\n        if (this._sound && this._sound.audio) {\n          this._isReady = false;\n          this.source = this._sound.audio.cloneNode(true);\n          this.source.addEventListener(\"loadedmetadata\", this._loadedMetadataHandler);\n          this.source.addEventListener(\"timeupdate\", this._timeUpdateHandler);\n          this.source.onended = this._endedHandler;\n        }\n        return this.source;\n      }, _onTimeUpdate:function() {\n        if (!this._duration) {\n          return;\n        }\n        if (this.source.currentTime > capTime(this._startTime + this._duration, this.source.duration)) {\n          if (this.loop) {\n            this.source.currentTime = capTime(this._startTime, this.source.duration);\n          } else {\n            this.source.removeEventListener(\"timeupdate\", this._timeUpdateHandler);\n            this.source.pause();\n            this._onEnded();\n          }\n        }\n      }, _onManagerDestroy:function() {\n        if (this.source) {\n          this.source.pause();\n        }\n      }});\n      Object.defineProperty(SoundInstance.prototype, \"volume\", {get:function() {\n        return this._volume;\n      }, set:function(volume) {\n        volume = pc.math.clamp(volume, 0, 1);\n        this._volume = volume;\n        if (this.source) {\n          this.source.volume = volume * this._manager.volume;\n        }\n      }});\n      Object.defineProperty(SoundInstance.prototype, \"pitch\", {get:function() {\n        return this._pitch;\n      }, set:function(pitch) {\n        this._pitch = Math.max(Number(pitch) || 0, 0.01);\n        if (this.source) {\n          this.source.playbackRate = this._pitch;\n        }\n      }});\n      Object.defineProperty(SoundInstance.prototype, \"loop\", {get:function() {\n        return this._loop;\n      }, set:function(loop) {\n        this._loop = !!loop;\n        if (this.source) {\n          this.source.loop = this._loop;\n        }\n      }});\n      Object.defineProperty(SoundInstance.prototype, \"sound\", {get:function() {\n        return this._sound;\n      }, set:function(value) {\n        this.stop();\n        this._sound = value;\n      }});\n      Object.defineProperty(SoundInstance.prototype, \"currentTime\", {get:function() {\n        if (this._startOffset !== null) {\n          return this._startOffset;\n        }\n        if (this._state === STATE_STOPPED || !this.source) {\n          return 0;\n        }\n        return this.source.currentTime - this._startTime;\n      }, set:function(value) {\n        if (value < 0) {\n          return;\n        }\n        this._startOffset = value;\n        if (this.source && this._isReady) {\n          this.source.currentTime = capTime(this._startTime + capTime(value, this.duration), this._sound.duration);\n          this._startOffset = null;\n        }\n      }});\n    } else {\n      SoundInstance = function() {\n      };\n    }\n  }\n  Object.assign(SoundInstance.prototype, {_onPlay:function() {\n    this.fire(\"play\");\n    if (this._onPlayCallback) {\n      this._onPlayCallback(this);\n    }\n  }, _onPause:function() {\n    this.fire(\"pause\");\n    if (this._onPauseCallback) {\n      this._onPauseCallback(this);\n    }\n  }, _onResume:function() {\n    this.fire(\"resume\");\n    if (this._onResumeCallback) {\n      this._onResumeCallback(this);\n    }\n  }, _onStop:function() {\n    this.fire(\"stop\");\n    if (this._onStopCallback) {\n      this._onStopCallback(this);\n    }\n  }, _onEnded:function() {\n    if (this._suspendEndEvent) {\n      this._suspendEndEvent = false;\n      return;\n    }\n    this.fire(\"end\");\n    if (this._onEndCallback) {\n      this._onEndCallback(this);\n    }\n    this.stop();\n  }, _onManagerVolumeChange:function() {\n    this.volume = this._volume;\n  }, _onManagerSuspend:function() {\n    if (this._state === STATE_PLAYING && !this._suspended) {\n      this._suspended = true;\n      this.pause();\n    }\n  }, _onManagerResume:function() {\n    if (this._suspended) {\n      this._suspended = false;\n      this.resume();\n    }\n  }});\n  Object.defineProperty(SoundInstance.prototype, \"startTime\", {get:function() {\n    return this._startTime;\n  }, set:function(value) {\n    this._startTime = Math.max(0, Number(value) || 0);\n    var isPlaying = this._state === STATE_PLAYING;\n    this.stop();\n    if (isPlaying) {\n      this.play();\n    }\n  }});\n  Object.defineProperty(SoundInstance.prototype, \"duration\", {get:function() {\n    if (!this._sound) {\n      return 0;\n    }\n    if (this._duration) {\n      return capTime(this._duration, this._sound.duration);\n    }\n    return this._sound.duration;\n  }, set:function(value) {\n    this._duration = Math.max(0, Number(value) || 0);\n    var isPlaying = this._state === STATE_PLAYING;\n    this.stop();\n    if (isPlaying) {\n      this.play();\n    }\n  }});\n  Object.defineProperty(SoundInstance.prototype, \"isPlaying\", {get:function() {\n    return this._state === STATE_PLAYING;\n  }});\n  Object.defineProperty(SoundInstance.prototype, \"isPaused\", {get:function() {\n    return this._state === STATE_PAUSED;\n  }});\n  Object.defineProperty(SoundInstance.prototype, \"isStopped\", {get:function() {\n    return this._state === STATE_STOPPED;\n  }});\n  Object.defineProperty(SoundInstance.prototype, \"isSuspended\", {get:function() {\n    return this._suspended;\n  }});\n  return {SoundInstance:SoundInstance};\n}());\nObject.assign(pc, function() {\n  var MAX_DISTANCE = 10000;\n  var SoundInstance3d;\n  if (pc.SoundManager.hasAudioContext()) {\n    SoundInstance3d = function(manager, sound, options) {\n      pc.SoundInstance.call(this, manager, sound, options);\n      options = options || {};\n      this._position = new pc.Vec3;\n      if (options.position) {\n        this.position = options.position;\n      }\n      this._velocity = new pc.Vec3;\n      if (options.velocity) {\n        this.velocity = options.velocity;\n      }\n      this.maxDistance = options.maxDistance !== undefined ? Number(options.maxDistance) : MAX_DISTANCE;\n      this.refDistance = options.refDistance !== undefined ? Number(options.refDistance) : 1;\n      this.rollOffFactor = options.rollOffFactor !== undefined ? Number(options.rollOffFactor) : 1;\n      this.distanceModel = options.distanceModel !== undefined ? options.distanceModel : pc.DISTANCE_LINEAR;\n    };\n    SoundInstance3d.prototype = Object.create(pc.SoundInstance.prototype);\n    SoundInstance3d.prototype.constructor = SoundInstance3d;\n    Object.assign(SoundInstance3d.prototype, {_initializeNodes:function() {\n      this.gain = this._manager.context.createGain();\n      this.panner = this._manager.context.createPanner();\n      this.panner.connect(this.gain);\n      this._inputNode = this.panner;\n      this._connectorNode = this.gain;\n      this._connectorNode.connect(this._manager.context.destination);\n    }});\n    Object.defineProperty(SoundInstance3d.prototype, \"position\", {get:function() {\n      return this._position;\n    }, set:function(position) {\n      this._position.copy(position);\n      this.panner.setPosition(position.x, position.y, position.z);\n    }});\n    Object.defineProperty(SoundInstance3d.prototype, \"velocity\", {get:function() {\n      return this._velocity;\n    }, set:function(velocity) {\n      this._velocity.copy(velocity);\n      this.panner.setVelocity(velocity.x, velocity.y, velocity.z);\n    }});\n    Object.defineProperty(SoundInstance3d.prototype, \"maxDistance\", {get:function() {\n      return this.panner.maxDistance;\n    }, set:function(value) {\n      this.panner.maxDistance = value;\n    }});\n    Object.defineProperty(SoundInstance3d.prototype, \"refDistance\", {get:function() {\n      return this.panner.refDistance;\n    }, set:function(value) {\n      this.panner.refDistance = value;\n    }});\n    Object.defineProperty(SoundInstance3d.prototype, \"rollOffFactor\", {get:function() {\n      return this.panner.rolloffFactor;\n    }, set:function(value) {\n      this.panner.rolloffFactor = value;\n    }});\n    Object.defineProperty(SoundInstance3d.prototype, \"distanceModel\", {get:function() {\n      return this.panner.distanceModel;\n    }, set:function(value) {\n      this.panner.distanceModel = value;\n    }});\n  } else {\n    if (pc.SoundManager.hasAudio()) {\n      var offset = new pc.Vec3;\n      var fallOff = function(posOne, posTwo, refDistance, maxDistance, rollOffFactor, distanceModel) {\n        offset = offset.sub2(posOne, posTwo);\n        var distance = offset.length();\n        if (distance < refDistance) {\n          return 1;\n        } else {\n          if (distance > maxDistance) {\n            return 0;\n          }\n        }\n        var result = 0;\n        if (distanceModel === pc.DISTANCE_LINEAR) {\n          result = 1 - rollOffFactor * (distance - refDistance) / (maxDistance - refDistance);\n        } else {\n          if (distanceModel === pc.DISTANCE_INVERSE) {\n            result = refDistance / (refDistance + rollOffFactor * (distance - refDistance));\n          } else {\n            if (distanceModel === pc.DISTANCE_EXPONENTIAL) {\n              result = Math.pow(distance / refDistance, -rollOffFactor);\n            }\n          }\n        }\n        return pc.math.clamp(result, 0, 1);\n      };\n      SoundInstance3d = function(manager, sound, options) {\n        pc.SoundInstance.call(this, manager, sound, options);\n        options = options || {};\n        this._position = new pc.Vec3;\n        if (options.position) {\n          this.position = options.position;\n        }\n        this._velocity = new pc.Vec3;\n        if (options.velocity) {\n          this.velocity = options.velocity;\n        }\n        this._maxDistance = options.maxDistance !== undefined ? Number(options.maxDistance) : MAX_DISTANCE;\n        this._refDistance = options.refDistance !== undefined ? Number(options.refDistance) : 1;\n        this._rollOffFactor = options.rollOffFactor !== undefined ? Number(options.rollOffFactor) : 1;\n        this._distanceModel = options.distanceModel !== undefined ? options.distanceModel : pc.DISTANCE_LINEAR;\n      };\n      SoundInstance3d.prototype = Object.create(pc.SoundInstance.prototype);\n      SoundInstance3d.prototype.constructor = SoundInstance3d;\n      Object.defineProperty(SoundInstance3d.prototype, \"position\", {get:function() {\n        return this._position;\n      }, set:function(position) {\n        this._position.copy(position);\n        if (this.source) {\n          var listener = this._manager.listener;\n          var lpos = listener.getPosition();\n          var factor = fallOff(lpos, this._position, this.refDistance, this.maxDistance, this.rollOffFactor, this.distanceModel);\n          var v = this.volume;\n          this.source.volume = v * factor * this._manager.volume;\n        }\n      }});\n      Object.defineProperty(SoundInstance3d.prototype, \"velocity\", {get:function() {\n        return this._velocity;\n      }, set:function(velocity) {\n        this._velocity.copy(velocity);\n      }});\n      Object.defineProperty(SoundInstance3d.prototype, \"maxDistance\", {get:function() {\n        return this._maxDistance;\n      }, set:function(value) {\n        this._maxDistance = value;\n      }});\n      Object.defineProperty(SoundInstance3d.prototype, \"refDistance\", {get:function() {\n        return this._refDistance;\n      }, set:function(value) {\n        this._refDistance = value;\n      }});\n      Object.defineProperty(SoundInstance3d.prototype, \"rollOffFactor\", {get:function() {\n        return this._rollOffFactor;\n      }, set:function(value) {\n        this._rollOffFactor = value;\n      }});\n      Object.defineProperty(SoundInstance3d.prototype, \"distanceModel\", {get:function() {\n        return this._distanceModel;\n      }, set:function(value) {\n        this._distanceModel = value;\n      }});\n    } else {\n      SoundInstance3d = function() {\n      };\n    }\n  }\n  return {SoundInstance3d:SoundInstance3d};\n}());\nObject.assign(pc, function() {\n  var Channel;\n  if (pc.AudioManager.hasAudioContext()) {\n    Channel = function(manager, sound, options) {\n      options = options || {};\n      this.volume = options.volume === undefined ? 1 : options.volume;\n      this.loop = options.loop === undefined ? false : options.loop;\n      this.pitch = options.pitch === undefined ? 1 : options.pitch;\n      this.sound = sound;\n      this.paused = false;\n      this.suspended = false;\n      this.startTime = 0;\n      this.startOffset = 0;\n      this.manager = manager;\n      this.source = null;\n      var context = manager.context;\n      this.gain = context.createGain();\n    };\n    Object.assign(Channel.prototype, {play:function() {\n      if (this.source) {\n        throw new Error(\"Call stop() before calling play()\");\n      }\n      this._createSource();\n      if (!this.source) {\n        return;\n      }\n      this.startTime = this.manager.context.currentTime;\n      this.source.start(0, this.startOffset % this.source.buffer.duration);\n      this.setVolume(this.volume);\n      this.setLoop(this.loop);\n      this.setPitch(this.pitch);\n      this.manager.on(\"volumechange\", this.onManagerVolumeChange, this);\n      this.manager.on(\"suspend\", this.onManagerSuspend, this);\n      this.manager.on(\"resume\", this.onManagerResume, this);\n      if (this.manager.suspended) {\n        this.onManagerSuspend();\n      }\n    }, pause:function() {\n      if (this.source) {\n        this.paused = true;\n        this.startOffset += this.manager.context.currentTime - this.startTime;\n        this.source.stop(0);\n        this.source = null;\n      }\n    }, unpause:function() {\n      if (this.source || !this.paused) {\n        console.warn(\"Call pause() before unpausing.\");\n        return;\n      }\n      this._createSource();\n      if (!this.source) {\n        return;\n      }\n      this.startTime = this.manager.context.currentTime;\n      this.source.start(0, this.startOffset % this.source.buffer.duration);\n      this.setVolume(this.volume);\n      this.setLoop(this.loop);\n      this.setPitch(this.pitch);\n      this.paused = false;\n    }, stop:function() {\n      if (this.source) {\n        this.source.stop(0);\n        this.source = null;\n      }\n      this.manager.off(\"volumechange\", this.onManagerVolumeChange, this);\n      this.manager.off(\"suspend\", this.onManagerSuspend, this);\n      this.manager.off(\"resume\", this.onManagerResume, this);\n    }, setLoop:function(loop) {\n      this.loop = loop;\n      if (this.source) {\n        this.source.loop = loop;\n      }\n    }, setVolume:function(volume) {\n      volume = pc.math.clamp(volume, 0, 1);\n      this.volume = volume;\n      if (this.gain) {\n        this.gain.gain.value = volume * this.manager.volume;\n      }\n    }, setPitch:function(pitch) {\n      this.pitch = pitch;\n      if (this.source) {\n        this.source.playbackRate.value = pitch;\n      }\n    }, isPlaying:function() {\n      return !this.paused && this.source.playbackState === this.source.PLAYING_STATE;\n    }, getDuration:function() {\n      return this.source ? this.source.buffer.duration : 0;\n    }, _createSource:function() {\n      var context = this.manager.context;\n      if (this.sound.buffer) {\n        this.source = context.createBufferSource();\n        this.source.buffer = this.sound.buffer;\n        this.source.connect(this.gain);\n        this.gain.connect(context.destination);\n        if (!this.loop) {\n          this.source.onended = this.pause.bind(this);\n        }\n      }\n    }});\n  } else {\n    if (pc.AudioManager.hasAudio()) {\n      Channel = function(manager, sound, options) {\n        this.volume = options.volume || 1;\n        this.loop = options.loop || false;\n        this.sound = sound;\n        this.pitch = options.pitch !== undefined ? options.pitch : 1;\n        this.paused = false;\n        this.suspended = false;\n        this.manager = manager;\n        if (sound.audio) {\n          this.source = sound.audio.cloneNode(false);\n          this.source.pause();\n        }\n      };\n      Object.assign(Channel.prototype, {play:function() {\n        if (this.source) {\n          this.paused = false;\n          this.setVolume(this.volume);\n          this.setLoop(this.loop);\n          this.setPitch(this.pitch);\n          this.source.play();\n        }\n        this.manager.on(\"volumechange\", this.onManagerVolumeChange, this);\n        this.manager.on(\"suspend\", this.onManagerSuspend, this);\n        this.manager.on(\"resume\", this.onManagerResume, this);\n        if (this.manager.suspended) {\n          this.onManagerSuspend();\n        }\n      }, pause:function() {\n        if (this.source) {\n          this.paused = true;\n          this.source.pause();\n        }\n      }, unpause:function() {\n        if (this.source) {\n          this.paused = false;\n          this.source.play();\n        }\n      }, stop:function() {\n        if (this.source) {\n          this.source.pause();\n        }\n        this.manager.off(\"volumechange\", this.onManagerVolumeChange, this);\n        this.manager.off(\"suspend\", this.onManagerSuspend, this);\n        this.manager.off(\"resume\", this.onManagerResume, this);\n      }, setVolume:function(volume) {\n        volume = pc.math.clamp(volume, 0, 1);\n        this.volume = volume;\n        if (this.source) {\n          this.source.volume = volume * this.manager.volume;\n        }\n      }, setLoop:function(loop) {\n        this.loop = loop;\n        if (this.source) {\n          this.source.loop = loop;\n        }\n      }, setPitch:function(pitch) {\n        this.pitch = pitch;\n        if (this.source) {\n          this.source.playbackRate = pitch;\n        }\n      }, getDuration:function() {\n        return this.source && !isNaN(this.source.duration) ? this.source.duration : 0;\n      }, isPlaying:function() {\n        return !this.source.paused;\n      }});\n    } else {\n      Channel = function() {\n      };\n    }\n  }\n  Object.assign(Channel.prototype, {getVolume:function() {\n    return this.volume;\n  }, getLoop:function() {\n    return this.loop;\n  }, getPitch:function() {\n    return this.pitch;\n  }, onManagerVolumeChange:function() {\n    this.setVolume(this.getVolume());\n  }, onManagerSuspend:function() {\n    if (this.isPlaying() && !this.suspended) {\n      this.suspended = true;\n      this.pause();\n    }\n  }, onManagerResume:function() {\n    if (this.suspended) {\n      this.suspended = false;\n      this.unpause();\n    }\n  }});\n  return {Channel:Channel};\n}());\nObject.assign(pc, function() {\n  var MAX_DISTANCE = 10000;\n  var Channel3d;\n  if (pc.AudioManager.hasAudioContext()) {\n    Channel3d = function(manager, sound, options) {\n      pc.Channel.call(this, manager, sound, options);\n      this.position = new pc.Vec3;\n      this.velocity = new pc.Vec3;\n      var context = manager.context;\n      this.panner = context.createPanner();\n    };\n    Channel3d.prototype = Object.create(pc.Channel.prototype);\n    Channel3d.prototype.constructor = Channel3d;\n    Object.assign(Channel3d.prototype, {getPosition:function() {\n      return this.position;\n    }, setPosition:function(position) {\n      this.position.copy(position);\n      this.panner.setPosition(position.x, position.y, position.z);\n    }, getVelocity:function() {\n      return this.velocity;\n    }, setVelocity:function(velocity) {\n      this.velocity.copy(velocity);\n      this.panner.setVelocity(velocity.x, velocity.y, velocity.z);\n    }, getMaxDistance:function() {\n      return this.panner.maxDistance;\n    }, setMaxDistance:function(max) {\n      this.panner.maxDistance = max;\n    }, getMinDistance:function() {\n      return this.panner.refDistance;\n    }, setMinDistance:function(min) {\n      this.panner.refDistance = min;\n    }, getRollOffFactor:function() {\n      return this.panner.rolloffFactor;\n    }, setRollOffFactor:function(factor) {\n      this.panner.rolloffFactor = factor;\n    }, getDistanceModel:function() {\n      return this.pannel.distanceModel;\n    }, setDistanceModel:function(distanceModel) {\n      this.panner.distanceModel = distanceModel;\n    }, _createSource:function() {\n      var context = this.manager.context;\n      this.source = context.createBufferSource();\n      this.source.buffer = this.sound.buffer;\n      this.source.connect(this.panner);\n      this.panner.connect(this.gain);\n      this.gain.connect(context.destination);\n      if (!this.loop) {\n        this.source.onended = this.pause.bind(this);\n      }\n    }});\n  } else {\n    if (pc.AudioManager.hasAudio()) {\n      var offset = new pc.Vec3;\n      var fallOff = function(posOne, posTwo, refDistance, maxDistance, rolloffFactor, distanceModel) {\n        offset = offset.sub2(posOne, posTwo);\n        var distance = offset.length();\n        if (distance < refDistance) {\n          return 1;\n        } else {\n          if (distance > maxDistance) {\n            return 0;\n          }\n        }\n        var result = 0;\n        if (distanceModel === pc.DISTANCE_LINEAR) {\n          result = 1 - rolloffFactor * (distance - refDistance) / (maxDistance - refDistance);\n        } else {\n          if (distanceModel === pc.DISTANCE_INVERSE) {\n            result = refDistance / (refDistance + rolloffFactor * (distance - refDistance));\n          } else {\n            if (distanceModel === pc.DISTANCE_EXPONENTIAL) {\n              result = Math.pow(distance / refDistance, -rolloffFactor);\n            }\n          }\n        }\n        return pc.math.clamp(result, 0, 1);\n      };\n      Channel3d = function(manager, sound) {\n        pc.Channel.call(this, manager, sound);\n        this.position = new pc.Vec3;\n        this.velocity = new pc.Vec3;\n        this.maxDistance = MAX_DISTANCE;\n        this.minDistance = 1;\n        this.rollOffFactor = 1;\n        this.distanceModel = pc.DISTANCE_INVERSE;\n      };\n      Channel3d.prototype = Object.create(pc.Channel.prototype);\n      Channel3d.prototype.constructor = Channel3d;\n      Object.assign(Channel3d.prototype, {getPosition:function() {\n        return this.position;\n      }, setPosition:function(position) {\n        this.position.copy(position);\n        if (this.source) {\n          var listener = this.manager.listener;\n          var lpos = listener.getPosition();\n          var factor = fallOff(lpos, this.position, this.minDistance, this.maxDistance, this.rollOffFactor, this.distanceModel);\n          var v = this.getVolume();\n          this.source.volume = v * factor;\n        }\n      }, getVelocity:function() {\n        return this.velocity;\n      }, setVelocity:function(velocity) {\n        this.velocity.copy(velocity);\n      }, getMaxDistance:function() {\n        return this.maxDistance;\n      }, setMaxDistance:function(max) {\n        this.maxDistance = max;\n      }, getMinDistance:function() {\n        return this.minDistance;\n      }, setMinDistance:function(min) {\n        this.minDistance = min;\n      }, getRollOffFactor:function() {\n        return this.rollOffFactor;\n      }, setRollOffFactor:function(factor) {\n        this.rollOffFactor = factor;\n      }, getDistanceModel:function() {\n        return this.distanceModel;\n      }, setDistanceModel:function(distanceModel) {\n        this.distanceModel = distanceModel;\n      }});\n    } else {\n      Channel3d = function() {\n      };\n    }\n  }\n  return {Channel3d:Channel3d};\n}());\n(function() {\n  var enums = {ACTION_MOUSE:\"mouse\", ACTION_KEYBOARD:\"keyboard\", ACTION_GAMEPAD:\"gamepad\", AXIS_MOUSE_X:\"mousex\", AXIS_MOUSE_Y:\"mousey\", AXIS_PAD_L_X:\"padlx\", AXIS_PAD_L_Y:\"padly\", AXIS_PAD_R_X:\"padrx\", AXIS_PAD_R_Y:\"padry\", AXIS_KEY:\"key\", EVENT_KEYDOWN:\"keydown\", EVENT_KEYUP:\"keyup\", EVENT_MOUSEDOWN:\"mousedown\", EVENT_MOUSEMOVE:\"mousemove\", EVENT_MOUSEUP:\"mouseup\", EVENT_MOUSEWHEEL:\"mousewheel\", EVENT_TOUCHSTART:\"touchstart\", EVENT_TOUCHEND:\"touchend\", EVENT_TOUCHMOVE:\"touchmove\", EVENT_TOUCHCANCEL:\"touchcancel\", \n  KEY_BACKSPACE:8, KEY_TAB:9, KEY_RETURN:13, KEY_ENTER:13, KEY_SHIFT:16, KEY_CONTROL:17, KEY_ALT:18, KEY_PAUSE:19, KEY_CAPS_LOCK:20, KEY_ESCAPE:27, KEY_SPACE:32, KEY_PAGE_UP:33, KEY_PAGE_DOWN:34, KEY_END:35, KEY_HOME:36, KEY_LEFT:37, KEY_UP:38, KEY_RIGHT:39, KEY_DOWN:40, KEY_PRINT_SCREEN:44, KEY_INSERT:45, KEY_DELETE:46, KEY_0:48, KEY_1:49, KEY_2:50, KEY_3:51, KEY_4:52, KEY_5:53, KEY_6:54, KEY_7:55, KEY_8:56, KEY_9:57, KEY_SEMICOLON:59, KEY_EQUAL:61, KEY_A:65, KEY_B:66, KEY_C:67, KEY_D:68, KEY_E:69, \n  KEY_F:70, KEY_G:71, KEY_H:72, KEY_I:73, KEY_J:74, KEY_K:75, KEY_L:76, KEY_M:77, KEY_N:78, KEY_O:79, KEY_P:80, KEY_Q:81, KEY_R:82, KEY_S:83, KEY_T:84, KEY_U:85, KEY_V:86, KEY_W:87, KEY_X:88, KEY_Y:89, KEY_Z:90, KEY_WINDOWS:91, KEY_CONTEXT_MENU:93, KEY_NUMPAD_0:96, KEY_NUMPAD_1:97, KEY_NUMPAD_2:98, KEY_NUMPAD_3:99, KEY_NUMPAD_4:100, KEY_NUMPAD_5:101, KEY_NUMPAD_6:102, KEY_NUMPAD_7:103, KEY_NUMPAD_8:104, KEY_NUMPAD_9:105, KEY_MULTIPLY:106, KEY_ADD:107, KEY_SEPARATOR:108, KEY_SUBTRACT:109, KEY_DECIMAL:110, \n  KEY_DIVIDE:111, KEY_F1:112, KEY_F2:113, KEY_F3:114, KEY_F4:115, KEY_F5:116, KEY_F6:117, KEY_F7:118, KEY_F8:119, KEY_F9:120, KEY_F10:121, KEY_F11:122, KEY_F12:123, KEY_COMMA:188, KEY_PERIOD:190, KEY_SLASH:191, KEY_OPEN_BRACKET:219, KEY_BACK_SLASH:220, KEY_CLOSE_BRACKET:221, KEY_META:224, MOUSEBUTTON_NONE:-1, MOUSEBUTTON_LEFT:0, MOUSEBUTTON_MIDDLE:1, MOUSEBUTTON_RIGHT:2, PAD_1:0, PAD_2:1, PAD_3:2, PAD_4:3, PAD_FACE_1:0, PAD_FACE_2:1, PAD_FACE_3:2, PAD_FACE_4:3, PAD_L_SHOULDER_1:4, PAD_R_SHOULDER_1:5, \n  PAD_L_SHOULDER_2:6, PAD_R_SHOULDER_2:7, PAD_SELECT:8, PAD_START:9, PAD_L_STICK_BUTTON:10, PAD_R_STICK_BUTTON:11, PAD_UP:12, PAD_DOWN:13, PAD_LEFT:14, PAD_RIGHT:15, PAD_VENDOR:16, PAD_L_STICK_X:0, PAD_L_STICK_Y:1, PAD_R_STICK_X:2, PAD_R_STICK_Y:3};\n  Object.assign(pc, enums);\n  pc.input = {};\n  Object.assign(pc.input, enums);\n})();\nObject.assign(pc, function() {\n  var MouseEvent = function(mouse, event) {\n    var coords = {x:0, y:0};\n    if (event) {\n      if (event instanceof MouseEvent) {\n        throw Error(\"Expected MouseEvent\");\n      }\n      coords = mouse._getTargetCoords(event);\n    } else {\n      event = {};\n    }\n    if (coords) {\n      this.x = coords.x;\n      this.y = coords.y;\n    } else {\n      if (pc.Mouse.isPointerLocked()) {\n        this.x = 0;\n        this.y = 0;\n      } else {\n        return;\n      }\n    }\n    if (event.detail) {\n      this.wheel = -1 * event.detail;\n    } else {\n      if (event.wheelDelta) {\n        this.wheel = event.wheelDelta / 120;\n      } else {\n        this.wheel = 0;\n      }\n    }\n    if (pc.Mouse.isPointerLocked()) {\n      this.dx = event.movementX || event.webkitMovementX || event.mozMovementX || 0;\n      this.dy = event.movementY || event.webkitMovementY || event.mozMovementY || 0;\n    } else {\n      this.dx = this.x - mouse._lastX;\n      this.dy = this.y - mouse._lastY;\n    }\n    if (event.type === \"mousedown\" || event.type === \"mouseup\") {\n      this.button = event.button;\n    } else {\n      this.button = pc.MOUSEBUTTON_NONE;\n    }\n    this.buttons = mouse._buttons.slice(0);\n    this.element = event.target;\n    this.ctrlKey = event.ctrlKey || false;\n    this.altKey = event.altKey || false;\n    this.shiftKey = event.shiftKey || false;\n    this.metaKey = event.metaKey || false;\n    this.event = event;\n  };\n  var Mouse = function(element) {\n    pc.EventHandler.call(this);\n    this._lastX = 0;\n    this._lastY = 0;\n    this._buttons = [false, false, false];\n    this._lastbuttons = [false, false, false];\n    this._upHandler = this._handleUp.bind(this);\n    this._downHandler = this._handleDown.bind(this);\n    this._moveHandler = this._handleMove.bind(this);\n    this._wheelHandler = this._handleWheel.bind(this);\n    this._contextMenuHandler = function(event) {\n      event.preventDefault();\n    };\n    this._target = null;\n    this._attached = false;\n    this.attach(element);\n  };\n  Mouse.prototype = Object.create(pc.EventHandler.prototype);\n  Mouse.prototype.constructor = Mouse;\n  Mouse.isPointerLocked = function() {\n    return !!(document.pointerLockElement || document.mozPointerLockElement || document.webkitPointerLockElement);\n  };\n  Object.assign(Mouse.prototype, {attach:function(element) {\n    this._target = element;\n    if (this._attached) {\n      return;\n    }\n    this._attached = true;\n    window.addEventListener(\"mouseup\", this._upHandler, false);\n    window.addEventListener(\"mousedown\", this._downHandler, false);\n    window.addEventListener(\"mousemove\", this._moveHandler, false);\n    window.addEventListener(\"mousewheel\", this._wheelHandler, false);\n    window.addEventListener(\"DOMMouseScroll\", this._wheelHandler, false);\n  }, detach:function() {\n    if (!this._attached) {\n      return;\n    }\n    this._attached = false;\n    this._target = null;\n    window.removeEventListener(\"mouseup\", this._upHandler);\n    window.removeEventListener(\"mousedown\", this._downHandler);\n    window.removeEventListener(\"mousemove\", this._moveHandler);\n    window.removeEventListener(\"mousewheel\", this._wheelHandler);\n    window.removeEventListener(\"DOMMouseScroll\", this._wheelHandler);\n  }, disableContextMenu:function() {\n    if (!this._target) {\n      return;\n    }\n    this._target.addEventListener(\"contextmenu\", this._contextMenuHandler);\n  }, enableContextMenu:function() {\n    if (!this._target) {\n      return;\n    }\n    this._target.removeEventListener(\"contextmenu\", this._contextMenuHandler);\n  }, enablePointerLock:function(success, error) {\n    if (!document.body.requestPointerLock) {\n      if (error) {\n        error();\n      }\n      return;\n    }\n    var s = function() {\n      success();\n      document.removeEventListener(\"pointerlockchange\", s);\n    };\n    var e = function() {\n      error();\n      document.removeEventListener(\"pointerlockerror\", e);\n    };\n    if (success) {\n      document.addEventListener(\"pointerlockchange\", s, false);\n    }\n    if (error) {\n      document.addEventListener(\"pointerlockerror\", e, false);\n    }\n    document.body.requestPointerLock();\n  }, disablePointerLock:function(success) {\n    if (!document.exitPointerLock) {\n      return;\n    }\n    var s = function() {\n      success();\n      document.removeEventListener(\"pointerlockchange\", s);\n    };\n    if (success) {\n      document.addEventListener(\"pointerlockchange\", s, false);\n    }\n    document.exitPointerLock();\n  }, update:function() {\n    this._lastbuttons[0] = this._buttons[0];\n    this._lastbuttons[1] = this._buttons[1];\n    this._lastbuttons[2] = this._buttons[2];\n  }, isPressed:function(button) {\n    return this._buttons[button];\n  }, wasPressed:function(button) {\n    return this._buttons[button] && !this._lastbuttons[button];\n  }, wasReleased:function(button) {\n    return !this._buttons[button] && this._lastbuttons[button];\n  }, _handleUp:function(event) {\n    this._buttons[event.button] = false;\n    var e = new MouseEvent(this, event);\n    if (!e.event) {\n      return;\n    }\n    this.fire(pc.EVENT_MOUSEUP, e);\n  }, _handleDown:function(event) {\n    this._buttons[event.button] = true;\n    var e = new MouseEvent(this, event);\n    if (!e.event) {\n      return;\n    }\n    this.fire(pc.EVENT_MOUSEDOWN, e);\n  }, _handleMove:function(event) {\n    var e = new MouseEvent(this, event);\n    if (!e.event) {\n      return;\n    }\n    this.fire(pc.EVENT_MOUSEMOVE, e);\n    this._lastX = e.x;\n    this._lastY = e.y;\n  }, _handleWheel:function(event) {\n    var e = new MouseEvent(this, event);\n    if (!e.event) {\n      return;\n    }\n    this.fire(pc.EVENT_MOUSEWHEEL, e);\n  }, _getTargetCoords:function(event) {\n    var rect = this._target.getBoundingClientRect();\n    var left = Math.floor(rect.left);\n    var top = Math.floor(rect.top);\n    if (event.clientX < left || event.clientX >= left + this._target.clientWidth || event.clientY < top || event.clientY >= top + this._target.clientHeight) {\n      return null;\n    }\n    return {x:event.clientX - left, y:event.clientY - top};\n  }});\n  return {Mouse:Mouse, MouseEvent:MouseEvent};\n}());\nObject.assign(pc, function() {\n  var KeyboardEvent = function(keyboard, event) {\n    if (event) {\n      this.key = event.keyCode;\n      this.element = event.target;\n      this.event = event;\n    } else {\n      this.key = null;\n      this.element = null;\n      this.event = null;\n    }\n  };\n  var _keyboardEvent = new KeyboardEvent;\n  function makeKeyboardEvent(event) {\n    _keyboardEvent.key = event.keyCode;\n    _keyboardEvent.element = event.target;\n    _keyboardEvent.event = event;\n    return _keyboardEvent;\n  }\n  function toKeyCode(s) {\n    if (typeof s === \"string\") {\n      return s.toUpperCase().charCodeAt(0);\n    }\n    return s;\n  }\n  var _keyCodeToKeyIdentifier = {9:\"Tab\", 13:\"Enter\", 16:\"Shift\", 17:\"Control\", 18:\"Alt\", 27:\"Escape\", 37:\"Left\", 38:\"Up\", 39:\"Right\", 40:\"Down\", 46:\"Delete\", 91:\"Win\"};\n  var Keyboard = function(element, options) {\n    pc.EventHandler.call(this);\n    options = options || {};\n    this._element = null;\n    this._keyDownHandler = this._handleKeyDown.bind(this);\n    this._keyUpHandler = this._handleKeyUp.bind(this);\n    this._keyPressHandler = this._handleKeyPress.bind(this);\n    this._keymap = {};\n    this._lastmap = {};\n    if (element) {\n      this.attach(element);\n    }\n    this.preventDefault = options.preventDefault || false;\n    this.stopPropagation = options.stopPropagation || false;\n  };\n  Keyboard.prototype = Object.create(pc.EventHandler.prototype);\n  Keyboard.prototype.constructor = Keyboard;\n  Keyboard.prototype.attach = function(element) {\n    if (this._element) {\n      this.detach();\n    }\n    this._element = element;\n    this._element.addEventListener(\"keydown\", this._keyDownHandler, false);\n    this._element.addEventListener(\"keypress\", this._keyPressHandler, false);\n    this._element.addEventListener(\"keyup\", this._keyUpHandler, false);\n  };\n  Keyboard.prototype.detach = function() {\n    this._element.removeEventListener(\"keydown\", this._keyDownHandler);\n    this._element.removeEventListener(\"keypress\", this._keyPressHandler);\n    this._element.removeEventListener(\"keyup\", this._keyUpHandler);\n    this._element = null;\n  };\n  Keyboard.prototype.toKeyIdentifier = function(keyCode) {\n    keyCode = toKeyCode(keyCode);\n    var count;\n    var hex;\n    var length;\n    var id = _keyCodeToKeyIdentifier[keyCode.toString()];\n    if (id) {\n      return id;\n    }\n    hex = keyCode.toString(16).toUpperCase();\n    length = hex.length;\n    for (count = 0;count < 4 - length;count++) {\n      hex = \"0\" + hex;\n    }\n    return \"U+\" + hex;\n  };\n  Keyboard.prototype._handleKeyDown = function(event) {\n    var code = event.keyCode || event.charCode;\n    if (code === undefined) {\n      return;\n    }\n    var id = this.toKeyIdentifier(code);\n    this._keymap[id] = true;\n    this.fire(\"keydown\", makeKeyboardEvent(event));\n    if (this.preventDefault) {\n      event.preventDefault();\n    }\n    if (this.stopPropagation) {\n      event.stopPropagation();\n    }\n  };\n  Keyboard.prototype._handleKeyUp = function(event) {\n    var code = event.keyCode || event.charCode;\n    if (code === undefined) {\n      return;\n    }\n    var id = this.toKeyIdentifier(code);\n    delete this._keymap[id];\n    this.fire(\"keyup\", makeKeyboardEvent(event));\n    if (this.preventDefault) {\n      event.preventDefault();\n    }\n    if (this.stopPropagation) {\n      event.stopPropagation();\n    }\n  };\n  Keyboard.prototype._handleKeyPress = function(event) {\n    this.fire(\"keypress\", makeKeyboardEvent(event));\n    if (this.preventDefault) {\n      event.preventDefault();\n    }\n    if (this.stopPropagation) {\n      event.stopPropagation();\n    }\n  };\n  Keyboard.prototype.update = function() {\n    var prop;\n    for (prop in this._lastmap) {\n      delete this._lastmap[prop];\n    }\n    for (prop in this._keymap) {\n      if (this._keymap.hasOwnProperty(prop)) {\n        this._lastmap[prop] = this._keymap[prop];\n      }\n    }\n  };\n  Keyboard.prototype.isPressed = function(key) {\n    var keyCode = toKeyCode(key);\n    var id = this.toKeyIdentifier(keyCode);\n    return !!this._keymap[id];\n  };\n  Keyboard.prototype.wasPressed = function(key) {\n    var keyCode = toKeyCode(key);\n    var id = this.toKeyIdentifier(keyCode);\n    return !!this._keymap[id] && !!!this._lastmap[id];\n  };\n  Keyboard.prototype.wasReleased = function(key) {\n    var keyCode = toKeyCode(key);\n    var id = this.toKeyIdentifier(keyCode);\n    return !!!this._keymap[id] && !!this._lastmap[id];\n  };\n  return {Keyboard:Keyboard, KeyboardEvent:KeyboardEvent};\n}());\nObject.assign(pc, function() {\n  var GamePads = function() {\n    this.gamepadsSupported = !!navigator.getGamepads || !!navigator.webkitGetGamepads;\n    this.current = [];\n    this.previous = [];\n    this.deadZone = 0.25;\n  };\n  var MAPS = {DEFAULT:{buttons:[\"PAD_FACE_1\", \"PAD_FACE_2\", \"PAD_FACE_3\", \"PAD_FACE_4\", \"PAD_L_SHOULDER_1\", \"PAD_R_SHOULDER_1\", \"PAD_L_SHOULDER_2\", \"PAD_R_SHOULDER_2\", \"PAD_SELECT\", \"PAD_START\", \"PAD_L_STICK_BUTTON\", \"PAD_R_STICK_BUTTON\", \"PAD_UP\", \"PAD_DOWN\", \"PAD_LEFT\", \"PAD_RIGHT\", \"PAD_VENDOR\"], axes:[\"PAD_L_STICK_X\", \"PAD_L_STICK_Y\", \"PAD_R_STICK_X\", \"PAD_R_STICK_Y\"]}, PS3:{buttons:[\"PAD_FACE_1\", \"PAD_FACE_2\", \"PAD_FACE_4\", \"PAD_FACE_3\", \"PAD_L_SHOULDER_1\", \"PAD_R_SHOULDER_1\", \"PAD_L_SHOULDER_2\", \n  \"PAD_R_SHOULDER_2\", \"PAD_SELECT\", \"PAD_START\", \"PAD_L_STICK_BUTTON\", \"PAD_R_STICK_BUTTON\", \"PAD_UP\", \"PAD_DOWN\", \"PAD_LEFT\", \"PAD_RIGHT\", \"PAD_VENDOR\"], axes:[\"PAD_L_STICK_X\", \"PAD_L_STICK_Y\", \"PAD_R_STICK_X\", \"PAD_R_STICK_Y\"]}};\n  var PRODUCT_CODES = {\"Product: 0268\":\"PS3\"};\n  Object.assign(GamePads.prototype, {update:function() {\n    var i, j, l;\n    var buttons, buttonsLen;\n    for (i = 0, l = this.current.length;i < l;i++) {\n      buttons = this.current[i].pad.buttons;\n      buttonsLen = buttons.length;\n      for (j = 0;j < buttonsLen;j++) {\n        if (this.previous[i] === undefined) {\n          this.previous[i] = [];\n        }\n        this.previous[i][j] = buttons[j].pressed;\n      }\n    }\n    var pads = this.poll();\n    for (i = 0, l = pads.length;i < l;i++) {\n      this.current[i] = pads[i];\n    }\n  }, poll:function() {\n    var pads = [];\n    if (this.gamepadsSupported) {\n      var padDevices = navigator.getGamepads ? navigator.getGamepads() : navigator.webkitGetGamepads();\n      var i, len = padDevices.length;\n      for (i = 0;i < len;i++) {\n        if (padDevices[i]) {\n          pads.push({map:this.getMap(padDevices[i]), pad:padDevices[i]});\n        }\n      }\n    }\n    return pads;\n  }, getMap:function(pad) {\n    for (var code in PRODUCT_CODES) {\n      if (pad.id.indexOf(code) >= 0) {\n        return MAPS[PRODUCT_CODES[code]];\n      }\n    }\n    return MAPS.DEFAULT;\n  }, isPressed:function(index, button) {\n    if (!this.current[index]) {\n      return false;\n    }\n    var key = this.current[index].map.buttons[button];\n    return this.current[index].pad.buttons[pc[key]].pressed;\n  }, wasPressed:function(index, button) {\n    if (!this.current[index]) {\n      return false;\n    }\n    var key = this.current[index].map.buttons[button];\n    var i = pc[key];\n    return this.current[index].pad.buttons[i].pressed && !this.previous[index][i];\n  }, getAxis:function(index, axes) {\n    if (!this.current[index]) {\n      return false;\n    }\n    var key = this.current[index].map.axes[axes];\n    var value = this.current[index].pad.axes[pc[key]];\n    if (Math.abs(value) < this.deadZone) {\n      value = 0;\n    }\n    return value;\n  }});\n  return {GamePads:GamePads};\n}());\nObject.assign(pc, function() {\n  var Touch = function(touch) {\n    var coords = pc.getTouchTargetCoords(touch);\n    this.id = touch.identifier;\n    this.x = coords.x;\n    this.y = coords.y;\n    this.target = touch.target;\n    this.touch = touch;\n  };\n  var TouchEvent = function(device, event) {\n    this.element = event.target;\n    this.event = event;\n    this.touches = [];\n    this.changedTouches = [];\n    if (event) {\n      var i, l = event.touches.length;\n      for (i = 0;i < l;i++) {\n        this.touches.push(new Touch(event.touches[i]));\n      }\n      l = event.changedTouches.length;\n      for (i = 0;i < l;i++) {\n        this.changedTouches.push(new Touch(event.changedTouches[i]));\n      }\n    }\n  };\n  Object.assign(TouchEvent.prototype, {getTouchById:function(id, list) {\n    var i, l = list.length;\n    for (i = 0;i < l;i++) {\n      if (list[i].id === id) {\n        return list[i];\n      }\n    }\n    return null;\n  }});\n  var TouchDevice = function(element) {\n    pc.EventHandler.call(this);\n    this._element = null;\n    this._startHandler = this._handleTouchStart.bind(this);\n    this._endHandler = this._handleTouchEnd.bind(this);\n    this._moveHandler = this._handleTouchMove.bind(this);\n    this._cancelHandler = this._handleTouchCancel.bind(this);\n    this.attach(element);\n  };\n  TouchDevice.prototype = Object.create(pc.EventHandler.prototype);\n  TouchDevice.prototype.constructor = TouchDevice;\n  Object.assign(TouchDevice.prototype, {attach:function(element) {\n    if (this._element) {\n      this.detach();\n    }\n    this._element = element;\n    this._element.addEventListener(\"touchstart\", this._startHandler, false);\n    this._element.addEventListener(\"touchend\", this._endHandler, false);\n    this._element.addEventListener(\"touchmove\", this._moveHandler, false);\n    this._element.addEventListener(\"touchcancel\", this._cancelHandler, false);\n  }, detach:function() {\n    if (this._element) {\n      this._element.removeEventListener(\"touchstart\", this._startHandler, false);\n      this._element.removeEventListener(\"touchend\", this._endHandler, false);\n      this._element.removeEventListener(\"touchmove\", this._moveHandler, false);\n      this._element.removeEventListener(\"touchcancel\", this._cancelHandler, false);\n    }\n    this._element = null;\n  }, _handleTouchStart:function(e) {\n    this.fire(\"touchstart\", new TouchEvent(this, e));\n  }, _handleTouchEnd:function(e) {\n    this.fire(\"touchend\", new TouchEvent(this, e));\n  }, _handleTouchMove:function(e) {\n    e.preventDefault();\n    this.fire(\"touchmove\", new TouchEvent(this, e));\n  }, _handleTouchCancel:function(e) {\n    this.fire(\"touchcancel\", new TouchEvent(this, e));\n  }});\n  return {getTouchTargetCoords:function(touch) {\n    var totalOffsetX = 0;\n    var totalOffsetY = 0;\n    var target = touch.target;\n    while (!(target instanceof HTMLElement)) {\n      target = target.parentNode;\n    }\n    var currentElement = target;\n    do {\n      totalOffsetX += currentElement.offsetLeft - currentElement.scrollLeft;\n      totalOffsetY += currentElement.offsetTop - currentElement.scrollTop;\n      currentElement = currentElement.offsetParent;\n    } while (currentElement);\n    return {x:touch.pageX - totalOffsetX, y:touch.pageY - totalOffsetY};\n  }, TouchDevice:TouchDevice, TouchEvent:TouchEvent};\n}());\nObject.assign(pc, function() {\n  var Controller = function(element, options) {\n    options = options || {};\n    this._keyboard = options.keyboard || null;\n    this._mouse = options.mouse || null;\n    this._gamepads = options.gamepads || null;\n    this._element = null;\n    this._actions = {};\n    this._axes = {};\n    this._axesValues = {};\n    if (element) {\n      this.attach(element);\n    }\n  };\n  Controller.prototype.attach = function(element) {\n    this._element = element;\n    if (this._keyboard) {\n      this._keyboard.attach(element);\n    }\n    if (this._mouse) {\n      this._mouse.attach(element);\n    }\n  };\n  Controller.prototype.detach = function() {\n    if (this._keyboard) {\n      this._keyboard.detach();\n    }\n    if (this._mouse) {\n      this._mouse.detach();\n    }\n    this._element = null;\n  };\n  Controller.prototype.disableContextMenu = function() {\n    if (!this._mouse) {\n      this._enableMouse();\n    }\n    this._mouse.disableContextMenu();\n  };\n  Controller.prototype.enableContextMenu = function() {\n    if (!this._mouse) {\n      this._enableMouse();\n    }\n    this._mouse.enableContextMenu();\n  };\n  Controller.prototype.update = function(dt) {\n    if (this._keyboard) {\n      this._keyboard.update(dt);\n    }\n    if (this._mouse) {\n      this._mouse.update(dt);\n    }\n    if (this._gamepads) {\n      this._gamepads.update(dt);\n    }\n    this._axesValues = {};\n    for (var key in this._axes) {\n      this._axesValues[key] = [];\n    }\n  };\n  Controller.prototype.registerKeys = function(action, keys) {\n    if (!this._keyboard) {\n      this._enableKeyboard();\n    }\n    if (this._actions[action]) {\n      throw new Error(pc.string.format(\"Action: {0} already registered\", action));\n    }\n    if (keys === undefined) {\n      throw new Error(\"Invalid button\");\n    }\n    if (!keys.length) {\n      keys = [keys];\n    }\n    if (this._actions[action]) {\n      this._actions[action].push({type:pc.ACTION_KEYBOARD, keys:keys});\n    } else {\n      this._actions[action] = [{type:pc.ACTION_KEYBOARD, keys:keys}];\n    }\n  };\n  Controller.prototype.registerMouse = function(action, button) {\n    if (!this._mouse) {\n      this._enableMouse();\n    }\n    if (button === undefined) {\n      throw new Error(\"Invalid button\");\n    }\n    if (this._actions[action]) {\n      this._actions[action].push({type:pc.ACTION_MOUSE, button:button});\n    } else {\n      this._actions[action] = [{type:pc.ACTION_MOUSE, button:-button}];\n    }\n  };\n  Controller.prototype.registerPadButton = function(action, pad, button) {\n    if (button === undefined) {\n      throw new Error(\"Invalid button\");\n    }\n    if (this._actions[action]) {\n      this._actions[action].push({type:pc.ACTION_GAMEPAD, button:button, pad:pad});\n    } else {\n      this._actions[action] = [{type:pc.ACTION_GAMEPAD, button:button, pad:pad}];\n    }\n  };\n  Controller.prototype.registerAxis = function(options) {\n    var name = options.name;\n    if (!this._axes[name]) {\n      this._axes[name] = [];\n    }\n    var i = this._axes[name].push(name);\n    options = options || {};\n    options.pad = options.pad || pc.PAD_1;\n    var bind = function(controller, source, value, key) {\n      switch(source) {\n        case \"mousex\":\n          controller._mouse.on(pc.EVENT_MOUSEMOVE, function(e) {\n            controller._axesValues[name][i] = e.dx / 10;\n          });\n          break;\n        case \"mousey\":\n          controller._mouse.on(pc.EVENT_MOUSEMOVE, function(e) {\n            controller._axesValues[name][i] = e.dy / 10;\n          });\n          break;\n        case \"key\":\n          controller._axes[name].push(function() {\n            return controller._keyboard.isPressed(key) ? value : 0;\n          });\n          break;\n        case \"padrx\":\n          controller._axes[name].push(function() {\n            return controller._gamepads.getAxis(options.pad, pc.PAD_R_STICK_X);\n          });\n          break;\n        case \"padry\":\n          controller._axes[name].push(function() {\n            return controller._gamepads.getAxis(options.pad, pc.PAD_R_STICK_Y);\n          });\n          break;\n        case \"padlx\":\n          controller._axes[name].push(function() {\n            return controller._gamepads.getAxis(options.pad, pc.PAD_L_STICK_X);\n          });\n          break;\n        case \"padly\":\n          controller._axes[name].push(function() {\n            return controller._gamepads.getAxis(options.pad, pc.PAD_L_STICK_Y);\n          });\n          break;\n        default:\n          throw new Error(\"Unknown axis\");\n      }\n    };\n    bind(this, options.positive, 1, options.positiveKey);\n    if (options.negativeKey || options.negative !== options.positive) {\n      bind(this, options.negative, -1, options.negativeKey);\n    }\n  };\n  Controller.prototype.isPressed = function(actionName) {\n    if (!this._actions[actionName]) {\n      return false;\n    }\n    var action;\n    var index = 0;\n    var length = this._actions[actionName].length;\n    for (index = 0;index < length;++index) {\n      action = this._actions[actionName][index];\n      switch(action.type) {\n        case pc.ACTION_KEYBOARD:\n          if (this._keyboard) {\n            var i, len = action.keys.length;\n            for (i = 0;i < len;i++) {\n              if (this._keyboard.isPressed(action.keys[i])) {\n                return true;\n              }\n            }\n          }\n          break;\n        case pc.ACTION_MOUSE:\n          if (this._mouse && this._mouse.isPressed(action.button)) {\n            return true;\n          }\n          break;\n        case pc.ACTION_GAMEPAD:\n          if (this._gamepads && this._gamepads.isPressed(action.pad, action.button)) {\n            return true;\n          }\n          break;\n      }\n    }\n    return false;\n  };\n  Controller.prototype.wasPressed = function(actionName) {\n    if (!this._actions[actionName]) {\n      return false;\n    }\n    var index = 0;\n    var length = this._actions[actionName].length;\n    for (index = 0;index < length;++index) {\n      var action = this._actions[actionName][index];\n      switch(action.type) {\n        case pc.ACTION_KEYBOARD:\n          if (this._keyboard) {\n            var i, len = action.keys.length;\n            for (i = 0;i < len;i++) {\n              if (this._keyboard.wasPressed(action.keys[i])) {\n                return true;\n              }\n            }\n          }\n          break;\n        case pc.ACTION_MOUSE:\n          if (this._mouse && this._mouse.wasPressed(action.button)) {\n            return true;\n          }\n          break;\n        case pc.ACTION_GAMEPAD:\n          if (this._gamepads && this._gamepads.wasPressed(action.pad, action.button)) {\n            return true;\n          }\n          break;\n      }\n    }\n    return false;\n  };\n  Controller.prototype.getAxis = function(name) {\n    var value = 0;\n    if (this._axes[name]) {\n      var i, len = this._axes[name].length;\n      for (i = 0;i < len;i++) {\n        if (pc.type(this._axes[name][i]) === \"function\") {\n          var v = this._axes[name][i]();\n          if (Math.abs(v) > Math.abs(value)) {\n            value = v;\n          }\n        } else {\n          if (this._axesValues[name]) {\n            if (Math.abs(this._axesValues[name][i]) > Math.abs(value)) {\n              value = this._axesValues[name][i];\n            }\n          }\n        }\n      }\n    }\n    return value;\n  };\n  Controller.prototype._enableMouse = function() {\n    this._mouse = new pc.Mouse;\n    if (!this._element) {\n      throw new Error(\"Controller must be attached to an Element\");\n    }\n    this._mouse.attach(this._element);\n  };\n  Controller.prototype._enableKeyboard = function() {\n    this._keyboard = new pc.Keyboard;\n    if (!this._element) {\n      throw new Error(\"Controller must be attached to an Element\");\n    }\n    this._keyboard.attach(this._element);\n  };\n  return {Controller:Controller};\n}());\nObject.assign(pc, function() {\n  var targetX, targetY;\n  var vecA = new pc.Vec3;\n  var vecB = new pc.Vec3;\n  var _pq = new pc.Vec3;\n  var _pa = new pc.Vec3;\n  var _pb = new pc.Vec3;\n  var _pc = new pc.Vec3;\n  var _pd = new pc.Vec3;\n  var _m = new pc.Vec3;\n  var _sct = new pc.Vec3;\n  var _accumulatedScale = new pc.Vec2;\n  var _paddingTop = new pc.Vec3;\n  var _paddingBottom = new pc.Vec3;\n  var _paddingLeft = new pc.Vec3;\n  var _paddingRight = new pc.Vec3;\n  var _cornerBottomLeft = new pc.Vec3;\n  var _cornerBottomRight = new pc.Vec3;\n  var _cornerTopRight = new pc.Vec3;\n  var _cornerTopLeft = new pc.Vec3;\n  var ZERO_VEC4 = new pc.Vec4;\n  var scalarTriple = function(p1, p2, p3) {\n    return _sct.cross(p1, p2).dot(p3);\n  };\n  var intersectLineQuad = function(p, q, corners) {\n    _pq.sub2(q, p);\n    _pa.sub2(corners[0], p);\n    _pb.sub2(corners[1], p);\n    _pc.sub2(corners[2], p);\n    _m.cross(_pc, _pq);\n    var v = _pa.dot(_m);\n    if (v >= 0) {\n      if (-_pb.dot(_m) < 0) {\n        return false;\n      }\n      if (scalarTriple(_pq, _pb, _pa) < 0) {\n        return false;\n      }\n    } else {\n      _pd.sub2(corners[3], p);\n      if (_pd.dot(_m) < 0) {\n        return false;\n      }\n      if (scalarTriple(_pq, _pa, _pd) < 0) {\n        return false;\n      }\n    }\n    if (_pq.sub2(corners[0], corners[2]).lengthSq() < 0.0001 * 0.0001) {\n      return false;\n    }\n    if (_pq.sub2(corners[1], corners[3]).lengthSq() < 0.0001 * 0.0001) {\n      return false;\n    }\n    return true;\n  };\n  var ElementInputEvent = function(event, element, camera) {\n    this.event = event;\n    this.element = element;\n    this.camera = camera;\n    this._stopPropagation = false;\n  };\n  Object.assign(ElementInputEvent.prototype, {stopPropagation:function() {\n    this._stopPropagation = true;\n    this.event.stopImmediatePropagation();\n    this.event.stopPropagation();\n  }});\n  var ElementMouseEvent = function(event, element, camera, x, y, lastX, lastY) {\n    ElementInputEvent.call(this, event, element, camera);\n    this.x = x;\n    this.y = y;\n    this.ctrlKey = event.ctrlKey || false;\n    this.altKey = event.altKey || false;\n    this.shiftKey = event.shiftKey || false;\n    this.metaKey = event.metaKey || false;\n    this.button = event.button;\n    if (pc.Mouse.isPointerLocked()) {\n      this.dx = event.movementX || event.webkitMovementX || event.mozMovementX || 0;\n      this.dy = event.movementY || event.webkitMovementY || event.mozMovementY || 0;\n    } else {\n      this.dx = x - lastX;\n      this.dy = y - lastY;\n    }\n    if (event.detail) {\n      this.wheel = -1 * event.detail;\n    } else {\n      if (event.wheelDelta) {\n        this.wheel = event.wheelDelta / 120;\n      } else {\n        this.wheel = 0;\n      }\n    }\n  };\n  ElementMouseEvent.prototype = Object.create(ElementInputEvent.prototype);\n  ElementMouseEvent.prototype.constructor = ElementMouseEvent;\n  var ElementTouchEvent = function(event, element, camera, x, y, input) {\n    ElementInputEvent.call(this, event, element, camera);\n    this.touches = event.touches;\n    this.changedTouches = event.changedTouches;\n    this.x = x;\n    this.y = y;\n  };\n  ElementTouchEvent.prototype = Object.create(ElementInputEvent.prototype);\n  ElementTouchEvent.prototype.constructor = ElementTouchEvent;\n  var ElementInput = function(domElement, options) {\n    this._app = null;\n    this._attached = false;\n    this._target = null;\n    this._enabled = true;\n    this._lastX = 0;\n    this._lastY = 0;\n    this._upHandler = this._handleUp.bind(this);\n    this._downHandler = this._handleDown.bind(this);\n    this._moveHandler = this._handleMove.bind(this);\n    this._wheelHandler = this._handleWheel.bind(this);\n    this._touchstartHandler = this._handleTouchStart.bind(this);\n    this._touchendHandler = this._handleTouchEnd.bind(this);\n    this._touchcancelHandler = this._touchendHandler;\n    this._touchmoveHandler = this._handleTouchMove.bind(this);\n    this._sortHandler = this._sortElements.bind(this);\n    this._elements = [];\n    this._hoveredElement = null;\n    this._pressedElement = null;\n    this._touchedElements = {};\n    this._touchesForWhichTouchLeaveHasFired = {};\n    this._useMouse = !options || options.useMouse !== false;\n    this._useTouch = !options || options.useTouch !== false;\n    if (pc.platform.touch) {\n      this._clickedEntities = {};\n    }\n    this.attach(domElement, options);\n  };\n  Object.assign(ElementInput.prototype, {attach:function(domElement) {\n    if (this._attached) {\n      this._attached = false;\n      this.detach();\n    }\n    this._target = domElement;\n    this._attached = true;\n    if (this._useMouse) {\n      window.addEventListener(\"mouseup\", this._upHandler, {passive:true});\n      window.addEventListener(\"mousedown\", this._downHandler, {passive:true});\n      window.addEventListener(\"mousemove\", this._moveHandler, {passive:true});\n      window.addEventListener(\"mousewheel\", this._wheelHandler, {passive:true});\n      window.addEventListener(\"DOMMouseScroll\", this._wheelHandler, {passive:true});\n    }\n    if (this._useTouch && pc.platform.touch) {\n      this._target.addEventListener(\"touchstart\", this._touchstartHandler, {passive:true});\n      this._target.addEventListener(\"touchend\", this._touchendHandler, false);\n      this._target.addEventListener(\"touchmove\", this._touchmoveHandler, false);\n      this._target.addEventListener(\"touchcancel\", this._touchcancelHandler, false);\n    }\n  }, detach:function() {\n    if (!this._attached) {\n      return;\n    }\n    this._attached = false;\n    if (this._useMouse) {\n      window.removeEventListener(\"mouseup\", this._upHandler, false);\n      window.removeEventListener(\"mousedown\", this._downHandler, false);\n      window.removeEventListener(\"mousemove\", this._moveHandler, false);\n      window.removeEventListener(\"mousewheel\", this._wheelHandler, false);\n      window.removeEventListener(\"DOMMouseScroll\", this._wheelHandler, false);\n    }\n    if (this._useTouch) {\n      this._target.removeEventListener(\"touchstart\", this._touchstartHandler, false);\n      this._target.removeEventListener(\"touchend\", this._touchendHandler, false);\n      this._target.removeEventListener(\"touchmove\", this._touchmoveHandler, false);\n      this._target.removeEventListener(\"touchcancel\", this._touchcancelHandler, false);\n    }\n    this._target = null;\n  }, addElement:function(element) {\n    if (this._elements.indexOf(element) === -1) {\n      this._elements.push(element);\n    }\n  }, removeElement:function(element) {\n    var idx = this._elements.indexOf(element);\n    if (idx !== -1) {\n      this._elements.splice(idx, 1);\n    }\n  }, _handleUp:function(event) {\n    if (!this._enabled) {\n      return;\n    }\n    if (pc.Mouse.isPointerLocked()) {\n      return;\n    }\n    this._calcMouseCoords(event);\n    if (targetX === null) {\n      return;\n    }\n    this._onElementMouseEvent(event);\n  }, _handleDown:function(event) {\n    if (!this._enabled) {\n      return;\n    }\n    if (pc.Mouse.isPointerLocked()) {\n      return;\n    }\n    this._calcMouseCoords(event);\n    if (targetX === null) {\n      return;\n    }\n    this._onElementMouseEvent(event);\n  }, _handleMove:function(event) {\n    if (!this._enabled) {\n      return;\n    }\n    this._calcMouseCoords(event);\n    if (targetX === null) {\n      return;\n    }\n    this._onElementMouseEvent(event);\n    this._lastX = targetX;\n    this._lastY = targetY;\n  }, _handleWheel:function(event) {\n    if (!this._enabled) {\n      return;\n    }\n    this._calcMouseCoords(event);\n    if (targetX === null) {\n      return;\n    }\n    this._onElementMouseEvent(event);\n  }, _determineTouchedElements:function(event) {\n    var touchedElements = {};\n    var cameras = this.app.systems.camera.cameras;\n    var i, j, len;\n    for (i = cameras.length - 1;i >= 0;i--) {\n      var camera = cameras[i];\n      var done = 0;\n      for (j = 0, len = event.changedTouches.length;j < len;j++) {\n        if (touchedElements[event.changedTouches[j].identifier]) {\n          done++;\n          continue;\n        }\n        var coords = this._calcTouchCoords(event.changedTouches[j]);\n        var element = this._getTargetElement(camera, coords.x, coords.y);\n        if (element) {\n          done++;\n          touchedElements[event.changedTouches[j].identifier] = {element:element, camera:camera, x:coords.x, y:coords.y};\n        }\n      }\n      if (done === len) {\n        break;\n      }\n    }\n    return touchedElements;\n  }, _handleTouchStart:function(event) {\n    if (!this._enabled) {\n      return;\n    }\n    var newTouchedElements = this._determineTouchedElements(event);\n    for (var i = 0, len = event.changedTouches.length;i < len;i++) {\n      var touch = event.changedTouches[i];\n      var newTouchInfo = newTouchedElements[touch.identifier];\n      var oldTouchInfo = this._touchedElements[touch.identifier];\n      if (newTouchInfo && (!oldTouchInfo || newTouchInfo.element !== oldTouchInfo.element)) {\n        this._fireEvent(event.type, new ElementTouchEvent(event, newTouchInfo.element, newTouchInfo.camera, newTouchInfo.x, newTouchInfo.y, this));\n        this._touchesForWhichTouchLeaveHasFired[touch.identifier] = false;\n      }\n    }\n    for (var touchId in newTouchedElements) {\n      this._touchedElements[touchId] = newTouchedElements[touchId];\n    }\n  }, _handleTouchEnd:function(event) {\n    if (!this._enabled) {\n      return;\n    }\n    var cameras = this.app.systems.camera.cameras;\n    for (var key in this._clickedEntities) {\n      delete this._clickedEntities[key];\n    }\n    for (var i = 0, len = event.changedTouches.length;i < len;i++) {\n      var touch = event.changedTouches[i];\n      var touchInfo = this._touchedElements[touch.identifier];\n      if (!touchInfo) {\n        continue;\n      }\n      var element = touchInfo.element;\n      var camera = touchInfo.camera;\n      var x = touchInfo.x;\n      var y = touchInfo.y;\n      delete this._touchedElements[touch.identifier];\n      delete this._touchesForWhichTouchLeaveHasFired[touch.identifier];\n      this._fireEvent(event.type, new ElementTouchEvent(event, element, camera, x, y, this));\n      if (event.touches.length === 0) {\n        var coords = this._calcTouchCoords(touch);\n        for (var c = cameras.length - 1;c >= 0;c--) {\n          var hovered = this._getTargetElement(cameras[c], coords.x, coords.y);\n          if (hovered === element) {\n            if (!this._clickedEntities[element.entity.getGuid()]) {\n              this._fireEvent(\"click\", new ElementTouchEvent(event, element, camera, x, y, this));\n              this._clickedEntities[element.entity.getGuid()] = true;\n            }\n          }\n        }\n      }\n    }\n  }, _handleTouchMove:function(event) {\n    event.preventDefault();\n    if (!this._enabled) {\n      return;\n    }\n    var newTouchedElements = this._determineTouchedElements(event);\n    for (var i = 0, len = event.changedTouches.length;i < len;i++) {\n      var touch = event.changedTouches[i];\n      var newTouchInfo = newTouchedElements[touch.identifier];\n      var oldTouchInfo = this._touchedElements[touch.identifier];\n      if (oldTouchInfo) {\n        var coords = this._calcTouchCoords(touch);\n        if ((!newTouchInfo || newTouchInfo.element !== oldTouchInfo.element) && !this._touchesForWhichTouchLeaveHasFired[touch.identifier]) {\n          this._fireEvent(\"touchleave\", new ElementTouchEvent(event, oldTouchInfo.element, oldTouchInfo.camera, coords.x, coords.y, this));\n          this._touchesForWhichTouchLeaveHasFired[touch.identifier] = true;\n        }\n        this._fireEvent(\"touchmove\", new ElementTouchEvent(event, oldTouchInfo.element, oldTouchInfo.camera, coords.x, coords.y, this));\n      }\n    }\n  }, _onElementMouseEvent:function(event) {\n    var element;\n    var hovered = this._hoveredElement;\n    this._hoveredElement = null;\n    var cameras = this.app.systems.camera.cameras;\n    var camera;\n    for (var i = cameras.length - 1;i >= 0;i--) {\n      camera = cameras[i];\n      element = this._getTargetElement(camera, targetX, targetY);\n      if (element) {\n        break;\n      }\n    }\n    if (element) {\n      this._fireEvent(event.type, new ElementMouseEvent(event, element, camera, targetX, targetY, this._lastX, this._lastY));\n      this._hoveredElement = element;\n      if (event.type === pc.EVENT_MOUSEDOWN) {\n        this._pressedElement = element;\n      }\n    }\n    if (hovered !== this._hoveredElement) {\n      if (hovered) {\n        this._fireEvent(\"mouseleave\", new ElementMouseEvent(event, hovered, camera, targetX, targetY, this._lastX, this._lastY));\n      }\n      if (this._hoveredElement) {\n        this._fireEvent(\"mouseenter\", new ElementMouseEvent(event, this._hoveredElement, camera, targetX, targetY, this._lastX, this._lastY));\n      }\n    }\n    if (event.type === pc.EVENT_MOUSEUP && this._pressedElement) {\n      if (this._pressedElement === this._hoveredElement) {\n        this._pressedElement = null;\n        if (!this._clickedEntities || !this._clickedEntities[this._hoveredElement.entity.getGuid()]) {\n          this._fireEvent(\"click\", new ElementMouseEvent(event, this._hoveredElement, camera, targetX, targetY, this._lastX, this._lastY));\n        }\n      } else {\n        this._pressedElement = null;\n      }\n    }\n  }, _fireEvent:function(name, evt) {\n    var element = evt.element;\n    while (true) {\n      element.fire(name, evt);\n      if (evt._stopPropagation) {\n        break;\n      }\n      if (!element.entity.parent) {\n        break;\n      }\n      element = element.entity.parent.element;\n      if (!element) {\n        break;\n      }\n    }\n  }, _calcMouseCoords:function(event) {\n    var rect = this._target.getBoundingClientRect();\n    var left = Math.floor(rect.left);\n    var top = Math.floor(rect.top);\n    if (event.clientX < left || event.clientX >= left + this._target.clientWidth || event.clientY < top || event.clientY >= top + this._target.clientHeight) {\n      targetX = null;\n      targetY = null;\n    } else {\n      targetX = event.clientX - left;\n      targetY = event.clientY - top;\n    }\n  }, _calcTouchCoords:function(touch) {\n    var totalOffsetX = 0;\n    var totalOffsetY = 0;\n    var target = touch.target;\n    while (!(target instanceof HTMLElement)) {\n      target = target.parentNode;\n    }\n    var currentElement = target;\n    do {\n      totalOffsetX += currentElement.offsetLeft - currentElement.scrollLeft;\n      totalOffsetY += currentElement.offsetTop - currentElement.scrollTop;\n      currentElement = currentElement.offsetParent;\n    } while (currentElement);\n    return {x:touch.pageX - totalOffsetX, y:touch.pageY - totalOffsetY};\n  }, _sortElements:function(a, b) {\n    var layerOrder = this.app.scene.layers.sortTransparentLayers(a.layers, b.layers);\n    if (layerOrder !== 0) {\n      return layerOrder;\n    }\n    if (a.screen && !b.screen) {\n      return -1;\n    }\n    if (!a.screen && b.screen) {\n      return 1;\n    }\n    if (!a.screen && !b.screen) {\n      return 0;\n    }\n    if (a.screen.screen.screenSpace && !b.screen.screen.screenSpace) {\n      return -1;\n    }\n    if (b.screen.screen.screenSpace && !a.screen.screen.screenSpace) {\n      return 1;\n    }\n    return b.drawOrder - a.drawOrder;\n  }, _getTargetElement:function(camera, x, y) {\n    var result = null;\n    this._elements.sort(this._sortHandler);\n    for (var i = 0, len = this._elements.length;i < len;i++) {\n      var element = this._elements[i];\n      if (element.screen && element.screen.screen.screenSpace) {\n        if (this._checkElement2d(x, y, element, camera)) {\n          result = element;\n          break;\n        }\n      } else {\n        if (this._checkElement3d(x, y, element, camera)) {\n          result = element;\n          break;\n        }\n      }\n    }\n    return result;\n  }, _buildHitCorners:function(element, screenOrWorldCorners, scaleX, scaleY) {\n    var hitCorners = screenOrWorldCorners;\n    var button = element.entity && element.entity.button;\n    if (button) {\n      var hitPadding = element.entity.button.hitPadding || ZERO_VEC4;\n      _paddingTop.copy(element.entity.up);\n      _paddingBottom.copy(_paddingTop).scale(-1);\n      _paddingRight.copy(element.entity.right);\n      _paddingLeft.copy(_paddingRight).scale(-1);\n      _paddingTop.scale(hitPadding.w * scaleY);\n      _paddingBottom.scale(hitPadding.y * scaleY);\n      _paddingRight.scale(hitPadding.z * scaleX);\n      _paddingLeft.scale(hitPadding.x * scaleX);\n      _cornerBottomLeft.copy(hitCorners[0]).add(_paddingBottom).add(_paddingLeft);\n      _cornerBottomRight.copy(hitCorners[1]).add(_paddingBottom).add(_paddingRight);\n      _cornerTopRight.copy(hitCorners[2]).add(_paddingTop).add(_paddingRight);\n      _cornerTopLeft.copy(hitCorners[3]).add(_paddingTop).add(_paddingLeft);\n      hitCorners = [_cornerBottomLeft, _cornerBottomRight, _cornerTopRight, _cornerTopLeft];\n    }\n    return hitCorners;\n  }, _calculateScaleToScreen:function(element) {\n    var current = element.entity;\n    var screenScale = element.screen.screen.scale;\n    _accumulatedScale.set(screenScale, screenScale);\n    while (current && !current.screen) {\n      _accumulatedScale.mul(current.getLocalScale());\n      current = current.parent;\n    }\n    return _accumulatedScale;\n  }, _checkElement2d:function(x, y, element, camera) {\n    if (element.maskedBy) {\n      var result = this._checkElement2d(x, y, element.maskedBy.element, camera);\n      if (!result) {\n        return false;\n      }\n    }\n    var sw = this.app.graphicsDevice.width;\n    var sh = this.app.graphicsDevice.height;\n    var cameraWidth = camera.rect.z * sw;\n    var cameraHeight = camera.rect.w * sh;\n    var cameraLeft = camera.rect.x * sw;\n    var cameraRight = cameraLeft + cameraWidth;\n    var cameraBottom = (1 - camera.rect.y) * sh;\n    var cameraTop = cameraBottom - cameraHeight;\n    var _x = x * sw / this._target.clientWidth;\n    var _y = y * sh / this._target.clientHeight;\n    if (_x >= cameraLeft && _x <= cameraRight && _y <= cameraBottom && _y >= cameraTop) {\n      _x = sw * (_x - cameraLeft) / cameraWidth;\n      _y = sh * (_y - cameraTop) / cameraHeight;\n      _y = sh - _y;\n      var scale = this._calculateScaleToScreen(element);\n      var hitCorners = this._buildHitCorners(element, element.screenCorners, scale.x, scale.y);\n      vecA.set(_x, _y, 1);\n      vecB.set(_x, _y, -1);\n      if (intersectLineQuad(vecA, vecB, hitCorners)) {\n        return true;\n      }\n    }\n    return false;\n  }, _checkElement3d:function(x, y, element, camera) {\n    if (element.maskedBy) {\n      var result = this._checkElement3d(x, y, element.maskedBy.element, camera);\n      if (!result) {\n        return false;\n      }\n    }\n    var sw = this._target.clientWidth;\n    var sh = this._target.clientHeight;\n    var cameraWidth = camera.rect.z * sw;\n    var cameraHeight = camera.rect.w * sh;\n    var cameraLeft = camera.rect.x * sw;\n    var cameraRight = cameraLeft + cameraWidth;\n    var cameraBottom = (1 - camera.rect.y) * sh;\n    var cameraTop = cameraBottom - cameraHeight;\n    var _x = x;\n    var _y = y;\n    if (x >= cameraLeft && x <= cameraRight && y <= cameraBottom && _y >= cameraTop) {\n      _x = sw * (_x - cameraLeft) / cameraWidth;\n      _y = sh * (_y - cameraTop) / cameraHeight;\n      var scale = element.entity.getWorldTransform().getScale();\n      var worldCorners = this._buildHitCorners(element, element.worldCorners, scale.x, scale.y);\n      var start = vecA;\n      var end = vecB;\n      camera.screenToWorld(_x, _y, camera.nearClip, start);\n      camera.screenToWorld(_x, _y, camera.farClip, end);\n      if (intersectLineQuad(start, end, worldCorners)) {\n        return true;\n      }\n    }\n    return false;\n  }});\n  Object.defineProperty(ElementInput.prototype, \"enabled\", {get:function() {\n    return this._enabled;\n  }, set:function(value) {\n    this._enabled = value;\n  }});\n  Object.defineProperty(ElementInput.prototype, \"app\", {get:function() {\n    return this._app || pc.app;\n  }, set:function(value) {\n    this._app = value;\n  }});\n  return {ElementInput:ElementInput, ElementInputEvent:ElementInputEvent, ElementMouseEvent:ElementMouseEvent, ElementTouchEvent:ElementTouchEvent};\n}());\nObject.assign(pc, function() {\n  var VrManager = function(app) {\n    pc.EventHandler.call(this);\n    var self = this;\n    this.isSupported = VrManager.isSupported;\n    this._index = {};\n    this.displays = [];\n    this.display = null;\n    this._app = app;\n    this._onDisplayConnect = this._onDisplayConnect.bind(this);\n    this._onDisplayDisconnect = this._onDisplayDisconnect.bind(this);\n    self._attach();\n    this._getDisplays(function(err, displays) {\n      if (err) {\n        self.fire(\"error\", err);\n      } else {\n        for (var i = 0;i < displays.length;i++) {\n          self._addDisplay(displays[i]);\n        }\n        self.fire(\"ready\", self.displays);\n      }\n    });\n  };\n  VrManager.prototype = Object.create(pc.EventHandler.prototype);\n  VrManager.prototype.constructor = VrManager;\n  if (typeof navigator !== \"undefined\") {\n    VrManager.isSupported = !!navigator.getVRDisplays;\n  } else {\n    VrManager.isSupported = false;\n  }\n  Object.assign(VrManager.prototype, {_attach:function() {\n    window.addEventListener(\"vrdisplayconnect\", this._onDisplayConnect);\n    window.addEventListener(\"vrdisplaydisconnect\", this._onDisplayDisconnect);\n  }, _detach:function() {\n    window.removeEventListener(\"vrdisplayconnect\", this._onDisplayConnect);\n    window.removeEventListener(\"vrdisplaydisconnect\", this._onDisplayDisconnect);\n  }, destroy:function() {\n    this._detach();\n  }, poll:function() {\n    var l = this.displays.length;\n    if (!l) {\n      return;\n    }\n    for (var i = 0;i < l;i++) {\n      if (this.displays[i]._camera) {\n        this.displays[i].poll();\n      }\n    }\n  }, _getDisplays:function(callback) {\n    if (navigator.getVRDisplays) {\n      navigator.getVRDisplays().then(function(displays) {\n        if (callback) {\n          callback(null, displays);\n        }\n      });\n    } else {\n      if (callback) {\n        callback(new Error(\"WebVR not supported\"));\n      }\n    }\n  }, _addDisplay:function(vrDisplay) {\n    if (this._index[vrDisplay.displayId]) {\n      return;\n    }\n    var display = new pc.VrDisplay(this._app, vrDisplay);\n    this._index[display.id] = display;\n    this.displays.push(display);\n    if (!this.display) {\n      this.display = display;\n    }\n    this.fire(\"displayconnect\", display);\n  }, _onDisplayConnect:function(e) {\n    if (e.detail && e.detail.display) {\n      this._addDisplay(e.detail.display);\n    } else {\n      this._addDisplay(e.display);\n    }\n  }, _onDisplayDisconnect:function(e) {\n    var id;\n    if (e.detail && e.detail.display) {\n      id = e.detail.display.displayId;\n    } else {\n      id = e.display.displayId;\n    }\n    var display = this._index[id];\n    if (!display) {\n      return;\n    }\n    display.destroy();\n    delete this._index[display.id];\n    var ind = this.displays.indexOf(display);\n    this.displays.splice(ind, 1);\n    if (this.display === display) {\n      if (this.displays.length) {\n        this.display = this.displays[0];\n      } else {\n        this.display = null;\n      }\n    }\n    this.fire(\"displaydisconnect\", display);\n  }});\n  return {VrManager:VrManager};\n}());\nObject.assign(pc, function() {\n  var VrDisplay = function(app, display) {\n    pc.EventHandler.call(this);\n    var self = this;\n    this._app = app;\n    this._device = app.graphicsDevice;\n    this.id = display.displayId;\n    this._frameData = null;\n    if (window.VRFrameData) {\n      this._frameData = new window.VRFrameData;\n    }\n    this.display = display;\n    this._camera = null;\n    this.sitToStandInv = new pc.Mat4;\n    this.leftView = new pc.Mat4;\n    this.leftProj = new pc.Mat4;\n    this.leftViewInv = new pc.Mat4;\n    this.leftPos = new pc.Vec3;\n    this.rightView = new pc.Mat4;\n    this.rightProj = new pc.Mat4;\n    this.rightViewInv = new pc.Mat4;\n    this.rightPos = new pc.Vec3;\n    this.combinedPos = new pc.Vec3;\n    this.combinedView = new pc.Mat4;\n    this.combinedProj = new pc.Mat4;\n    this.combinedViewInv = new pc.Mat4;\n    this.combinedFov = 0;\n    this.combinedAspect = 0;\n    this.presenting = false;\n    self._presentChange = function(event) {\n      var display;\n      if (event.display) {\n        display = event.display;\n      } else {\n        if (event.detail && event.detail.display) {\n          display = event.detail.display;\n        } else {\n          if (event.detail && event.detail.vrdisplay) {\n            display = event.detail.vrdisplay;\n          } else {\n            display = self.display;\n          }\n        }\n      }\n      if (display === self.display) {\n        self.presenting = self.display && self.display.isPresenting;\n        if (self.presenting) {\n          var leftEye = self.display.getEyeParameters(\"left\");\n          var rightEye = self.display.getEyeParameters(\"right\");\n          var w = Math.max(leftEye.renderWidth, rightEye.renderWidth) * 2;\n          var h = Math.max(leftEye.renderHeight, rightEye.renderHeight);\n          self._app.graphicsDevice.setResolution(w, h);\n          self._app._allowResize = false;\n        } else {\n          self._app.setCanvasResolution(pc.RESOLUTION_AUTO);\n          self._app._allowResize = true;\n        }\n        self.fire(\"beforepresentchange\", self);\n        self.fire(\"presentchange\", self);\n      }\n    };\n    window.addEventListener(\"vrdisplaypresentchange\", self._presentChange, false);\n  };\n  VrDisplay.prototype = Object.create(pc.EventHandler.prototype);\n  VrDisplay.prototype.constructor = VrDisplay;\n  Object.assign(VrDisplay.prototype, {destroy:function() {\n    window.removeEventListener(\"vrdisplaypresentchange\", self._presentChange);\n    if (this._camera) {\n      this._camera.vrDisplay = null;\n    }\n    this._camera = null;\n  }, poll:function() {\n    if (this.display) {\n      this.display.getFrameData(this._frameData);\n      this.leftProj.data = this._frameData.leftProjectionMatrix;\n      this.rightProj.data = this._frameData.rightProjectionMatrix;\n      var stage = this.display.stageParameters;\n      if (stage) {\n        this.sitToStandInv.set(stage.sittingToStandingTransform).invert();\n        this.combinedView.set(this._frameData.leftViewMatrix);\n        this.leftView.mul2(this.combinedView, this.sitToStandInv);\n        this.combinedView.set(this._frameData.rightViewMatrix);\n        this.rightView.mul2(this.combinedView, this.sitToStandInv);\n      } else {\n        this.leftView.set(this._frameData.leftViewMatrix);\n        this.rightView.set(this._frameData.rightViewMatrix);\n      }\n      var nx = this.leftProj.data[3] + this.leftProj.data[0];\n      var nz = this.leftProj.data[11] + this.leftProj.data[8];\n      var l = 1.0 / Math.sqrt(nx * nx + nz * nz);\n      nx *= l;\n      nz *= l;\n      var maxFov = -Math.atan2(nz, nx);\n      nx = this.rightProj.data[3] + this.rightProj.data[0];\n      nz = this.rightProj.data[11] + this.rightProj.data[8];\n      l = 1.0 / Math.sqrt(nx * nx + nz * nz);\n      nx *= l;\n      nz *= l;\n      maxFov = Math.max(maxFov, -Math.atan2(nz, nx));\n      maxFov *= 2.0;\n      this.combinedFov = maxFov;\n      var aspect = this.rightProj.data[5] / this.rightProj.data[0];\n      this.combinedAspect = aspect;\n      var view = this.combinedView;\n      view.copy(this.leftView);\n      view.invert();\n      this.leftViewInv.copy(view);\n      var pos = this.combinedPos;\n      pos.x = this.leftPos.x = view.data[12];\n      pos.y = this.leftPos.y = view.data[13];\n      pos.z = this.leftPos.z = view.data[14];\n      view.copy(this.rightView);\n      view.invert();\n      this.rightViewInv.copy(view);\n      var deltaX = pos.x - view.data[12];\n      var deltaY = pos.y - view.data[13];\n      var deltaZ = pos.z - view.data[14];\n      var dist = Math.sqrt(deltaX * deltaX + deltaY * deltaY + deltaZ * deltaZ);\n      this.rightPos.x = view.data[12];\n      this.rightPos.y = view.data[13];\n      this.rightPos.z = view.data[14];\n      pos.x += view.data[12];\n      pos.y += view.data[13];\n      pos.z += view.data[14];\n      pos.x *= 0.5;\n      pos.y *= 0.5;\n      pos.z *= 0.5;\n      var b = Math.PI * 0.5;\n      var c = maxFov * 0.5;\n      var a = Math.PI - (b + c);\n      var offset = dist * 0.5 * Math.sin(a);\n      var fwdX = view.data[8];\n      var fwdY = view.data[9];\n      var fwdZ = view.data[10];\n      view.data[12] = pos.x + fwdX * offset;\n      view.data[13] = pos.y + fwdY * offset;\n      view.data[14] = pos.z + fwdZ * offset;\n      this.combinedViewInv.copy(view);\n      view.invert();\n      this.combinedProj.setPerspective(maxFov * pc.math.RAD_TO_DEG, aspect, this.display.depthNear + offset, this.display.depthFar + offset, true);\n    }\n  }, requestPresent:function(callback) {\n    if (!this.display) {\n      if (callback) {\n        callback(new Error(\"No VrDisplay to requestPresent\"));\n      }\n      return;\n    }\n    if (this.presenting) {\n      if (callback) {\n        callback(new Error(\"VrDisplay already presenting\"));\n      }\n      return;\n    }\n    this.display.requestPresent([{source:this._device.canvas}]).then(function() {\n      if (callback) {\n        callback();\n      }\n    }, function(err) {\n      if (callback) {\n        callback(err);\n      }\n    });\n  }, exitPresent:function(callback) {\n    if (!this.display) {\n      if (callback) {\n        callback(new Error(\"No VrDisplay to exitPresent\"));\n      }\n    }\n    if (!this.presenting) {\n      if (callback) {\n        callback(new Error(\"VrDisplay not presenting\"));\n      }\n      return;\n    }\n    this.display.exitPresent().then(function() {\n      if (callback) {\n        callback();\n      }\n    }, function() {\n      if (callback) {\n        callback(new Error(\"exitPresent failed\"));\n      }\n    });\n  }, requestAnimationFrame:function(fn) {\n    if (this.display) {\n      this.display.requestAnimationFrame(fn);\n    }\n  }, submitFrame:function() {\n    if (this.display) {\n      this.display.submitFrame();\n    }\n  }, reset:function() {\n    if (this.display) {\n      this.display.resetPose();\n    }\n  }, setClipPlanes:function(n, f) {\n    if (this.display) {\n      this.display.depthNear = n;\n      this.display.depthFar = f;\n    }\n  }, getFrameData:function() {\n    if (this.display) {\n      return this._frameData;\n    }\n  }});\n  Object.defineProperty(VrDisplay.prototype, \"capabilities\", {get:function() {\n    if (this.display) {\n      return this.display.capabilities;\n    }\n    return {};\n  }});\n  return {VrDisplay:VrDisplay};\n}());\nObject.assign(pc, function() {\n  var Http = function Http() {\n  };\n  Http.ContentType = {FORM_URLENCODED:\"application/x-www-form-urlencoded\", GIF:\"image/gif\", JPEG:\"image/jpeg\", DDS:\"image/dds\", JSON:\"application/json\", PNG:\"image/png\", TEXT:\"text/plain\", XML:\"application/xml\", WAV:\"audio/x-wav\", OGG:\"audio/ogg\", MP3:\"audio/mpeg\", MP4:\"audio/mp4\", AAC:\"audio/aac\", BIN:\"application/octet-stream\", BASIS:\"image/basis\"};\n  Http.ResponseType = {TEXT:\"text\", ARRAY_BUFFER:\"arraybuffer\", BLOB:\"blob\", DOCUMENT:\"document\", JSON:\"json\"};\n  Http.binaryExtensions = [\".model\", \".wav\", \".ogg\", \".mp3\", \".mp4\", \".m4a\", \".aac\", \".dds\"];\n  Http.retryDelay = 100;\n  Object.assign(Http.prototype, {ContentType:Http.ContentType, ResponseType:Http.ResponseType, binaryExtensions:Http.binaryExtensions, get:function(url, options, callback) {\n    if (typeof options === \"function\") {\n      callback = options;\n      options = {};\n    }\n    return this.request(\"GET\", url, options, callback);\n  }, post:function(url, data, options, callback) {\n    if (typeof options === \"function\") {\n      callback = options;\n      options = {};\n    }\n    options.postdata = data;\n    return this.request(\"POST\", url, options, callback);\n  }, put:function(url, data, options, callback) {\n    if (typeof options === \"function\") {\n      callback = options;\n      options = {};\n    }\n    options.postdata = data;\n    return this.request(\"PUT\", url, options, callback);\n  }, del:function(url, options, callback) {\n    if (typeof options === \"function\") {\n      callback = options;\n      options = {};\n    }\n    return this.request(\"DELETE\", url, options, callback);\n  }, request:function(method, url, options, callback) {\n    var uri, query, timestamp, postdata, xhr;\n    var errored = false;\n    if (typeof options === \"function\") {\n      callback = options;\n      options = {};\n    }\n    if (options.retry) {\n      options = Object.assign({retries:0, maxRetries:5}, options);\n    }\n    options.callback = callback;\n    if (options.async == null) {\n      options.async = true;\n    }\n    if (options.headers == null) {\n      options.headers = {};\n    }\n    if (options.postdata != null) {\n      if (options.postdata instanceof Document) {\n        postdata = options.postdata;\n      } else {\n        if (options.postdata instanceof FormData) {\n          postdata = options.postdata;\n        } else {\n          if (options.postdata instanceof Object) {\n            var contentType = options.headers[\"Content-Type\"];\n            if (contentType === undefined) {\n              options.headers[\"Content-Type\"] = Http.ContentType.FORM_URLENCODED;\n              contentType = options.headers[\"Content-Type\"];\n            }\n            switch(contentType) {\n              case Http.ContentType.FORM_URLENCODED:\n                postdata = \"\";\n                var bFirstItem = true;\n                for (var key in options.postdata) {\n                  if (options.postdata.hasOwnProperty(key)) {\n                    if (bFirstItem) {\n                      bFirstItem = false;\n                    } else {\n                      postdata += \"&\";\n                    }\n                    postdata += escape(key) + \"=\" + escape(options.postdata[key]);\n                  }\n                }\n                break;\n              default:\n              case Http.ContentType.JSON:\n                if (contentType == null) {\n                  options.headers[\"Content-Type\"] = Http.ContentType.JSON;\n                }\n                postdata = JSON.stringify(options.postdata);\n                break;\n            }\n          } else {\n            postdata = options.postdata;\n          }\n        }\n      }\n    }\n    if (options.cache === false) {\n      timestamp = pc.time.now();\n      uri = new pc.URI(url);\n      if (!uri.query) {\n        uri.query = \"ts=\" + timestamp;\n      } else {\n        uri.query = uri.query + \"&ts=\" + timestamp;\n      }\n      url = uri.toString();\n    }\n    if (options.query) {\n      uri = new pc.URI(url);\n      query = pc.extend(uri.getQuery(), options.query);\n      uri.setQuery(query);\n      url = uri.toString();\n    }\n    xhr = new XMLHttpRequest;\n    xhr.open(method, url, options.async);\n    xhr.withCredentials = options.withCredentials !== undefined ? options.withCredentials : false;\n    xhr.responseType = options.responseType || this._guessResponseType(url);\n    for (var header in options.headers) {\n      if (options.headers.hasOwnProperty(header)) {\n        xhr.setRequestHeader(header, options.headers[header]);\n      }\n    }\n    xhr.onreadystatechange = function() {\n      this._onReadyStateChange(method, url, options, xhr);\n    }.bind(this);\n    xhr.onerror = function() {\n      this._onError(method, url, options, xhr);\n      errored = true;\n    }.bind(this);\n    try {\n      xhr.send(postdata);\n    } catch (e) {\n      if (!errored) {\n        options.error(xhr.status, xhr, e);\n      }\n    }\n    return xhr;\n  }, _guessResponseType:function(url) {\n    var uri = new pc.URI(url);\n    var ext = pc.path.getExtension(uri.path);\n    if (Http.binaryExtensions.indexOf(ext) >= 0) {\n      return Http.ResponseType.ARRAY_BUFFER;\n    }\n    if (ext === \".xml\") {\n      return Http.ResponseType.DOCUMENT;\n    }\n    return Http.ResponseType.TEXT;\n  }, _isBinaryContentType:function(contentType) {\n    var binTypes = [Http.ContentType.MP4, Http.ContentType.WAV, Http.ContentType.OGG, Http.ContentType.MP3, Http.ContentType.BIN, Http.ContentType.DDS, Http.ContentType.BASIS];\n    if (binTypes.indexOf(contentType) >= 0) {\n      return true;\n    }\n    return false;\n  }, _onReadyStateChange:function(method, url, options, xhr) {\n    if (xhr.readyState === 4) {\n      switch(xhr.status) {\n        case 0:\n          {\n            if (url[0] != \"/\") {\n              this._onSuccess(method, url, options, xhr);\n            } else {\n              this._onError(method, url, options, xhr);\n            }\n            break;\n          }\n        case 200:\n        case 201:\n        case 206:\n        case 304:\n          {\n            this._onSuccess(method, url, options, xhr);\n            break;\n          }\n        default:\n          {\n            this._onError(method, url, options, xhr);\n            break;\n          }\n      }\n    }\n  }, _onSuccess:function(method, url, options, xhr) {\n    var response;\n    var header;\n    var contentType;\n    var parts;\n    header = xhr.getResponseHeader(\"Content-Type\");\n    if (header) {\n      parts = header.split(\";\");\n      contentType = parts[0].trim();\n    }\n    try {\n      if (contentType === this.ContentType.JSON || url.split(\"?\")[0].endsWith(\".json\")) {\n        response = JSON.parse(xhr.responseText);\n      } else {\n        if (this._isBinaryContentType(contentType)) {\n          response = xhr.response;\n        } else {\n          if (contentType) {\n            logWARNING(pc.string.format(\"responseType: {0} being served with Content-Type: {1}\", xhr.responseType, contentType));\n          }\n          if (xhr.responseType === Http.ResponseType.ARRAY_BUFFER) {\n            response = xhr.response;\n          } else {\n            if (xhr.responseType === Http.ResponseType.BLOB || xhr.responseType === Http.ResponseType.JSON) {\n              response = xhr.response;\n            } else {\n              if (xhr.responseType === Http.ResponseType.DOCUMENT || contentType === this.ContentType.XML) {\n                response = xhr.responseXML;\n              } else {\n                response = xhr.responseText;\n              }\n            }\n          }\n        }\n      }\n      options.callback(null, response);\n    } catch (err) {\n      options.callback(err);\n    }\n  }, _onError:function(method, url, options, xhr) {\n    if (options.retrying) {\n      return;\n    }\n    if (options.retry && options.retries < options.maxRetries) {\n      options.retries++;\n      options.retrying = true;\n      var retryDelay = pc.math.clamp(Math.pow(2, options.retries) * Http.retryDelay, 0, options.maxRetryDelay || 5000);\n      console.log(method + \": \" + url + \" - Error \" + xhr.status + \". Retrying in \" + retryDelay + \" ms\");\n      setTimeout(function() {\n        options.retrying = false;\n        this.request(method, url, options, options.callback);\n      }.bind(this), retryDelay);\n    } else {\n      options.callback(xhr.status === 0 ? \"Network error\" : xhr.status, null);\n    }\n  }});\n  return {Http:Http, http:new Http};\n}());\nObject.assign(pc, function() {\n  var ScriptRegistry = function(app) {\n    pc.EventHandler.call(this);\n    this.app = app;\n    this._scripts = {};\n    this._list = [];\n  };\n  ScriptRegistry.prototype = Object.create(pc.EventHandler.prototype);\n  ScriptRegistry.prototype.constructor = ScriptRegistry;\n  ScriptRegistry.prototype.destroy = function() {\n    this.app = null;\n    this.off();\n  };\n  ScriptRegistry.prototype.add = function(script) {\n    var self = this;\n    if (this._scripts.hasOwnProperty(script.__name)) {\n      setTimeout(function() {\n        if (script.prototype.swap) {\n          var old = self._scripts[script.__name];\n          var ind = self._list.indexOf(old);\n          self._list[ind] = script;\n          self._scripts[script.__name] = script;\n          self.fire(\"swap\", script.__name, script);\n          self.fire(\"swap:\" + script.__name, script);\n        } else {\n          console.warn(\"script registry already has '\" + script.__name + \"' script, define 'swap' method for new script type to enable code hot swapping\");\n        }\n      });\n      return false;\n    }\n    this._scripts[script.__name] = script;\n    this._list.push(script);\n    this.fire(\"add\", script.__name, script);\n    this.fire(\"add:\" + script.__name, script);\n    setTimeout(function() {\n      if (!self._scripts.hasOwnProperty(script.__name)) {\n        return;\n      }\n      if (!self.app || !self.app.systems || !self.app.systems.script) {\n        return;\n      }\n      var components = self.app.systems.script._components;\n      var i, scriptInstance, attributes;\n      var scriptInstances = [];\n      var scriptInstancesInitialized = [];\n      for (components.loopIndex = 0;components.loopIndex < components.length;components.loopIndex++) {\n        var component = components.items[components.loopIndex];\n        if (component._scriptsIndex[script.__name] && component._scriptsIndex[script.__name].awaiting) {\n          if (component._scriptsData && component._scriptsData[script.__name]) {\n            attributes = component._scriptsData[script.__name].attributes;\n          }\n          scriptInstance = component.create(script.__name, {preloading:true, ind:component._scriptsIndex[script.__name].ind, attributes:attributes});\n          if (scriptInstance) {\n            scriptInstances.push(scriptInstance);\n          }\n        }\n      }\n      for (i = 0;i < scriptInstances.length;i++) {\n        scriptInstances[i].__initializeAttributes();\n      }\n      for (i = 0;i < scriptInstances.length;i++) {\n        if (scriptInstances[i].enabled) {\n          scriptInstances[i]._initialized = true;\n          scriptInstancesInitialized.push(scriptInstances[i]);\n          if (scriptInstances[i].initialize) {\n            scriptInstances[i].initialize();\n          }\n        }\n      }\n      for (i = 0;i < scriptInstancesInitialized.length;i++) {\n        if (!scriptInstancesInitialized[i].enabled || scriptInstancesInitialized[i]._postInitialized) {\n          continue;\n        }\n        scriptInstancesInitialized[i]._postInitialized = true;\n        if (scriptInstancesInitialized[i].postInitialize) {\n          scriptInstancesInitialized[i].postInitialize();\n        }\n      }\n    });\n    return true;\n  };\n  ScriptRegistry.prototype.remove = function(name) {\n    if (typeof name === \"function\") {\n      name = name.__name;\n    }\n    if (!this._scripts.hasOwnProperty(name)) {\n      return false;\n    }\n    var item = this._scripts[name];\n    delete this._scripts[name];\n    var ind = this._list.indexOf(item);\n    this._list.splice(ind, 1);\n    this.fire(\"remove\", name, item);\n    this.fire(\"remove:\" + name, item);\n    return true;\n  };\n  ScriptRegistry.prototype.get = function(name) {\n    return this._scripts[name] || null;\n  };\n  ScriptRegistry.prototype.has = function(name) {\n    return this._scripts.hasOwnProperty(name);\n  };\n  ScriptRegistry.prototype.list = function() {\n    return this._list;\n  };\n  return {ScriptRegistry:ScriptRegistry};\n}());\nObject.assign(pc, function() {\n  var components = [\"x\", \"y\", \"z\", \"w\"];\n  var rawToValue = function(app, args, value, old) {\n    var i;\n    switch(args.type) {\n      case \"boolean\":\n        return !!value;\n      case \"number\":\n        if (typeof value === \"number\") {\n          return value;\n        } else {\n          if (typeof value === \"string\") {\n            var v = parseInt(value, 10);\n            if (isNaN(v)) {\n              return null;\n            }\n            return v;\n          } else {\n            if (typeof value === \"boolean\") {\n              return 0 + value;\n            }\n          }\n        }\n        return null;\n      case \"json\":\n        if (typeof value === \"object\") {\n          return value;\n        }\n        try {\n          return JSON.parse(value);\n        } catch (ex) {\n          return null;\n        }\n      case \"asset\":\n        if (value instanceof pc.Asset) {\n          return value;\n        } else {\n          if (typeof value === \"number\") {\n            return app.assets.get(value) || null;\n          } else {\n            if (typeof value === \"string\") {\n              return app.assets.get(parseInt(value, 10)) || null;\n            }\n          }\n        }\n        return null;\n      case \"entity\":\n        if (value instanceof pc.GraphNode) {\n          return value;\n        } else {\n          if (typeof value === \"string\") {\n            return app.getEntityFromIndex(value);\n          }\n        }\n        return null;\n      case \"rgb\":\n      case \"rgba\":\n        if (value instanceof pc.Color) {\n          if (old instanceof pc.Color) {\n            old.copy(value);\n            return old;\n          }\n          return value.clone();\n        } else {\n          if (value instanceof Array && value.length >= 3 && value.length <= 4) {\n            for (i = 0;i < value.length;i++) {\n              if (typeof value[i] !== \"number\") {\n                return null;\n              }\n            }\n            if (!old) {\n              old = new pc.Color;\n            }\n            old.r = value[0];\n            old.g = value[1];\n            old.b = value[2];\n            old.a = value.length === 3 ? 1 : value[3];\n            return old;\n          } else {\n            if (typeof value === \"string\" && /#([0-9abcdef]{2}){3,4}/i.test(value)) {\n              if (!old) {\n                old = new pc.Color;\n              }\n              old.fromString(value);\n              return old;\n            }\n          }\n        }\n        return null;\n      case \"vec2\":\n      case \"vec3\":\n      case \"vec4\":\n        var len = parseInt(args.type.slice(3), 10);\n        if (value instanceof pc[\"Vec\" + len]) {\n          if (old instanceof pc[\"Vec\" + len]) {\n            old.copy(value);\n            return old;\n          }\n          return value.clone();\n        } else {\n          if (value instanceof Array && value.length === len) {\n            for (i = 0;i < value.length;i++) {\n              if (typeof value[i] !== \"number\") {\n                return null;\n              }\n            }\n            if (!old) {\n              old = new pc[\"Vec\" + len];\n            }\n            for (i = 0;i < len;i++) {\n              old[components[i]] = value[i];\n            }\n            return old;\n          }\n        }\n        return null;\n      case \"curve\":\n        if (value) {\n          var curve;\n          if (value instanceof pc.Curve || value instanceof pc.CurveSet) {\n            curve = value.clone();\n          } else {\n            var CurveType = value.keys[0] instanceof Array ? pc.CurveSet : pc.Curve;\n            curve = new CurveType(value.keys);\n            curve.type = value.type;\n          }\n          return curve;\n        }\n        break;\n    }\n    return value;\n  };\n  var ScriptAttributes = function(scriptType) {\n    this.scriptType = scriptType;\n    this.index = {};\n  };\n  ScriptAttributes.prototype.add = function(name, args) {\n    if (this.index[name]) {\n      return;\n    } else {\n      if (pc.createScript.reservedAttributes[name]) {\n        return;\n      }\n    }\n    this.index[name] = args;\n    Object.defineProperty(this.scriptType.prototype, name, {get:function() {\n      return this.__attributes[name];\n    }, set:function(raw) {\n      var old = this.__attributes[name];\n      if (args.array) {\n        this.__attributes[name] = [];\n        if (raw) {\n          var i;\n          var len;\n          for (i = 0, len = raw.length;i < len;i++) {\n            this.__attributes[name].push(rawToValue(this.app, args, raw[i], old ? old[i] : null));\n          }\n        }\n      } else {\n        this.__attributes[name] = rawToValue(this.app, args, raw, old);\n      }\n      this.fire(\"attr\", name, this.__attributes[name], old);\n      this.fire(\"attr:\" + name, this.__attributes[name], old);\n    }});\n  };\n  ScriptAttributes.prototype.remove = function(name) {\n    if (!this.index[name]) {\n      return false;\n    }\n    delete this.index[name];\n    delete this.scriptType.prototype[name];\n    return true;\n  };\n  ScriptAttributes.prototype.has = function(name) {\n    return !!this.index[name];\n  };\n  ScriptAttributes.prototype.get = function(name) {\n    return this.index[name] || null;\n  };\n  var createScript = function(name, app) {\n    if (pc.script.legacy) {\n      return null;\n    }\n    if (createScript.reservedScripts[name]) {\n      throw new Error(\"script name: '\" + name + \"' is reserved, please change script name\");\n    }\n    var script = function(args) {\n      pc.EventHandler.call(this);\n      this.app = args.app;\n      this.entity = args.entity;\n      this._enabled = typeof args.enabled === \"boolean\" ? args.enabled : true;\n      this._enabledOld = this.enabled;\n      this.__destroyed = false;\n      this.__attributes = {};\n      this.__attributesRaw = args.attributes || {};\n      this.__scriptType = script;\n      this.__executionOrder = -1;\n    };\n    script.prototype = Object.create(pc.EventHandler.prototype);\n    script.prototype.constructor = script;\n    script.__name = name;\n    script.attributes = new ScriptAttributes(script);\n    script.prototype.__initializeAttributes = function(force) {\n      if (!force && !this.__attributesRaw) {\n        return;\n      }\n      for (var key in script.attributes.index) {\n        if (this.__attributesRaw && this.__attributesRaw.hasOwnProperty(key)) {\n          this[key] = this.__attributesRaw[key];\n        } else {\n          if (!this.__attributes.hasOwnProperty(key)) {\n            if (script.attributes.index[key].hasOwnProperty(\"default\")) {\n              this[key] = script.attributes.index[key][\"default\"];\n            } else {\n              this[key] = null;\n            }\n          }\n        }\n      }\n      this.__attributesRaw = null;\n    };\n    script.extend = function(methods) {\n      for (var key in methods) {\n        if (!methods.hasOwnProperty(key)) {\n          continue;\n        }\n        script.prototype[key] = methods[key];\n      }\n    };\n    Object.defineProperty(script.prototype, \"enabled\", {get:function() {\n      return this._enabled && !this._destroyed && this.entity.script.enabled && this.entity.enabled;\n    }, set:function(value) {\n      this._enabled = !!value;\n      if (this.enabled === this._enabledOld) {\n        return;\n      }\n      this._enabledOld = this.enabled;\n      this.fire(this.enabled ? \"enable\" : \"disable\");\n      this.fire(\"state\", this.enabled);\n      if (!this._initialized && this.enabled) {\n        this._initialized = true;\n        this.__initializeAttributes(true);\n        if (this.initialize) {\n          this.entity.script._scriptMethod(this, pc.ScriptComponent.scriptMethods.initialize);\n        }\n      }\n      if (this._initialized && !this._postInitialized && this.enabled && !this.entity.script._beingEnabled) {\n        this._postInitialized = true;\n        if (this.postInitialize) {\n          this.entity.script._scriptMethod(this, pc.ScriptComponent.scriptMethods.postInitialize);\n        }\n      }\n    }});\n    var registry = app ? app.scripts : pc.Application.getApplication().scripts;\n    registry.add(script);\n    pc.ScriptHandler._push(script);\n    return script;\n  };\n  createScript.reservedScripts = [\"system\", \"entity\", \"create\", \"destroy\", \"swap\", \"move\", \"scripts\", \"_scripts\", \"_scriptsIndex\", \"_scriptsData\", \"enabled\", \"_oldState\", \"onEnable\", \"onDisable\", \"onPostStateChange\", \"_onSetEnabled\", \"_checkState\", \"_onBeforeRemove\", \"_onInitializeAttributes\", \"_onInitialize\", \"_onPostInitialize\", \"_onUpdate\", \"_onPostUpdate\", \"_callbacks\", \"has\", \"on\", \"off\", \"fire\", \"once\", \"hasEvent\"];\n  var reservedScripts = {};\n  var i;\n  for (i = 0;i < createScript.reservedScripts.length;i++) {\n    reservedScripts[createScript.reservedScripts[i]] = 1;\n  }\n  createScript.reservedScripts = reservedScripts;\n  createScript.reservedAttributes = [\"app\", \"entity\", \"enabled\", \"_enabled\", \"_enabledOld\", \"_destroyed\", \"__attributes\", \"__attributesRaw\", \"__scriptType\", \"__executionOrder\", \"_callbacks\", \"has\", \"on\", \"off\", \"fire\", \"once\", \"hasEvent\"];\n  var reservedAttributes = {};\n  for (i = 0;i < createScript.reservedAttributes.length;i++) {\n    reservedAttributes[createScript.reservedAttributes[i]] = 1;\n  }\n  createScript.reservedAttributes = reservedAttributes;\n  return {createScript:createScript};\n}());\nObject.assign(pc, function() {\n  var Bundle = function(files) {\n    this._blobUrls = {};\n    for (var i = 0, len = files.length;i < len;i++) {\n      if (files[i].url) {\n        this._blobUrls[files[i].name] = files[i].url;\n      }\n    }\n  };\n  Bundle.prototype.hasBlobUrl = function(url) {\n    return !!this._blobUrls[url];\n  };\n  Bundle.prototype.getBlobUrl = function(url) {\n    return this._blobUrls[url];\n  };\n  Bundle.prototype.destroy = function() {\n    for (var key in this._blobUrls) {\n      URL.revokeObjectURL(this._blobUrls[key]);\n    }\n    this._blobUrls = null;\n  };\n  return {Bundle:Bundle};\n}());\nObject.assign(pc, function() {\n  var BundleRegistry = function(assets) {\n    this._assets = assets;\n    this._bundleAssets = {};\n    this._assetsInBundles = {};\n    this._urlsInBundles = {};\n    this._fileRequests = {};\n    this._assets.on(\"add\", this._onAssetAdded, this);\n    this._assets.on(\"remove\", this._onAssetRemoved, this);\n  };\n  Object.assign(BundleRegistry.prototype, {_onAssetAdded:function(asset) {\n    if (asset.type === \"bundle\") {\n      this._bundleAssets[asset.id] = asset;\n      this._registerBundleEventListeners(asset.id);\n      for (var i = 0, len = asset.data.assets.length;i < len;i++) {\n        this._indexAssetInBundle(asset.data.assets[i], asset);\n      }\n    } else {\n      if (this._assetsInBundles[asset.id]) {\n        this._indexAssetFileUrls(asset);\n      }\n    }\n  }, _registerBundleEventListeners:function(bundleAssetId) {\n    this._assets.on(\"load:\" + bundleAssetId, this._onBundleLoaded, this);\n    this._assets.on(\"error:\" + bundleAssetId, this._onBundleError, this);\n  }, _unregisterBundleEventListeners:function(bundleAssetId) {\n    this._assets.off(\"load:\" + bundleAssetId, this._onBundleLoaded, this);\n    this._assets.off(\"error:\" + bundleAssetId, this._onBundleError, this);\n  }, _indexAssetInBundle:function(assetId, bundleAsset) {\n    if (!this._assetsInBundles[assetId]) {\n      this._assetsInBundles[assetId] = [bundleAsset];\n    } else {\n      var bundles = this._assetsInBundles[assetId];\n      var idx = bundles.indexOf(bundleAsset);\n      if (idx === -1) {\n        bundles.push(bundleAsset);\n      }\n    }\n    var asset = this._assets.get(assetId);\n    if (asset) {\n      this._indexAssetFileUrls(asset);\n    }\n  }, _indexAssetFileUrls:function(asset) {\n    var urls = this._getAssetFileUrls(asset);\n    if (!urls) {\n      return;\n    }\n    for (var i = 0, len = urls.length;i < len;i++) {\n      var url = urls[i];\n      this._urlsInBundles[url] = this._assetsInBundles[asset.id];\n    }\n  }, _getAssetFileUrls:function(asset) {\n    var url = asset.getFileUrl();\n    if (!url) {\n      return null;\n    }\n    url = this._normalizeUrl(url);\n    var urls = [url];\n    if (asset.type === \"font\") {\n      var numFiles = asset.data.info.maps.length;\n      for (var i = 1;i < numFiles;i++) {\n        urls.push(url.replace(\".png\", i + \".png\"));\n      }\n    }\n    return urls;\n  }, _normalizeUrl:function(url) {\n    return url && url.split(\"?\")[0];\n  }, _onAssetRemoved:function(asset) {\n    if (asset.type === \"bundle\") {\n      delete this._bundleAssets[asset.id];\n      this._unregisterBundleEventListeners(asset.id);\n      var idx, id;\n      for (id in this._assetsInBundles) {\n        var array = this._assetsInBundles[id];\n        idx = array.indexOf(asset);\n        if (idx !== -1) {\n          array.splice(idx, 1);\n          if (!array.length) {\n            delete this._assetsInBundles[id];\n            for (var url in this._urlsInBundles) {\n              if (this._urlsInBundles[url] === array) {\n                delete this._urlsInBundles[url];\n              }\n            }\n          }\n        }\n      }\n      this._onBundleError(\"Bundle \" + asset.id + \" was removed\", asset);\n    } else {\n      if (this._assetsInBundles[asset.id]) {\n        delete this._assetsInBundles[asset.id];\n        var urls = this._getAssetFileUrls(asset);\n        for (var i = 0, len = urls.length;i < len;i++) {\n          delete this._urlsInBundles[urls[i]];\n        }\n      }\n    }\n  }, _onBundleLoaded:function(bundleAsset) {\n    if (!bundleAsset.resource) {\n      this._onBundleError(\"Bundle \" + bundleAsset.id + \" failed to load\", bundleAsset);\n      return;\n    }\n    requestAnimationFrame(function() {\n      if (!this._fileRequests) {\n        return;\n      }\n      for (var url in this._fileRequests) {\n        var bundles = this._urlsInBundles[url];\n        if (!bundles || bundles.indexOf(bundleAsset) === -1) {\n          continue;\n        }\n        var decodedUrl = decodeURIComponent(url);\n        var err = null;\n        if (!bundleAsset.resource.hasBlobUrl(decodedUrl)) {\n          err = \"Bundle \" + bundleAsset.id + \" does not contain URL \" + url;\n        }\n        var requests = this._fileRequests[url];\n        for (var i = 0, len = requests.length;i < len;i++) {\n          if (err) {\n            requests[i](err);\n          } else {\n            requests[i](null, bundleAsset.resource.getBlobUrl(decodedUrl));\n          }\n        }\n        delete this._fileRequests[url];\n      }\n    }.bind(this));\n  }, _onBundleError:function(err, bundleAsset) {\n    for (var url in this._fileRequests) {\n      var bundle = this._findLoadedOrLoadingBundleForUrl(url);\n      if (!bundle) {\n        var requests = this._fileRequests[url];\n        for (var i = 0, len = requests.length;i < len;i++) {\n          requests[i](err);\n        }\n        delete this._fileRequests[url];\n      }\n    }\n  }, _findLoadedOrLoadingBundleForUrl:function(url) {\n    var bundles = this._urlsInBundles[url];\n    if (!bundles) {\n      return null;\n    }\n    var len = bundles.length;\n    var i;\n    for (i = 0;i < len;i++) {\n      if (bundles[i].loaded && bundles[i].resource) {\n        return bundles[i];\n      }\n    }\n    for (i = 0;i < len;i++) {\n      if (bundles[i].loading) {\n        return bundles[i];\n      }\n    }\n    return null;\n  }, listBundlesForAsset:function(asset) {\n    return this._assetsInBundles[asset.id] || null;\n  }, list:function() {\n    var result = [];\n    for (var id in this._bundleAssets) {\n      result.push(this._bundleAssets[id]);\n    }\n    return result;\n  }, hasUrl:function(url) {\n    return !!this._urlsInBundles[url];\n  }, canLoadUrl:function(url) {\n    return !!this._findLoadedOrLoadingBundleForUrl(url);\n  }, loadUrl:function(url, callback) {\n    var bundle = this._findLoadedOrLoadingBundleForUrl(url);\n    if (!bundle) {\n      callback(\"URL \" + url + \" not found in any bundles\");\n      return;\n    }\n    if (bundle.loaded) {\n      var decodedUrl = decodeURIComponent(url);\n      if (!bundle.resource.hasBlobUrl(decodedUrl)) {\n        callback(\"Bundle \" + bundle.id + \" does not contain URL \" + url);\n        return;\n      }\n      callback(null, bundle.resource.getBlobUrl(decodedUrl));\n    } else {\n      if (this._fileRequests.hasOwnProperty(url)) {\n        this._fileRequests[url].push(callback);\n      } else {\n        this._fileRequests[url] = [callback];\n      }\n    }\n  }, destroy:function() {\n    this._assets.off(\"add\", this._onAssetAdded, this);\n    this._assets.off(\"remove\", this._onAssetRemoved, this);\n    for (var id in this._bundleAssets) {\n      this._unregisterBundleEventListeners(id);\n    }\n    this._assets = null;\n    this._bundleAssets = null;\n    this._assetsInBundles = null;\n    this._urlsInBundles = null;\n    this._fileRequests = null;\n  }});\n  return {BundleRegistry:BundleRegistry};\n}());\nObject.assign(pc, function() {\n  var I18nParser = function() {\n  };\n  I18nParser.prototype._validate = function(data) {\n    if (!data.header) {\n      throw new Error('pc.I18n#addData: Missing \"header\" field');\n    }\n    if (!data.header.version) {\n      throw new Error('pc.I18n#addData: Missing \"header.version\" field');\n    }\n    if (data.header.version !== 1) {\n      throw new Error('pc.I18n#addData: Invalid \"header.version\" field');\n    }\n    if (!data.data) {\n      throw new Error('pc.I18n#addData: Missing \"data\" field');\n    } else {\n      if (!Array.isArray(data.data)) {\n        throw new Error('pc.I18n#addData: \"data\" field must be an array');\n      }\n    }\n    for (var i = 0, len = data.data.length;i < len;i++) {\n      var entry = data.data[i];\n      if (!entry.info) {\n        throw new Error('pc.I18n#addData: missing \"data[' + i + '].info\" field');\n      }\n      if (!entry.info.locale) {\n        throw new Error('pc.I18n#addData: missing \"data[' + i + '].info.locale\" field');\n      }\n      if (typeof entry.info.locale !== \"string\") {\n        throw new Error('pc.I18n#addData: \"data[' + i + '].info.locale\" must be a string');\n      }\n      if (!entry.messages) {\n        throw new Error('pc.I18n#addData: missing \"data[' + i + '].messages\" field');\n      }\n    }\n  };\n  I18nParser.prototype.parse = function(data) {\n    return data.data;\n  };\n  return {I18nParser:I18nParser};\n}());\nObject.assign(pc, function() {\n  var PLURALS = {};\n  var definePluralFn = function(locales, fn) {\n    for (var i = 0, len = locales.length;i < len;i++) {\n      PLURALS[locales[i]] = fn;\n    }\n  };\n  var getLang = function(locale) {\n    var idx = locale.indexOf(\"-\");\n    if (idx !== -1) {\n      return locale.substring(0, idx);\n    }\n    return locale;\n  };\n  var replaceLang = function(locale, desiredLang) {\n    var idx = locale.indexOf(\"-\");\n    if (idx !== -1) {\n      return desiredLang + locale.substring(idx);\n    }\n    return desiredLang;\n  };\n  var DEFAULT_LOCALE = \"en-US\";\n  var DEFAULT_LOCALE_FALLBACKS = {\"en\":\"en-US\", \"es\":\"en-ES\", \"zh\":\"zh-CN\", \"zh-HK\":\"zh-TW\", \"zh-TW\":\"zh-HK\", \"fr\":\"fr-FR\", \"de\":\"de-DE\", \"it\":\"it-IT\", \"ru\":\"ru-RU\", \"ja\":\"ja-JP\"};\n  definePluralFn([\"ja\", \"ko\", \"th\", \"vi\", \"zh\", \"id\"], function(n) {\n    return 0;\n  });\n  definePluralFn([\"fa\", \"hi\"], function(n) {\n    if (n >= 0 && n <= 1) {\n      return 0;\n    }\n    return 1;\n  });\n  definePluralFn([\"fr\", \"pt\"], function(n) {\n    if (n >= 0 && n < 2) {\n      return 0;\n    }\n    return 1;\n  });\n  definePluralFn([\"da\"], function(n) {\n    if (n === 1 || !Number.isInteger(n) && n >= 0 && n <= 1) {\n      return 0;\n    }\n    return 1;\n  });\n  definePluralFn([\"de\", \"en\", \"it\", \"el\", \"es\", \"tr\", \"fi\", \"sv\", \"nb\", \"no\", \"ur\"], function(n) {\n    if (n === 1) {\n      return 0;\n    }\n    return 1;\n  });\n  definePluralFn([\"ru\", \"uk\"], function(n) {\n    if (Number.isInteger(n)) {\n      var mod10 = n % 10;\n      var mod100 = n % 100;\n      if (mod10 === 1 && mod100 !== 11) {\n        return 0;\n      } else {\n        if (mod10 >= 2 && mod10 <= 4 && (mod100 < 12 || mod100 > 14)) {\n          return 1;\n        } else {\n          if (mod10 === 0 || mod10 >= 5 && mod10 <= 9 || mod100 >= 11 && mod100 <= 14) {\n            return 2;\n          }\n        }\n      }\n    }\n    return 3;\n  });\n  definePluralFn([\"pl\"], function(n) {\n    if (Number.isInteger(n)) {\n      if (n === 1) {\n        return 0;\n      }\n      var mod10 = n % 10;\n      var mod100 = n % 100;\n      if (mod10 >= 2 && mod10 <= 4 && (mod100 < 12 || mod100 > 14)) {\n        return 1;\n      } else {\n        if (mod10 >= 0 && mod10 <= 1 || mod10 >= 5 && mod10 <= 9 || mod100 >= 12 && mod100 <= 14) {\n          return 2;\n        }\n      }\n    }\n    return 3;\n  });\n  definePluralFn([\"ar\"], function(n) {\n    if (n === 0) {\n      return 0;\n    } else {\n      if (n === 1) {\n        return 1;\n      } else {\n        if (n === 2) {\n          return 2;\n        }\n      }\n    }\n    if (Number.isInteger(n)) {\n      var mod100 = n % 100;\n      if (mod100 >= 3 && mod100 <= 10) {\n        return 3;\n      } else {\n        if (mod100 >= 11 && mod100 <= 99) {\n          return 4;\n        }\n      }\n    }\n    return 5;\n  });\n  var DEFAULT_PLURAL_FN = PLURALS[getLang(DEFAULT_LOCALE)];\n  var getPluralFn = function(lang) {\n    return PLURALS[lang] || DEFAULT_PLURAL_FN;\n  };\n  var I18n = function(app) {\n    pc.EventHandler.call(this);\n    this.locale = DEFAULT_LOCALE;\n    this._translations = {};\n    this._availableLangs = {};\n    this._app = app;\n    this._assets = [];\n    this._parser = new pc.I18nParser;\n  };\n  I18n.prototype = Object.create(pc.EventHandler.prototype);\n  I18n.prototype.constructor = I18n;\n  I18n.findAvailableLocale = function(desiredLocale, availableLocales) {\n    if (availableLocales[desiredLocale]) {\n      return desiredLocale;\n    }\n    var fallback = DEFAULT_LOCALE_FALLBACKS[desiredLocale];\n    if (fallback && availableLocales[fallback]) {\n      return fallback;\n    }\n    var lang = getLang(desiredLocale);\n    fallback = DEFAULT_LOCALE_FALLBACKS[lang];\n    if (availableLocales[fallback]) {\n      return fallback;\n    }\n    if (availableLocales[lang]) {\n      return lang;\n    }\n    return DEFAULT_LOCALE;\n  };\n  I18n.prototype.getText = function(key, locale) {\n    var result = key;\n    var lang;\n    if (!locale) {\n      locale = this._locale;\n      lang = this._lang;\n    }\n    var translations = this._translations[locale];\n    if (!translations) {\n      if (!lang) {\n        lang = getLang(locale);\n      }\n      locale = this._findFallbackLocale(locale, lang);\n      translations = this._translations[locale];\n    }\n    if (translations && translations.hasOwnProperty(key)) {\n      result = translations[key];\n      if (Array.isArray(result)) {\n        result = result[0];\n      }\n      if (result === null || result === undefined) {\n        result = key;\n      }\n    }\n    return result;\n  };\n  I18n.prototype.getPluralText = function(key, n, locale) {\n    var result = key;\n    var pluralFn;\n    var lang;\n    if (!locale) {\n      locale = this._locale;\n      lang = this._lang;\n      pluralFn = this._pluralFn;\n    } else {\n      lang = getLang(locale);\n      pluralFn = getPluralFn(lang);\n    }\n    var translations = this._translations[locale];\n    if (!translations) {\n      locale = this._findFallbackLocale(locale, lang);\n      lang = getLang(locale);\n      pluralFn = getPluralFn(lang);\n      translations = this._translations[locale];\n    }\n    if (translations && translations[key] && pluralFn) {\n      var index = pluralFn(n);\n      result = translations[key][index];\n      if (result === null || result === undefined) {\n        result = key;\n      }\n    }\n    return result;\n  };\n  I18n.prototype.addData = function(data) {\n    var parsed;\n    try {\n      parsed = this._parser.parse(data);\n    } catch (err) {\n      console.error(err);\n      return;\n    }\n    for (var i = 0, len = parsed.length;i < len;i++) {\n      var entry = parsed[i];\n      var locale = entry.info.locale;\n      var messages = entry.messages;\n      if (!this._translations[locale]) {\n        this._translations[locale] = {};\n        var lang = getLang(locale);\n        if (!this._availableLangs[lang]) {\n          this._availableLangs[lang] = locale;\n        }\n      }\n      Object.assign(this._translations[locale], messages);\n      this.fire(\"data:add\", locale, messages);\n    }\n  };\n  I18n.prototype.removeData = function(data) {\n    var parsed;\n    var key;\n    try {\n      parsed = this._parser.parse(data);\n    } catch (err) {\n      console.error(err);\n      return;\n    }\n    for (var i = 0, len = parsed.length;i < len;i++) {\n      var entry = parsed[i];\n      var locale = entry.info.locale;\n      var translations = this._translations[locale];\n      if (!translations) {\n        continue;\n      }\n      var messages = entry.messages;\n      for (key in messages) {\n        delete translations[key];\n      }\n      var hasAny = false;\n      for (key in translations) {\n        hasAny = true;\n        break;\n      }\n      if (!hasAny) {\n        delete this._translations[locale];\n        delete this._availableLangs[getLang(locale)];\n      }\n      this.fire(\"data:remove\", locale, messages);\n    }\n  };\n  I18n.prototype.destroy = function() {\n    this._translations = null;\n    this._availableLangs = null;\n    this._assets = null;\n    this._parser = null;\n    this.off();\n  };\n  Object.defineProperty(I18n.prototype, \"locale\", {get:function() {\n    return this._locale;\n  }, set:function(value) {\n    if (this._locale === value) {\n      return;\n    }\n    var lang = getLang(value);\n    if (lang === \"in\") {\n      lang = \"id\";\n      value = replaceLang(value, lang);\n      if (this._locale === value) {\n        return;\n      }\n    }\n    var old = this._locale;\n    this._locale = value;\n    this._lang = lang;\n    this._pluralFn = getPluralFn(this._lang);\n    this.fire(\"set:locale\", value, old);\n  }});\n  Object.defineProperty(I18n.prototype, \"assets\", {get:function() {\n    return this._assets;\n  }, set:function(value) {\n    var i;\n    var len;\n    var id;\n    var asset;\n    var index = {};\n    for (i = 0, len = value.length;i < len;i++) {\n      id = value[i] instanceof pc.Asset ? value[i].id : value[i];\n      index[id] = true;\n    }\n    i = this._assets.length;\n    while (i--) {\n      id = this._assets[i];\n      if (!index[id]) {\n        this._app.assets.off(\"add:\" + id, this._onAssetAdd, this);\n        asset = this._app.assets.get(id);\n        if (asset) {\n          this._onAssetRemove(asset);\n        }\n        this._assets.splice(i, 1);\n      }\n    }\n    for (id in index) {\n      id = parseInt(id, 10);\n      if (this._assets.indexOf(id) !== -1) {\n        continue;\n      }\n      this._assets.push(id);\n      asset = this._app.assets.get(id);\n      if (!asset) {\n        this._app.assets.once(\"add:\" + id, this._onAssetAdd, this);\n      } else {\n        this._onAssetAdd(asset);\n      }\n    }\n  }});\n  I18n.prototype._findFallbackLocale = function(locale, lang) {\n    var result = DEFAULT_LOCALE_FALLBACKS[locale];\n    if (result && this._translations[result]) {\n      return result;\n    }\n    result = DEFAULT_LOCALE_FALLBACKS[lang];\n    if (result && this._translations[result]) {\n      return result;\n    }\n    result = this._availableLangs[lang];\n    if (result && this._translations[result]) {\n      return result;\n    }\n    return DEFAULT_LOCALE;\n  };\n  I18n.prototype._onAssetAdd = function(asset) {\n    asset.on(\"load\", this._onAssetLoad, this);\n    asset.on(\"change\", this._onAssetChange, this);\n    asset.on(\"remove\", this._onAssetRemove, this);\n    asset.on(\"unload\", this._onAssetUnload, this);\n    if (asset.resource) {\n      this._onAssetLoad(asset);\n    }\n  };\n  I18n.prototype._onAssetLoad = function(asset) {\n    this.addData(asset.resource);\n  };\n  I18n.prototype._onAssetChange = function(asset) {\n    if (asset.resource) {\n      this.addData(asset.resource);\n    }\n  };\n  I18n.prototype._onAssetRemove = function(asset) {\n    asset.off(\"load\", this._onAssetLoad, this);\n    asset.off(\"change\", this._onAssetChange, this);\n    asset.off(\"remove\", this._onAssetRemove, this);\n    asset.off(\"unload\", this._onAssetUnload, this);\n    if (asset.resource) {\n      this.removeData(asset.resource);\n    }\n    this._app.assets.once(\"add:\" + asset.id, this._onAssetAdd, this);\n  };\n  I18n.prototype._onAssetUnload = function(asset) {\n    if (asset.resource) {\n      this.removeData(asset.resource);\n    }\n  };\n  return {I18n:I18n};\n}());\nObject.assign(pc, function() {\n  var Template = function Template(app, data) {\n    this._app = app;\n    this._data = data;\n    this._expandedData = {};\n    this._templateRoot = null;\n  };\n  Template.prototype.instantiate = function() {\n    if (!this._templateRoot) {\n      this._parseTemplate();\n    }\n    return this._templateRoot.clone();\n  };\n  Template.prototype.getExpandedData = function() {\n    if (!this._expandedData.entities) {\n      this._expandedData.entities = pc.TemplateUtils.expandTemplateEntities(this._app, this._data.entities);\n    }\n    return this._expandedData;\n  };\n  Template.prototype._parseTemplate = function() {\n    var parser = new pc.SceneParser(this._app, true);\n    this._templateRoot = parser.parse(this.getExpandedData());\n  };\n  return {Template:Template};\n}());\nObject.assign(pc, function() {\n  var TemplateUtils = {waitForTemplatesInScene:function(data, assets, callback) {\n    if (data.collapsedInstances) {\n      var entities = pc.TemplateUtils._getAllCollapsedEntities(data);\n      pc.TemplateUtils.waitForTemplateAssets(entities, assets, callback, data);\n    } else {\n      callback(null, data);\n    }\n  }, waitForTemplateAssets:function(entities, assets, callback, response) {\n    var templateIds = pc.TemplateUtils._extractTemplateIds(entities);\n    var loader = new pc.AssetListLoader(templateIds, assets);\n    loader.load(function(err) {\n      callback(err, response);\n    });\n  }, _getAllCollapsedEntities:function(data) {\n    var entities = {};\n    data.collapsedInstances.forEach(function(h) {\n      Object.assign(entities, h.instanceEntities);\n    });\n    return entities;\n  }, _extractTemplateIds:function(entities) {\n    var templateIds = [];\n    for (var guid in entities) {\n      var id = entities[guid].template_id;\n      if (id) {\n        templateIds.push(id);\n      }\n    }\n    return templateIds;\n  }, expandTemplateEntities:function(app, entities) {\n    var result = {};\n    for (var guid in entities) {\n      var h = entities[guid];\n      result[guid] = h.collapsed_entity ? pc.TemplateUtils.expandEntity(app, h) : h;\n    }\n    return result;\n  }, expandEntity:function(app, data) {\n  }};\n  return {TemplateUtils:TemplateUtils};\n}());\npc.script = function() {\n  var _legacy = false;\n  var _createdLoadingScreen = false;\n  var script = {app:null, create:function(name, callback) {\n    if (!_legacy) {\n      return;\n    }\n    var ScriptType = callback(pc.script.app);\n    ScriptType._pcScriptName = name;\n    pc.ScriptHandler._push(ScriptType);\n    this.fire(\"created\", name, callback);\n  }, attribute:function(name, type, defaultValue, options) {\n  }, createLoadingScreen:function(callback) {\n    if (_createdLoadingScreen) {\n      return;\n    }\n    _createdLoadingScreen = true;\n    var app = pc.Application.getApplication();\n    callback(app);\n  }};\n  Object.defineProperty(script, \"legacy\", {get:function() {\n    return _legacy;\n  }, set:function(value) {\n    _legacy = value;\n  }});\n  pc.events.attach(script);\n  return script;\n}();\nObject.assign(pc, function() {\n  var Application = function(canvas, options) {\n    pc.EventHandler.call(this);\n    options = options || {};\n    pc.log.open();\n    Application._applications[canvas.id] = this;\n    Application._currentApplication = this;\n    pc.app = this;\n    this._time = 0;\n    this.timeScale = 1;\n    this.maxDeltaTime = 0.1;\n    this.frame = 0;\n    this.autoRender = true;\n    this.renderNextFrame = false;\n    this.useLegacyScriptAttributeCloning = pc.script.legacy;\n    this._librariesLoaded = false;\n    this._fillMode = pc.FILLMODE_KEEP_ASPECT;\n    this._resolutionMode = pc.RESOLUTION_FIXED;\n    this._allowResize = true;\n    this.context = this;\n    this.graphicsDevice = new pc.GraphicsDevice(canvas, options.graphicsDeviceOptions);\n    this.stats = new pc.ApplicationStats(this.graphicsDevice);\n    this._audioManager = new pc.SoundManager(options);\n    this.loader = new pc.ResourceLoader(this);\n    this._entityIndex = {};\n    this.scene = new pc.Scene;\n    this.root = new pc.Entity(this);\n    this.root._enabledInHierarchy = true;\n    this._enableList = [];\n    this._enableList.size = 0;\n    this.assets = new pc.AssetRegistry(this.loader);\n    if (options.assetPrefix) {\n      this.assets.prefix = options.assetPrefix;\n    }\n    this.bundles = new pc.BundleRegistry(this.assets);\n    this.enableBundles = typeof TextDecoder !== \"undefined\";\n    this.scriptsOrder = options.scriptsOrder || [];\n    this.scripts = new pc.ScriptRegistry(this);\n    this.i18n = new pc.I18n(this);\n    this._sceneRegistry = new pc.SceneRegistry(this);\n    var self = this;\n    this.defaultLayerWorld = new pc.Layer({name:\"World\", id:pc.LAYERID_WORLD});\n    if (this.graphicsDevice.webgl2) {\n      this.defaultLayerDepth = new pc.Layer({enabled:false, name:\"Depth\", id:pc.LAYERID_DEPTH, onEnable:function() {\n        if (this.renderTarget) {\n          return;\n        }\n        var depthBuffer = new pc.Texture(self.graphicsDevice, {format:pc.PIXELFORMAT_DEPTHSTENCIL, width:self.graphicsDevice.width, height:self.graphicsDevice.height});\n        depthBuffer.name = \"rt-depth2\";\n        depthBuffer.minFilter = pc.FILTER_NEAREST;\n        depthBuffer.magFilter = pc.FILTER_NEAREST;\n        depthBuffer.addressU = pc.ADDRESS_CLAMP_TO_EDGE;\n        depthBuffer.addressV = pc.ADDRESS_CLAMP_TO_EDGE;\n        this.renderTarget = new pc.RenderTarget({colorBuffer:null, depthBuffer:depthBuffer, autoResolve:false});\n        self.graphicsDevice.scope.resolve(\"uDepthMap\").setValue(depthBuffer);\n      }, onDisable:function() {\n        if (!this.renderTarget) {\n          return;\n        }\n        this.renderTarget._depthBuffer.destroy();\n        this.renderTarget.destroy();\n        this.renderTarget = null;\n      }, onPreRenderOpaque:function(cameraPass) {\n        var gl = self.graphicsDevice.gl;\n        this.srcFbo = gl.getParameter(gl.FRAMEBUFFER_BINDING);\n        if (!this.renderTarget || (this.renderTarget.width !== self.graphicsDevice.width || this.renderTarget.height !== self.graphicsDevice.height)) {\n          this.onDisable();\n          this.onEnable();\n        }\n        this.oldClear = this.cameras[cameraPass].camera._clearOptions;\n        this.cameras[cameraPass].camera._clearOptions = this.depthClearOptions;\n      }, onPostRenderOpaque:function(cameraPass) {\n        if (!this.renderTarget) {\n          return;\n        }\n        this.cameras[cameraPass].camera._clearOptions = this.oldClear;\n        var gl = self.graphicsDevice.gl;\n        self.graphicsDevice.setRenderTarget(this.renderTarget);\n        self.graphicsDevice.updateBegin();\n        gl.bindFramebuffer(gl.READ_FRAMEBUFFER, this.srcFbo);\n        gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, this.renderTarget._glFrameBuffer);\n        gl.blitFramebuffer(0, 0, this.renderTarget.width, this.renderTarget.height, 0, 0, this.renderTarget.width, this.renderTarget.height, gl.DEPTH_BUFFER_BIT, gl.NEAREST);\n      }});\n      this.defaultLayerDepth.depthClearOptions = {flags:0};\n    } else {\n      this.defaultLayerDepth = new pc.Layer({enabled:false, name:\"Depth\", id:pc.LAYERID_DEPTH, shaderPass:pc.SHADER_DEPTH, onEnable:function() {\n        if (this.renderTarget) {\n          return;\n        }\n        var colorBuffer = new pc.Texture(self.graphicsDevice, {format:pc.PIXELFORMAT_R8_G8_B8_A8, width:self.graphicsDevice.width, height:self.graphicsDevice.height});\n        colorBuffer.name = \"rt-depth1\";\n        colorBuffer.minFilter = pc.FILTER_NEAREST;\n        colorBuffer.magFilter = pc.FILTER_NEAREST;\n        colorBuffer.addressU = pc.ADDRESS_CLAMP_TO_EDGE;\n        colorBuffer.addressV = pc.ADDRESS_CLAMP_TO_EDGE;\n        this.renderTarget = new pc.RenderTarget(self.graphicsDevice, colorBuffer, {depth:true, stencil:self.graphicsDevice.supportsStencil});\n        self.graphicsDevice.scope.resolve(\"uDepthMap\").setValue(colorBuffer);\n      }, onDisable:function() {\n        if (!this.renderTarget) {\n          return;\n        }\n        this.renderTarget._colorBuffer.destroy();\n        this.renderTarget.destroy();\n        this.renderTarget = null;\n      }, onPostCull:function(cameraPass) {\n        var visibleObjects = this.instances.visibleOpaque[cameraPass];\n        var visibleList = visibleObjects.list;\n        var visibleLength = 0;\n        var layers = self.scene.layers.layerList;\n        var subLayerEnabled = self.scene.layers.subLayerEnabled;\n        var isTransparent = self.scene.layers.subLayerList;\n        var rt = self.defaultLayerWorld.renderTarget;\n        var cam = this.cameras[cameraPass];\n        var layer;\n        var j;\n        var layerVisibleList, layerCamId, layerVisibleListLength, drawCall, transparent;\n        for (var i = 0;i < layers.length;i++) {\n          layer = layers[i];\n          if (layer === this) {\n            break;\n          }\n          if (layer.renderTarget !== rt || !layer.enabled || !subLayerEnabled[i]) {\n            continue;\n          }\n          layerCamId = layer.cameras.indexOf(cam);\n          if (layerCamId < 0) {\n            continue;\n          }\n          transparent = isTransparent[i];\n          layerVisibleList = transparent ? layer.instances.visibleTransparent[layerCamId] : layer.instances.visibleOpaque[layerCamId];\n          layerVisibleListLength = layerVisibleList.length;\n          layerVisibleList = layerVisibleList.list;\n          for (j = 0;j < layerVisibleListLength;j++) {\n            drawCall = layerVisibleList[j];\n            if (drawCall.material && drawCall.material.depthWrite && !drawCall._noDepthDrawGl1) {\n              visibleList[visibleLength] = drawCall;\n              visibleLength++;\n            }\n          }\n        }\n        visibleObjects.length = visibleLength;\n      }, onPreRenderOpaque:function(cameraPass) {\n        if (!this.renderTarget || (this.renderTarget.width !== self.graphicsDevice.width || this.renderTarget.height !== self.graphicsDevice.height)) {\n          this.onDisable();\n          this.onEnable();\n        }\n        this.oldClear = this.cameras[cameraPass].camera._clearOptions;\n        this.cameras[cameraPass].camera._clearOptions = this.rgbaDepthClearOptions;\n      }, onDrawCall:function() {\n        self.graphicsDevice.setColorWrite(true, true, true, true);\n      }, onPostRenderOpaque:function(cameraPass) {\n        if (!this.renderTarget) {\n          return;\n        }\n        this.cameras[cameraPass].camera._clearOptions = this.oldClear;\n      }});\n      this.defaultLayerDepth.rgbaDepthClearOptions = {color:[254.0 / 255, 254.0 / 255, 254.0 / 255, 254.0 / 255], depth:1.0, flags:pc.CLEARFLAG_COLOR | pc.CLEARFLAG_DEPTH};\n    }\n    this.defaultLayerSkybox = new pc.Layer({enabled:false, name:\"Skybox\", id:pc.LAYERID_SKYBOX, opaqueSortMode:pc.SORTMODE_NONE});\n    this.defaultLayerUi = new pc.Layer({enabled:true, name:\"UI\", id:pc.LAYERID_UI, transparentSortMode:pc.SORTMODE_MANUAL, passThrough:false});\n    this.defaultLayerImmediate = new pc.Layer({enabled:true, name:\"Immediate\", id:pc.LAYERID_IMMEDIATE, opaqueSortMode:pc.SORTMODE_NONE, passThrough:true});\n    this.defaultLayerComposition = new pc.LayerComposition;\n    this.defaultLayerComposition.pushOpaque(this.defaultLayerWorld);\n    this.defaultLayerComposition.pushOpaque(this.defaultLayerDepth);\n    this.defaultLayerComposition.pushOpaque(this.defaultLayerSkybox);\n    this.defaultLayerComposition.pushTransparent(this.defaultLayerWorld);\n    this.defaultLayerComposition.pushOpaque(this.defaultLayerImmediate);\n    this.defaultLayerComposition.pushTransparent(this.defaultLayerImmediate);\n    this.defaultLayerComposition.pushTransparent(this.defaultLayerUi);\n    this.scene.layers = this.defaultLayerComposition;\n    this._immediateLayer = this.defaultLayerImmediate;\n    this.scene.on(\"set:layers\", function(oldComp, newComp) {\n      var list = newComp.layerList;\n      var layer;\n      for (var i = 0;i < list.length;i++) {\n        layer = list[i];\n        switch(layer.id) {\n          case pc.LAYERID_DEPTH:\n            layer.onEnable = self.defaultLayerDepth.onEnable;\n            layer.onDisable = self.defaultLayerDepth.onDisable;\n            layer.onPreRenderOpaque = self.defaultLayerDepth.onPreRenderOpaque;\n            layer.onPostRenderOpaque = self.defaultLayerDepth.onPostRenderOpaque;\n            layer.depthClearOptions = self.defaultLayerDepth.depthClearOptions;\n            layer.rgbaDepthClearOptions = self.defaultLayerDepth.rgbaDepthClearOptions;\n            layer.shaderPass = self.defaultLayerDepth.shaderPass;\n            layer.onPostCull = self.defaultLayerDepth.onPostCull;\n            layer.onDrawCall = self.defaultLayerDepth.onDrawCall;\n            break;\n          case pc.LAYERID_UI:\n            layer.passThrough = self.defaultLayerUi.passThrough;\n            break;\n          case pc.LAYERID_IMMEDIATE:\n            layer.passThrough = self.defaultLayerImmediate.passThrough;\n            break;\n        }\n      }\n    });\n    this.renderer = new pc.ForwardRenderer(this.graphicsDevice);\n    this.renderer.scene = this.scene;\n    this.lightmapper = new pc.Lightmapper(this.graphicsDevice, this.root, this.scene, this.renderer, this.assets);\n    this.once(\"prerender\", this._firstBake, this);\n    this.batcher = new pc.BatchManager(this.graphicsDevice, this.root, this.scene);\n    this.once(\"prerender\", this._firstBatch, this);\n    this.keyboard = options.keyboard || null;\n    this.mouse = options.mouse || null;\n    this.touch = options.touch || null;\n    this.gamepads = options.gamepads || null;\n    this.elementInput = options.elementInput || null;\n    if (this.elementInput) {\n      this.elementInput.app = this;\n    }\n    this.vr = null;\n    this._inTools = false;\n    this._skyboxLast = 0;\n    this._scriptPrefix = options.scriptPrefix || \"\";\n    if (this.enableBundles) {\n      this.loader.addHandler(\"bundle\", new pc.BundleHandler(this.assets));\n    }\n    this.loader.addHandler(\"animation\", new pc.AnimationHandler);\n    this.loader.addHandler(\"model\", new pc.ModelHandler(this.graphicsDevice, this.scene.defaultMaterial));\n    this.loader.addHandler(\"material\", new pc.MaterialHandler(this));\n    this.loader.addHandler(\"texture\", new pc.TextureHandler(this.graphicsDevice, this.assets, this.loader));\n    this.loader.addHandler(\"text\", new pc.TextHandler);\n    this.loader.addHandler(\"json\", new pc.JsonHandler);\n    this.loader.addHandler(\"audio\", new pc.AudioHandler(this._audioManager));\n    this.loader.addHandler(\"script\", new pc.ScriptHandler(this));\n    this.loader.addHandler(\"scene\", new pc.SceneHandler(this));\n    this.loader.addHandler(\"cubemap\", new pc.CubemapHandler(this.graphicsDevice, this.assets, this.loader));\n    this.loader.addHandler(\"html\", new pc.HtmlHandler);\n    this.loader.addHandler(\"css\", new pc.CssHandler);\n    this.loader.addHandler(\"shader\", new pc.ShaderHandler);\n    this.loader.addHandler(\"hierarchy\", new pc.HierarchyHandler(this));\n    this.loader.addHandler(\"scenesettings\", new pc.SceneSettingsHandler(this));\n    this.loader.addHandler(\"folder\", new pc.FolderHandler);\n    this.loader.addHandler(\"font\", new pc.FontHandler(this.loader));\n    this.loader.addHandler(\"binary\", new pc.BinaryHandler);\n    this.loader.addHandler(\"textureatlas\", new pc.TextureAtlasHandler(this.loader));\n    this.loader.addHandler(\"sprite\", new pc.SpriteHandler(this.assets, this.graphicsDevice));\n    this.loader.addHandler(\"template\", new pc.TemplateHandler(this));\n    this.systems = new pc.ComponentSystemRegistry;\n    this.systems.add(new pc.RigidBodyComponentSystem(this));\n    this.systems.add(new pc.CollisionComponentSystem(this));\n    this.systems.add(new pc.AnimationComponentSystem(this));\n    this.systems.add(new pc.ModelComponentSystem(this));\n    this.systems.add(new pc.CameraComponentSystem(this));\n    this.systems.add(new pc.LightComponentSystem(this));\n    if (pc.script.legacy) {\n      this.systems.add(new pc.ScriptLegacyComponentSystem(this));\n    } else {\n      this.systems.add(new pc.ScriptComponentSystem(this));\n    }\n    this.systems.add(new pc.AudioSourceComponentSystem(this, this._audioManager));\n    this.systems.add(new pc.SoundComponentSystem(this, this._audioManager));\n    this.systems.add(new pc.AudioListenerComponentSystem(this, this._audioManager));\n    this.systems.add(new pc.ParticleSystemComponentSystem(this));\n    this.systems.add(new pc.ScreenComponentSystem(this));\n    this.systems.add(new pc.ElementComponentSystem(this));\n    this.systems.add(new pc.ButtonComponentSystem(this));\n    this.systems.add(new pc.ScrollViewComponentSystem(this));\n    this.systems.add(new pc.ScrollbarComponentSystem(this));\n    this.systems.add(new pc.SpriteComponentSystem(this));\n    this.systems.add(new pc.LayoutGroupComponentSystem(this));\n    this.systems.add(new pc.LayoutChildComponentSystem(this));\n    this.systems.add(new pc.ZoneComponentSystem(this));\n    this._visibilityChangeHandler = this.onVisibilityChange.bind(this);\n    if (typeof document !== \"undefined\") {\n      if (document.hidden !== undefined) {\n        this._hiddenAttr = \"hidden\";\n        document.addEventListener(\"visibilitychange\", this._visibilityChangeHandler, false);\n      } else {\n        if (document.mozHidden !== undefined) {\n          this._hiddenAttr = \"mozHidden\";\n          document.addEventListener(\"mozvisibilitychange\", this._visibilityChangeHandler, false);\n        } else {\n          if (document.msHidden !== undefined) {\n            this._hiddenAttr = \"msHidden\";\n            document.addEventListener(\"msvisibilitychange\", this._visibilityChangeHandler, false);\n          } else {\n            if (document.webkitHidden !== undefined) {\n              this._hiddenAttr = \"webkitHidden\";\n              document.addEventListener(\"webkitvisibilitychange\", this._visibilityChangeHandler, false);\n            }\n          }\n        }\n      }\n    }\n    this.tick = makeTick(this);\n  };\n  Application.prototype = Object.create(pc.EventHandler.prototype);\n  Application.prototype.constructor = Application;\n  Application._currentApplication = null;\n  Application._applications = {};\n  Application.getApplication = function(id) {\n    return id ? Application._applications[id] : Application._currentApplication;\n  };\n  var Progress = function(length) {\n    this.length = length;\n    this.count = 0;\n    this.inc = function() {\n      this.count++;\n    };\n    this.done = function() {\n      return this.count === this.length;\n    };\n  };\n  Object.assign(Application.prototype, {configure:function(url, callback) {\n    var self = this;\n    pc.http.get(url, function(err, response) {\n      if (err) {\n        callback(err);\n        return;\n      }\n      var props = response.application_properties;\n      var scenes = response.scenes;\n      var assets = response.assets;\n      self._parseApplicationProperties(props, function(err) {\n        self._parseScenes(scenes);\n        self._parseAssets(assets);\n        if (!err) {\n          callback(null);\n        } else {\n          callback(err);\n        }\n      });\n    });\n  }, preload:function(callback) {\n    var self = this;\n    var i, total;\n    self.fire(\"preload:start\");\n    var assets = this.assets.list({preload:true});\n    var _assets = new Progress(assets.length);\n    var _done = false;\n    var done = function() {\n      if (!self.graphicsDevice) {\n        return;\n      }\n      if (!_done && _assets.done()) {\n        _done = true;\n        self.fire(\"preload:end\");\n        callback();\n      }\n    };\n    total = assets.length;\n    var count = function() {\n      return _assets.count;\n    };\n    if (_assets.length) {\n      var onAssetLoad = function(asset) {\n        _assets.inc();\n        self.fire(\"preload:progress\", count() / total);\n        if (_assets.done()) {\n          done();\n        }\n      };\n      var onAssetError = function(err, asset) {\n        _assets.inc();\n        self.fire(\"preload:progress\", count() / total);\n        if (_assets.done()) {\n          done();\n        }\n      };\n      for (i = 0;i < assets.length;i++) {\n        if (!assets[i].loaded) {\n          assets[i].once(\"load\", onAssetLoad);\n          assets[i].once(\"error\", onAssetError);\n          this.assets.load(assets[i]);\n        } else {\n          _assets.inc();\n          self.fire(\"preload:progress\", count() / total);\n          if (_assets.done()) {\n            done();\n          }\n        }\n      }\n    } else {\n      done();\n    }\n  }, getSceneUrl:function(name) {\n    var entry = this._sceneRegistry.find(name);\n    if (entry) {\n      return entry.url;\n    }\n    return null;\n  }, loadSceneHierarchy:function(url, callback) {\n    this._sceneRegistry.loadSceneHierarchy(url, callback);\n  }, loadSceneSettings:function(url, callback) {\n    this._sceneRegistry.loadSceneSettings(url, callback);\n  }, loadScene:function(url, callback) {\n    this._sceneRegistry.loadScene(url, callback);\n  }, _preloadScripts:function(sceneData, callback) {\n    if (!pc.script.legacy) {\n      callback();\n      return;\n    }\n    var self = this;\n    self.systems.script.preloading = true;\n    var scripts = this._getScriptReferences(sceneData);\n    var i = 0, l = scripts.length;\n    var progress = new Progress(l);\n    var scriptUrl;\n    var regex = /^http(s)?:\\/\\//;\n    if (l) {\n      var onLoad = function(err, ScriptType) {\n        if (err) {\n          console.error(err);\n        }\n        progress.inc();\n        if (progress.done()) {\n          self.systems.script.preloading = false;\n          callback();\n        }\n      };\n      for (i = 0;i < l;i++) {\n        scriptUrl = scripts[i];\n        if (!regex.test(scriptUrl.toLowerCase()) && self._scriptPrefix) {\n          scriptUrl = pc.path.join(self._scriptPrefix, scripts[i]);\n        }\n        this.loader.load(scriptUrl, \"script\", onLoad);\n      }\n    } else {\n      self.systems.script.preloading = false;\n      callback();\n    }\n  }, _parseApplicationProperties:function(props, callback) {\n    var i;\n    var len;\n    if (!props.useDevicePixelRatio) {\n      props.useDevicePixelRatio = props.use_device_pixel_ratio;\n    }\n    if (!props.resolutionMode) {\n      props.resolutionMode = props.resolution_mode;\n    }\n    if (!props.fillMode) {\n      props.fillMode = props.fill_mode;\n    }\n    this._width = props.width;\n    this._height = props.height;\n    if (props.useDevicePixelRatio) {\n      this.graphicsDevice.maxPixelRatio = window.devicePixelRatio;\n    }\n    this.setCanvasResolution(props.resolutionMode, this._width, this._height);\n    this.setCanvasFillMode(props.fillMode, this._width, this._height);\n    if (props.layers && props.layerOrder) {\n      var composition = new pc.LayerComposition;\n      var layers = {};\n      for (var key in props.layers) {\n        var data = props.layers[key];\n        data.id = parseInt(key, 10);\n        data.enabled = data.id !== pc.LAYERID_DEPTH;\n        layers[key] = new pc.Layer(data);\n      }\n      for (i = 0, len = props.layerOrder.length;i < len;i++) {\n        var sublayer = props.layerOrder[i];\n        var layer = layers[sublayer.layer];\n        if (!layer) {\n          continue;\n        }\n        if (sublayer.transparent) {\n          composition.pushTransparent(layer);\n        } else {\n          composition.pushOpaque(layer);\n        }\n        composition.subLayerEnabled[i] = sublayer.enabled;\n      }\n      this.scene.layers = composition;\n    }\n    if (props.batchGroups) {\n      for (i = 0, len = props.batchGroups.length;i < len;i++) {\n        var grp = props.batchGroups[i];\n        this.batcher.addGroup(grp.name, grp.dynamic, grp.maxAabbSize, grp.id, grp.layers);\n      }\n    }\n    if (props.i18nAssets) {\n      this.i18n.assets = props.i18nAssets;\n    }\n    this._loadLibraries(props.libraries, callback);\n  }, _loadLibraries:function(urls, callback) {\n    var len = urls.length;\n    var count = len;\n    var self = this;\n    var regex = /^http(s)?:\\/\\//;\n    if (len) {\n      var onLoad = function(err, script) {\n        count--;\n        if (err) {\n          callback(err);\n        } else {\n          if (count === 0) {\n            self.onLibrariesLoaded();\n            callback(null);\n          }\n        }\n      };\n      for (var i = 0;i < len;++i) {\n        var url = urls[i];\n        if (!regex.test(url.toLowerCase()) && self._scriptPrefix) {\n          url = pc.path.join(self._scriptPrefix, url);\n        }\n        this.loader.load(url, \"script\", onLoad);\n      }\n    } else {\n      self.onLibrariesLoaded();\n      callback(null);\n    }\n  }, _parseScenes:function(scenes) {\n    if (!scenes) {\n      return;\n    }\n    for (var i = 0;i < scenes.length;i++) {\n      this._sceneRegistry.add(scenes[i].name, scenes[i].url);\n    }\n  }, _parseAssets:function(assets) {\n    var i, id;\n    var list = [];\n    var scriptsIndex = {};\n    var bundlesIndex = {};\n    if (!pc.script.legacy) {\n      for (i = 0;i < this.scriptsOrder.length;i++) {\n        id = this.scriptsOrder[i];\n        if (!assets[id]) {\n          continue;\n        }\n        scriptsIndex[id] = true;\n        list.push(assets[id]);\n      }\n      if (this.enableBundles) {\n        for (id in assets) {\n          if (assets[id].type === \"bundle\") {\n            bundlesIndex[id] = true;\n            list.push(assets[id]);\n          }\n        }\n      }\n      for (id in assets) {\n        if (scriptsIndex[id] || bundlesIndex[id]) {\n          continue;\n        }\n        list.push(assets[id]);\n      }\n    } else {\n      if (this.enableBundles) {\n        for (id in assets) {\n          if (assets[id].type === \"bundle\") {\n            bundlesIndex[id] = true;\n            list.push(assets[id]);\n          }\n        }\n      }\n      for (id in assets) {\n        if (bundlesIndex[id]) {\n          continue;\n        }\n        list.push(assets[id]);\n      }\n    }\n    for (i = 0;i < list.length;i++) {\n      var data = list[i];\n      var asset = new pc.Asset(data.name, data.type, data.file, data.data);\n      asset.id = parseInt(data.id, 10);\n      asset.preload = data.preload ? data.preload : false;\n      asset.loaded = data.type === \"script\" && data.data && data.data.loadingType > 0;\n      asset.tags.add(data.tags);\n      if (data.i18n) {\n        for (var locale in data.i18n) {\n          asset.addLocalizedAssetId(locale, data.i18n[locale]);\n        }\n      }\n      this.assets.add(asset);\n    }\n  }, _getScriptReferences:function(scene) {\n    var i, key;\n    var priorityScripts = [];\n    if (scene.settings.priority_scripts) {\n      priorityScripts = scene.settings.priority_scripts;\n    }\n    var _scripts = [];\n    var _index = {};\n    for (i = 0;i < priorityScripts.length;i++) {\n      _scripts.push(priorityScripts[i]);\n      _index[priorityScripts[i]] = true;\n    }\n    var entities = scene.entities;\n    for (key in entities) {\n      if (!entities[key].components.script) {\n        continue;\n      }\n      var scripts = entities[key].components.script.scripts;\n      for (i = 0;i < scripts.length;i++) {\n        if (_index[scripts[i].url]) {\n          continue;\n        }\n        _scripts.push(scripts[i].url);\n        _index[scripts[i].url] = true;\n      }\n    }\n    return _scripts;\n  }, start:function() {\n    this.frame = 0;\n    this.fire(\"start\", {timestamp:pc.now(), target:this});\n    if (!this._librariesLoaded) {\n      this.onLibrariesLoaded();\n    }\n    pc.ComponentSystem.initialize(this.root);\n    this.fire(\"initialize\");\n    pc.ComponentSystem.postInitialize(this.root);\n    this.fire(\"postinitialize\");\n    this.tick();\n  }, update:function(dt) {\n    this.frame++;\n    this.graphicsDevice.updateClientRect();\n    if (this.vr) {\n      this.vr.poll();\n    }\n    if (pc.script.legacy) {\n      pc.ComponentSystem.fixedUpdate(1.0 / 60.0, this._inTools);\n    }\n    pc.ComponentSystem.update(dt, this._inTools);\n    pc.ComponentSystem.postUpdate(dt, this._inTools);\n    this.fire(\"update\", dt);\n    if (this.controller) {\n      this.controller.update(dt);\n    }\n    if (this.mouse) {\n      this.mouse.update(dt);\n    }\n    if (this.keyboard) {\n      this.keyboard.update(dt);\n    }\n    if (this.gamepads) {\n      this.gamepads.update(dt);\n    }\n  }, render:function() {\n    this.fire(\"prerender\");\n    this.root.syncHierarchy();\n    this.batcher.updateAll();\n    pc._skipRenderCounter = 0;\n    this.renderer.renderComposition(this.scene.layers);\n    this.fire(\"postrender\");\n  }, _fillFrameStats:function(now, dt, ms) {\n    var stats = this.stats.frame;\n    stats.dt = dt;\n    stats.ms = ms;\n    if (now > stats._timeToCountFrames) {\n      stats.fps = stats._fpsAccum;\n      stats._fpsAccum = 0;\n      stats._timeToCountFrames = now + 1000;\n    } else {\n      stats._fpsAccum++;\n    }\n    stats.cameras = this.renderer._camerasRendered;\n    stats.materials = this.renderer._materialSwitches;\n    stats.shaders = this.graphicsDevice._shaderSwitchesPerFrame;\n    stats.shadowMapUpdates = this.renderer._shadowMapUpdates;\n    stats.shadowMapTime = this.renderer._shadowMapTime;\n    stats.depthMapTime = this.renderer._depthMapTime;\n    stats.forwardTime = this.renderer._forwardTime;\n    var prims = this.graphicsDevice._primsPerFrame;\n    stats.triangles = prims[pc.PRIMITIVE_TRIANGLES] / 3 + Math.max(prims[pc.PRIMITIVE_TRISTRIP] - 2, 0) + Math.max(prims[pc.PRIMITIVE_TRIFAN] - 2, 0);\n    stats.cullTime = this.renderer._cullTime;\n    stats.sortTime = this.renderer._sortTime;\n    stats.skinTime = this.renderer._skinTime;\n    stats.morphTime = this.renderer._morphTime;\n    stats.instancingTime = this.renderer._instancingTime;\n    stats.otherPrimitives = 0;\n    for (var i = 0;i < prims.length;i++) {\n      if (i < pc.PRIMITIVE_TRIANGLES) {\n        stats.otherPrimitives += prims[i];\n      }\n      prims[i] = 0;\n    }\n    this.renderer._camerasRendered = 0;\n    this.renderer._materialSwitches = 0;\n    this.renderer._shadowMapUpdates = 0;\n    this.graphicsDevice._shaderSwitchesPerFrame = 0;\n    this.renderer._cullTime = 0;\n    this.renderer._sortTime = 0;\n    this.renderer._skinTime = 0;\n    this.renderer._morphTime = 0;\n    this.renderer._instancingTime = 0;\n    this.renderer._shadowMapTime = 0;\n    this.renderer._depthMapTime = 0;\n    this.renderer._forwardTime = 0;\n    stats = this.stats.drawCalls;\n    stats.forward = this.renderer._forwardDrawCalls;\n    stats.culled = this.renderer._numDrawCallsCulled;\n    stats.depth = 0;\n    stats.shadow = this.renderer._shadowDrawCalls;\n    stats.skinned = this.renderer._skinDrawCalls;\n    stats.immediate = 0;\n    stats.instanced = 0;\n    stats.removedByInstancing = 0;\n    stats.total = this.graphicsDevice._drawCallsPerFrame;\n    stats.misc = stats.total - (stats.forward + stats.shadow);\n    this.renderer._depthDrawCalls = 0;\n    this.renderer._shadowDrawCalls = 0;\n    this.renderer._forwardDrawCalls = 0;\n    this.renderer._numDrawCallsCulled = 0;\n    this.renderer._skinDrawCalls = 0;\n    this.renderer._immediateRendered = 0;\n    this.renderer._instancedDrawCalls = 0;\n    this.renderer._removedByInstancing = 0;\n    this.graphicsDevice._drawCallsPerFrame = 0;\n    this.stats.misc.renderTargetCreationTime = this.graphicsDevice.renderTargetCreationTime;\n    stats = this.stats.particles;\n    stats.updatesPerFrame = stats._updatesPerFrame;\n    stats.frameTime = stats._frameTime;\n    stats._updatesPerFrame = 0;\n    stats._frameTime = 0;\n  }, setCanvasFillMode:function(mode, width, height) {\n    this._fillMode = mode;\n    this.resizeCanvas(width, height);\n  }, setCanvasResolution:function(mode, width, height) {\n    this._resolutionMode = mode;\n    if (mode === pc.RESOLUTION_AUTO && width === undefined) {\n      width = this.graphicsDevice.canvas.clientWidth;\n      height = this.graphicsDevice.canvas.clientHeight;\n    }\n    this.graphicsDevice.resizeCanvas(width, height);\n  }, isHidden:function() {\n    return document[this._hiddenAttr];\n  }, onVisibilityChange:function() {\n    if (this.isHidden()) {\n      this._audioManager.suspend();\n    } else {\n      this._audioManager.resume();\n    }\n  }, resizeCanvas:function(width, height) {\n    if (!this._allowResize) {\n      return;\n    }\n    var windowWidth = window.innerWidth;\n    var windowHeight = window.innerHeight;\n    if (this._fillMode === pc.FILLMODE_KEEP_ASPECT) {\n      var r = this.graphicsDevice.canvas.width / this.graphicsDevice.canvas.height;\n      var winR = windowWidth / windowHeight;\n      if (r > winR) {\n        width = windowWidth;\n        height = width / r;\n      } else {\n        height = windowHeight;\n        width = height * r;\n      }\n    } else {\n      if (this._fillMode === pc.FILLMODE_FILL_WINDOW) {\n        width = windowWidth;\n        height = windowHeight;\n      } else {\n      }\n    }\n    this.graphicsDevice.canvas.style.width = width + \"px\";\n    this.graphicsDevice.canvas.style.height = height + \"px\";\n    if (this._resolutionMode === pc.RESOLUTION_AUTO) {\n      this.setCanvasResolution(pc.RESOLUTION_AUTO);\n    }\n    return {width:width, height:height};\n  }, onLibrariesLoaded:function() {\n    this._librariesLoaded = true;\n    this.systems.rigidbody.onLibraryLoaded();\n    this.systems.collision.onLibraryLoaded();\n  }, applySceneSettings:function(settings) {\n    var asset;\n    if (this.systems.rigidbody && typeof Ammo !== \"undefined\") {\n      var gravity = settings.physics.gravity;\n      this.systems.rigidbody.gravity.set(gravity[0], gravity[1], gravity[2]);\n    }\n    this.scene.applySettings(settings);\n    if (settings.render.hasOwnProperty(\"skybox\")) {\n      if (settings.render.skybox) {\n        asset = this.assets.get(settings.render.skybox);\n        if (asset) {\n          this.setSkybox(asset);\n        } else {\n          this.assets.once(\"add:\" + settings.render.skybox, this.setSkybox, this);\n        }\n      } else {\n        this.setSkybox(null);\n      }\n    }\n  }, setSkybox:function(asset) {\n    if (asset) {\n      if (this._skyboxLast === asset.id) {\n        if (this.scene.skyboxMip === 0 && !asset.loadFaces) {\n          this._skyboxLoad(asset);\n        } else {\n          this._onSkyboxChange(asset);\n        }\n        return;\n      }\n      if (this._skyboxLast) {\n        this.assets.off(\"add:\" + this._skyboxLast, this.setSkybox, this);\n        this.assets.off(\"load:\" + this._skyboxLast, this._onSkyboxChange, this);\n        this.assets.off(\"remove:\" + this._skyboxLast, this._skyboxRemove, this);\n      }\n      this._skyboxLast = asset.id;\n      this.assets.on(\"load:\" + asset.id, this._onSkyboxChange, this);\n      this.assets.once(\"remove:\" + asset.id, this._skyboxRemove, this);\n      if (asset.resource) {\n        this.scene.setSkybox(asset.resources);\n      }\n      this._skyboxLoad(asset);\n    } else {\n      if (!this._skyboxLast) {\n        return;\n      }\n      this._skyboxRemove({id:this._skyboxLast});\n    }\n  }, enableVr:function() {\n    if (!this.vr) {\n      this.vr = new pc.VrManager(this);\n    }\n  }, disableVr:function() {\n    if (this.vr) {\n      this.vr.destroy();\n      this.vr = null;\n    }\n  }, _onSkyboxChange:function(asset) {\n    this.scene.setSkybox(asset.resources);\n  }, _skyboxLoad:function(asset) {\n    if (this.scene.skyboxMip === 0) {\n      asset.loadFaces = true;\n    }\n    this.assets.load(asset);\n    this._onSkyboxChange(asset);\n  }, _skyboxRemove:function(asset) {\n    if (!this._skyboxLast) {\n      return;\n    }\n    this.assets.off(\"add:\" + asset.id, this.setSkybox, this);\n    this.assets.off(\"load:\" + asset.id, this._onSkyboxChange, this);\n    this.assets.off(\"remove:\" + asset.id, this._skyboxRemove, this);\n    this.scene.setSkybox(null);\n    this._skyboxLast = null;\n  }, _firstBake:function() {\n    this.lightmapper.bake(null, this.scene.lightmapMode);\n  }, _firstBatch:function() {\n    if (this.scene._needsStaticPrepare) {\n      this.renderer.prepareStaticMeshes(this.graphicsDevice, this.scene);\n      this.scene._needsStaticPrepare = false;\n    }\n    this.batcher.generate();\n  }, _processTimestamp:function(timestamp) {\n    return timestamp;\n  }, destroy:function() {\n    var i, l;\n    var canvasId = this.graphicsDevice.canvas.id;\n    this.off(\"librariesloaded\");\n    document.removeEventListener(\"visibilitychange\", this._visibilityChangeHandler, false);\n    document.removeEventListener(\"mozvisibilitychange\", this._visibilityChangeHandler, false);\n    document.removeEventListener(\"msvisibilitychange\", this._visibilityChangeHandler, false);\n    document.removeEventListener(\"webkitvisibilitychange\", this._visibilityChangeHandler, false);\n    this._visibilityChangeHandler = null;\n    this.onVisibilityChange = null;\n    this.root.destroy();\n    this.root = null;\n    if (this.mouse) {\n      this.mouse.off();\n      this.mouse.detach();\n      this.mouse = null;\n    }\n    if (this.keyboard) {\n      this.keyboard.off();\n      this.keyboard.detach();\n      this.keyboard = null;\n    }\n    if (this.touch) {\n      this.touch.off();\n      this.touch.detach();\n      this.touch = null;\n    }\n    if (this.elementInput) {\n      this.elementInput.detach();\n      this.elementInput = null;\n    }\n    if (this.controller) {\n      this.controller = null;\n    }\n    var systems = this.systems.list;\n    for (i = 0, l = systems.length;i < l;i++) {\n      systems[i].destroy();\n    }\n    pc.ComponentSystem.destroy();\n    var assets = this.assets.list();\n    for (i = 0;i < assets.length;i++) {\n      assets[i].unload();\n      assets[i].off();\n    }\n    this.assets.off();\n    this.bundles.destroy();\n    this.bundles = null;\n    this.i18n.destroy();\n    this.i18n = null;\n    for (var key in this.loader.getHandler(\"script\")._cache) {\n      var element = this.loader.getHandler(\"script\")._cache[key];\n      var parent = element.parentNode;\n      if (parent) {\n        parent.removeChild(element);\n      }\n    }\n    this.loader.getHandler(\"script\")._cache = {};\n    this.loader.destroy();\n    this.loader = null;\n    this.scene.destroy();\n    this.scene = null;\n    this.systems = [];\n    this.context = null;\n    this.scripts.destroy();\n    this.scripts = null;\n    this._sceneRegistry.destroy();\n    this._sceneRegistry = null;\n    this.lightmapper.destroy();\n    this.lightmapper = null;\n    this.batcher.destroyManager();\n    this.batcher = null;\n    this._entityIndex = {};\n    this.defaultLayerDepth.onPreRenderOpaque = null;\n    this.defaultLayerDepth.onPostRenderOpaque = null;\n    this.defaultLayerDepth.onDisable = null;\n    this.defaultLayerDepth.onEnable = null;\n    this.defaultLayerDepth = null;\n    this.defaultLayerWorld = null;\n    pc.destroyPostEffectQuad();\n    if (this.vr) {\n      this.vr.destroy();\n      this.vr = null;\n    }\n    this.graphicsDevice.destroy();\n    this.graphicsDevice = null;\n    this.renderer = null;\n    this.tick = null;\n    this.off();\n    if (this._audioManager) {\n      this._audioManager.destroy();\n      this._audioManager = null;\n    }\n    pc.http = new pc.Http;\n    pc.script.app = null;\n    pc.ParticleEmitter.DEFAULT_PARAM_TEXTURE = null;\n    Application._applications[canvasId] = null;\n    if (Application._currentApplication === this) {\n      Application._currentApplication = null;\n    }\n  }, getEntityFromIndex:function(guid) {\n    return this._entityIndex[guid];\n  }});\n  var _frameEndData = {};\n  var makeTick = function(_app) {\n    var app = _app;\n    return function(timestamp) {\n      if (!app.graphicsDevice) {\n        return;\n      }\n      Application._currentApplication = app;\n      pc.app = app;\n      var now = app._processTimestamp(timestamp) || pc.now();\n      var ms = now - (app._time || now);\n      var dt = ms / 1000.0;\n      dt = pc.math.clamp(dt, 0, app.maxDeltaTime);\n      dt *= app.timeScale;\n      app._time = now;\n      if (app.vr && app.vr.display) {\n        app.vr.display.requestAnimationFrame(app.tick);\n      } else {\n        requestAnimationFrame(app.tick);\n      }\n      if (app.graphicsDevice.contextLost) {\n        return;\n      }\n      app.update(dt);\n      if (app.autoRender || app.renderNextFrame) {\n        app.render();\n        app.renderNextFrame = false;\n      }\n      _frameEndData.timestamp = pc.now();\n      _frameEndData.target = app;\n      app.fire(\"frameend\", _frameEndData);\n      app.fire(\"frameEnd\", _frameEndData);\n      if (app.vr && app.vr.display && app.vr.display.presenting) {\n        app.vr.display.submitFrame();\n      }\n    };\n  };\n  return {FILLMODE_NONE:\"NONE\", FILLMODE_FILL_WINDOW:\"FILL_WINDOW\", FILLMODE_KEEP_ASPECT:\"KEEP_ASPECT\", RESOLUTION_AUTO:\"AUTO\", RESOLUTION_FIXED:\"FIXED\", Application:Application};\n}());\npc.ApplicationStats = function(device) {\n  this.frame = {fps:0, ms:0, dt:0, updateStart:0, updateTime:0, renderStart:0, renderTime:0, physicsStart:0, physicsTime:0, cullTime:0, sortTime:0, skinTime:0, morphTime:0, instancingTime:0, triangles:0, otherPrimitives:0, shaders:0, materials:0, cameras:0, shadowMapUpdates:0, shadowMapTime:0, depthMapTime:0, forwardTime:0, _timeToCountFrames:0, _fpsAccum:0};\n  this.drawCalls = {forward:0, depth:0, shadow:0, immediate:0, misc:0, total:0, skinned:0, instanced:0, removedByInstancing:0};\n  this.misc = {renderTargetCreationTime:0};\n  this.particles = {updatesPerFrame:0, _updatesPerFrame:0, frameTime:0, _frameTime:0};\n  this.vram = device._vram;\n  this.shaders = device._shaderStats;\n  Object.defineProperty(this.vram, \"totalUsed\", {get:function() {\n    return this.tex + this.vb + this.ib;\n  }});\n  Object.defineProperty(this, \"scene\", {get:function() {\n    return pc.Application._currentApplication.scene._stats;\n  }});\n  Object.defineProperty(this, \"lightmapper\", {get:function() {\n    return pc.Application._currentApplication.lightmapper._stats;\n  }});\n  Object.defineProperty(this, \"batcher\", {get:function() {\n    return pc.Application._currentApplication.batcher._stats;\n  }});\n};\nObject.assign(pc, function() {\n  var SceneRegistryItem = function(name, url) {\n    this.name = name;\n    this.url = url;\n  };\n  var SceneRegistry = function(app) {\n    this._app = app;\n    this._list = [];\n    this._index = {};\n    this._urlIndex = {};\n  };\n  SceneRegistry.prototype.destroy = function() {\n    this._app = null;\n  };\n  SceneRegistry.prototype.list = function() {\n    return this._list;\n  };\n  SceneRegistry.prototype.add = function(name, url) {\n    if (this._index.hasOwnProperty(name)) {\n      return false;\n    }\n    var item = new pc.SceneRegistryItem(name, url);\n    var i = this._list.push(item);\n    this._index[item.name] = i - 1;\n    this._urlIndex[item.url] = i - 1;\n    return true;\n  };\n  SceneRegistry.prototype.find = function(name) {\n    if (this._index.hasOwnProperty(name)) {\n      return this._list[this._index[name]];\n    }\n    return null;\n  };\n  SceneRegistry.prototype.findByUrl = function(url) {\n    if (this._urlIndex.hasOwnProperty(url)) {\n      return this._list[this._urlIndex[url]];\n    }\n    return null;\n  };\n  SceneRegistry.prototype.remove = function(name) {\n    if (this._index.hasOwnProperty(name)) {\n      var i = this._index[name];\n      var item = this._list[i];\n      delete this._urlIndex[item.url];\n      delete this._index[name];\n      this._list.splice(i, 1);\n      for (i = 0;i < this._list.length;i++) {\n        item = this._list[i];\n        this._index[item.name] = i;\n        this._urlIndex[item.url] = i;\n      }\n    }\n  };\n  SceneRegistry.prototype.loadSceneHierarchy = function(url, callback) {\n    var self = this;\n    var handler = this._app.loader.getHandler(\"hierarchy\");\n    if (this._app.assets && this._app.assets.prefix && !pc.ABSOLUTE_URL.test(url)) {\n      url = pc.path.join(this._app.assets.prefix, url);\n    }\n    handler.load(url, function(err, data) {\n      if (err) {\n        if (callback) {\n          callback(err);\n        }\n        return;\n      }\n      var _loaded = function() {\n        self._app.systems.script.preloading = true;\n        var entity = handler.open(url, data);\n        self._app.systems.script.preloading = false;\n        self._app.loader.clearCache(url, \"hierarchy\");\n        self._app.root.addChild(entity);\n        pc.ComponentSystem.initialize(entity);\n        pc.ComponentSystem.postInitialize(entity);\n        if (callback) {\n          callback(err, entity);\n        }\n      };\n      self._app._preloadScripts(data, _loaded);\n    });\n  };\n  SceneRegistry.prototype.loadSceneSettings = function(url, callback) {\n    var self = this;\n    if (this._app.assets && this._app.assets.prefix && !pc.ABSOLUTE_URL.test(url)) {\n      url = pc.path.join(this._app.assets.prefix, url);\n    }\n    this._app.loader.load(url, \"scenesettings\", function(err, settings) {\n      if (!err) {\n        self._app.applySceneSettings(settings);\n        if (callback) {\n          callback(null);\n        }\n      } else {\n        if (callback) {\n          callback(err);\n        }\n      }\n    });\n  };\n  SceneRegistry.prototype.loadScene = function(url, callback) {\n    var self = this;\n    var handler = this._app.loader.getHandler(\"scene\");\n    if (this._app.assets && this._app.assets.prefix && !pc.ABSOLUTE_URL.test(url)) {\n      url = pc.path.join(this._app.assets.prefix, url);\n    }\n    handler.load(url, function(err, data) {\n      if (!err) {\n        var _loaded = function() {\n          self._app.systems.script.preloading = true;\n          var scene = handler.open(url, data);\n          self._app.systems.script.preloading = false;\n          self._app.loader.clearCache(url, \"scene\");\n          self._app.loader.patch({resource:scene, type:\"scene\"}, self._app.assets);\n          self._app.root.addChild(scene.root);\n          if (self._app.systems.rigidbody && typeof Ammo !== \"undefined\") {\n            self._app.systems.rigidbody.gravity.set(scene._gravity.x, scene._gravity.y, scene._gravity.z);\n          }\n          if (callback) {\n            callback(null, scene);\n          }\n        };\n        self._app._preloadScripts(data, _loaded);\n      } else {\n        if (callback) {\n          callback(err);\n        }\n      }\n    });\n  };\n  return {SceneRegistry:SceneRegistry, SceneRegistryItem:SceneRegistryItem};\n}());\nObject.assign(pc, function() {\n  var ComponentSystemRegistry = function() {\n    this.list = [];\n  };\n  Object.assign(ComponentSystemRegistry.prototype, {add:function(system) {\n    var id = system.id;\n    if (this[id]) {\n      throw new Error(pc.string.format(\"ComponentSystem name '{0}' already registered or not allowed\", id));\n    }\n    this[id] = system;\n    this.list.push(system);\n  }, remove:function(system) {\n    var id = system.id;\n    if (!this[id]) {\n      throw new Error(pc.string.format(\"No ComponentSystem named '{0}' registered\", id));\n    }\n    delete this[id];\n    var index = this.list.indexOf(this[id]);\n    if (index !== -1) {\n      this.list.splice(index, 1);\n    }\n  }});\n  return {ComponentSystemRegistry:ComponentSystemRegistry};\n}());\nObject.assign(pc, function() {\n  var ComponentSystem = function(app) {\n    pc.EventHandler.call(this);\n    this.app = app;\n    this.store = {};\n    this.schema = [];\n  };\n  ComponentSystem.prototype = Object.create(pc.EventHandler.prototype);\n  ComponentSystem.prototype.constructor = ComponentSystem;\n  Object.assign(ComponentSystem, {_helper:function(a, p) {\n    for (var i = 0, l = a.length;i < l;i++) {\n      a[i].f.call(a[i].s, p);\n    }\n  }, initialize:function(root) {\n    this._helper(this._init, root);\n  }, postInitialize:function(root) {\n    this._helper(this._postInit, root);\n    this.fire(\"postinitialize\", root);\n  }, update:function(dt, inTools) {\n    this._helper(inTools ? this._toolsUpdate : this._update, dt);\n  }, fixedUpdate:function(dt, inTools) {\n    this._helper(this._fixedUpdate, dt);\n  }, postUpdate:function(dt, inTools) {\n    this._helper(this._postUpdate, dt);\n  }, _init:[], _postInit:[], _toolsUpdate:[], _update:[], _fixedUpdate:[], _postUpdate:[], bind:function(event, func, scope) {\n    switch(event) {\n      case \"initialize\":\n        this._init.push({f:func, s:scope});\n        break;\n      case \"postInitialize\":\n        this._postInit.push({f:func, s:scope});\n        break;\n      case \"update\":\n        this._update.push({f:func, s:scope});\n        break;\n      case \"postUpdate\":\n        this._postUpdate.push({f:func, s:scope});\n        break;\n      case \"fixedUpdate\":\n        this._fixedUpdate.push({f:func, s:scope});\n        break;\n      case \"toolsUpdate\":\n        this._toolsUpdate.push({f:func, s:scope});\n        break;\n      default:\n        console.error(\"Component System does not support event\", event);\n    }\n  }, _erase:function(a, f, s) {\n    for (var i = 0;i < a.length;i++) {\n      if (a[i].f === f && a[i].s === s) {\n        a.splice(i--, 1);\n      }\n    }\n  }, unbind:function(event, func, scope) {\n    switch(event) {\n      case \"initialize\":\n        this._erase(this._init, func, scope);\n        break;\n      case \"postInitialize\":\n        this._erase(this._postInit, func, scope);\n        break;\n      case \"update\":\n        this._erase(this._update, func, scope);\n        break;\n      case \"postUpdate\":\n        this._erase(this._postUpdate, func, scope);\n        break;\n      case \"fixedUpdate\":\n        this._erase(this._fixedUpdate, func, scope);\n        break;\n      case \"toolsUpdate\":\n        this._erase(this._toolsUpdate, func, scope);\n        break;\n      default:\n        console.error(\"Component System does not support event\", event);\n    }\n  }});\n  Object.assign(ComponentSystem.prototype, {addComponent:function(entity, data) {\n    var component = new this.ComponentType(this, entity);\n    var componentData = new this.DataType;\n    data = data || {};\n    this.store[entity.getGuid()] = {entity:entity, data:componentData};\n    entity[this.id] = component;\n    entity.c[this.id] = component;\n    this.initializeComponentData(component, data, []);\n    this.fire(\"add\", entity, component);\n    return component;\n  }, removeComponent:function(entity) {\n    var record = this.store[entity.getGuid()];\n    var component = entity.c[this.id];\n    this.fire(\"beforeremove\", entity, component);\n    delete this.store[entity.getGuid()];\n    delete entity[this.id];\n    delete entity.c[this.id];\n    this.fire(\"remove\", entity, record.data);\n  }, cloneComponent:function(entity, clone) {\n    var src = this.store[entity.getGuid()];\n    return this.addComponent(clone, src.data);\n  }, initializeComponentData:function(component, data, properties) {\n    data = data || {};\n    var descriptor;\n    var name, type, value;\n    for (var i = 0, len = properties.length;i < len;i++) {\n      descriptor = properties[i];\n      if (typeof descriptor === \"object\") {\n        name = descriptor.name;\n        type = descriptor.type;\n      } else {\n        name = descriptor;\n        type = undefined;\n      }\n      value = data[name];\n      if (value !== undefined) {\n        if (type !== undefined) {\n          value = convertValue(value, type);\n        }\n        component[name] = value;\n      } else {\n        component[name] = component.data[name];\n      }\n    }\n    if (component.enabled && component.entity.enabled) {\n      component.onEnable();\n    }\n  }, getPropertiesOfType:function(type) {\n    var matchingProperties = [];\n    var schema = this.schema || [];\n    schema.forEach(function(descriptor) {\n      if (descriptor && typeof descriptor === \"object\" && descriptor.type === type) {\n        matchingProperties.push(descriptor);\n      }\n    });\n    return matchingProperties;\n  }, destroy:function() {\n    this.off();\n  }});\n  function convertValue(value, type) {\n    if (!value) {\n      return value;\n    }\n    switch(type) {\n      case \"rgb\":\n        if (value instanceof pc.Color) {\n          return value.clone();\n        }\n        return new pc.Color(value[0], value[1], value[2]);\n      case \"rgba\":\n        if (value instanceof pc.Color) {\n          return value.clone();\n        }\n        return new pc.Color(value[0], value[1], value[2], value[3]);\n      case \"vec2\":\n        if (value instanceof pc.Vec2) {\n          return value.clone();\n        }\n        return new pc.Vec2(value[0], value[1]);\n      case \"vec3\":\n        if (value instanceof pc.Vec3) {\n          return value.clone();\n        }\n        return new pc.Vec3(value[0], value[1], value[2]);\n      case \"vec4\":\n        if (value instanceof pc.Vec4) {\n          return value.clone();\n        }\n        return new pc.Vec4(value[0], value[1], value[2], value[3]);\n      case \"boolean\":\n      case \"number\":\n      case \"string\":\n        return value;\n      case \"entity\":\n        return value;\n      default:\n        throw new Error(\"Could not convert unhandled type: \" + type);\n    }\n  }\n  pc.events.attach(ComponentSystem);\n  ComponentSystem.destroy = function() {\n    ComponentSystem.off(\"initialize\");\n    ComponentSystem.off(\"postInitialize\");\n    ComponentSystem.off(\"toolsUpdate\");\n    ComponentSystem.off(\"update\");\n    ComponentSystem.off(\"fixedUpdate\");\n    ComponentSystem.off(\"postUpdate\");\n  };\n  return {ComponentSystem:ComponentSystem};\n}());\nObject.assign(pc, function() {\n  var Component = function(system, entity) {\n    pc.EventHandler.call(this);\n    this.system = system;\n    this.entity = entity;\n    if (this.system.schema && !this._accessorsBuilt) {\n      this.buildAccessors(this.system.schema);\n    }\n    this.on(\"set\", function(name, oldValue, newValue) {\n      this.fire(\"set_\" + name, name, oldValue, newValue);\n    });\n    this.on(\"set_enabled\", this.onSetEnabled, this);\n  };\n  Component.prototype = Object.create(pc.EventHandler.prototype);\n  Component.prototype.constructor = Component;\n  Component._buildAccessors = function(obj, schema) {\n    schema.forEach(function(descriptor) {\n      var name = typeof descriptor === \"object\" ? descriptor.name : descriptor;\n      Object.defineProperty(obj, name, {get:function() {\n        return this.data[name];\n      }, set:function(value) {\n        var data = this.data;\n        var oldValue = data[name];\n        data[name] = value;\n        this.fire(\"set\", name, oldValue, value);\n      }, configurable:true});\n    });\n    obj._accessorsBuilt = true;\n  };\n  Object.assign(Component.prototype, {buildAccessors:function(schema) {\n    Component._buildAccessors(this, schema);\n  }, onSetEnabled:function(name, oldValue, newValue) {\n    if (oldValue !== newValue) {\n      if (this.entity.enabled) {\n        if (newValue) {\n          this.onEnable();\n        } else {\n          this.onDisable();\n        }\n      }\n    }\n  }, onEnable:function() {\n  }, onDisable:function() {\n  }, onPostStateChange:function() {\n  }});\n  Object.defineProperty(Component.prototype, \"data\", {get:function() {\n    var record = this.system.store[this.entity.getGuid()];\n    return record ? record.data : null;\n  }});\n  return {Component:Component};\n}());\nObject.assign(pc, function() {\n  var ComponentData = function() {\n  };\n  return {ComponentData:ComponentData};\n}());\nObject.assign(pc, function() {\n  var AnimationComponent = function(system, entity) {\n    pc.Component.call(this, system, entity);\n    this.animationsIndex = {};\n    this.on(\"set_animations\", this.onSetAnimations, this);\n    this.on(\"set_assets\", this.onSetAssets, this);\n    this.on(\"set_loop\", this.onSetLoop, this);\n  };\n  AnimationComponent.prototype = Object.create(pc.Component.prototype);\n  AnimationComponent.prototype.constructor = AnimationComponent;\n  Object.assign(AnimationComponent.prototype, {play:function(name, blendTime) {\n    if (!this.data.animations[name]) {\n      console.error(pc.string.format(\"Trying to play animation '{0}' which doesn't exist\", name));\n      return;\n    }\n    if (!this.enabled || !this.entity.enabled) {\n      return;\n    }\n    blendTime = blendTime || 0;\n    var data = this.data;\n    data.prevAnim = data.currAnim;\n    data.currAnim = name;\n    if (data.model) {\n      data.blending = blendTime > 0 && data.prevAnim;\n      if (data.blending) {\n        data.blendTime = blendTime;\n        data.blendTimeRemaining = blendTime;\n        data.fromSkel.animation = data.animations[data.prevAnim];\n        data.fromSkel.addTime(data.skeleton._time);\n        data.toSkel.animation = data.animations[data.currAnim];\n      } else {\n        data.skeleton.animation = data.animations[data.currAnim];\n      }\n    }\n    data.playing = true;\n  }, getAnimation:function(name) {\n    return this.data.animations[name];\n  }, setModel:function(model) {\n    var data = this.data;\n    if (model) {\n      var graph = model.getGraph();\n      data.fromSkel = new pc.Skeleton(graph);\n      data.toSkel = new pc.Skeleton(graph);\n      data.skeleton = new pc.Skeleton(graph);\n      data.skeleton.looping = data.loop;\n      data.skeleton.setGraph(graph);\n    }\n    data.model = model;\n    if (data.animations && data.currAnim && data.animations[data.currAnim]) {\n      this.play(data.currAnim);\n    }\n  }, loadAnimationAssets:function(ids) {\n    if (!ids || !ids.length) {\n      return;\n    }\n    var self = this;\n    var assets = this.system.app.assets;\n    var i, l = ids.length;\n    var onAssetReady = function(asset) {\n      self.animations[asset.name] = asset.resource;\n      self.animationsIndex[asset.id] = asset.name;\n      self.animations = self.animations;\n    };\n    var onAssetAdd = function(asset) {\n      asset.off(\"change\", self.onAssetChanged, self);\n      asset.on(\"change\", self.onAssetChanged, self);\n      asset.off(\"remove\", self.onAssetRemoved, self);\n      asset.on(\"remove\", self.onAssetRemoved, self);\n      if (asset.resource) {\n        onAssetReady(asset);\n      } else {\n        asset.once(\"load\", onAssetReady, self);\n        if (self.enabled && self.entity.enabled) {\n          assets.load(asset);\n        }\n      }\n    };\n    for (i = 0;i < l;i++) {\n      var asset = assets.get(ids[i]);\n      if (asset) {\n        onAssetAdd(asset);\n      } else {\n        assets.on(\"add:\" + ids[i], onAssetAdd);\n      }\n    }\n  }, onAssetChanged:function(asset, attribute, newValue, oldValue) {\n    if (attribute === \"resource\") {\n      if (newValue) {\n        this.animations[asset.name] = newValue;\n        this.animationsIndex[asset.id] = asset.name;\n        if (this.data.currAnim === asset.name) {\n          if (this.data.playing && this.data.enabled && this.entity.enabled) {\n            this.play(asset.name, 0);\n          }\n        }\n      } else {\n        delete this.animations[asset.name];\n        delete this.animationsIndex[asset.id];\n      }\n    }\n  }, onAssetRemoved:function(asset) {\n    asset.off(\"remove\", this.onAssetRemoved, this);\n    if (this.animations && this.animations[asset.name]) {\n      delete this.animations[asset.name];\n      delete this.animationsIndex[asset.id];\n      if (this.data.currAnim === asset.name) {\n        this._stopCurrentAnimation();\n      }\n    }\n  }, _stopCurrentAnimation:function() {\n    this.data.currAnim = null;\n    this.data.playing = false;\n    if (this.data.skeleton) {\n      this.data.skeleton.currentTime = 0;\n      this.data.skeleton.animation = null;\n    }\n  }, onSetAnimations:function(name, oldValue, newValue) {\n    var data = this.data;\n    var modelComponent = this.entity.model;\n    if (modelComponent) {\n      var m = modelComponent.model;\n      if (m && m !== data.model) {\n        this.entity.animation.setModel(m);\n      }\n    }\n    if (!data.currAnim && data.activate && data.enabled && this.entity.enabled) {\n      for (var animName in data.animations) {\n        this.play(animName, 0);\n        break;\n      }\n    }\n  }, onSetAssets:function(name, oldValue, newValue) {\n    if (oldValue && oldValue.length) {\n      for (var i = 0;i < oldValue.length;i++) {\n        if (oldValue[i]) {\n          var asset = this.system.app.assets.get(oldValue[i]);\n          if (asset) {\n            asset.off(\"change\", this.onAssetChanged, this);\n            asset.off(\"remove\", this.onAssetRemoved, this);\n            var animName = this.animationsIndex[asset.id];\n            if (this.data.currAnim === animName) {\n              this._stopCurrentAnimation();\n            }\n            delete this.animations[animName];\n            delete this.animationsIndex[asset.id];\n          }\n        }\n      }\n    }\n    var ids = newValue.map(function(value) {\n      return value instanceof pc.Asset ? value.id : value;\n    });\n    this.loadAnimationAssets(ids);\n  }, onSetLoop:function(name, oldValue, newValue) {\n    if (this.data.skeleton) {\n      this.data.skeleton.looping = this.data.loop;\n    }\n  }, onSetCurrentTime:function(name, oldValue, newValue) {\n    this.data.skeleton.currentTime = newValue;\n    this.data.skeleton.addTime(0);\n    this.data.skeleton.updateGraph();\n  }, onEnable:function() {\n    pc.Component.prototype.onEnable.call(this);\n    var assets = this.data.assets;\n    var registry = this.system.app.assets;\n    if (assets) {\n      for (var i = 0, len = assets.length;i < len;i++) {\n        var asset = assets[i];\n        if (!(asset instanceof pc.Asset)) {\n          asset = registry.get(asset);\n        }\n        if (asset && !asset.resource) {\n          registry.load(asset);\n        }\n      }\n    }\n    if (this.data.activate && !this.data.currAnim) {\n      for (var animName in this.data.animations) {\n        this.play(animName, 0);\n        break;\n      }\n    }\n  }, onBeforeRemove:function() {\n    for (var i = 0;i < this.assets.length;i++) {\n      var asset = this.system.app.assets.get(this.assets[i]);\n      if (!asset) {\n        continue;\n      }\n      asset.off(\"change\", this.onAssetChanged, this);\n      asset.off(\"remove\", this.onAssetRemoved, this);\n    }\n    delete this.data.animation;\n    delete this.data.skeleton;\n    delete this.data.fromSkel;\n    delete this.data.toSkel;\n  }});\n  Object.defineProperties(AnimationComponent.prototype, {currentTime:{get:function() {\n    return this.data.skeleton._time;\n  }, set:function(currentTime) {\n    this.data.skeleton.currentTime = currentTime;\n    this.data.skeleton.addTime(0);\n    this.data.skeleton.updateGraph();\n  }}, duration:{get:function() {\n    return this.data.animations[this.data.currAnim].duration;\n  }}});\n  return {AnimationComponent:AnimationComponent};\n}());\nObject.assign(pc, function() {\n  var _schema = [\"enabled\", \"assets\", \"speed\", \"loop\", \"activate\", \"animations\", \"skeleton\", \"model\", \"prevAnim\", \"currAnim\", \"fromSkel\", \"toSkel\", \"blending\", \"blendTimeRemaining\", \"playing\"];\n  var AnimationComponentSystem = function AnimationComponentSystem(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"animation\";\n    this.description = \"Specifies the animation assets that can run on the model specified by the Entity's model Component.\";\n    this.ComponentType = pc.AnimationComponent;\n    this.DataType = pc.AnimationComponentData;\n    this.schema = _schema;\n    this.on(\"beforeremove\", this.onBeforeRemove, this);\n    this.on(\"update\", this.onUpdate, this);\n    pc.ComponentSystem.bind(\"update\", this.onUpdate, this);\n  };\n  AnimationComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  AnimationComponentSystem.prototype.constructor = AnimationComponentSystem;\n  pc.Component._buildAccessors(pc.AnimationComponent.prototype, _schema);\n  Object.assign(AnimationComponentSystem.prototype, {initializeComponentData:function(component, data, properties) {\n    properties = [\"activate\", \"enabled\", \"loop\", \"speed\", \"assets\"];\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, data, properties);\n  }, cloneComponent:function(entity, clone) {\n    var key;\n    this.addComponent(clone, {});\n    clone.animation.assets = entity.animation.assets.slice();\n    clone.animation.data.speed = entity.animation.speed;\n    clone.animation.data.loop = entity.animation.loop;\n    clone.animation.data.activate = entity.animation.activate;\n    clone.animation.data.enabled = entity.animation.enabled;\n    var clonedAnimations = {};\n    var animations = entity.animation.animations;\n    for (key in animations) {\n      if (animations.hasOwnProperty(key)) {\n        clonedAnimations[key] = animations[key];\n      }\n    }\n    clone.animation.animations = clonedAnimations;\n    var clonedAnimationsIndex = {};\n    var animationsIndex = entity.animation.animationsIndex;\n    for (key in animationsIndex) {\n      if (animationsIndex.hasOwnProperty(key)) {\n        clonedAnimationsIndex[key] = animationsIndex[key];\n      }\n    }\n    clone.animation.animationsIndex = clonedAnimationsIndex;\n  }, onBeforeRemove:function(entity, component) {\n    component.onBeforeRemove();\n  }, onUpdate:function(dt) {\n    var components = this.store;\n    for (var id in components) {\n      if (components.hasOwnProperty(id)) {\n        var component = components[id];\n        var componentData = component.data;\n        if (componentData.enabled && componentData.playing && component.entity.enabled) {\n          var skeleton = componentData.skeleton;\n          if (skeleton !== null && componentData.model !== null) {\n            if (componentData.blending) {\n              componentData.blendTimeRemaining -= dt;\n              if (componentData.blendTimeRemaining < 0.0) {\n                componentData.blendTimeRemaining = 0.0;\n              }\n              var alpha = 1.0 - componentData.blendTimeRemaining / componentData.blendTime;\n              skeleton.blend(componentData.fromSkel, componentData.toSkel, alpha);\n            } else {\n              var delta = dt * componentData.speed;\n              skeleton.addTime(delta);\n              if (skeleton._time === skeleton._animation.duration && !componentData.loop) {\n                componentData.playing = false;\n              }\n            }\n            if (componentData.blending && componentData.blendTimeRemaining === 0.0) {\n              componentData.blending = false;\n              skeleton.animation = componentData.toSkel._animation;\n            }\n            skeleton.updateGraph();\n          }\n        }\n      }\n    }\n  }});\n  return {AnimationComponentSystem:AnimationComponentSystem};\n}());\nObject.assign(pc, function() {\n  var AnimationComponentData = function() {\n    this.assets = [];\n    this.speed = 1.0;\n    this.loop = true;\n    this.activate = true;\n    this.enabled = true;\n    this.animations = {};\n    this.skeleton = null;\n    this.model = null;\n    this.prevAnim = null;\n    this.currAnim = null;\n    this.fromSkel = null;\n    this.toSkel = null;\n    this.blending = false;\n    this.blendTime = 0;\n    this.blendTimeRemaining = 0;\n    this.playing = false;\n  };\n  return {AnimationComponentData:AnimationComponentData};\n}());\nObject.assign(pc, function() {\n  var ModelComponent = function ModelComponent(system, entity) {\n    pc.Component.call(this, system, entity);\n    this._type = \"asset\";\n    this._asset = null;\n    this._model = null;\n    this._mapping = {};\n    this._castShadows = true;\n    this._receiveShadows = true;\n    this._materialAsset = null;\n    this._material = system.defaultMaterial;\n    this._castShadowsLightmap = true;\n    this._lightmapped = false;\n    this._lightmapSizeMultiplier = 1;\n    this._isStatic = false;\n    this._layers = [pc.LAYERID_WORLD];\n    this._batchGroupId = -1;\n    this._area = null;\n    this._assetOld = 0;\n    this._materialEvents = null;\n    this._dirtyModelAsset = false;\n    this._dirtyMaterialAsset = false;\n    this._clonedModel = false;\n  };\n  ModelComponent.prototype = Object.create(pc.Component.prototype);\n  ModelComponent.prototype.constructor = ModelComponent;\n  Object.assign(ModelComponent.prototype, {setVisible:function(visible) {\n    console.warn(\"WARNING: setVisible: Function is deprecated. Set enabled property instead.\");\n    this.enabled = visible;\n  }, addModelToLayers:function() {\n    var layer;\n    var layers = this.system.app.scene.layers;\n    for (var i = 0;i < this._layers.length;i++) {\n      layer = layers.getLayerById(this._layers[i]);\n      if (!layer) {\n        continue;\n      }\n      layer.addMeshInstances(this.meshInstances);\n    }\n  }, removeModelFromLayers:function(model) {\n    var layer;\n    var layers = this.system.app.scene.layers;\n    for (var i = 0;i < this._layers.length;i++) {\n      layer = layers.getLayerById(this._layers[i]);\n      if (!layer) {\n        continue;\n      }\n      layer.removeMeshInstances(model.meshInstances);\n    }\n  }, onRemove:function() {\n    if (this.type === \"asset\") {\n      this.asset = null;\n    } else {\n      this.model = null;\n    }\n    this.materialAsset = null;\n    this._unsetMaterialEvents();\n  }, onLayersChanged:function(oldComp, newComp) {\n    this.addModelToLayers();\n    oldComp.off(\"add\", this.onLayerAdded, this);\n    oldComp.off(\"remove\", this.onLayerRemoved, this);\n    newComp.on(\"add\", this.onLayerAdded, this);\n    newComp.on(\"remove\", this.onLayerRemoved, this);\n  }, onLayerAdded:function(layer) {\n    var index = this.layers.indexOf(layer.id);\n    if (index < 0) {\n      return;\n    }\n    layer.addMeshInstances(this.meshInstances);\n  }, onLayerRemoved:function(layer) {\n    var index = this.layers.indexOf(layer.id);\n    if (index < 0) {\n      return;\n    }\n    layer.removeMeshInstances(this.meshInstances);\n  }, _setMaterialEvent:function(index, event, id, handler) {\n    var evt = event + \":\" + id;\n    this.system.app.assets.on(evt, handler, this);\n    if (!this._materialEvents) {\n      this._materialEvents = [];\n    }\n    if (!this._materialEvents[index]) {\n      this._materialEvents[index] = {};\n    }\n    this._materialEvents[index][evt] = {id:id, handler:handler};\n  }, _unsetMaterialEvents:function() {\n    var assets = this.system.app.assets;\n    var events = this._materialEvents;\n    if (!events) {\n      return;\n    }\n    for (var i = 0, len = events.length;i < len;i++) {\n      if (!events[i]) {\n        continue;\n      }\n      var evt = events[i];\n      for (var key in evt) {\n        assets.off(key, evt[key].handler, this);\n      }\n    }\n    this._materialEvents = null;\n  }, _getAssetByIdOrPath:function(idOrPath) {\n    var asset = null;\n    var isPath = isNaN(parseInt(idOrPath, 10));\n    if (!isPath) {\n      asset = this.system.app.assets.get(idOrPath);\n    } else {\n      if (this.asset) {\n        var url = this._getMaterialAssetUrl(idOrPath);\n        if (url) {\n          asset = this.system.app.assets.getByUrl(url);\n        }\n      }\n    }\n    return asset;\n  }, _getMaterialAssetUrl:function(path) {\n    if (!this.asset) {\n      return null;\n    }\n    var modelAsset = this.system.app.assets.get(this.asset);\n    if (!modelAsset) {\n      return null;\n    }\n    var fileUrl = modelAsset.getFileUrl();\n    var dirUrl = pc.path.getDirectory(fileUrl);\n    return pc.path.join(dirUrl, path);\n  }, _loadAndSetMeshInstanceMaterial:function(materialAsset, meshInstance, index) {\n    var assets = this.system.app.assets;\n    if (!materialAsset) {\n      return;\n    }\n    if (materialAsset) {\n      if (materialAsset.resource) {\n        meshInstance.material = materialAsset.resource;\n        this._setMaterialEvent(index, \"remove\", materialAsset.id, function() {\n          meshInstance.material = this.system.defaultMaterial;\n        });\n      } else {\n        this._setMaterialEvent(index, \"load\", materialAsset.id, function(asset) {\n          meshInstance.material = asset.resource;\n          this._setMaterialEvent(index, \"remove\", materialAsset.id, function() {\n            meshInstance.material = this.system.defaultMaterial;\n          });\n        });\n        if (this.enabled && this.entity.enabled) {\n          assets.load(materialAsset);\n        }\n      }\n    }\n  }, onEnable:function() {\n    var app = this.system.app;\n    var scene = app.scene;\n    scene.on(\"set:layers\", this.onLayersChanged, this);\n    if (scene.layers) {\n      scene.layers.on(\"add\", this.onLayerAdded, this);\n      scene.layers.on(\"remove\", this.onLayerRemoved, this);\n    }\n    var isAsset = this._type === \"asset\";\n    var asset;\n    if (this._model) {\n      this.addModelToLayers();\n    } else {\n      if (isAsset && this._asset) {\n        asset = app.assets.get(this._asset);\n        if (asset && asset.resource !== this._model) {\n          this._bindModelAsset(asset);\n        }\n      }\n    }\n    if (this._materialAsset) {\n      asset = app.assets.get(this._materialAsset);\n      if (asset && asset.resource !== this._material) {\n        this._bindMaterialAsset(asset);\n      }\n    }\n    if (isAsset) {\n      if (this._mapping) {\n        for (var index in this._mapping) {\n          if (this._mapping[index]) {\n            asset = this._getAssetByIdOrPath(this._mapping[index]);\n            if (asset && !asset.resource) {\n              app.assets.load(asset);\n            }\n          }\n        }\n      }\n    }\n    if (this._batchGroupId >= 0) {\n      app.batcher.insert(pc.BatchGroup.MODEL, this.batchGroupId, this.entity);\n    }\n  }, onDisable:function() {\n    var app = this.system.app;\n    var scene = app.scene;\n    scene.off(\"set:layers\", this.onLayersChanged, this);\n    if (scene.layers) {\n      scene.layers.off(\"add\", this.onLayerAdded, this);\n      scene.layers.off(\"remove\", this.onLayerRemoved, this);\n    }\n    if (this._batchGroupId >= 0) {\n      app.batcher.remove(pc.BatchGroup.MODEL, this.batchGroupId, this.entity);\n    }\n    if (this._model) {\n      this.removeModelFromLayers(this._model);\n    }\n  }, hide:function() {\n    if (this._model) {\n      var i, l;\n      var instances = this._model.meshInstances;\n      for (i = 0, l = instances.length;i < l;i++) {\n        instances[i].visible = false;\n      }\n    }\n  }, show:function() {\n    if (this._model) {\n      var i, l;\n      var instances = this._model.meshInstances;\n      for (i = 0, l = instances.length;i < l;i++) {\n        instances[i].visible = true;\n      }\n    }\n  }, _bindMaterialAsset:function(asset) {\n    asset.on(\"load\", this._onMaterialAssetLoad, this);\n    asset.on(\"unload\", this._onMaterialAssetUnload, this);\n    asset.on(\"remove\", this._onMaterialAssetRemove, this);\n    asset.on(\"change\", this._onMaterialAssetChange, this);\n    if (asset.resource) {\n      this._onMaterialAssetLoad(asset);\n    } else {\n      if (!this.enabled || !this.entity.enabled) {\n        return;\n      }\n      this.system.app.assets.load(asset);\n    }\n  }, _unbindMaterialAsset:function(asset) {\n    asset.off(\"load\", this._onMaterialAssetLoad, this);\n    asset.off(\"unload\", this._onMaterialAssetUnload, this);\n    asset.off(\"remove\", this._onMaterialAssetRemove, this);\n    asset.off(\"change\", this._onMaterialAssetChange, this);\n  }, _onMaterialAssetAdd:function(asset) {\n    this.system.app.assets.off(\"add:\" + asset.id, this._onMaterialAssetAdd, this);\n    if (this._materialAsset === asset.id) {\n      this._bindMaterialAsset(asset);\n    }\n  }, _onMaterialAssetLoad:function(asset) {\n    this.material = asset.resource;\n  }, _onMaterialAssetUnload:function(asset) {\n    this.material = this.system.defaultMaterial;\n  }, _onMaterialAssetRemove:function(asset) {\n    this._onMaterialAssetUnload(asset);\n  }, _onMaterialAssetChange:function(asset) {\n  }, _bindModelAsset:function(asset) {\n    this._unbindModelAsset(asset);\n    asset.on(\"load\", this._onModelAssetLoad, this);\n    asset.on(\"unload\", this._onModelAssetUnload, this);\n    asset.on(\"change\", this._onModelAssetChange, this);\n    asset.on(\"remove\", this._onModelAssetRemove, this);\n    if (asset.resource) {\n      this._onModelAssetLoad(asset);\n    } else {\n      if (!this.enabled || !this.entity.enabled) {\n        return;\n      }\n      this.system.app.assets.load(asset);\n    }\n  }, _unbindModelAsset:function(asset) {\n    asset.off(\"load\", this._onModelAssetLoad, this);\n    asset.off(\"unload\", this._onModelAssetUnload, this);\n    asset.off(\"change\", this._onModelAssetChange, this);\n    asset.off(\"remove\", this._onModelAssetRemove, this);\n  }, _onModelAssetAdded:function(asset) {\n    this.system.app.assets.off(\"add:\" + asset.id, this._onModelAssetAdd, this);\n    if (asset.id === this._asset) {\n      this._bindModelAsset(asset);\n    }\n  }, _onModelAssetLoad:function(asset) {\n    this.model = asset.resource.clone();\n    this._clonedModel = true;\n  }, _onModelAssetUnload:function(asset) {\n    this.model = null;\n  }, _onModelAssetChange:function(asset, attr, _new, _old) {\n    if (attr === \"data\") {\n      this.mapping = this._mapping;\n    }\n  }, _onModelAssetRemove:function(asset) {\n    this.model = null;\n  }});\n  Object.defineProperty(ModelComponent.prototype, \"meshInstances\", {get:function() {\n    if (!this._model) {\n      return null;\n    }\n    return this._model.meshInstances;\n  }, set:function(value) {\n    if (!this._model) {\n      return;\n    }\n    this._model.meshInstances = value;\n  }});\n  Object.defineProperty(ModelComponent.prototype, \"type\", {get:function() {\n    return this._type;\n  }, set:function(value) {\n    if (this._type === value) {\n      return;\n    }\n    var mesh = null;\n    this._area = null;\n    this._type = value;\n    if (value === \"asset\") {\n      if (this._asset !== null) {\n        this._bindModelAsset(this._asset);\n      } else {\n        this.model = null;\n      }\n    } else {\n      var system = this.system;\n      var gd = system.app.graphicsDevice;\n      switch(value) {\n        case \"box\":\n          if (!system.box) {\n            system.box = pc.createBox(gd, {halfExtents:new pc.Vec3(0.5, 0.5, 0.5)});\n          }\n          mesh = system.box;\n          this._area = {x:2, y:2, z:2, uv:2.0 / 3};\n          break;\n        case \"capsule\":\n          if (!system.capsule) {\n            system.capsule = pc.createCapsule(gd, {radius:0.5, height:2});\n          }\n          mesh = system.capsule;\n          this._area = {x:Math.PI * 2, y:Math.PI, z:Math.PI * 2, uv:1.0 / 3 + 1.0 / 3 / 3 * 2};\n          break;\n        case \"cone\":\n          if (!system.cone) {\n            system.cone = pc.createCone(gd, {baseRadius:0.5, peakRadius:0, height:1});\n          }\n          mesh = system.cone;\n          this._area = {x:2.54, y:2.54, z:2.54, uv:1.0 / 3 + 1.0 / 3 / 3};\n          break;\n        case \"cylinder\":\n          if (!system.cylinder) {\n            system.cylinder = pc.createCylinder(gd, {radius:0.5, height:1});\n          }\n          mesh = system.cylinder;\n          this._area = {x:Math.PI, y:0.79 * 2, z:Math.PI, uv:1.0 / 3 + 1.0 / 3 / 3 * 2};\n          break;\n        case \"plane\":\n          if (!system.plane) {\n            system.plane = pc.createPlane(gd, {halfExtents:new pc.Vec2(0.5, 0.5), widthSegments:1, lengthSegments:1});\n          }\n          mesh = system.plane;\n          this._area = {x:0, y:1, z:0, uv:1};\n          break;\n        case \"sphere\":\n          if (!system.sphere) {\n            system.sphere = pc.createSphere(gd, {radius:0.5});\n          }\n          mesh = system.sphere;\n          this._area = {x:Math.PI, y:Math.PI, z:Math.PI, uv:1};\n          break;\n        default:\n          throw new Error(\"Invalid model type: \" + value);\n      }\n      var node = new pc.GraphNode;\n      var model = new pc.Model;\n      model.graph = node;\n      model.meshInstances = [new pc.MeshInstance(node, mesh, this._material)];\n      if (system._inTools) {\n        model.generateWireframe();\n      }\n      this.model = model;\n      this._asset = null;\n    }\n  }});\n  Object.defineProperty(ModelComponent.prototype, \"asset\", {get:function() {\n    return this._asset;\n  }, set:function(value) {\n    var assets = this.system.app.assets;\n    var _id = value;\n    if (value instanceof pc.Asset) {\n      _id = value.id;\n    }\n    if (this._asset !== _id) {\n      if (this._asset) {\n        assets.off(\"add:\" + this._asset, this._onModelAssetAdded, this);\n        var _prev = assets.get(this._asset);\n        if (_prev) {\n          this._unbindModelAsset(_prev);\n        }\n      }\n      this._asset = _id;\n      if (this._asset) {\n        var asset = assets.get(this._asset);\n        if (!asset) {\n          this.model = null;\n          assets.on(\"add:\" + this._asset, this._onModelAssetAdded, this);\n        } else {\n          this._bindModelAsset(asset);\n        }\n      } else {\n        this.model = null;\n      }\n    }\n  }});\n  Object.defineProperty(ModelComponent.prototype, \"model\", {get:function() {\n    return this._model;\n  }, set:function(value) {\n    if (this._model === value) {\n      return;\n    }\n    if (this._model) {\n      this.removeModelFromLayers(this._model);\n      this.entity.removeChild(this._model.getGraph());\n      delete this._model._entity;\n      if (this._clonedModel) {\n        this._model.destroy();\n        this._clonedModel = false;\n      }\n    }\n    this._model = value;\n    if (this._model) {\n      var meshInstances = this._model.meshInstances;\n      for (var i = 0;i < meshInstances.length;i++) {\n        meshInstances[i].castShadow = this._castShadows;\n        meshInstances[i].receiveShadow = this._receiveShadows;\n        meshInstances[i].isStatic = this._isStatic;\n      }\n      this.lightmapped = this._lightmapped;\n      this.entity.addChild(this._model.graph);\n      if (this.enabled && this.entity.enabled) {\n        this.addModelToLayers();\n      }\n      this._model._entity = this.entity;\n      if (this.entity.animation) {\n        this.entity.animation.setModel(this._model);\n      }\n      if (this.type === \"asset\") {\n        this.mapping = this._mapping;\n      } else {\n        this._unsetMaterialEvents();\n      }\n    }\n  }});\n  Object.defineProperty(ModelComponent.prototype, \"lightmapped\", {get:function() {\n    return this._lightmapped;\n  }, set:function(value) {\n    if (value === this._lightmapped) {\n      return;\n    }\n    var i, m, mask;\n    this._lightmapped = value;\n    if (this._model) {\n      var rcv = this._model.meshInstances;\n      if (value) {\n        for (i = 0;i < rcv.length;i++) {\n          m = rcv[i];\n          mask = m.mask;\n          m.mask = (mask | pc.MASK_BAKED) & ~(pc.MASK_DYNAMIC | pc.MASK_LIGHTMAP);\n        }\n      } else {\n        for (i = 0;i < rcv.length;i++) {\n          m = rcv[i];\n          m.deleteParameter(\"texture_lightMap\");\n          m.deleteParameter(\"texture_dirLightMap\");\n          m._shaderDefs &= ~pc.SHADERDEF_LM;\n          mask = m.mask;\n          m.mask = (mask | pc.MASK_DYNAMIC) & ~(pc.MASK_BAKED | pc.MASK_LIGHTMAP);\n        }\n      }\n    }\n  }});\n  Object.defineProperty(ModelComponent.prototype, \"castShadows\", {get:function() {\n    return this._castShadows;\n  }, set:function(value) {\n    if (this._castShadows === value) {\n      return;\n    }\n    var layer;\n    var i;\n    var model = this._model;\n    if (model) {\n      var layers = this.layers;\n      var scene = this.system.app.scene;\n      if (this._castShadows && !value) {\n        for (i = 0;i < layers.length;i++) {\n          layer = this.system.app.scene.layers.getLayerById(this.layers[i]);\n          if (!layer) {\n            continue;\n          }\n          layer.removeShadowCasters(model.meshInstances);\n        }\n      }\n      var meshInstances = model.meshInstances;\n      for (i = 0;i < meshInstances.length;i++) {\n        meshInstances[i].castShadow = value;\n      }\n      if (!this._castShadows && value) {\n        for (i = 0;i < layers.length;i++) {\n          layer = scene.layers.getLayerById(layers[i]);\n          if (!layer) {\n            continue;\n          }\n          layer.addShadowCasters(model.meshInstances);\n        }\n      }\n    }\n    this._castShadows = value;\n  }});\n  Object.defineProperty(ModelComponent.prototype, \"receiveShadows\", {get:function() {\n    return this._receiveShadows;\n  }, set:function(value) {\n    if (this._receiveShadows === value) {\n      return;\n    }\n    this._receiveShadows = value;\n    if (this._model) {\n      var meshInstances = this._model.meshInstances;\n      for (var i = 0, len = meshInstances.length;i < len;i++) {\n        meshInstances[i].receiveShadow = value;\n      }\n    }\n  }});\n  Object.defineProperty(ModelComponent.prototype, \"castShadowsLightmap\", {get:function() {\n    return this._castShadowsLightmap;\n  }, set:function(value) {\n    this._castShadowsLightmap = value;\n  }});\n  Object.defineProperty(ModelComponent.prototype, \"lightmapSizeMultiplier\", {get:function() {\n    return this._lightmapSizeMultiplier;\n  }, set:function(value) {\n    this._lightmapSizeMultiplier = value;\n  }});\n  Object.defineProperty(ModelComponent.prototype, \"isStatic\", {get:function() {\n    return this._isStatic;\n  }, set:function(value) {\n    if (this._isStatic === value) {\n      return;\n    }\n    this._isStatic = value;\n    var i, m;\n    if (this._model) {\n      var rcv = this._model.meshInstances;\n      for (i = 0;i < rcv.length;i++) {\n        m = rcv[i];\n        m.isStatic = value;\n      }\n    }\n  }});\n  Object.defineProperty(ModelComponent.prototype, \"layers\", {get:function() {\n    return this._layers;\n  }, set:function(value) {\n    var i, layer;\n    var layers = this.system.app.scene.layers;\n    if (this.meshInstances) {\n      for (i = 0;i < this._layers.length;i++) {\n        layer = layers.getLayerById(this._layers[i]);\n        if (!layer) {\n          continue;\n        }\n        layer.removeMeshInstances(this.meshInstances);\n      }\n    }\n    this._layers.length = 0;\n    for (i = 0;i < value.length;i++) {\n      this._layers[i] = value[i];\n    }\n    if (!this.enabled || !this.entity.enabled || !this.meshInstances) {\n      return;\n    }\n    for (i = 0;i < this._layers.length;i++) {\n      layer = layers.getLayerById(this._layers[i]);\n      if (!layer) {\n        continue;\n      }\n      layer.addMeshInstances(this.meshInstances);\n    }\n  }});\n  Object.defineProperty(ModelComponent.prototype, \"batchGroupId\", {get:function() {\n    return this._batchGroupId;\n  }, set:function(value) {\n    if (this._batchGroupId === value) {\n      return;\n    }\n    var batcher = this.system.app.batcher;\n    if (this.entity.enabled && this._batchGroupId >= 0) {\n      batcher.remove(pc.BatchGroup.MODEL, this.batchGroupId, this.entity);\n    }\n    if (this.entity.enabled && value >= 0) {\n      batcher.insert(pc.BatchGroup.MODEL, value, this.entity);\n    }\n    if (value < 0 && this._batchGroupId >= 0 && this.enabled && this.entity.enabled) {\n      this.addModelToLayers();\n    }\n    this._batchGroupId = value;\n  }});\n  Object.defineProperty(ModelComponent.prototype, \"materialAsset\", {get:function() {\n    return this._materialAsset;\n  }, set:function(value) {\n    var _id = value;\n    if (value instanceof pc.Asset) {\n      _id = value.id;\n    }\n    var assets = this.system.app.assets;\n    if (_id !== this._materialAsset) {\n      if (this._materialAsset) {\n        assets.off(\"add:\" + this._materialAsset, this._onMaterialAssetAdd, this);\n        var _prev = assets.get(this._materialAsset);\n        if (_prev) {\n          this._unbindMaterialAsset(_prev);\n        }\n      }\n      this._materialAsset = _id;\n      if (this._materialAsset) {\n        var asset = assets.get(this._materialAsset);\n        if (!asset) {\n          this.material = this.system.defaultMaterial;\n          assets.on(\"add:\" + this._materialAsset, this._onMaterialAssetAdd, this);\n        } else {\n          this._bindMaterialAsset(asset);\n        }\n      } else {\n        this.material = this.system.defaultMaterial;\n      }\n    }\n  }});\n  Object.defineProperty(ModelComponent.prototype, \"material\", {get:function() {\n    return this._material;\n  }, set:function(value) {\n    if (this._material !== value) {\n      this._material = value;\n      var model = this._model;\n      if (model && this._type !== \"asset\") {\n        var meshInstances = model.meshInstances;\n        for (var i = 0, len = meshInstances.length;i < len;i++) {\n          meshInstances[i].material = value;\n        }\n      }\n    }\n  }});\n  Object.defineProperty(ModelComponent.prototype, \"mapping\", {get:function() {\n    return this._mapping;\n  }, set:function(value) {\n    if (this._type !== \"asset\") {\n      return;\n    }\n    this._unsetMaterialEvents();\n    if (!value) {\n      value = {};\n    }\n    this._mapping = value;\n    if (!this._model) {\n      return;\n    }\n    var meshInstances = this._model.meshInstances;\n    var modelAsset = this.asset ? this.system.app.assets.get(this.asset) : null;\n    var assetMapping = modelAsset ? modelAsset.data.mapping : null;\n    var asset = null;\n    for (var i = 0, len = meshInstances.length;i < len;i++) {\n      if (value[i] !== undefined) {\n        if (value[i]) {\n          asset = this.system.app.assets.get(value[i]);\n          this._loadAndSetMeshInstanceMaterial(asset, meshInstances[i], i);\n        } else {\n          meshInstances[i].material = this.system.defaultMaterial;\n        }\n      } else {\n        if (assetMapping) {\n          if (assetMapping[i] && (assetMapping[i].material || assetMapping[i].path)) {\n            if (assetMapping[i].material !== undefined) {\n              asset = this.system.app.assets.get(assetMapping[i].material);\n            } else {\n              if (assetMapping[i].path !== undefined) {\n                var url = this._getMaterialAssetUrl(assetMapping[i].path);\n                if (url) {\n                  asset = this.system.app.assets.getByUrl(url);\n                }\n              }\n            }\n            this._loadAndSetMeshInstanceMaterial(asset, meshInstances[i], i);\n          } else {\n            meshInstances[i].material = this.system.defaultMaterial;\n          }\n        }\n      }\n    }\n  }});\n  return {ModelComponent:ModelComponent};\n}());\nObject.assign(pc, function() {\n  var _schema = [\"enabled\"];\n  var ModelComponentSystem = function ModelComponentSystem(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"model\";\n    this.description = \"Renders a 3D model at the location of the Entity.\";\n    this.ComponentType = pc.ModelComponent;\n    this.DataType = pc.ModelComponentData;\n    this.schema = _schema;\n    this.box = null;\n    this.capsule = null;\n    this.cone = null;\n    this.cylinder = null;\n    this.plane = null;\n    this.sphere = null;\n    this.defaultMaterial = app.scene.defaultMaterial;\n    this.on(\"beforeremove\", this.onRemove, this);\n  };\n  ModelComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  ModelComponentSystem.prototype.constructor = ModelComponentSystem;\n  pc.Component._buildAccessors(pc.ModelComponent.prototype, _schema);\n  Object.assign(ModelComponentSystem.prototype, {initializeComponentData:function(component, _data, properties) {\n    properties = [\"material\", \"materialAsset\", \"asset\", \"castShadows\", \"receiveShadows\", \"castShadowsLightmap\", \"lightmapped\", \"lightmapSizeMultiplier\", \"type\", \"mapping\", \"layers\", \"isStatic\", \"batchGroupId\"];\n    if (_data.batchGroupId === null || _data.batchGroupId === undefined) {\n      _data.batchGroupId = -1;\n    }\n    if (_data.layers && _data.layers.length) {\n      _data.layers = _data.layers.slice(0);\n    }\n    for (var i = 0;i < properties.length;i++) {\n      if (_data.hasOwnProperty(properties[i])) {\n        component[properties[i]] = _data[properties[i]];\n      }\n    }\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, _data, [\"enabled\"]);\n  }, cloneComponent:function(entity, clone) {\n    var data = {type:entity.model.type, asset:entity.model.asset, castShadows:entity.model.castShadows, receiveShadows:entity.model.receiveShadows, castShadowsLightmap:entity.model.castShadowsLightmap, lightmapped:entity.model.lightmapped, lightmapSizeMultiplier:entity.model.lightmapSizeMultiplier, isStatic:entity.model.isStatic, enabled:entity.model.enabled, layers:entity.model.layers, batchGroupId:entity.model.batchGroupId, mapping:pc.extend({}, entity.model.mapping)};\n    var materialAsset = entity.model.materialAsset;\n    if (!(materialAsset instanceof pc.Asset) && materialAsset != null) {\n      materialAsset = this.app.assets.get(materialAsset);\n    }\n    var material = entity.model.material;\n    if (!material || material === this.defaultMaterial || !materialAsset || material === materialAsset.resource) {\n      data.materialAsset = materialAsset;\n    }\n    var component = this.addComponent(clone, data);\n    if (entity.model.model && entity.model.type === \"asset\" && !entity.model.asset) {\n      component.model = entity.model.model.clone();\n      component._clonedModel = true;\n    }\n    if (!data.materialAsset) {\n      component.material = material;\n    }\n    if (entity.model.model) {\n      var meshInstances = entity.model.model.meshInstances;\n      var meshInstancesClone = component.model.meshInstances;\n      for (var i = 0;i < meshInstances.length;i++) {\n        meshInstancesClone[i].mask = meshInstances[i].mask;\n        meshInstancesClone[i].material = meshInstances[i].material;\n        meshInstancesClone[i].layer = meshInstances[i].layer;\n        meshInstancesClone[i].receiveShadow = meshInstances[i].receiveShadow;\n      }\n    }\n  }, onRemove:function(entity, component) {\n    component.onRemove();\n  }});\n  return {ModelComponentSystem:ModelComponentSystem};\n}());\nObject.assign(pc, function() {\n  var ModelComponentData = function() {\n    this.enabled = true;\n  };\n  return {ModelComponentData:ModelComponentData};\n}());\nObject.assign(pc, function() {\n  var CameraComponent = function CameraComponent(system, entity) {\n    pc.Component.call(this, system, entity);\n    this.on(\"set_aspectRatioMode\", this.onSetAspectRatioMode, this);\n    this.on(\"set_aspectRatio\", this.onSetAspectRatio, this);\n    this.on(\"set_camera\", this.onSetCamera, this);\n    this.on(\"set_clearColor\", this.onSetClearColor, this);\n    this.on(\"set_fov\", this.onSetFov, this);\n    this.on(\"set_orthoHeight\", this.onSetOrthoHeight, this);\n    this.on(\"set_nearClip\", this.onSetNearClip, this);\n    this.on(\"set_farClip\", this.onSetFarClip, this);\n    this.on(\"set_projection\", this.onSetProjection, this);\n    this.on(\"set_priority\", this.onSetPriority, this);\n    this.on(\"set_clearColorBuffer\", this.updateClearFlags, this);\n    this.on(\"set_clearDepthBuffer\", this.updateClearFlags, this);\n    this.on(\"set_clearStencilBuffer\", this.updateClearFlags, this);\n    this.on(\"set_renderTarget\", this.onSetRenderTarget, this);\n    this.on(\"set_rect\", this.onSetRect, this);\n    this.on(\"set_scissorRect\", this.onSetScissorRect, this);\n    this.on(\"set_horizontalFov\", this.onSetHorizontalFov, this);\n    this.on(\"set_frustumCulling\", this.onSetFrustumCulling, this);\n    this.on(\"set_calculateTransform\", this.onSetCalculateTransform, this);\n    this.on(\"set_calculateProjection\", this.onSetCalculateProjection, this);\n    this.on(\"set_cullFaces\", this.onSetCullFaces, this);\n    this.on(\"set_flipFaces\", this.onSetFlipFaces, this);\n    this.on(\"set_layers\", this.onSetLayers, this);\n  };\n  CameraComponent.prototype = Object.create(pc.Component.prototype);\n  CameraComponent.prototype.constructor = CameraComponent;\n  Object.defineProperty(CameraComponent.prototype, \"projectionMatrix\", {get:function() {\n    return this.data.camera.getProjectionMatrix();\n  }});\n  Object.defineProperty(CameraComponent.prototype, \"viewMatrix\", {get:function() {\n    return this.data.camera.getViewMatrix();\n  }});\n  Object.defineProperty(CameraComponent.prototype, \"frustum\", {get:function() {\n    return this.data.camera.frustum;\n  }});\n  Object.defineProperty(CameraComponent.prototype, \"vrDisplay\", {get:function() {\n    return this.data.camera.vrDisplay;\n  }, set:function(value) {\n    this.data.camera.vrDisplay = value;\n    if (value) {\n      value._camera = this.data.camera;\n    }\n  }});\n  Object.defineProperty(CameraComponent.prototype, \"node\", {get:function() {\n    return this.data.camera._node;\n  }});\n  Object.assign(CameraComponent.prototype, {screenToWorld:function(screenx, screeny, cameraz, worldCoord) {\n    var device = this.system.app.graphicsDevice;\n    return this.data.camera.screenToWorld(screenx, screeny, cameraz, device.clientRect.width, device.clientRect.height, worldCoord);\n  }, onPrerender:function() {\n    this.data.camera._viewMatDirty = true;\n    this.data.camera._viewProjMatDirty = true;\n  }, worldToScreen:function(worldCoord, screenCoord) {\n    var device = this.system.app.graphicsDevice;\n    return this.data.camera.worldToScreen(worldCoord, device.clientRect.width, device.clientRect.height, screenCoord);\n  }, onSetAspectRatioMode:function(name, oldValue, newValue) {\n    this.data.camera.aspectRatioMode = newValue;\n  }, onSetAspectRatio:function(name, oldValue, newValue) {\n    this.data.camera.aspectRatio = newValue;\n  }, onSetCamera:function(name, oldValue, newValue) {\n    if (oldValue) {\n      oldValue._node = null;\n    }\n    newValue._node = this.entity;\n  }, onSetClearColor:function(name, oldValue, newValue) {\n    var clearColor = this.data.camera.clearColor;\n    clearColor[0] = newValue.r;\n    clearColor[1] = newValue.g;\n    clearColor[2] = newValue.b;\n    clearColor[3] = newValue.a;\n  }, onSetFov:function(name, oldValue, newValue) {\n    this.data.camera.fov = newValue;\n  }, onSetOrthoHeight:function(name, oldValue, newValue) {\n    this.data.camera.orthoHeight = newValue;\n  }, onSetNearClip:function(name, oldValue, newValue) {\n    this.data.camera.nearClip = newValue;\n  }, onSetFarClip:function(name, oldValue, newValue) {\n    this.data.camera.farClip = newValue;\n  }, onSetHorizontalFov:function(name, oldValue, newValue) {\n    this.data.camera.horizontalFov = newValue;\n  }, onSetFrustumCulling:function(name, oldValue, newValue) {\n    this.data.camera.frustumCulling = newValue;\n  }, onSetCalculateTransform:function(name, oldValue, newValue) {\n    this._calculateTransform = newValue;\n    this.camera.overrideCalculateTransform = !!newValue;\n  }, onSetCalculateProjection:function(name, oldValue, newValue) {\n    this._calculateProjection = newValue;\n    this.camera._projMatDirty = true;\n    this.camera.overrideCalculateProjection = !!newValue;\n  }, onSetCullFaces:function(name, oldValue, newValue) {\n    this.camera._cullFaces = newValue;\n  }, onSetFlipFaces:function(name, oldValue, newValue) {\n    this.camera._flipFaces = newValue;\n  }, onSetProjection:function(name, oldValue, newValue) {\n    this.data.camera.projection = newValue;\n  }, onSetPriority:function(name, oldValue, newValue) {\n    var layer;\n    for (var i = 0;i < this.layers.length;i++) {\n      layer = this.system.app.scene.layers.getLayerById(this.layers[i]);\n      if (!layer) {\n        continue;\n      }\n      layer._sortCameras();\n    }\n  }, onSetLayers:function(name, oldValue, newValue) {\n    var i, layer;\n    for (i = 0;i < oldValue.length;i++) {\n      layer = this.system.app.scene.layers.getLayerById(oldValue[i]);\n      if (!layer) {\n        continue;\n      }\n      layer.removeCamera(this);\n    }\n    if (!this.enabled || !this.entity.enabled) {\n      return;\n    }\n    for (i = 0;i < newValue.length;i++) {\n      layer = this.system.app.scene.layers.getLayerById(newValue[i]);\n      if (!layer) {\n        continue;\n      }\n      layer.addCamera(this);\n    }\n  }, addCameraToLayers:function() {\n    var layer;\n    for (var i = 0;i < this.layers.length;i++) {\n      layer = this.system.app.scene.layers.getLayerById(this.layers[i]);\n      if (!layer) {\n        continue;\n      }\n      layer.addCamera(this);\n    }\n  }, removeCameraFromLayers:function() {\n    var layer;\n    for (var i = 0;i < this.layers.length;i++) {\n      layer = this.system.app.scene.layers.getLayerById(this.layers[i]);\n      if (!layer) {\n        continue;\n      }\n      layer.removeCamera(this);\n    }\n  }, onLayersChanged:function(oldComp, newComp) {\n    this.addCameraToLayers();\n    oldComp.off(\"add\", this.onLayerAdded, this);\n    oldComp.off(\"remove\", this.onLayerRemoved, this);\n    newComp.on(\"add\", this.onLayerAdded, this);\n    newComp.on(\"remove\", this.onLayerRemoved, this);\n  }, onLayerAdded:function(layer) {\n    var index = this.layers.indexOf(layer.id);\n    if (index < 0) {\n      return;\n    }\n    layer.addCamera(this);\n  }, onLayerRemoved:function(layer) {\n    var index = this.layers.indexOf(layer.id);\n    if (index < 0) {\n      return;\n    }\n    layer.removeCamera(this);\n  }, updateClearFlags:function() {\n    var flags = 0;\n    if (this.clearColorBuffer) {\n      flags |= pc.CLEARFLAG_COLOR;\n    }\n    if (this.clearDepthBuffer) {\n      flags |= pc.CLEARFLAG_DEPTH;\n    }\n    if (this.clearStencilBuffer) {\n      flags |= pc.CLEARFLAG_STENCIL;\n    }\n    this.data.camera.clearFlags = flags;\n  }, onSetRenderTarget:function(name, oldValue, newValue) {\n    this.data.camera.renderTarget = newValue;\n  }, onSetRect:function(name, oldValue, newValue) {\n    this.data.camera.setRect(newValue.x, newValue.y, newValue.z, newValue.w);\n  }, onSetScissorRect:function(name, oldValue, newValue) {\n    this.data.camera.setScissorRect(newValue.x, newValue.y, newValue.z, newValue.w);\n  }, onEnable:function() {\n    this.system.addCamera(this);\n    this.system.app.scene.on(\"set:layers\", this.onLayersChanged, this);\n    if (this.system.app.scene.layers) {\n      this.system.app.scene.layers.on(\"add\", this.onLayerAdded, this);\n      this.system.app.scene.layers.on(\"remove\", this.onLayerRemoved, this);\n    }\n    if (this.enabled && this.entity.enabled) {\n      this.addCameraToLayers();\n    }\n    this.postEffects.enable();\n  }, onDisable:function() {\n    this.postEffects.disable();\n    this.removeCameraFromLayers();\n    this.system.app.scene.off(\"set:layers\", this.onLayersChanged, this);\n    if (this.system.app.scene.layers) {\n      this.system.app.scene.layers.off(\"add\", this.onLayerAdded, this);\n      this.system.app.scene.layers.off(\"remove\", this.onLayerRemoved, this);\n    }\n    this.system.removeCamera(this);\n  }, onRemove:function() {\n    this.onDisable();\n    this.off();\n  }, calculateAspectRatio:function(rt) {\n    var src = rt ? rt : this.system.app.graphicsDevice;\n    var rect = this.rect;\n    return src.width * rect.z / (src.height * rect.w);\n  }, frameBegin:function(rt) {\n    if (this.aspectRatioMode === pc.ASPECT_AUTO) {\n      this.aspectRatio = this.calculateAspectRatio(rt);\n    }\n    this.data.isRendering = true;\n  }, frameEnd:function() {\n    this.data.isRendering = false;\n  }, enterVr:function(display, callback) {\n    if (display instanceof Function && !callback) {\n      callback = display;\n      display = null;\n    }\n    if (!this.system.app.vr) {\n      callback(\"VrManager not created. Enable VR in project settings.\");\n      return;\n    }\n    if (!display) {\n      display = this.system.app.vr.display;\n    }\n    if (display) {\n      var self = this;\n      if (display.capabilities.canPresent) {\n        display.requestPresent(function(err) {\n          if (!err) {\n            self.vrDisplay = display;\n            self.vrDisplay.once(\"beforepresentchange\", function(display) {\n              if (!display.presenting) {\n                self.vrDisplay = null;\n              }\n            });\n          }\n          callback(err);\n        });\n      } else {\n        self.vrDisplay = display;\n        callback();\n      }\n    } else {\n      callback(\"No pc.VrDisplay to present\");\n    }\n  }, exitVr:function(callback) {\n    if (this.vrDisplay) {\n      if (this.vrDisplay.capabilities.canPresent) {\n        var display = this.vrDisplay;\n        this.vrDisplay = null;\n        display.exitPresent(callback);\n      } else {\n        this.vrDisplay = null;\n        callback();\n      }\n    } else {\n      callback(\"Not presenting VR\");\n    }\n  }});\n  return {CameraComponent:CameraComponent};\n}());\nObject.assign(pc, function() {\n  var _schema = [\"enabled\", \"clearColorBuffer\", \"clearColor\", \"clearDepthBuffer\", \"clearStencilBuffer\", \"frustumCulling\", \"projection\", \"fov\", \"orthoHeight\", \"nearClip\", \"farClip\", \"priority\", \"rect\", \"scissorRect\", \"camera\", \"aspectRatio\", \"aspectRatioMode\", \"horizontalFov\", \"model\", \"renderTarget\", \"calculateTransform\", \"calculateProjection\", \"cullFaces\", \"flipFaces\", \"layers\"];\n  var CameraComponentSystem = function(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"camera\";\n    this.description = \"Renders the scene from the location of the Entity.\";\n    this.ComponentType = pc.CameraComponent;\n    this.DataType = pc.CameraComponentData;\n    this.schema = _schema;\n    this.cameras = [];\n    this.on(\"beforeremove\", this.onBeforeRemove, this);\n    this.on(\"remove\", this.onRemove, this);\n    this.app.on(\"prerender\", this.onPrerender, this);\n    pc.ComponentSystem.bind(\"update\", this.onUpdate, this);\n  };\n  CameraComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  CameraComponentSystem.prototype.constructor = CameraComponentSystem;\n  pc.Component._buildAccessors(pc.CameraComponent.prototype, _schema);\n  Object.assign(CameraComponentSystem.prototype, {initializeComponentData:function(component, _data, properties) {\n    properties = [\"postEffects\", \"enabled\", \"model\", \"camera\", \"aspectRatio\", \"aspectRatioMode\", \"horizontalFov\", \"renderTarget\", \"clearColor\", \"fov\", \"orthoHeight\", \"nearClip\", \"farClip\", \"projection\", \"priority\", \"clearColorBuffer\", \"clearDepthBuffer\", \"clearStencilBuffer\", \"frustumCulling\", \"rect\", \"scissorRect\", \"calculateTransform\", \"calculateProjection\", \"cullFaces\", \"flipFaces\", \"layers\"];\n    var data = {};\n    for (var i = 0, len = properties.length;i < len;i++) {\n      var property = properties[i];\n      data[property] = _data[property];\n    }\n    if (data.layers && pc.type(data.layers) === \"array\") {\n      data.layers = data.layers.slice(0);\n    }\n    if (data.clearColor && pc.type(data.clearColor) === \"array\") {\n      var c = data.clearColor;\n      data.clearColor = new pc.Color(c[0], c[1], c[2], c[3]);\n    }\n    if (data.rect && pc.type(data.rect) === \"array\") {\n      var rect = data.rect;\n      data.rect = new pc.Vec4(rect[0], rect[1], rect[2], rect[3]);\n    }\n    if (data.scissorRect && pc.type(data.scissorRect) === \"array\") {\n      var scissorRect = data.scissorRect;\n      data.scissorRect = new pc.Vec4(scissorRect[0], scissorRect[1], scissorRect[2], scissorRect[3]);\n    }\n    if (data.activate) {\n      console.warn(\"WARNING: activate: Property is deprecated. Set enabled property instead.\");\n      data.enabled = data.activate;\n    }\n    data.camera = new pc.Camera;\n    data._node = component.entity;\n    data.camera._component = component;\n    var self = component;\n    data.camera.calculateTransform = function(mat, mode) {\n      if (!self._calculateTransform) {\n        return null;\n      }\n      return self._calculateTransform(mat, mode);\n    };\n    data.camera.calculateProjection = function(mat, mode) {\n      if (!self._calculateProjection) {\n        return null;\n      }\n      return self._calculateProjection(mat, mode);\n    };\n    data.postEffects = new pc.PostEffectQueue(this.app, component);\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, data, properties);\n  }, onBeforeRemove:function(entity, component) {\n    this.removeCamera(component);\n    component.onRemove();\n  }, onRemove:function(entity, data) {\n    data.camera = null;\n  }, onUpdate:function(dt) {\n    var components = this.store;\n    var component, componentData, cam, vrDisplay;\n    if (this.app.vr) {\n      for (var id in components) {\n        component = components[id];\n        componentData = component.data;\n        cam = componentData.camera;\n        vrDisplay = cam.vrDisplay;\n        if (componentData.enabled && component.entity.enabled && vrDisplay) {\n          vrDisplay.setClipPlanes(cam._nearClip, cam._farClip);\n          if (cam._node) {\n            cam._node.localTransform.copy(vrDisplay.combinedViewInv);\n            cam._node._dirtyLocal = false;\n            cam._node._dirtifyWorld();\n          }\n        }\n      }\n    }\n  }, onPrerender:function() {\n    for (var i = 0, len = this.cameras.length;i < len;i++) {\n      this.cameras[i].onPrerender();\n    }\n  }, addCamera:function(camera) {\n    this.cameras.push(camera);\n    this.sortCamerasByPriority();\n  }, removeCamera:function(camera) {\n    var index = this.cameras.indexOf(camera);\n    if (index >= 0) {\n      this.cameras.splice(index, 1);\n      this.sortCamerasByPriority();\n    }\n  }, sortCamerasByPriority:function() {\n    this.cameras.sort(function(a, b) {\n      return a.priority - b.priority;\n    });\n  }});\n  return {CameraComponentSystem:CameraComponentSystem};\n}());\nObject.assign(pc, function() {\n  var CameraComponentData = function() {\n    this.clearColor = new pc.Color(0.722, 0.722, 0.722, 1);\n    this.clearColorBuffer = true;\n    this.clearDepthBuffer = true;\n    this.clearStencilBuffer = true;\n    this.nearClip = 0.1;\n    this.farClip = 1000;\n    this.fov = 45;\n    this.orthoHeight = 100;\n    this.projection = pc.PROJECTION_PERSPECTIVE;\n    this.priority = 0;\n    this.rect = new pc.Vec4(0, 0, 1, 1);\n    this.scissorRect = new pc.Vec4(0, 0, 1, 1);\n    this.enabled = true;\n    this.frustumCulling = false;\n    this.cullFaces = true;\n    this.flipFaces = false;\n    this.layers = [pc.LAYERID_WORLD, pc.LAYERID_DEPTH, pc.LAYERID_SKYBOX, pc.LAYERID_UI, pc.LAYERID_IMMEDIATE];\n    this.camera = null;\n    this.aspectRatio = 16 / 9;\n    this.aspectRatioMode = pc.ASPECT_AUTO;\n    this.renderTarget = null;\n    this.postEffects = null;\n    this.isRendering = false;\n    this.calculateTransform = null;\n    this.calculateProjection = null;\n  };\n  return {CameraComponentData:CameraComponentData};\n}());\nObject.assign(pc, function() {\n  var depthLayer;\n  function PostEffectQueue(app, camera) {\n    var self = this;\n    this.app = app;\n    this.camera = camera;\n    this.effects = [];\n    this.enabled = false;\n    this.depthTarget = null;\n    this.renderTargetScale = 1;\n    this.resizeTimeout = null;\n    this.resizeLast = 0;\n    this._resizeTimeoutCallback = function() {\n      self.resizeRenderTargets();\n    };\n    camera.on(\"set_rect\", this.onCameraRectChanged, this);\n    this._origOverrideClear = false;\n    this._origClearColorBuffer = false;\n    this._origDepthColorBuffer = false;\n    this._origStencilColorBuffer = false;\n  }\n  Object.assign(PostEffectQueue.prototype, {_createOffscreenTarget:function(useDepth, hdr) {\n    var rect = this.camera.rect;\n    var width = Math.floor(rect.z * this.app.graphicsDevice.width * this.renderTargetScale);\n    var height = Math.floor(rect.w * this.app.graphicsDevice.height * this.renderTargetScale);\n    var device = this.app.graphicsDevice;\n    var format = hdr ? device.getHdrFormat() : pc.PIXELFORMAT_R8_G8_B8_A8;\n    var useStencil = this.app.graphicsDevice.supportsStencil;\n    var samples = useDepth ? device.samples : 1;\n    var colorBuffer = new pc.Texture(device, {format:format, width:width, height:height});\n    colorBuffer.name = \"posteffect #\" + this.effects.length;\n    colorBuffer.minFilter = pc.FILTER_NEAREST;\n    colorBuffer.magFilter = pc.FILTER_NEAREST;\n    colorBuffer.addressU = pc.ADDRESS_CLAMP_TO_EDGE;\n    colorBuffer.addressV = pc.ADDRESS_CLAMP_TO_EDGE;\n    return new pc.RenderTarget(this.app.graphicsDevice, colorBuffer, {depth:useDepth, stencil:useStencil, samples:samples});\n  }, _resizeOffscreenTarget:function(rt) {\n    var rect = this.camera.rect;\n    var width = Math.floor(rect.z * this.app.graphicsDevice.width * this.renderTargetScale);\n    var height = Math.floor(rect.w * this.app.graphicsDevice.height * this.renderTargetScale);\n    var device = this.app.graphicsDevice;\n    var format = rt.colorBuffer.format;\n    rt._colorBuffer.destroy();\n    var colorBuffer = new pc.Texture(device, {format:format, width:width, height:height});\n    colorBuffer.name = \"posteffect\";\n    colorBuffer.minFilter = pc.FILTER_NEAREST;\n    colorBuffer.magFilter = pc.FILTER_NEAREST;\n    colorBuffer.addressU = pc.ADDRESS_CLAMP_TO_EDGE;\n    colorBuffer.addressV = pc.ADDRESS_CLAMP_TO_EDGE;\n    rt._colorBuffer = colorBuffer;\n    rt.destroy();\n  }, _destroyOffscreenTarget:function(rt) {\n    if (rt._colorBuffer) {\n      rt._colorBuffer.destroy();\n    }\n    if (rt._depthBuffer) {\n      rt._depthBuffer.destroy();\n    }\n    rt.destroy();\n  }, setRenderTargetScale:function(scale) {\n    this.renderTargetScale = scale;\n    this.resizeRenderTargets();\n  }, addEffect:function(effect) {\n    var isFirstEffect = this.effects.length === 0;\n    var effects = this.effects;\n    var newEntry = {effect:effect, inputTarget:this._createOffscreenTarget(isFirstEffect, effect.hdr), outputTarget:null};\n    if (!this.layer) {\n      this.layer = new pc.Layer({opaqueSortMode:pc.SORTMODE_NONE, transparentSortMode:pc.SORTMODE_NONE, passThrough:true, name:\"PostEffectQueue\", renderTarget:this.camera.renderTarget, clear:false, onPostRender:function() {\n        for (var i = 0;i < this._commandList.length;i++) {\n          this._commandList[i]();\n        }\n      }});\n      var layerList = this.app.scene.layers.layerList;\n      var order = 0;\n      var i;\n      var start = layerList.length - 1;\n      for (i = start;i >= 0;i--) {\n        if (layerList[i].id === pc.LAYERID_UI) {\n          start = i - 1;\n          this._origOverrideClear = layerList[i].overrideClear;\n          this._origClearColorBuffer = layerList[i].clearColorBuffer;\n          this._origDepthColorBuffer = layerList[i].clearDepthBuffer;\n          this._origStencilColorBuffer = layerList[i].clearStencilBuffer;\n          layerList[i].overrideClear = true;\n          layerList[i].clearColorBuffer = false;\n          layerList[i].clearDepthBuffer = this.camera.clearDepthBuffer;\n          layerList[i].clearStencilBuffer = this.camera.clearStencilBuffer;\n          break;\n        }\n      }\n      this._sourceLayers = [];\n      for (i = 0;i < this.camera.layers.length;i++) {\n        var layerID = this.camera.layers[i];\n        var layer = this.app.scene.layers.getLayerById(layerID);\n        var index = this.app.scene.layers.layerList.indexOf(layer);\n        if (index <= start) {\n          if (layerID != pc.LAYERID_DEPTH) {\n            layer.renderTarget = newEntry.inputTarget;\n            this._sourceLayers.push(layer);\n          }\n          if (index > order) {\n            order = index;\n          }\n        }\n      }\n      this.app.scene.layers.insertOpaque(this.layer, order + 1);\n      this._sourceTarget = newEntry.inputTarget;\n      this.layer._commandList = [];\n      this.layer.isPostEffect = true;\n    }\n    effects.push(newEntry);\n    var len = effects.length;\n    if (len > 1) {\n      effects[len - 2].outputTarget = newEntry.inputTarget;\n    }\n    this._newPostEffect = effect;\n    if (effect.needsDepthBuffer) {\n      this._requestDepthMap();\n    }\n    this.enable();\n    this._newPostEffect = undefined;\n  }, removeEffect:function(effect) {\n    var i, len, index = -1;\n    for (i = 0, len = this.effects.length;i < len;i++) {\n      if (this.effects[i].effect === effect) {\n        index = i;\n        break;\n      }\n    }\n    if (index >= 0) {\n      if (index > 0) {\n        this.effects[index - 1].outputTarget = index + 1 < this.effects.length ? this.effects[index + 1].inputTarget : null;\n      } else {\n        if (this.effects.length > 1) {\n          if (!this.effects[1].inputTarget._depth) {\n            this._destroyOffscreenTarget(this.effects[1].inputTarget);\n            this.effects[1].inputTarget = this._createOffscreenTarget(true, this.effects[1].hdr);\n            this._sourceTarget = this.effects[1].inputTarget;\n          }\n          for (i = 0;i < this._sourceLayers.length;i++) {\n            this._sourceLayers[i].renderTarget = this.effects[1].inputTarget;\n          }\n        }\n      }\n      this._destroyOffscreenTarget(this.effects[index].inputTarget);\n      this.effects.splice(index, 1);\n    }\n    if (this.enabled) {\n      if (effect.needsDepthBuffer) {\n        this._releaseDepthMap();\n      }\n    }\n    if (this.effects.length === 0) {\n      this.disable();\n    }\n  }, _requestDepthMaps:function() {\n    for (var i = 0, len = this.effects.length;i < len;i++) {\n      var effect = this.effects[i].effect;\n      if (this._newPostEffect === effect) {\n        continue;\n      }\n      if (effect.needsDepthBuffer) {\n        this._requestDepthMap();\n      }\n    }\n  }, _releaseDepthMaps:function() {\n    for (var i = 0, len = this.effects.length;i < len;i++) {\n      var effect = this.effects[i].effect;\n      if (effect.needsDepthBuffer) {\n        this._releaseDepthMap();\n      }\n    }\n  }, _requestDepthMap:function() {\n    if (!depthLayer) {\n      depthLayer = this.app.scene.layers.getLayerById(pc.LAYERID_DEPTH);\n    }\n    if (depthLayer) {\n      depthLayer.incrementCounter();\n    }\n  }, _releaseDepthMap:function() {\n    if (depthLayer) {\n      depthLayer.decrementCounter();\n    }\n  }, destroy:function() {\n    for (var i = 0, len = this.effects.length;i < len;i++) {\n      this.effects[i].inputTarget.destroy();\n    }\n    this.effects.length = 0;\n    this.disable();\n  }, enable:function() {\n    if (!this.enabled && this.effects.length) {\n      this.enabled = true;\n      var self = this;\n      this._requestDepthMaps();\n      this.app.graphicsDevice.on(\"resizecanvas\", this._onCanvasResized, this);\n      this.command = function() {\n        if (self.enabled) {\n          var rect = null;\n          var len = self.effects.length;\n          if (len) {\n            self.layer.renderTarget = self.effects[0].inputTarget;\n            for (var i = 0;i < len;i++) {\n              var fx = self.effects[i];\n              if (i === len - 1) {\n                rect = self.camera.rect;\n              }\n              fx.effect.render(fx.inputTarget, fx.outputTarget, rect);\n            }\n          }\n        }\n      };\n      this.layer._commandList.push(this.command);\n    }\n  }, disable:function() {\n    if (this.enabled) {\n      this.enabled = false;\n      this.app.graphicsDevice.off(\"resizecanvas\", this._onCanvasResized, this);\n      this._releaseDepthMaps();\n      this._destroyOffscreenTarget(this._sourceTarget);\n      var i = this.layer._commandList.indexOf(this.command);\n      if (i >= 0) {\n        this.layer._commandList.splice(i, 1);\n      }\n      var layerList = this.app.scene.layers.layerList;\n      var start = layerList.length - 1;\n      for (i = 0;i <= layerList.length;i++) {\n        if (layerList[i].id === pc.LAYERID_UI) {\n          start = i - 1;\n          layerList[i].overrideClear = this._origOverrideClear;\n          layerList[i].clearColorBuffer = this._origClearColorBuffer;\n          layerList[i].clearDepthBuffer = this._origDepthColorBuffer;\n          layerList[i].clearStencilBuffer = this._origStencilColorBuffer;\n          break;\n        }\n      }\n      for (i = start;i >= 0;i--) {\n        if (layerList[i].cameras.indexOf(this.camera) >= 0) {\n          layerList[i].renderTarget = undefined;\n        }\n      }\n      this.app.scene.layers.removeOpaque(this.layer);\n      this.layer = null;\n    }\n  }, _onCanvasResized:function(width, height) {\n    var rect = this.camera.rect;\n    var device = this.app.graphicsDevice;\n    this.camera.camera.aspectRatio = device.width * rect.z / (device.height * rect.w);\n    if (this.resizeTimeout) {\n      return;\n    }\n    if (pc.now() - this.resizeLast > 100) {\n      this.resizeRenderTargets();\n    } else {\n      this.resizeTimeout = setTimeout(this._resizeTimeoutCallback, 100);\n    }\n  }, resizeRenderTargets:function() {\n    if (this.resizeTimeout) {\n      clearTimeout(this.resizeTimeout);\n      this.resizeTimeout = null;\n    }\n    this.resizeLast = pc.now();\n    var rect = this.camera.rect;\n    var desiredWidth = Math.floor(rect.z * this.app.graphicsDevice.width * this.renderTargetScale);\n    var desiredHeight = Math.floor(rect.w * this.app.graphicsDevice.height * this.renderTargetScale);\n    var effects = this.effects;\n    for (var i = 0, len = effects.length;i < len;i++) {\n      var fx = effects[i];\n      if (fx.inputTarget.width !== desiredWidth || fx.inputTarget.height !== desiredHeight) {\n        this._resizeOffscreenTarget(fx.inputTarget);\n      }\n    }\n  }, onCameraRectChanged:function(name, oldValue, newValue) {\n    if (this.enabled) {\n      this.resizeRenderTargets();\n    }\n  }});\n  return {PostEffectQueue:PostEffectQueue};\n}());\nObject.assign(pc, function() {\n  var _backbufferRt = [null, null];\n  var _constInput = null;\n  var _constScreenSize;\n  var _constScreenSizeValue = new pc.Vec4;\n  var _constScreenSizeValueUniform = new Float32Array(4);\n  var _postEffectChain = [];\n  var _backbufferRtUsed = false;\n  var _backbufferRt2Used = false;\n  var _backbufferRtWrittenByPost = false;\n  var _regexUniforms = /uniform[ \\t\\n\\r]+\\S+[ \\t\\n\\r]+\\S+[ \\t\\n\\r]*\\;/g;\n  var _regexUniformStart = /\\S+[ \\t\\n\\r]*\\;/;\n  var _regexUniformEnd = /[ \\t\\n\\r]*\\;/;\n  var _regexVariables = /(float|int|bool|vec2|vec3|vec4|struct)([ \\t\\n\\r]+[^\\;]+[ \\t\\n\\r]*\\,*)+\\;/g;\n  var _regexVariableSurroundings = /(float|int|bool|vec2|vec3|vec4|struct|\\,|\\;|\\{|\\})/g;\n  var _regexIrrelevantVariables = /(uniform|varying|in|out)[ \\t\\n\\r]+(float|int|bool|vec2|vec3|vec4|struct)([ \\t\\n\\r]+[^\\;]+[ \\t\\n\\r]*\\,*)+\\;/g;\n  var _regexIrrelevantVariableSurroundings = /(float|int|bool|vec2|vec3|vec4|struct|uniform|varying|in|out|\\,|\\;|\\{|\\})/g;\n  var _regexVersion = /#version/g;\n  var _regexFragColor = /out highp vec4 pc_fragColor;/g;\n  var _regexFragColor2 = /#define gl_FragColor/g;\n  var _regexFragColor3 = /gl_FragColor/g;\n  var _regexColorBuffer = /uniform[ \\t\\n\\r]+sampler2D[ \\t\\n\\r]+uColorBuffer;/g;\n  var _regexUv = /(varying|in)[ \\t\\n\\r]+vec2[ \\t\\n\\r]+vUv0;/g;\n  var _regexColorBufferSample = /(texture2D|texture)[ \\t\\n\\r]*\\([ \\t\\n\\r]*uColorBuffer/g;\n  var _regexMain = /void[ \\t\\n\\r]+main/g;\n  var _createBackbufferRt = function(id, device, format) {\n    var tex = new pc.Texture(device, {format:format, width:device.width, height:device.height});\n    tex.name = \"posteffect-pass\";\n    tex.minFilter = pc.FILTER_NEAREST;\n    tex.magFilter = pc.FILTER_NEAREST;\n    tex.addressU = pc.ADDRESS_CLAMP_TO_EDGE;\n    tex.addressV = pc.ADDRESS_CLAMP_TO_EDGE;\n    _backbufferRt[id]._colorBuffer = tex;\n  };\n  var _destroyBackbufferRt = function(id) {\n    _backbufferRt[id].colorBuffer.destroy();\n    _backbufferRt[id].destroy();\n  };\n  var _collectUniforms = function(code) {\n    var strs = code.match(_regexUniforms) || [];\n    var start, end, uname;\n    var uniforms = [];\n    for (var i = 0;i < strs.length;i++) {\n      start = strs[i].search(_regexUniformStart);\n      end = strs[i].search(_regexUniformEnd);\n      uname = strs[i].substr(start, end - start);\n      if (uname !== \"uColorBuffer\") {\n        uniforms.push(uname);\n      }\n    }\n    return uniforms;\n  };\n  var _uniformsCollide = function(layers, chain, count, shader) {\n    var uniforms = _collectUniforms(shader.definition.fshader);\n    if (uniforms.length === 0) {\n      return false;\n    }\n    var i, j, k, uniforms2;\n    var uname;\n    for (i = 0;i < count;i++) {\n      for (j = 0;j < uniforms.length;j++) {\n        uname = uniforms[j];\n        uniforms2 = _collectUniforms(layers[chain[i]].shader.definition.fshader);\n        for (k = 0;k < uniforms2.length;k++) {\n          if (uniforms2[k] === uname) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  };\n  var _collectGlobalTempVars = function(code, list) {\n    var len = code.length;\n    var chr;\n    var scopeStart = 0;\n    var scopeEnd = 0;\n    var scopeDepth = 0;\n    var codeStart = 0;\n    var codeWithoutScopes = \"\";\n    var i, j;\n    for (i = 0;i < len;i++) {\n      chr = code.charAt(i);\n      if (chr === \"{\") {\n        if (scopeDepth === 0) {\n          scopeStart = i;\n        }\n        scopeDepth++;\n      } else {\n        if (chr === \"}\") {\n          if (scopeDepth === 1) {\n            scopeEnd = i;\n            codeWithoutScopes += code.substr(codeStart, scopeStart - codeStart + 1);\n            codeStart = scopeEnd;\n          }\n          scopeDepth--;\n        }\n      }\n    }\n    codeWithoutScopes += code.substr(codeStart, code.length - codeStart + 1);\n    var collisions = null;\n    var decls = codeWithoutScopes.match(_regexVariables) || [];\n    var vars, varName;\n    for (i = 0;i < decls.length;i++) {\n      vars = decls[i].split(\",\");\n      for (j = 0;j < vars.length;j++) {\n        varName = vars[j].replace(_regexVariableSurroundings, \"\").trim();\n        if (list.indexOf(varName) >= 0) {\n          if (!collisions) {\n            collisions = [];\n          }\n          collisions.push(varName);\n        } else {\n          list.push(varName);\n        }\n      }\n    }\n    var irrelevantDecls = codeWithoutScopes.match(_regexIrrelevantVariables) || [];\n    var index;\n    for (i = 0;i < irrelevantDecls.length;i++) {\n      vars = irrelevantDecls[i].split(\",\");\n      for (j = 0;j < vars.length;j++) {\n        varName = vars[j].replace(_regexIrrelevantVariableSurroundings, \"\").trim();\n        index = list.indexOf(varName);\n        if (index >= 0) {\n          list.splice(index, 1);\n        }\n      }\n    }\n    return collisions;\n  };\n  function PostEffectPass(app, options) {\n    this.app = app;\n    this.srcRenderTarget = options.srcRenderTarget;\n    this.hdr = options.hdr;\n    this.blending = options.blending;\n    this.shader = options.shader;\n    this.setup = options.setup;\n    var self = this;\n    var device = app.graphicsDevice;\n    this.layer = new pc.Layer({opaqueSortMode:pc.SORTMODE_NONE, transparentSortMode:pc.SORTMODE_NONE, passThrough:true, name:options.name, onPostRender:function() {\n      if (self.srcRenderTarget) {\n        _constScreenSizeValue.x = self.srcRenderTarget.width;\n        _constScreenSizeValue.y = self.srcRenderTarget.height;\n        _constScreenSizeValue.z = 1.0 / self.srcRenderTarget.width;\n        _constScreenSizeValue.w = 1.0 / self.srcRenderTarget.height;\n      } else {\n        _constScreenSizeValue.x = device.width;\n        _constScreenSizeValue.y = device.height;\n        _constScreenSizeValue.z = 1.0 / device.width;\n        _constScreenSizeValue.w = 1.0 / device.height;\n      }\n      _constScreenSizeValueUniform[0] = _constScreenSizeValue.x;\n      _constScreenSizeValueUniform[1] = _constScreenSizeValue.y;\n      _constScreenSizeValueUniform[2] = _constScreenSizeValue.z;\n      _constScreenSizeValueUniform[3] = _constScreenSizeValue.w;\n      _constScreenSize.setValue(_constScreenSizeValueUniform);\n      if (this._postEffectCombined && this._postEffectCombined < 0) {\n        if (self.setup) {\n          self.setup(device, self, _constScreenSizeValue, null, this.renderTarget);\n        }\n        return;\n      }\n      var src;\n      if (this._postEffectCombinedSrc) {\n        src = this._postEffectCombinedSrc;\n      } else {\n        src = self.srcRenderTarget ? self.srcRenderTarget : _backbufferRt[this._backbufferRtId];\n      }\n      if (src._samples > 1) {\n        src.resolve(true, false);\n      }\n      var tex = src._colorBuffer;\n      tex.magFilter = (this._postEffectCombinedShader ? this._postEffectCombinedBilinear : this.postEffectBilinear) ? pc.FILTER_LINEAR : pc.FILTER_NEAREST;\n      _constInput.setValue(tex);\n      if (self.setup) {\n        self.setup(device, self, _constScreenSizeValue, src, this.renderTarget);\n      }\n      var shader = this._postEffectCombinedShader ? this._postEffectCombinedShader : this.shader;\n      if (shader) {\n        pc.drawQuadWithShader(device, this.renderTarget, shader, null, null, self.blending);\n      }\n      if (self.srcRenderTarget) {\n        return;\n      }\n      var layers = app.scene.layers.layerList;\n      for (var i = 0;i < layers.length;i++) {\n        if (layers[i] === self.layer) {\n          break;\n        }\n        if (layers[i].renderTarget === _backbufferRt[0] || layers[i].renderTarget === _backbufferRt[1]) {\n          layers[i].renderTarget = null;\n        }\n      }\n    }});\n    this.layer._generateCameraHash();\n    this.layer.isPostEffect = true;\n    this.layer.unmodifiedUvs = options.unmodifiedUvs;\n    this.layer.postEffectBilinear = options.bilinear;\n    this.layer.postEffect = this;\n    this.layer.shader = options.shader;\n    this.layer.renderTarget = options.destRenderTarget;\n    if (!_constInput) {\n      _constInput = device.scope.resolve(\"uColorBuffer\");\n      _constScreenSize = device.scope.resolve(\"uScreenSize\");\n      var _backbufferMsaa = device.supportsMsaa ? 4 : 1;\n      for (var i = 0;i < 2;i++) {\n        _backbufferRt[i] = new pc.RenderTarget({depth:true, stencil:device.supportsStencil, samples:_backbufferMsaa, autoResolve:false});\n        _backbufferRt[i].name = \"backbuffer\" + i;\n      }\n      app.on(\"prerender\", function() {\n        var layers = app.scene.layers.layerList;\n        var i, j;\n        var offset = 0;\n        var rtId = 0;\n        _backbufferRtUsed = false;\n        _backbufferRt2Used = false;\n        _backbufferRtWrittenByPost = false;\n        var backbufferRtFormat = pc.PIXELFORMAT_R8_G8_B8_A8;\n        if (app.scene.layers._dirty) {\n          var iterator = 0;\n          var breakChain = false;\n          var collisions, k;\n          for (i = 0;i < layers.length;i++) {\n            breakChain = false;\n            if (layers[i].isPostEffect && (iterator === 0 || layers[i].unmodifiedUvs && layers[i].shader && !_uniformsCollide(layers, _postEffectChain, iterator, layers[i].shader))) {\n              _postEffectChain[iterator] = i;\n              iterator++;\n              if (i === layers.length - 1) {\n                breakChain = true;\n              }\n            } else {\n              if (iterator > 0) {\n                breakChain = true;\n              }\n            }\n            if (breakChain) {\n              if (iterator > 1) {\n                var cachedName = \"post_\";\n                var layer;\n                for (j = 0;j < iterator;j++) {\n                  layer = layers[_postEffectChain[j]];\n                  cachedName += layer.name ? layer.name : layer.id;\n                  if (j < iterator - 1) {\n                    cachedName += \"_\";\n                  }\n                }\n                var shader = device.programLib._cache[cachedName];\n                if (!shader) {\n                  var subCode;\n                  var code = \"vec4 shaderOutput;\\n\";\n                  var mainCode = \"void main() {\\n\";\n                  var globalTempVars = [];\n                  for (j = 0;j < iterator;j++) {\n                    subCode = layers[_postEffectChain[j]].shader.definition.fshader + \"\\n\";\n                    subCode = subCode.replace(_regexVersion, \"//\").replace(_regexFragColor, \"//\").replace(_regexFragColor2, \"//\").replace(_regexFragColor3, \"shaderOutput\");\n                    if (j > 0) {\n                      subCode = subCode.replace(_regexColorBuffer, \"//\").replace(_regexUv, \"//\").replace(_regexColorBufferSample, \"shaderOutput;//\");\n                    }\n                    subCode = subCode.replace(_regexMain, \"void main\" + j);\n                    collisions = _collectGlobalTempVars(subCode, globalTempVars);\n                    if (collisions) {\n                      for (k = 0;k < collisions.length;k++) {\n                        subCode = subCode.replace(new RegExp(\"\\\\b\" + collisions[k] + \"\\\\b\", \"g\"), collisions[k] + \"NNNN\" + j);\n                      }\n                    }\n                    code += subCode;\n                    mainCode += \"main\" + j + \"();\\n\";\n                  }\n                  mainCode += \"gl_FragColor = shaderOutput;\\n}\\n\";\n                  shader = pc.shaderChunks.createShaderFromCode(device, pc.shaderChunks.fullscreenQuadVS, code + mainCode, cachedName);\n                }\n                for (j = 0;j < iterator;j++) {\n                  layers[_postEffectChain[j]]._postEffectCombined = j === iterator - 1 ? 1 : -1;\n                }\n                layers[_postEffectChain[iterator - 1]]._postEffectCombinedShader = shader;\n                layers[_postEffectChain[iterator - 1]]._postEffectCombinedBilinear = layers[_postEffectChain[0]].postEffectBilinear;\n                layers[_postEffectChain[iterator - 1]]._postEffectCombinedSrc = layers[_postEffectChain[0]].postEffect.srcRenderTarget;\n              }\n              _postEffectChain[0] = i;\n              iterator = 1;\n            }\n          }\n        }\n        for (i = 0;i < layers.length;i++) {\n          if (layers[i].isPostEffect && (!layers[i].postEffect.srcRenderTarget && !layers[i]._postEffectCombined || !layers[i].postEffect._postEffectCombinedSrc && layers[i]._postEffectCombined >= 0)) {\n            for (j = i - 1;j >= offset;j--) {\n              if (!layers[j].renderTarget) {\n                layers[j].renderTarget = _backbufferRt[rtId];\n              }\n            }\n            layers[i]._backbufferRtId = rtId;\n            offset = i;\n            _backbufferRtUsed = true;\n            if (rtId === 1) {\n              _backbufferRt2Used = true;\n            }\n            if (layers[i].postEffect.hdr) {\n              if (device.webgl2 && device.textureFloatRenderable) {\n                backbufferRtFormat = pc.PIXELFORMAT_111110F;\n              } else {\n                if (device.extTextureHalfFloatLinear && device.textureHalfFloatRenderable) {\n                  backbufferRtFormat = pc.PIXELFORMAT_RGBA16F;\n                } else {\n                  backbufferRtFormat = pc.PIXELFORMAT_R8_G8_B8_A8;\n                }\n              }\n            }\n            if (layers[i].postEffect.shader && !layers[i].renderTarget) {\n              rtId = 1 - rtId;\n            }\n          } else {\n            if (!layers[i].isPostEffect && !layers[i].renderTarget && _backbufferRtUsed) {\n              layers[i].renderTarget = _backbufferRt[rtId];\n            }\n          }\n          if (layers[i].isPostEffect && !layers[i].renderTarget) {\n            _backbufferRtWrittenByPost = true;\n          }\n        }\n        if (_backbufferRtUsed) {\n          if (!_backbufferRt[0].colorBuffer) {\n            _createBackbufferRt(0, device, backbufferRtFormat);\n          } else {\n            if (_backbufferRt[0].width !== device.width || _backbufferRt[0].height !== device.height || _backbufferRt[0]._colorBuffer._format !== backbufferRtFormat) {\n              _destroyBackbufferRt(0);\n              _createBackbufferRt(0, device, backbufferRtFormat);\n            }\n          }\n        }\n        if (_backbufferRt2Used) {\n          if (!_backbufferRt[1].colorBuffer) {\n            _createBackbufferRt(1, device, backbufferRtFormat);\n          } else {\n            if (_backbufferRt[1].width !== device.width || _backbufferRt[1].height !== device.height || _backbufferRt[1]._colorBuffer._format !== backbufferRtFormat) {\n              _destroyBackbufferRt(1);\n              _createBackbufferRt(1, device, backbufferRtFormat);\n            }\n          }\n        }\n      }, this);\n      app.on(\"postrender\", function() {\n        var device = app.graphicsDevice;\n        if (_backbufferRtUsed && !_backbufferRtWrittenByPost) {\n          var layers = app.scene.layers.layerList;\n          var rt;\n          for (var i = layers.length - 1;i >= 0;i--) {\n            rt = layers[i].renderTarget;\n            if (rt === _backbufferRt[0] || rt === _backbufferRt[1]) {\n              break;\n            }\n          }\n          if (rt) {\n            if (rt._samples > 1) {\n              rt.resolve(true, false);\n            }\n            device.copyRenderTarget(rt, null, true, false);\n          }\n        }\n      }, this);\n    }\n  }\n  PostEffectPass.prototype.addToComposition = function(order) {\n    this.app.scene.layers.insertTransparent(this.layer, order);\n  };\n  return {PostEffectPass:PostEffectPass};\n}());\nObject.assign(pc, function() {\n  var LightComponent = function LightComponent(system, entity) {\n    pc.Component.call(this, system, entity);\n    this._cookieAsset = null;\n    this._cookieAssetId = null;\n    this._cookieAssetAdd = false;\n    this._cookieMatrix = null;\n  };\n  LightComponent.prototype = Object.create(pc.Component.prototype);\n  LightComponent.prototype.constructor = LightComponent;\n  var _props = [];\n  var _propsDefault = [];\n  var _defineProperty = function(name, defaultValue, setFunc, skipEqualsCheck) {\n    var c = LightComponent.prototype;\n    _props.push(name);\n    _propsDefault.push(defaultValue);\n    Object.defineProperty(c, name, {get:function() {\n      return this.data[name];\n    }, set:function(value) {\n      var data = this.data;\n      var oldValue = data[name];\n      if (!skipEqualsCheck && oldValue === value) {\n        return;\n      }\n      data[name] = value;\n      if (setFunc) {\n        setFunc.call(this, value, oldValue);\n      }\n    }, configurable:true});\n  };\n  var _defineProps = function() {\n    _defineProperty(\"enabled\", true, function(newValue, oldValue) {\n      this.onSetEnabled(null, oldValue, newValue);\n    });\n    _defineProperty(\"light\", null);\n    _defineProperty(\"type\", \"directional\", function(newValue, oldValue) {\n      this.system.changeType(this, oldValue, newValue);\n      this.refreshProperties();\n    });\n    _defineProperty(\"color\", new pc.Color(1, 1, 1), function(newValue, oldValue) {\n      this.light.setColor(newValue);\n    }, true);\n    _defineProperty(\"intensity\", 1, function(newValue, oldValue) {\n      this.light.intensity = newValue;\n    });\n    _defineProperty(\"castShadows\", false, function(newValue, oldValue) {\n      this.light.castShadows = newValue;\n    });\n    _defineProperty(\"shadowDistance\", 40, function(newValue, oldValue) {\n      this.light.shadowDistance = newValue;\n    });\n    _defineProperty(\"shadowResolution\", 1024, function(newValue, oldValue) {\n      this.light.shadowResolution = newValue;\n    });\n    _defineProperty(\"shadowBias\", 0.05, function(newValue, oldValue) {\n      this.light.shadowBias = -0.01 * newValue;\n    });\n    _defineProperty(\"normalOffsetBias\", 0, function(newValue, oldValue) {\n      this.light.normalOffsetBias = newValue;\n    });\n    _defineProperty(\"range\", 10, function(newValue, oldValue) {\n      this.light.attenuationEnd = newValue;\n    });\n    _defineProperty(\"innerConeAngle\", 40, function(newValue, oldValue) {\n      this.light.innerConeAngle = newValue;\n    });\n    _defineProperty(\"outerConeAngle\", 45, function(newValue, oldValue) {\n      this.light.outerConeAngle = newValue;\n    });\n    _defineProperty(\"falloffMode\", pc.LIGHTFALLOFF_LINEAR, function(newValue, oldValue) {\n      this.light.falloffMode = newValue;\n    });\n    _defineProperty(\"shadowType\", pc.SHADOW_PCF3, function(newValue, oldValue) {\n      this.light.shadowType = newValue;\n    });\n    _defineProperty(\"vsmBlurSize\", 11, function(newValue, oldValue) {\n      this.light.vsmBlurSize = newValue;\n    });\n    _defineProperty(\"vsmBlurMode\", pc.BLUR_GAUSSIAN, function(newValue, oldValue) {\n      this.light.vsmBlurMode = newValue;\n    });\n    _defineProperty(\"vsmBias\", 0.01 * 0.25, function(newValue, oldValue) {\n      this.light.vsmBias = newValue;\n    });\n    _defineProperty(\"cookieAsset\", null, function(newValue, oldValue) {\n      if (this._cookieAssetId && (newValue instanceof pc.Asset && newValue.id === this._cookieAssetId || newValue === this._cookieAssetId)) {\n        return;\n      }\n      this.onCookieAssetRemove();\n      this._cookieAssetId = null;\n      if (newValue instanceof pc.Asset) {\n        this.data.cookieAsset = newValue.id;\n        this._cookieAssetId = newValue.id;\n        this.onCookieAssetAdd(newValue);\n      } else {\n        if (typeof newValue === \"number\") {\n          this._cookieAssetId = newValue;\n          var asset = this.system.app.assets.get(newValue);\n          if (asset) {\n            this.onCookieAssetAdd(asset);\n          } else {\n            this._cookieAssetAdd = true;\n            this.system.app.assets.on(\"add:\" + this._cookieAssetId, this.onCookieAssetAdd, this);\n          }\n        }\n      }\n    });\n    _defineProperty(\"cookie\", null, function(newValue, oldValue) {\n      this.light.cookie = newValue;\n    });\n    _defineProperty(\"cookieIntensity\", 1, function(newValue, oldValue) {\n      this.light.cookieIntensity = newValue;\n    });\n    _defineProperty(\"cookieFalloff\", true, function(newValue, oldValue) {\n      this.light.cookieFalloff = newValue;\n    });\n    _defineProperty(\"cookieChannel\", \"rgb\", function(newValue, oldValue) {\n      this.light.cookieChannel = newValue;\n    });\n    _defineProperty(\"cookieAngle\", 0, function(newValue, oldValue) {\n      if (newValue !== 0 || this.cookieScale !== null) {\n        if (!this._cookieMatrix) {\n          this._cookieMatrix = new pc.Vec4;\n        }\n        var scx = 1;\n        var scy = 1;\n        if (this.cookieScale) {\n          scx = this.cookieScale.x;\n          scy = this.cookieScale.y;\n        }\n        var c = Math.cos(newValue * pc.math.DEG_TO_RAD);\n        var s = Math.sin(newValue * pc.math.DEG_TO_RAD);\n        this._cookieMatrix.set(c / scx, -s / scx, s / scy, c / scy);\n        this.light.cookieTransform = this._cookieMatrix;\n      } else {\n        this.light.cookieTransform = null;\n      }\n    });\n    _defineProperty(\"cookieScale\", null, function(newValue, oldValue) {\n      if (newValue !== null || this.cookieAngle !== 0) {\n        if (!this._cookieMatrix) {\n          this._cookieMatrix = new pc.Vec4;\n        }\n        var scx = newValue.x;\n        var scy = newValue.y;\n        var c = Math.cos(this.cookieAngle * pc.math.DEG_TO_RAD);\n        var s = Math.sin(this.cookieAngle * pc.math.DEG_TO_RAD);\n        this._cookieMatrix.set(c / scx, -s / scx, s / scy, c / scy);\n        this.light.cookieTransform = this._cookieMatrix;\n      } else {\n        this.light.cookieTransform = null;\n      }\n    }, true);\n    _defineProperty(\"cookieOffset\", null, function(newValue, oldValue) {\n      this.light.cookieOffset = newValue;\n    }, true);\n    _defineProperty(\"shadowUpdateMode\", pc.SHADOWUPDATE_REALTIME, function(newValue, oldValue) {\n      this.light.shadowUpdateMode = newValue;\n    });\n    _defineProperty(\"mask\", 1, function(newValue, oldValue) {\n      this.light.mask = newValue;\n    });\n    _defineProperty(\"affectDynamic\", true, function(newValue, oldValue) {\n      if (newValue) {\n        this.light.mask |= pc.MASK_DYNAMIC;\n      } else {\n        this.light.mask &= ~pc.MASK_DYNAMIC;\n      }\n      this.light.mask = this.light._mask;\n    });\n    _defineProperty(\"affectLightmapped\", false, function(newValue, oldValue) {\n      if (newValue) {\n        this.light.mask |= pc.MASK_BAKED;\n        if (this.bake) {\n          this.light.mask &= ~pc.MASK_LIGHTMAP;\n        }\n      } else {\n        this.light.mask &= ~pc.MASK_BAKED;\n        if (this.bake) {\n          this.light.mask |= pc.MASK_LIGHTMAP;\n        }\n      }\n      this.light.mask = this.light._mask;\n    });\n    _defineProperty(\"bake\", false, function(newValue, oldValue) {\n      if (newValue) {\n        this.light.mask |= pc.MASK_LIGHTMAP;\n        if (this.affectLightmapped) {\n          this.light.mask &= ~pc.MASK_BAKED;\n        }\n      } else {\n        this.light.mask &= ~pc.MASK_LIGHTMAP;\n        if (this.affectLightmapped) {\n          this.light.mask |= pc.MASK_BAKED;\n        }\n      }\n      this.light.mask = this.light._mask;\n    });\n    _defineProperty(\"bakeDir\", true, function(newValue, oldValue) {\n      this.light.bakeDir = newValue;\n    });\n    _defineProperty(\"isStatic\", false, function(newValue, oldValue) {\n      this.light.isStatic = newValue;\n    });\n    _defineProperty(\"layers\", [pc.LAYERID_WORLD], function(newValue, oldValue) {\n      var i, layer;\n      for (i = 0;i < oldValue.length;i++) {\n        layer = this.system.app.scene.layers.getLayerById(oldValue[i]);\n        if (!layer) {\n          continue;\n        }\n        layer.removeLight(this);\n      }\n      for (i = 0;i < newValue.length;i++) {\n        layer = this.system.app.scene.layers.getLayerById(newValue[i]);\n        if (!layer) {\n          continue;\n        }\n        if (this.enabled && this.entity.enabled) {\n          layer.addLight(this);\n        }\n      }\n    });\n  };\n  _defineProps();\n  Object.defineProperty(LightComponent.prototype, \"enable\", {get:function() {\n    console.warn(\"WARNING: enable: Property is deprecated. Query enabled property instead.\");\n    return this.enabled;\n  }, set:function(value) {\n    console.warn(\"WARNING: enable: Property is deprecated. Set enabled property instead.\");\n    this.enabled = value;\n  }});\n  Object.assign(LightComponent.prototype, {addLightToLayers:function() {\n    var layer;\n    for (var i = 0;i < this.layers.length;i++) {\n      layer = this.system.app.scene.layers.getLayerById(this.layers[i]);\n      if (!layer) {\n        continue;\n      }\n      layer.addLight(this);\n    }\n  }, removeLightFromLayers:function() {\n    var layer;\n    for (var i = 0;i < this.layers.length;i++) {\n      layer = this.system.app.scene.layers.getLayerById(this.layers[i]);\n      if (!layer) {\n        continue;\n      }\n      layer.removeLight(this);\n    }\n  }, onLayersChanged:function(oldComp, newComp) {\n    if (this.enabled && this.entity.enabled) {\n      this.addLightToLayers();\n    }\n    oldComp.off(\"add\", this.onLayerAdded, this);\n    oldComp.off(\"remove\", this.onLayerRemoved, this);\n    newComp.on(\"add\", this.onLayerAdded, this);\n    newComp.on(\"remove\", this.onLayerRemoved, this);\n  }, onLayerAdded:function(layer) {\n    var index = this.layers.indexOf(layer.id);\n    if (index < 0) {\n      return;\n    }\n    if (this.enabled && this.entity.enabled) {\n      layer.addLight(this);\n    }\n  }, onLayerRemoved:function(layer) {\n    var index = this.layers.indexOf(layer.id);\n    if (index < 0) {\n      return;\n    }\n    layer.removeLight(this);\n  }, refreshProperties:function() {\n    var name;\n    for (var i = 0;i < _props.length;i++) {\n      name = _props[i];\n      this[name] = this[name];\n    }\n    if (this.enabled && this.entity.enabled) {\n      this.onEnable();\n    }\n  }, updateShadow:function() {\n    this.light.updateShadow();\n  }, onCookieAssetSet:function() {\n    var forceLoad = false;\n    if (this._cookieAsset.type === \"cubemap\" && !this._cookieAsset.loadFaces) {\n      this._cookieAsset.loadFaces = true;\n      forceLoad = true;\n    }\n    if (!this._cookieAsset.resource || forceLoad) {\n      this.system.app.assets.load(this._cookieAsset);\n    }\n    if (this._cookieAsset.resource) {\n      this.onCookieAssetLoad();\n    }\n  }, onCookieAssetAdd:function(asset) {\n    if (this._cookieAssetId !== asset.id) {\n      return;\n    }\n    this._cookieAsset = asset;\n    if (this.light._enabled) {\n      this.onCookieAssetSet();\n    }\n    this._cookieAsset.on(\"load\", this.onCookieAssetLoad, this);\n    this._cookieAsset.on(\"remove\", this.onCookieAssetRemove, this);\n  }, onCookieAssetLoad:function() {\n    if (!this._cookieAsset || !this._cookieAsset.resource) {\n      return;\n    }\n    this.cookie = this._cookieAsset.resource;\n  }, onCookieAssetRemove:function() {\n    if (!this._cookieAssetId) {\n      return;\n    }\n    if (this._cookieAssetAdd) {\n      this.system.app.assets.off(\"add:\" + this._cookieAssetId, this.onCookieAssetAdd, this);\n      this._cookieAssetAdd = false;\n    }\n    if (this._cookieAsset) {\n      this._cookieAsset.off(\"load\", this.onCookieAssetLoad, this);\n      this._cookieAsset.off(\"remove\", this.onCookieAssetRemove, this);\n      this._cookieAsset = null;\n    }\n    this.cookie = null;\n  }, onEnable:function() {\n    this.light.enabled = true;\n    this.system.app.scene.on(\"set:layers\", this.onLayersChanged, this);\n    if (this.system.app.scene.layers) {\n      this.system.app.scene.layers.on(\"add\", this.onLayerAdded, this);\n      this.system.app.scene.layers.on(\"remove\", this.onLayerRemoved, this);\n    }\n    if (this.enabled && this.entity.enabled) {\n      this.addLightToLayers();\n    }\n    if (this._cookieAsset && !this.cookie) {\n      this.onCookieAssetSet();\n    }\n  }, onDisable:function() {\n    this.light.enabled = false;\n    this.system.app.scene.off(\"set:layers\", this.onLayersChanged, this);\n    if (this.system.app.scene.layers) {\n      this.system.app.scene.layers.off(\"add\", this.onLayerAdded, this);\n      this.system.app.scene.layers.off(\"remove\", this.onLayerRemoved, this);\n    }\n    this.removeLightFromLayers();\n  }, onRemove:function() {\n    this.light.destroy();\n    this.cookieAsset = null;\n  }});\n  return {LightComponent:LightComponent, _lightProps:_props, _lightPropsDefault:_propsDefault};\n}());\nObject.assign(pc, function() {\n  var lightTypes = {\"directional\":pc.LIGHTTYPE_DIRECTIONAL, \"point\":pc.LIGHTTYPE_POINT, \"spot\":pc.LIGHTTYPE_SPOT};\n  var LightComponentSystem = function(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"light\";\n    this.description = \"Enables the Entity to emit light.\";\n    this.ComponentType = pc.LightComponent;\n    this.DataType = pc.LightComponentData;\n    this.on(\"beforeremove\", this._onRemoveComponent, this);\n  };\n  LightComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  LightComponentSystem.prototype.constructor = LightComponentSystem;\n  Object.assign(LightComponentSystem.prototype, {initializeComponentData:function(component, _data) {\n    var properties = pc._lightProps;\n    var data = {};\n    for (var i = 0, len = properties.length;i < len;i++) {\n      var property = properties[i];\n      data[property] = _data[property];\n    }\n    if (!data.type) {\n      data.type = component.data.type;\n    }\n    component.data.type = data.type;\n    if (data.layers && pc.type(data.layers) === \"array\") {\n      data.layers = data.layers.slice(0);\n    }\n    if (data.color && pc.type(data.color) === \"array\") {\n      data.color = new pc.Color(data.color[0], data.color[1], data.color[2]);\n    }\n    if (data.cookieOffset && data.cookieOffset instanceof Array) {\n      data.cookieOffset = new pc.Vec2(data.cookieOffset[0], data.cookieOffset[1]);\n    }\n    if (data.cookieScale && data.cookieScale instanceof Array) {\n      data.cookieScale = new pc.Vec2(data.cookieScale[0], data.cookieScale[1]);\n    }\n    if (data.enable) {\n      console.warn(\"WARNING: enable: Property is deprecated. Set enabled property instead.\");\n      data.enabled = data.enable;\n    }\n    var light = new pc.Light;\n    light.type = lightTypes[data.type];\n    light._node = component.entity;\n    light._scene = this.app.scene;\n    component.data.light = light;\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, data, properties);\n  }, _onRemoveComponent:function(entity, component) {\n    component.onRemove();\n  }, cloneComponent:function(entity, clone) {\n    var light = entity.light;\n    var data = [];\n    var name;\n    var _props = pc._lightProps;\n    for (var i = 0;i < _props.length;i++) {\n      name = _props[i];\n      if (name === \"light\") {\n        continue;\n      }\n      if (light[name] && light[name].clone) {\n        data[name] = light[name].clone();\n      } else {\n        data[name] = light[name];\n      }\n    }\n    this.addComponent(clone, data);\n  }, changeType:function(component, oldValue, newValue) {\n    if (oldValue !== newValue) {\n      component.light.type = lightTypes[newValue];\n    }\n  }});\n  return {LightComponentSystem:LightComponentSystem};\n}());\nObject.assign(pc, function() {\n  var LightComponentData = function() {\n    var _props = pc._lightProps;\n    var _propsDefault = pc._lightPropsDefault;\n    var value;\n    for (var i = 0;i < _props.length;i++) {\n      value = _propsDefault[i];\n      if (value && value.clone) {\n        this[_props[i]] = value.clone();\n      } else {\n        this[_props[i]] = value;\n      }\n    }\n  };\n  return {LightComponentData:LightComponentData};\n}());\nObject.assign(pc, function() {\n  var ScriptComponent = function ScriptComponent(system, entity) {\n    pc.Component.call(this, system, entity);\n    this._scripts = [];\n    this._updateList = new pc.SortedLoopArray({sortBy:\"__executionOrder\"});\n    this._postUpdateList = new pc.SortedLoopArray({sortBy:\"__executionOrder\"});\n    this._scriptsIndex = {};\n    this._destroyedScripts = [];\n    this._destroyed = false;\n    this._scriptsData = null;\n    this._oldState = true;\n    this._enabled = true;\n    this._beingEnabled = false;\n    this._isLoopingThroughScripts = false;\n    this._executionOrder = -1;\n    this.on(\"set_enabled\", this._onSetEnabled, this);\n  };\n  ScriptComponent.prototype = Object.create(pc.Component.prototype);\n  ScriptComponent.prototype.constructor = ScriptComponent;\n  ScriptComponent.scriptMethods = {initialize:\"initialize\", postInitialize:\"postInitialize\", update:\"update\", postUpdate:\"postUpdate\", swap:\"swap\"};\n  Object.assign(ScriptComponent.prototype, {onEnable:function() {\n    this._beingEnabled = true;\n    this._checkState();\n    if (!this.entity._beingEnabled) {\n      this.onPostStateChange();\n    }\n    this._beingEnabled = false;\n  }, onDisable:function() {\n    this._checkState();\n  }, onPostStateChange:function() {\n    var script;\n    var wasLooping = this._beginLooping();\n    for (var i = 0, len = this.scripts.length;i < len;i++) {\n      script = this.scripts[i];\n      if (script._initialized && !script._postInitialized && script.enabled) {\n        script._postInitialized = true;\n        if (script.postInitialize) {\n          this._scriptMethod(script, ScriptComponent.scriptMethods.postInitialize);\n        }\n      }\n    }\n    this._endLooping(wasLooping);\n  }, _beginLooping:function() {\n    var looping = this._isLoopingThroughScripts;\n    this._isLoopingThroughScripts = true;\n    return looping;\n  }, _endLooping:function(wasLoopingBefore) {\n    this._isLoopingThroughScripts = wasLoopingBefore;\n    if (!this._isLoopingThroughScripts) {\n      this._removeDestroyedScripts();\n    }\n  }, _onSetEnabled:function(prop, old, value) {\n    this._beingEnabled = true;\n    this._checkState();\n    this._beingEnabled = false;\n  }, _checkState:function() {\n    var state = this.enabled && this.entity.enabled;\n    if (state === this._oldState) {\n      return;\n    }\n    this._oldState = state;\n    this.fire(state ? \"enable\" : \"disable\");\n    this.fire(\"state\", state);\n    if (state) {\n      this.system._addComponentToEnabled(this);\n    } else {\n      this.system._removeComponentFromEnabled(this);\n    }\n    var wasLooping = this._beginLooping();\n    var script;\n    for (var i = 0, len = this.scripts.length;i < len;i++) {\n      script = this.scripts[i];\n      script.enabled = script._enabled;\n    }\n    this._endLooping(wasLooping);\n  }, _onBeforeRemove:function() {\n    this.fire(\"remove\");\n    var wasLooping = this._beginLooping();\n    for (var i = 0;i < this.scripts.length;i++) {\n      var script = this.scripts[i];\n      if (!script) {\n        continue;\n      }\n      this.destroy(script.__scriptType.__name);\n    }\n    this._endLooping(wasLooping);\n  }, _removeDestroyedScripts:function() {\n    var len = this._destroyedScripts.length;\n    if (!len) {\n      return;\n    }\n    var i;\n    for (i = 0;i < len;i++) {\n      var script = this._destroyedScripts[i];\n      this._removeScriptInstance(script);\n    }\n    this._destroyedScripts.length = 0;\n    this._resetExecutionOrder(0, this._scripts.length);\n  }, _onInitializeAttributes:function() {\n    for (var i = 0, len = this.scripts.length;i < len;i++) {\n      this.scripts[i].__initializeAttributes();\n    }\n  }, _scriptMethod:function(script, method, arg) {\n    script[method](arg);\n  }, _onInitialize:function() {\n    var script, scripts = this._scripts;\n    var wasLooping = this._beginLooping();\n    for (var i = 0, len = scripts.length;i < len;i++) {\n      script = scripts[i];\n      if (!script._initialized && script.enabled) {\n        script._initialized = true;\n        if (script.initialize) {\n          this._scriptMethod(script, ScriptComponent.scriptMethods.initialize);\n        }\n      }\n    }\n    this._endLooping(wasLooping);\n  }, _onPostInitialize:function() {\n    this.onPostStateChange();\n  }, _onUpdate:function(dt) {\n    var self = this;\n    var list = self._updateList;\n    if (!list.length) {\n      return;\n    }\n    var script;\n    var wasLooping = self._beginLooping();\n    for (list.loopIndex = 0;list.loopIndex < list.length;list.loopIndex++) {\n      script = list.items[list.loopIndex];\n      if (script.enabled) {\n        self._scriptMethod(script, ScriptComponent.scriptMethods.update, dt);\n      }\n    }\n    self._endLooping(wasLooping);\n  }, _onPostUpdate:function(dt) {\n    var self = this;\n    var list = self._postUpdateList;\n    if (!list.length) {\n      return;\n    }\n    var wasLooping = self._beginLooping();\n    var script;\n    for (list.loopIndex = 0;list.loopIndex < list.length;list.loopIndex++) {\n      script = list.items[list.loopIndex];\n      if (script.enabled) {\n        self._scriptMethod(script, ScriptComponent.scriptMethods.postUpdate, dt);\n      }\n    }\n    self._endLooping(wasLooping);\n  }, _insertScriptInstance:function(scriptInstance, index, scriptsLength) {\n    if (index === -1) {\n      this._scripts.push(scriptInstance);\n      scriptInstance.__executionOrder = scriptsLength;\n      if (scriptInstance.update) {\n        this._updateList.append(scriptInstance);\n      }\n      if (scriptInstance.postUpdate) {\n        this._postUpdateList.append(scriptInstance);\n      }\n    } else {\n      this._scripts.splice(index, 0, scriptInstance);\n      scriptInstance.__executionOrder = index;\n      this._resetExecutionOrder(index + 1, scriptsLength + 1);\n      if (scriptInstance.update) {\n        this._updateList.insert(scriptInstance);\n      }\n      if (scriptInstance.postUpdate) {\n        this._postUpdateList.insert(scriptInstance);\n      }\n    }\n  }, _removeScriptInstance:function(scriptInstance) {\n    var idx = this._scripts.indexOf(scriptInstance);\n    if (idx === -1) {\n      return idx;\n    }\n    this._scripts.splice(idx, 1);\n    if (scriptInstance.update) {\n      this._updateList.remove(scriptInstance);\n    }\n    if (scriptInstance.postUpdate) {\n      this._postUpdateList.remove(scriptInstance);\n    }\n    return idx;\n  }, _resetExecutionOrder:function(startIndex, scriptsLength) {\n    for (var i = startIndex;i < scriptsLength;i++) {\n      this._scripts[i].__executionOrder = i;\n    }\n  }, has:function(name) {\n    return !!this._scriptsIndex[name];\n  }, create:function(name, args) {\n    var self = this;\n    args = args || {};\n    var scriptType = name;\n    var scriptName = name;\n    if (typeof scriptType === \"string\") {\n      scriptType = this.system.app.scripts.get(scriptType);\n    } else {\n      if (scriptType) {\n        scriptName = scriptType.__name;\n      }\n    }\n    if (scriptType) {\n      if (!this._scriptsIndex[scriptType.__name] || !this._scriptsIndex[scriptType.__name].instance) {\n        var scriptInstance = new scriptType({app:this.system.app, entity:this.entity, enabled:args.hasOwnProperty(\"enabled\") ? args.enabled : true, attributes:args.attributes});\n        var len = this._scripts.length;\n        var ind = -1;\n        if (typeof args.ind === \"number\" && args.ind !== -1 && len > args.ind) {\n          ind = args.ind;\n        }\n        this._insertScriptInstance(scriptInstance, ind, len);\n        this._scriptsIndex[scriptType.__name] = {instance:scriptInstance, onSwap:function() {\n          self.swap(scriptType.__name);\n        }};\n        this[scriptType.__name] = scriptInstance;\n        if (!args.preloading) {\n          scriptInstance.__initializeAttributes();\n        }\n        this.fire(\"create\", scriptType.__name, scriptInstance);\n        this.fire(\"create:\" + scriptType.__name, scriptInstance);\n        this.system.app.scripts.on(\"swap:\" + scriptType.__name, this._scriptsIndex[scriptType.__name].onSwap);\n        if (!args.preloading) {\n          if (scriptInstance.enabled && !scriptInstance._initialized) {\n            scriptInstance._initialized = true;\n            if (scriptInstance.initialize) {\n              this._scriptMethod(scriptInstance, ScriptComponent.scriptMethods.initialize);\n            }\n          }\n          if (scriptInstance.enabled && !scriptInstance._postInitialized) {\n            scriptInstance._postInitialized = true;\n            if (scriptInstance.postInitialize) {\n              this._scriptMethod(scriptInstance, ScriptComponent.scriptMethods.postInitialize);\n            }\n          }\n        }\n        return scriptInstance;\n      }\n      console.warn(\"script '\" + scriptName + \"' is already added to entity '\" + this.entity.name + \"'\");\n    } else {\n      this._scriptsIndex[scriptName] = {awaiting:true, ind:this._scripts.length};\n      console.warn(\"script '\" + scriptName + \"' is not found, awaiting it to be added to registry\");\n    }\n    return null;\n  }, destroy:function(name) {\n    var scriptName = name;\n    var scriptType = name;\n    if (typeof scriptType === \"string\") {\n      scriptType = this.system.app.scripts.get(scriptType);\n      if (scriptType) {\n        scriptName = scriptType.__name;\n      }\n    }\n    var scriptData = this._scriptsIndex[scriptName];\n    delete this._scriptsIndex[scriptName];\n    if (!scriptData) {\n      return false;\n    }\n    if (scriptData.instance && !scriptData.instance._destroyed) {\n      scriptData.instance.enabled = false;\n      scriptData.instance._destroyed = true;\n      if (!this._isLoopingThroughScripts) {\n        var ind = this._removeScriptInstance(scriptData.instance);\n        if (ind >= 0) {\n          this._resetExecutionOrder(ind, this._scripts.length);\n        }\n      } else {\n        this._destroyedScripts.push(scriptData.instance);\n      }\n    }\n    this.system.app.scripts.off(\"swap:\" + scriptName, scriptData.onSwap);\n    delete this[scriptName];\n    this.fire(\"destroy\", scriptName, scriptData.instance || null);\n    this.fire(\"destroy:\" + scriptName, scriptData.instance || null);\n    if (scriptData.instance) {\n      scriptData.instance.fire(\"destroy\");\n    }\n    return true;\n  }, swap:function(script) {\n    var scriptType = script;\n    if (typeof scriptType === \"string\") {\n      scriptType = this.system.app.scripts.get(scriptType);\n    }\n    var old = this._scriptsIndex[scriptType.__name];\n    if (!old || !old.instance) {\n      return false;\n    }\n    var scriptInstanceOld = old.instance;\n    var ind = this._scripts.indexOf(scriptInstanceOld);\n    var scriptInstance = new scriptType({app:this.system.app, entity:this.entity, enabled:scriptInstanceOld.enabled, attributes:scriptInstanceOld.__attributes});\n    if (!scriptInstance.swap) {\n      return false;\n    }\n    scriptInstance.__initializeAttributes();\n    this._scripts[ind] = scriptInstance;\n    this._scriptsIndex[scriptType.__name].instance = scriptInstance;\n    this[scriptType.__name] = scriptInstance;\n    scriptInstance.__executionOrder = ind;\n    if (scriptInstanceOld.update) {\n      this._updateList.remove(scriptInstanceOld);\n    }\n    if (scriptInstanceOld.postUpdate) {\n      this._postUpdateList.remove(scriptInstanceOld);\n    }\n    if (scriptInstance.update) {\n      this._updateList.insert(scriptInstance);\n    }\n    if (scriptInstance.postUpdate) {\n      this._postUpdateList.insert(scriptInstance);\n    }\n    this._scriptMethod(scriptInstance, ScriptComponent.scriptMethods.swap, scriptInstanceOld);\n    this.fire(\"swap\", scriptType.__name, scriptInstance);\n    this.fire(\"swap:\" + scriptType.__name, scriptInstance);\n    return true;\n  }, resolveDuplicatedEntityReferenceProperties:function(oldScriptComponent, duplicatedIdsMap) {\n    var newScriptComponent = this.entity.script;\n    for (var scriptName in oldScriptComponent._scriptsIndex) {\n      var scriptType = this.system.app.scripts.get(scriptName);\n      if (!scriptType) {\n        continue;\n      }\n      var script = oldScriptComponent._scriptsIndex[scriptName];\n      if (!script || !script.instance) {\n        continue;\n      }\n      var newAttributesRaw = newScriptComponent[scriptName].__attributesRaw;\n      var newAttributes = newScriptComponent[scriptName].__attributes;\n      if (!newAttributesRaw && !newAttributes) {\n        continue;\n      }\n      var oldAttributes = script.instance.__attributes;\n      for (var attributeName in oldAttributes) {\n        if (!oldAttributes[attributeName]) {\n          continue;\n        }\n        var attribute = scriptType.attributes.get(attributeName);\n        if (!attribute || attribute.type !== \"entity\") {\n          continue;\n        }\n        if (attribute.array) {\n          var oldGuidArray = oldAttributes[attributeName];\n          var len = oldGuidArray.length;\n          if (!len) {\n            continue;\n          }\n          var newGuidArray = oldGuidArray.slice();\n          for (var i = 0;i < len;i++) {\n            var guid = newGuidArray[i] instanceof pc.Entity ? newGuidArray[i].getGuid() : newGuidArray[i];\n            if (duplicatedIdsMap[guid]) {\n              newGuidArray[i] = newAttributesRaw ? duplicatedIdsMap[guid].getGuid() : duplicatedIdsMap[guid];\n            }\n          }\n          if (newAttributesRaw) {\n            newAttributesRaw[attributeName] = newGuidArray;\n          } else {\n            newAttributes[attributeName] = newGuidArray;\n          }\n        } else {\n          var oldGuid = oldAttributes[attributeName];\n          if (oldGuid instanceof pc.Entity) {\n            oldGuid = oldGuid.getGuid();\n          } else {\n            if (typeof oldGuid !== \"string\") {\n              continue;\n            }\n          }\n          if (duplicatedIdsMap[oldGuid]) {\n            if (newAttributesRaw) {\n              newAttributesRaw[attributeName] = duplicatedIdsMap[oldGuid].getGuid();\n            } else {\n              newAttributes[attributeName] = duplicatedIdsMap[oldGuid];\n            }\n          }\n        }\n      }\n    }\n  }, move:function(name, ind) {\n    var len = this._scripts.length;\n    if (ind >= len || ind < 0) {\n      return false;\n    }\n    var scriptName = name;\n    if (typeof scriptName !== \"string\") {\n      scriptName = name.__name;\n    }\n    var scriptData = this._scriptsIndex[scriptName];\n    if (!scriptData || !scriptData.instance) {\n      return false;\n    }\n    var indOld = this._scripts.indexOf(scriptData.instance);\n    if (indOld === -1 || indOld === ind) {\n      return false;\n    }\n    this._scripts.splice(ind, 0, this._scripts.splice(indOld, 1)[0]);\n    this._resetExecutionOrder(0, len);\n    this._updateList.sort();\n    this._postUpdateList.sort();\n    this.fire(\"move\", scriptName, scriptData.instance, ind, indOld);\n    this.fire(\"move:\" + scriptName, scriptData.instance, ind, indOld);\n    return true;\n  }});\n  Object.defineProperty(ScriptComponent.prototype, \"enabled\", {get:function() {\n    return this._enabled;\n  }, set:function(value) {\n    var oldValue = this._enabled;\n    this._enabled = value;\n    this.fire(\"set\", \"enabled\", oldValue, value);\n  }});\n  Object.defineProperty(ScriptComponent.prototype, \"scripts\", {get:function() {\n    return this._scripts;\n  }, set:function(value) {\n    this._scriptsData = value;\n    for (var key in value) {\n      if (!value.hasOwnProperty(key)) {\n        continue;\n      }\n      var script = this._scriptsIndex[key];\n      if (script) {\n        if (typeof value[key].enabled === \"boolean\") {\n          script.enabled = !!value[key].enabled;\n        }\n        if (typeof value[key].attributes === \"object\") {\n          for (var attr in value[key].attributes) {\n            if (pc.createScript.reservedAttributes[attr]) {\n              continue;\n            }\n            if (!script.__attributes.hasOwnProperty(attr)) {\n              var scriptType = this.system.app.scripts.get(key);\n              if (scriptType) {\n                scriptType.attributes.add(attr, {});\n              }\n            }\n            script[attr] = value[key].attributes[attr];\n          }\n        }\n      } else {\n        console.log(this.order);\n      }\n    }\n  }});\n  return {ScriptComponent:ScriptComponent};\n}());\nObject.assign(pc, function() {\n  var METHOD_INITIALIZE_ATTRIBUTES = \"_onInitializeAttributes\";\n  var METHOD_INITIALIZE = \"_onInitialize\";\n  var METHOD_POST_INITIALIZE = \"_onPostInitialize\";\n  var METHOD_UPDATE = \"_onUpdate\";\n  var METHOD_POST_UPDATE = \"_onPostUpdate\";\n  var executionOrderCounter = 0;\n  var ScriptComponentSystem = function ScriptComponentSystem(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"script\";\n    this.app = app;\n    this.ComponentType = pc.ScriptComponent;\n    this.DataType = pc.ScriptComponentData;\n    this._components = new pc.SortedLoopArray({sortBy:\"_executionOrder\"});\n    this._enabledComponents = new pc.SortedLoopArray({sortBy:\"_executionOrder\"});\n    this.preloading = true;\n    this.on(\"beforeremove\", this._onBeforeRemove, this);\n    pc.ComponentSystem.bind(\"initialize\", this._onInitialize, this);\n    pc.ComponentSystem.bind(\"postInitialize\", this._onPostInitialize, this);\n    pc.ComponentSystem.bind(\"update\", this._onUpdate, this);\n    pc.ComponentSystem.bind(\"postUpdate\", this._onPostUpdate, this);\n  };\n  ScriptComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  ScriptComponentSystem.prototype.constructor = ScriptComponentSystem;\n  Object.assign(ScriptComponentSystem.prototype, {initializeComponentData:function(component, data) {\n    component._executionOrder = executionOrderCounter++;\n    this._components.append(component);\n    if (executionOrderCounter > Number.MAX_SAFE_INTEGER) {\n      this._resetExecutionOrder();\n    }\n    component.enabled = data.hasOwnProperty(\"enabled\") ? !!data.enabled : true;\n    if (component.enabled && component.entity.enabled) {\n      this._enabledComponents.append(component);\n    }\n    if (data.hasOwnProperty(\"order\") && data.hasOwnProperty(\"scripts\")) {\n      component._scriptsData = data.scripts;\n      for (var i = 0;i < data.order.length;i++) {\n        component.create(data.order[i], {enabled:data.scripts[data.order[i]].enabled, attributes:data.scripts[data.order[i]].attributes, preloading:this.preloading});\n      }\n    }\n  }, cloneComponent:function(entity, clone) {\n    var i, key;\n    var order = [];\n    var scripts = {};\n    for (i = 0;i < entity.script._scripts.length;i++) {\n      var scriptInstance = entity.script._scripts[i];\n      var scriptName = scriptInstance.__scriptType.__name;\n      order.push(scriptName);\n      var attributes = {};\n      for (key in scriptInstance.__attributes) {\n        attributes[key] = scriptInstance.__attributes[key];\n      }\n      scripts[scriptName] = {enabled:scriptInstance._enabled, attributes:attributes};\n    }\n    for (key in entity.script._scriptsIndex) {\n      if (key.awaiting) {\n        order.splice(key.ind, 0, key);\n      }\n    }\n    var data = {enabled:entity.script.enabled, order:order, scripts:scripts};\n    return this.addComponent(clone, data);\n  }, _resetExecutionOrder:function() {\n    executionOrderCounter = 0;\n    for (var i = 0, len = this._components.length;i < len;i++) {\n      this._components.items[i]._executionOrder = executionOrderCounter++;\n    }\n  }, _callComponentMethod:function(components, name, dt) {\n    for (components.loopIndex = 0;components.loopIndex < components.length;components.loopIndex++) {\n      components.items[components.loopIndex][name](dt);\n    }\n  }, _onInitialize:function() {\n    this.preloading = false;\n    this._callComponentMethod(this._components, METHOD_INITIALIZE_ATTRIBUTES);\n    this._callComponentMethod(this._enabledComponents, METHOD_INITIALIZE);\n  }, _onPostInitialize:function() {\n    this._callComponentMethod(this._enabledComponents, METHOD_POST_INITIALIZE);\n  }, _onUpdate:function(dt) {\n    this._callComponentMethod(this._enabledComponents, METHOD_UPDATE, dt);\n  }, _onPostUpdate:function(dt) {\n    this._callComponentMethod(this._enabledComponents, METHOD_POST_UPDATE, dt);\n  }, _addComponentToEnabled:function(component) {\n    this._enabledComponents.insert(component);\n  }, _removeComponentFromEnabled:function(component) {\n    this._enabledComponents.remove(component);\n  }, _onBeforeRemove:function(entity, component) {\n    var ind = this._components.items.indexOf(component);\n    if (ind >= 0) {\n      component._onBeforeRemove();\n    }\n    this._removeComponentFromEnabled(component);\n    this._components.remove(component);\n  }});\n  return {ScriptComponentSystem:ScriptComponentSystem};\n}());\nObject.assign(pc, function() {\n  var ScriptComponentData = function() {\n    this.enabled = true;\n  };\n  return {ScriptComponentData:ScriptComponentData};\n}());\nObject.assign(pc, function() {\n  var ScriptLegacyComponent = function ScriptLegacyComponent(system, entity) {\n    pc.Component.call(this, system, entity);\n    this.on(\"set_scripts\", this.onSetScripts, this);\n  };\n  ScriptLegacyComponent.prototype = Object.create(pc.Component.prototype);\n  ScriptLegacyComponent.prototype.constructor = ScriptLegacyComponent;\n  Object.assign(ScriptLegacyComponent.prototype, {send:function(name, functionName) {\n    console.warn(\"DEPRECATED: ScriptLegacyComponent.send() is deprecated and will be removed soon. Please use: http://developer.playcanvas.com/user-manual/scripting/communication/\");\n    var args = pc.makeArray(arguments).slice(2);\n    var instances = this.entity.script.instances;\n    var fn;\n    if (instances && instances[name]) {\n      fn = instances[name].instance[functionName];\n      if (fn) {\n        return fn.apply(instances[name].instance, args);\n      }\n    }\n  }, onEnable:function() {\n    if (this.data.areScriptsLoaded && !this.system.preloading) {\n      if (!this.data.initialized) {\n        this.system._initializeScriptComponent(this);\n      } else {\n        this.system._enableScriptComponent(this);\n      }\n      if (!this.data.postInitialized) {\n        this.system._postInitializeScriptComponent(this);\n      }\n    }\n  }, onDisable:function() {\n    this.system._disableScriptComponent(this);\n  }, onSetScripts:function(name, oldValue, newValue) {\n    if (!this.system._inTools || this.runInTools) {\n      if (this._updateScriptAttributes(oldValue, newValue)) {\n        return;\n      }\n      if (this.enabled) {\n        this.system._disableScriptComponent(this);\n      }\n      this.system._destroyScriptComponent(this);\n      this.data.areScriptsLoaded = false;\n      var scripts = newValue;\n      var urls = scripts.map(function(s) {\n        return s.url;\n      });\n      if (this._loadFromCache(urls)) {\n        return;\n      }\n      this._loadScripts(urls);\n    }\n  }, _updateScriptAttributes:function(oldValue, newValue) {\n    var onlyUpdateAttributes = true;\n    if (oldValue.length !== newValue.length) {\n      onlyUpdateAttributes = false;\n    } else {\n      var i, len = newValue.length;\n      for (i = 0;i < len;i++) {\n        if (oldValue[i].url !== newValue[i].url) {\n          onlyUpdateAttributes = false;\n          break;\n        }\n      }\n    }\n    if (onlyUpdateAttributes) {\n      for (var key in this.instances) {\n        if (this.instances.hasOwnProperty(key)) {\n          this.system._updateAccessors(this.entity, this.instances[key]);\n        }\n      }\n    }\n    return onlyUpdateAttributes;\n  }, _loadFromCache:function(urls) {\n    var i, len;\n    var cached = [];\n    var prefix = this.system.app._scriptPrefix || \"\";\n    var regex = /^http(s)?:\\/\\//i;\n    for (i = 0, len = urls.length;i < len;i++) {\n      var url = urls[i];\n      if (!regex.test(url)) {\n        url = pc.path.join(prefix, url);\n      }\n      var type = this.system.app.loader.getFromCache(url, \"script\");\n      if (!type) {\n        return false;\n      }\n      cached.push(type);\n    }\n    for (i = 0, len = cached.length;i < len;i++) {\n      var ScriptType = cached[i];\n      if (ScriptType === true) {\n        continue;\n      }\n      if (ScriptType && this.entity.script) {\n        if (!this.entity.script.instances[ScriptType._pcScriptName]) {\n          var instance = new ScriptType(this.entity);\n          this.system._preRegisterInstance(this.entity, urls[i], ScriptType._pcScriptName, instance);\n        }\n      }\n    }\n    if (this.data) {\n      this.data.areScriptsLoaded = true;\n    }\n    if (!this.system.preloading) {\n      this.system.onInitialize(this.entity);\n      this.system.onPostInitialize(this.entity);\n    }\n    return true;\n  }, _loadScripts:function(urls) {\n    var count = urls.length;\n    var prefix = this.system.app._scriptPrefix || \"\";\n    urls.forEach(function(url) {\n      var _url = null;\n      var _unprefixed = null;\n      if (url.toLowerCase().startsWith(\"http://\") || url.toLowerCase().startsWith(\"https://\")) {\n        _unprefixed = url;\n        _url = url;\n      } else {\n        _unprefixed = url;\n        _url = pc.path.join(prefix, url);\n      }\n      this.system.app.loader.load(_url, \"script\", function(err, ScriptType) {\n        count--;\n        if (!err) {\n          if (ScriptType && this.entity.script) {\n            if (!this.entity.script.instances[ScriptType._pcScriptName]) {\n              var instance = new ScriptType(this.entity);\n              this.system._preRegisterInstance(this.entity, _unprefixed, ScriptType._pcScriptName, instance);\n            }\n          }\n        } else {\n          console.error(err);\n        }\n        if (count === 0) {\n          this.data.areScriptsLoaded = true;\n          if (!this.system.preloading) {\n            this.system.onInitialize(this.entity);\n            this.system.onPostInitialize(this.entity);\n          }\n        }\n      }.bind(this));\n    }.bind(this));\n  }});\n  return {ScriptLegacyComponent:ScriptLegacyComponent};\n}());\nObject.assign(pc, function() {\n  var _schema = [\"enabled\", \"scripts\", \"instances\", \"runInTools\"];\n  var INITIALIZE = \"initialize\";\n  var POST_INITIALIZE = \"postInitialize\";\n  var UPDATE = \"update\";\n  var POST_UPDATE = \"postUpdate\";\n  var FIXED_UPDATE = \"fixedUpdate\";\n  var TOOLS_UPDATE = \"toolsUpdate\";\n  var ON_ENABLE = \"onEnable\";\n  var ON_DISABLE = \"onDisable\";\n  var ScriptLegacyComponentSystem = function ScriptLegacyComponentSystem(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"script\";\n    this.description = \"Allows the Entity to run JavaScript fragments to implement custom behavior.\";\n    this.ComponentType = pc.ScriptLegacyComponent;\n    this.DataType = pc.ScriptLegacyComponentData;\n    this.schema = _schema;\n    this.preloading = false;\n    this.instancesWithUpdate = [];\n    this.instancesWithFixedUpdate = [];\n    this.instancesWithPostUpdate = [];\n    this.instancesWithToolsUpdate = [];\n    this.on(\"beforeremove\", this.onBeforeRemove, this);\n    pc.ComponentSystem.bind(INITIALIZE, this.onInitialize, this);\n    pc.ComponentSystem.bind(POST_INITIALIZE, this.onPostInitialize, this);\n    pc.ComponentSystem.bind(UPDATE, this.onUpdate, this);\n    pc.ComponentSystem.bind(FIXED_UPDATE, this.onFixedUpdate, this);\n    pc.ComponentSystem.bind(POST_UPDATE, this.onPostUpdate, this);\n    pc.ComponentSystem.bind(TOOLS_UPDATE, this.onToolsUpdate, this);\n  };\n  ScriptLegacyComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  ScriptLegacyComponentSystem.prototype.constructor = ScriptLegacyComponentSystem;\n  pc.Component._buildAccessors(pc.ScriptLegacyComponent.prototype, _schema);\n  Object.assign(ScriptLegacyComponentSystem.prototype, {initializeComponentData:function(component, data, properties) {\n    properties = [\"runInTools\", \"enabled\", \"scripts\"];\n    if (data.scripts && data.scripts.length) {\n      data.scripts.forEach(function(script) {\n        if (script.attributes && pc.type(script.attributes) === \"array\") {\n          var dict = {};\n          for (var i = 0;i < script.attributes.length;i++) {\n            dict[script.attributes[i].name] = script.attributes[i];\n          }\n          script.attributes = dict;\n        }\n      });\n    }\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, data, properties);\n  }, cloneComponent:function(entity, clone) {\n    var src = this.store[entity.getGuid()];\n    var data = {runInTools:src.data.runInTools, scripts:[], enabled:src.data.enabled};\n    var scripts = src.data.scripts;\n    for (var i = 0, len = scripts.length;i < len;i++) {\n      var attributes = scripts[i].attributes;\n      if (attributes) {\n        delete scripts[i].attributes;\n      }\n      data.scripts.push(pc.extend({}, scripts[i]));\n      if (attributes) {\n        data.scripts[i].attributes = this._cloneAttributes(attributes);\n        scripts[i].attributes = attributes;\n      }\n    }\n    return this.addComponent(clone, data);\n  }, onBeforeRemove:function(entity, component) {\n    if (component.enabled) {\n      this._disableScriptComponent(component);\n    }\n    this._destroyScriptComponent(component);\n  }, onInitialize:function(root) {\n    this._registerInstances(root);\n    if (root.enabled) {\n      if (root.script && root.script.enabled) {\n        this._initializeScriptComponent(root.script);\n      }\n      var children = root._children;\n      var i, len = children.length;\n      for (i = 0;i < len;i++) {\n        if (children[i] instanceof pc.Entity) {\n          this.onInitialize(children[i]);\n        }\n      }\n    }\n  }, onPostInitialize:function(root) {\n    if (root.enabled) {\n      if (root.script && root.script.enabled) {\n        this._postInitializeScriptComponent(root.script);\n      }\n      var children = root._children;\n      var i, len = children.length;\n      for (i = 0;i < len;i++) {\n        if (children[i] instanceof pc.Entity) {\n          this.onPostInitialize(children[i]);\n        }\n      }\n    }\n  }, _callInstancesMethod:function(script, method) {\n    var instances = script.data.instances;\n    for (var name in instances) {\n      if (instances.hasOwnProperty(name)) {\n        var instance = instances[name].instance;\n        if (instance[method]) {\n          instance[method]();\n        }\n      }\n    }\n  }, _initializeScriptComponent:function(script) {\n    this._callInstancesMethod(script, INITIALIZE);\n    script.data.initialized = true;\n    if (script.enabled && script.entity.enabled) {\n      this._enableScriptComponent(script);\n    }\n  }, _enableScriptComponent:function(script) {\n    this._callInstancesMethod(script, ON_ENABLE);\n  }, _disableScriptComponent:function(script) {\n    this._callInstancesMethod(script, ON_DISABLE);\n  }, _destroyScriptComponent:function(script) {\n    var index;\n    var instances = script.data.instances;\n    for (var name in instances) {\n      if (instances.hasOwnProperty(name)) {\n        var instance = instances[name].instance;\n        if (instance.destroy) {\n          instance.destroy();\n        }\n        if (instance.update) {\n          index = this.instancesWithUpdate.indexOf(instance);\n          if (index >= 0) {\n            this.instancesWithUpdate.splice(index, 1);\n          }\n        }\n        if (instance.fixedUpdate) {\n          index = this.instancesWithFixedUpdate.indexOf(instance);\n          if (index >= 0) {\n            this.instancesWithFixedUpdate.splice(index, 1);\n          }\n        }\n        if (instance.postUpdate) {\n          index = this.instancesWithPostUpdate.indexOf(instance);\n          if (index >= 0) {\n            this.instancesWithPostUpdate.splice(index, 1);\n          }\n        }\n        if (instance.toolsUpdate) {\n          index = this.instancesWithToolsUpdate.indexOf(instance);\n          if (index >= 0) {\n            this.instancesWithToolsUpdate.splice(index, 1);\n          }\n        }\n        if (script.instances[name].instance === script[name]) {\n          delete script[name];\n        }\n        delete script.instances[name];\n      }\n    }\n  }, _postInitializeScriptComponent:function(script) {\n    this._callInstancesMethod(script, POST_INITIALIZE);\n    script.data.postInitialized = true;\n  }, _updateInstances:function(method, updateList, dt) {\n    var item;\n    for (var i = 0, len = updateList.length;i < len;i++) {\n      item = updateList[i];\n      if (item && item.entity && item.entity.enabled && item.entity.script.enabled) {\n        item[method](dt);\n      }\n    }\n  }, onUpdate:function(dt) {\n    this._updateInstances(UPDATE, this.instancesWithUpdate, dt);\n  }, onFixedUpdate:function(dt) {\n    this._updateInstances(FIXED_UPDATE, this.instancesWithFixedUpdate, dt);\n  }, onPostUpdate:function(dt) {\n    this._updateInstances(POST_UPDATE, this.instancesWithPostUpdate, dt);\n  }, onToolsUpdate:function(dt) {\n    this._updateInstances(TOOLS_UPDATE, this.instancesWithToolsUpdate, dt);\n  }, broadcast:function(name, functionName) {\n    console.warn(\"DEPRECATED: ScriptLegacyComponentSystem.broadcast() is deprecated and will be removed soon. Please use: http://developer.playcanvas.com/user-manual/scripting/communication/\");\n    var args = pc.makeArray(arguments).slice(2);\n    var id, data, fn;\n    var dataStore = this.store;\n    for (id in dataStore) {\n      if (dataStore.hasOwnProperty(id)) {\n        data = dataStore[id].data;\n        if (data.instances[name]) {\n          fn = data.instances[name].instance[functionName];\n          if (fn) {\n            fn.apply(data.instances[name].instance, args);\n          }\n        }\n      }\n    }\n  }, _preRegisterInstance:function(entity, url, name, instance) {\n    if (entity.script) {\n      entity.script.data._instances = entity.script.data._instances || {};\n      if (entity.script.data._instances[name]) {\n        throw Error(pc.string.format(\"Script name collision '{0}'. Scripts from '{1}' and '{2}' {{3}}\", name, url, entity.script.data._instances[name].url, entity.getGuid()));\n      }\n      entity.script.data._instances[name] = {url:url, name:name, instance:instance};\n    }\n  }, _registerInstances:function(entity) {\n    var preRegistered, instance, instanceName;\n    if (entity.script) {\n      if (entity.script.data._instances) {\n        entity.script.instances = entity.script.data._instances;\n        for (instanceName in entity.script.instances) {\n          preRegistered = entity.script.instances[instanceName];\n          instance = preRegistered.instance;\n          pc.events.attach(instance);\n          if (instance.update) {\n            this.instancesWithUpdate.push(instance);\n          }\n          if (instance.fixedUpdate) {\n            this.instancesWithFixedUpdate.push(instance);\n          }\n          if (instance.postUpdate) {\n            this.instancesWithPostUpdate.push(instance);\n          }\n          if (instance.toolsUpdate) {\n            this.instancesWithToolsUpdate.push(instance);\n          }\n          if (entity.script.scripts) {\n            this._createAccessors(entity, preRegistered);\n          }\n          if (entity.script[instanceName]) {\n            throw Error(pc.string.format(\"Script with name '{0}' is already attached to Script Component\", instanceName));\n          } else {\n            entity.script[instanceName] = instance;\n          }\n        }\n        delete entity.script.data._instances;\n      }\n    }\n    var children = entity._children;\n    var i, len = children.length;\n    for (i = 0;i < len;i++) {\n      if (children[i] instanceof pc.Entity) {\n        this._registerInstances(children[i]);\n      }\n    }\n  }, _cloneAttributes:function(attributes) {\n    var result = {};\n    for (var key in attributes) {\n      if (!attributes.hasOwnProperty(key)) {\n        continue;\n      }\n      if (attributes[key].type !== \"entity\") {\n        result[key] = pc.extend({}, attributes[key]);\n      } else {\n        var val = attributes[key].value;\n        delete attributes[key].value;\n        result[key] = pc.extend({}, attributes[key]);\n        result[key].value = val;\n        attributes[key].value = val;\n      }\n    }\n    return result;\n  }, _createAccessors:function(entity, instance) {\n    var self = this;\n    var i;\n    var len = entity.script.scripts.length;\n    var url = instance.url;\n    for (i = 0;i < len;i++) {\n      var script = entity.script.scripts[i];\n      if (script.url === url) {\n        var attributes = script.attributes;\n        if (script.name && attributes) {\n          for (var key in attributes) {\n            if (attributes.hasOwnProperty(key)) {\n              self._createAccessor(attributes[key], instance);\n            }\n          }\n          entity.script.data.attributes[script.name] = self._cloneAttributes(attributes);\n        }\n        break;\n      }\n    }\n  }, _createAccessor:function(attribute, instance) {\n    var self = this;\n    attribute = {name:attribute.name, value:attribute.value, type:attribute.type};\n    self._convertAttributeValue(attribute);\n    Object.defineProperty(instance.instance, attribute.name, {get:function() {\n      return attribute.value;\n    }, set:function(value) {\n      var oldValue = attribute.value;\n      attribute.value = value;\n      self._convertAttributeValue(attribute);\n      instance.instance.fire(\"set\", attribute.name, oldValue, attribute.value);\n    }, configurable:true});\n  }, _updateAccessors:function(entity, instance) {\n    var self = this;\n    var i;\n    var len = entity.script.scripts.length;\n    var key;\n    var url = instance.url;\n    var scriptComponent, script, name, attributes;\n    var previousAttributes;\n    var oldAttribute;\n    for (i = 0;i < len;i++) {\n      scriptComponent = entity.script;\n      script = scriptComponent.scripts[i];\n      if (script.url === url) {\n        name = script.name;\n        attributes = script.attributes;\n        if (name) {\n          if (attributes) {\n            for (key in attributes) {\n              if (attributes.hasOwnProperty(key)) {\n                self._createAccessor(attributes[key], instance);\n              }\n            }\n          }\n          previousAttributes = scriptComponent.data.attributes[name];\n          if (previousAttributes) {\n            for (key in previousAttributes) {\n              oldAttribute = previousAttributes[key];\n              if (!(key in attributes)) {\n                delete instance.instance[oldAttribute.name];\n              } else {\n                if (attributes[key].value !== oldAttribute.value) {\n                  if (instance.instance.onAttributeChanged) {\n                    instance.instance.onAttributeChanged(oldAttribute.name, oldAttribute.value, attributes[key].value);\n                  }\n                }\n              }\n            }\n          }\n          if (attributes) {\n            scriptComponent.data.attributes[name] = self._cloneAttributes(attributes);\n          } else {\n            delete scriptComponent.data.attributes[name];\n          }\n        }\n        break;\n      }\n    }\n  }, _convertAttributeValue:function(attribute) {\n    if (attribute.type === \"rgb\" || attribute.type === \"rgba\") {\n      if (pc.type(attribute.value) === \"array\") {\n        attribute.value = attribute.value.length === 3 ? new pc.Color(attribute.value[0], attribute.value[1], attribute.value[2]) : new pc.Color(attribute.value[0], attribute.value[1], attribute.value[2], attribute.value[3]);\n      }\n    } else {\n      if (attribute.type === \"vec2\") {\n        if (pc.type(attribute.value) === \"array\") {\n          attribute.value = new pc.Vec2(attribute.value[0], attribute.value[1]);\n        }\n      } else {\n        if (attribute.type === \"vec3\" || attribute.type === \"vector\") {\n          if (pc.type(attribute.value) === \"array\") {\n            attribute.value = new pc.Vec3(attribute.value[0], attribute.value[1], attribute.value[2]);\n          }\n        } else {\n          if (attribute.type === \"vec4\") {\n            if (pc.type(attribute.value) === \"array\") {\n              attribute.value = new pc.Vec4(attribute.value[0], attribute.value[1], attribute.value[2], attribute.value[3]);\n            }\n          } else {\n            if (attribute.type === \"entity\") {\n              if (attribute.value !== null && typeof attribute.value === \"string\") {\n                attribute.value = this.app.root.findByGuid(attribute.value);\n              }\n            } else {\n              if (attribute.type === \"curve\" || attribute.type === \"colorcurve\") {\n                var curveType = attribute.value.keys[0] instanceof Array ? pc.CurveSet : pc.Curve;\n                attribute.value = new curveType(attribute.value.keys);\n                attribute.value.type = attribute.value.type;\n              }\n            }\n          }\n        }\n      }\n    }\n  }});\n  return {ScriptLegacyComponentSystem:ScriptLegacyComponentSystem};\n}());\nObject.assign(pc, function() {\n  var ScriptLegacyComponentData = function() {\n    this.scripts = [];\n    this.enabled = true;\n    this.instances = {};\n    this._instances = {};\n    this.runInTools = false;\n    this.attributes = {};\n    this.initialized = false;\n    this.postInitialized = false;\n    this.areScriptsLoaded = false;\n  };\n  return {ScriptLegacyComponentData:ScriptLegacyComponentData};\n}());\nObject.assign(pc, {DISTANCE_LINEAR:\"linear\", DISTANCE_INVERSE:\"inverse\", DISTANCE_EXPONENTIAL:\"exponential\"});\nObject.assign(pc, function() {\n  var instanceOptions = {volume:0, pitch:0, loop:false, startTime:0, duration:0, position:new pc.Vec3, maxDistance:0, refDistance:0, rollOffFactor:0, distanceModel:0, onPlay:null, onPause:null, onResume:null, onStop:null, onEnd:null};\n  var SoundSlot = function(component, name, options) {\n    pc.EventHandler.call(this);\n    options = options || {};\n    this._component = component;\n    this._assets = component.system.app.assets;\n    this._manager = component.system.manager;\n    this._name = name || \"Untitled\";\n    this._volume = options.volume !== undefined ? pc.math.clamp(Number(options.volume) || 0, 0, 1) : 1;\n    this._pitch = options.pitch !== undefined ? Math.max(0.01, Number(options.pitch) || 0) : 1;\n    this._loop = !!(options.loop !== undefined ? options.loop : false);\n    this._duration = options.duration > 0 ? options.duration : null;\n    this._startTime = Math.max(0, Number(options.startTime) || 0);\n    this._overlap = !!options.overlap;\n    this._autoPlay = !!options.autoPlay;\n    this._firstNode = null;\n    this._lastNode = null;\n    this._asset = options.asset;\n    if (this._asset instanceof pc.Asset) {\n      this._asset = this._asset.id;\n    }\n    this._onInstancePlayHandler = this._onInstancePlay.bind(this);\n    this._onInstancePauseHandler = this._onInstancePause.bind(this);\n    this._onInstanceResumeHandler = this._onInstanceResume.bind(this);\n    this._onInstanceStopHandler = this._onInstanceStop.bind(this);\n    this._onInstanceEndHandler = this._onInstanceEnd.bind(this);\n    this.instances = [];\n  };\n  SoundSlot.prototype = Object.create(pc.EventHandler.prototype);\n  SoundSlot.prototype.constructor = SoundSlot;\n  Object.assign(SoundSlot.prototype, {play:function() {\n    if (!this.overlap) {\n      this.stop();\n    }\n    var instance = this._createInstance();\n    this.instances.push(instance);\n    if (!this.isLoaded) {\n      var onLoad = function(sound) {\n        var playWhenLoaded = instance._playWhenLoaded;\n        instance.sound = sound;\n        if (playWhenLoaded) {\n          instance.play();\n        }\n      };\n      this.off(\"load\", onLoad);\n      this.once(\"load\", onLoad);\n      this.load();\n    } else {\n      instance.play();\n    }\n    return instance;\n  }, pause:function() {\n    var paused = false;\n    var instances = this.instances;\n    for (var i = 0, len = instances.length;i < len;i++) {\n      if (instances[i].pause()) {\n        paused = true;\n      }\n    }\n    return paused;\n  }, resume:function() {\n    var resumed = false;\n    var instances = this.instances;\n    for (var i = 0, len = instances.length;i < len;i++) {\n      if (instances[i].resume()) {\n        resumed = true;\n      }\n    }\n    return resumed;\n  }, stop:function() {\n    var stopped = false;\n    var instances = this.instances;\n    var i = instances.length;\n    while (i--) {\n      instances[i].stop();\n      stopped = true;\n    }\n    instances.length = 0;\n    return stopped;\n  }, load:function() {\n    if (!this._hasAsset()) {\n      return;\n    }\n    var asset = this._assets.get(this._asset);\n    if (!asset) {\n      this._assets.off(\"add:\" + this._asset, this._onAssetAdd, this);\n      this._assets.once(\"add:\" + this._asset, this._onAssetAdd, this);\n      return;\n    }\n    asset.off(\"remove\", this._onAssetRemoved, this);\n    asset.on(\"remove\", this._onAssetRemoved, this);\n    if (!asset.resource) {\n      asset.off(\"load\", this._onAssetLoad, this);\n      asset.once(\"load\", this._onAssetLoad, this);\n      this._assets.load(asset);\n      return;\n    }\n    this.fire(\"load\", asset.resource);\n  }, setExternalNodes:function(firstNode, lastNode) {\n    if (!firstNode) {\n      console.error(\"The firstNode must have a valid AudioNode\");\n      return;\n    }\n    if (!lastNode) {\n      lastNode = firstNode;\n    }\n    this._firstNode = firstNode;\n    this._lastNode = lastNode;\n    if (!this._overlap) {\n      var instances = this.instances;\n      for (var i = 0, len = instances.length;i < len;i++) {\n        instances[i].setExternalNodes(firstNode, lastNode);\n      }\n    }\n  }, clearExternalNodes:function() {\n    this._firstNode = null;\n    this._lastNode = null;\n    if (!this._overlap) {\n      var instances = this.instances;\n      for (var i = 0, len = instances.length;i < len;i++) {\n        instances[i].clearExternalNodes();\n      }\n    }\n  }, getExternalNodes:function() {\n    return [this._firstNode, this._lastNode];\n  }, _hasAsset:function() {\n    return this._asset != null;\n  }, _createInstance:function() {\n    var instance = null;\n    var component = this._component;\n    var sound = null;\n    if (this._hasAsset()) {\n      var asset = this._assets.get(this._asset);\n      if (asset) {\n        sound = asset.resource;\n      }\n    }\n    var data = instanceOptions;\n    data.volume = this._volume * component.volume;\n    data.pitch = this._pitch * component.pitch;\n    data.loop = this._loop;\n    data.startTime = this._startTime;\n    data.duration = this._duration;\n    data.onPlay = this._onInstancePlayHandler;\n    data.onPause = this._onInstancePauseHandler;\n    data.onResume = this._onInstanceResumeHandler;\n    data.onStop = this._onInstanceStopHandler;\n    data.onEnd = this._onInstanceEndHandler;\n    if (component.positional) {\n      data.position.copy(component.entity.getPosition());\n      data.maxDistance = component.maxDistance;\n      data.refDistance = component.refDistance;\n      data.rollOffFactor = component.rollOffFactor;\n      data.distanceModel = component.distanceModel;\n      instance = new pc.SoundInstance3d(this._manager, sound, data);\n    } else {\n      instance = new pc.SoundInstance(this._manager, sound, data);\n    }\n    if (this._firstNode) {\n      instance.setExternalNodes(this._firstNode, this._lastNode);\n    }\n    return instance;\n  }, _onInstancePlay:function(instance) {\n    this.fire(\"play\", instance);\n    this._component.fire(\"play\", this, instance);\n  }, _onInstancePause:function(instance) {\n    this.fire(\"pause\", instance);\n    this._component.fire(\"pause\", this, instance);\n  }, _onInstanceResume:function(instance) {\n    this.fire(\"resume\", instance);\n    this._component.fire(\"resume\", this, instance);\n  }, _onInstanceStop:function(instance) {\n    var idx = this.instances.indexOf(instance);\n    if (idx !== -1) {\n      this.instances.splice(idx, 1);\n    }\n    this.fire(\"stop\", instance);\n    this._component.fire(\"stop\", this, instance);\n  }, _onInstanceEnd:function(instance) {\n    var idx = this.instances.indexOf(instance);\n    if (idx !== -1) {\n      this.instances.splice(idx, 1);\n    }\n    this.fire(\"end\", instance);\n    this._component.fire(\"end\", this, instance);\n  }, _onAssetAdd:function(asset) {\n    this.load();\n  }, _onAssetLoad:function(asset) {\n    this.load();\n  }, _onAssetRemoved:function(asset) {\n    asset.off(\"remove\", this._onAssetRemoved, this);\n    this._assets.off(\"add:\" + asset.id, this._onAssetAdd, this);\n    this.stop();\n  }, updatePosition:function(position) {\n    var instances = this.instances;\n    for (var i = 0, len = instances.length;i < len;i++) {\n      instances[i].position = position;\n    }\n  }});\n  Object.defineProperty(SoundSlot.prototype, \"name\", {get:function() {\n    return this._name;\n  }, set:function(value) {\n    this._name = value;\n  }});\n  Object.defineProperty(SoundSlot.prototype, \"volume\", {get:function() {\n    return this._volume;\n  }, set:function(value) {\n    this._volume = pc.math.clamp(Number(value) || 0, 0, 1);\n    if (!this._overlap) {\n      var instances = this.instances;\n      for (var i = 0, len = instances.length;i < len;i++) {\n        instances[i].volume = this._volume * this._component.volume;\n      }\n    }\n  }});\n  Object.defineProperty(SoundSlot.prototype, \"pitch\", {get:function() {\n    return this._pitch;\n  }, set:function(value) {\n    this._pitch = Math.max(Number(value) || 0, 0.01);\n    if (!this._overlap) {\n      var instances = this.instances;\n      for (var i = 0, len = instances.length;i < len;i++) {\n        instances[i].pitch = this.pitch * this._component.pitch;\n      }\n    }\n  }});\n  Object.defineProperty(SoundSlot.prototype, \"loop\", {get:function() {\n    return this._loop;\n  }, set:function(value) {\n    this._loop = !!value;\n    var instances = this.instances;\n    for (var i = 0, len = instances.length;i < len;i++) {\n      instances[i].loop = this._loop;\n    }\n  }});\n  Object.defineProperty(SoundSlot.prototype, \"autoPlay\", {get:function() {\n    return this._autoPlay;\n  }, set:function(value) {\n    this._autoPlay = !!value;\n  }});\n  Object.defineProperty(SoundSlot.prototype, \"overlap\", {get:function() {\n    return this._overlap;\n  }, set:function(value) {\n    this._overlap = !!value;\n  }});\n  Object.defineProperty(SoundSlot.prototype, \"startTime\", {get:function() {\n    return this._startTime;\n  }, set:function(value) {\n    this._startTime = Math.max(0, Number(value) || 0);\n    if (!this._overlap) {\n      var instances = this.instances;\n      for (var i = 0, len = instances.length;i < len;i++) {\n        instances[i].startTime = this._startTime;\n      }\n    }\n  }});\n  Object.defineProperty(SoundSlot.prototype, \"duration\", {get:function() {\n    var assetDuration = 0;\n    if (this._hasAsset()) {\n      var asset = this._assets.get(this._asset);\n      assetDuration = asset.resource ? asset.resource.duration : 0;\n    }\n    if (this._duration != null) {\n      return this._duration % (assetDuration || 1);\n    }\n    return assetDuration;\n  }, set:function(value) {\n    this._duration = Math.max(0, Number(value) || 0) || null;\n    if (!this._overlap) {\n      var instances = this.instances;\n      for (var i = 0, len = instances.length;i < len;i++) {\n        instances[i].duration = this._duration;\n      }\n    }\n  }});\n  Object.defineProperty(SoundSlot.prototype, \"asset\", {get:function() {\n    return this._asset;\n  }, set:function(value) {\n    var old = this._asset;\n    if (old) {\n      this._assets.off(\"add:\" + old, this._onAssetAdd, this);\n      var oldAsset = this._assets.get(old);\n      if (oldAsset) {\n        oldAsset.off(\"remove\", this._onAssetRemoved, this);\n      }\n    }\n    this._asset = value;\n    if (this._asset instanceof pc.Asset) {\n      this._asset = this._asset.id;\n    }\n    if (this._hasAsset() && this._component.enabled && this._component.entity.enabled) {\n      this.load();\n    }\n  }});\n  Object.defineProperty(SoundSlot.prototype, \"isLoaded\", {get:function() {\n    if (this._hasAsset()) {\n      var asset = this._assets.get(this._asset);\n      if (asset) {\n        return !!asset.resource;\n      }\n    }\n    return false;\n  }});\n  Object.defineProperty(SoundSlot.prototype, \"isPlaying\", {get:function() {\n    var instances = this.instances;\n    for (var i = 0, len = instances.length;i < len;i++) {\n      if (instances[i].isPlaying) {\n        return true;\n      }\n    }\n    return false;\n  }});\n  Object.defineProperty(SoundSlot.prototype, \"isPaused\", {get:function() {\n    var instances = this.instances;\n    var len = instances.length;\n    if (len === 0) {\n      return false;\n    }\n    for (var i = 0;i < len;i++) {\n      if (!instances[i].isPaused) {\n        return false;\n      }\n    }\n    return true;\n  }});\n  Object.defineProperty(SoundSlot.prototype, \"isStopped\", {get:function() {\n    var instances = this.instances;\n    for (var i = 0, len = instances.length;i < len;i++) {\n      if (!instances[i].isStopped) {\n        return false;\n      }\n    }\n    return true;\n  }});\n  return {SoundSlot:SoundSlot};\n}());\nObject.assign(pc, function() {\n  var SoundComponent = function(system, entity) {\n    pc.Component.call(this, system, entity);\n    this.on(\"set_slots\", this.onSetSlots, this);\n    this.on(\"set_volume\", this.onSetVolume, this);\n    this.on(\"set_pitch\", this.onSetPitch, this);\n    this.on(\"set_refDistance\", this.onSetRefDistance, this);\n    this.on(\"set_maxDistance\", this.onSetMaxDistance, this);\n    this.on(\"set_rollOffFactor\", this.onSetRollOffFactor, this);\n    this.on(\"set_distanceModel\", this.onSetDistanceModel, this);\n    this.on(\"set_positional\", this.onSetPositional, this);\n  };\n  SoundComponent.prototype = Object.create(pc.Component.prototype);\n  SoundComponent.prototype.constructor = SoundComponent;\n  Object.assign(SoundComponent.prototype, {onSetSlots:function(name, oldValue, newValue) {\n    var key;\n    if (oldValue) {\n      for (key in oldValue) {\n        oldValue[key].stop();\n      }\n    }\n    var slots = {};\n    for (key in newValue) {\n      if (!(newValue[key] instanceof pc.SoundSlot)) {\n        if (newValue[key].name) {\n          slots[newValue[key].name] = new pc.SoundSlot(this, newValue[key].name, newValue[key]);\n        }\n      } else {\n        slots[newValue[key].name] = newValue[key];\n      }\n    }\n    this.data.slots = slots;\n    if (this.enabled && this.entity.enabled) {\n      this.onEnable();\n    }\n  }, onSetVolume:function(name, oldValue, newValue) {\n    var slots = this.data.slots;\n    for (var key in slots) {\n      var slot = slots[key];\n      if (!slot.overlap) {\n        var instances = slot.instances;\n        for (var i = 0, len = instances.length;i < len;i++) {\n          instances[i].volume = slot.volume * newValue;\n        }\n      }\n    }\n  }, onSetPitch:function(name, oldValue, newValue) {\n    var slots = this.data.slots;\n    for (var key in slots) {\n      var slot = slots[key];\n      if (!slot.overlap) {\n        var instances = slot.instances;\n        for (var i = 0, len = instances.length;i < len;i++) {\n          instances[i].pitch = slot.pitch * newValue;\n        }\n      }\n    }\n  }, onSetRefDistance:function(name, oldValue, newValue) {\n    var slots = this.data.slots;\n    for (var key in slots) {\n      var slot = slots[key];\n      if (!slot.overlap) {\n        var instances = slot.instances;\n        for (var i = 0, len = instances.length;i < len;i++) {\n          instances[i].refDistance = newValue;\n        }\n      }\n    }\n  }, onSetMaxDistance:function(name, oldValue, newValue) {\n    var slots = this.data.slots;\n    for (var key in slots) {\n      var slot = slots[key];\n      if (!slot.overlap) {\n        var instances = slot.instances;\n        for (var i = 0, len = instances.length;i < len;i++) {\n          instances[i].maxDistance = newValue;\n        }\n      }\n    }\n  }, onSetRollOffFactor:function(name, oldValue, newValue) {\n    var slots = this.data.slots;\n    for (var key in slots) {\n      var slot = slots[key];\n      if (!slot.overlap) {\n        var instances = slot.instances;\n        for (var i = 0, len = instances.length;i < len;i++) {\n          instances[i].rollOffFactor = newValue;\n        }\n      }\n    }\n  }, onSetDistanceModel:function(name, oldValue, newValue) {\n    var slots = this.data.slots;\n    for (var key in slots) {\n      var slot = slots[key];\n      if (!slot.overlap) {\n        var instances = slot.instances;\n        for (var i = 0, len = instances.length;i < len;i++) {\n          instances[i].distanceModel = newValue;\n        }\n      }\n    }\n  }, onSetPositional:function(name, oldValue, newValue) {\n    var slots = this.data.slots;\n    for (var key in slots) {\n      var slot = slots[key];\n      if (!slot.overlap) {\n        var instances = slot.instances;\n        for (var i = 0, len = instances.length;i < len;i++) {\n          var isPlaying = instances[i].isPlaying || instances[i].isSuspended;\n          var currentTime = instances[i].currentTime;\n          if (isPlaying) {\n            instances[i].stop();\n          }\n          instances[i] = slot._createInstance();\n          if (isPlaying) {\n            instances[i].play();\n            instances[i].currentTime = currentTime;\n          }\n        }\n      }\n    }\n  }, onEnable:function() {\n    if (this.system._inTools) {\n      return;\n    }\n    var slots = this.data.slots;\n    var playingBeforeDisable = this.data.playingBeforeDisable;\n    for (var key in slots) {\n      var slot = slots[key];\n      if (slot.autoPlay && slot.isStopped) {\n        slot.play();\n      } else {\n        if (playingBeforeDisable[key]) {\n          slot.resume();\n        } else {\n          if (!slot.isLoaded) {\n            slot.load();\n          }\n        }\n      }\n    }\n  }, onDisable:function() {\n    var slots = this.data.slots;\n    var playingBeforeDisable = {};\n    for (var key in slots) {\n      if (!slots[key].overlap) {\n        if (slots[key].isPlaying) {\n          slots[key].pause();\n          playingBeforeDisable[key] = true;\n        }\n      }\n    }\n    this.data.playingBeforeDisable = playingBeforeDisable;\n  }, onRemove:function() {\n    this.off();\n  }, addSlot:function(name, options) {\n    var slots = this.data.slots;\n    if (slots[name]) {\n      logWARNING(\"A sound slot with name \" + name + \" already exists on Entity \" + this.entity.path);\n      return null;\n    }\n    var slot = new pc.SoundSlot(this, name, options);\n    slots[name] = slot;\n    if (slot.autoPlay && this.enabled && this.entity.enabled) {\n      slot.play();\n    }\n    return slot;\n  }, removeSlot:function(name) {\n    var slots = this.data.slots;\n    if (slots[name]) {\n      slots[name].stop();\n      delete slots[name];\n    }\n  }, slot:function(name) {\n    return this.data.slots[name];\n  }, play:function(name) {\n    if (!this.enabled || !this.entity.enabled) {\n      return null;\n    }\n    var slot = this.slots[name];\n    if (!slot) {\n      logWARNING(\"Trying to play sound slot with name \" + name + \" which does not exist\");\n      return null;\n    }\n    return slot.play();\n  }, pause:function(name) {\n    var slot;\n    var slots = this.data.slots;\n    if (name) {\n      slot = slots[name];\n      if (!slot) {\n        logWARNING(\"Trying to pause sound slot with name \" + name + \" which does not exist\");\n        return;\n      }\n      slot.pause();\n    } else {\n      for (var key in slots) {\n        slots[key].pause();\n      }\n    }\n  }, resume:function(name) {\n    var slot;\n    var slots = this.data.slots;\n    if (name) {\n      slot = slots[name];\n      if (!slot) {\n        logWARNING(\"Trying to resume sound slot with name \" + name + \" which does not exist\");\n        return;\n      }\n      if (slot.isPaused) {\n        slot.resume();\n      }\n    } else {\n      for (var key in slots) {\n        slots[key].resume();\n      }\n    }\n  }, stop:function(name) {\n    var slot;\n    var slots = this.data.slots;\n    if (name) {\n      slot = slots[name];\n      if (!slot) {\n        logWARNING(\"Trying to stop sound slot with name \" + name + \" which does not exist\");\n        return;\n      }\n      slot.stop();\n    } else {\n      for (var key in slots) {\n        slots[key].stop();\n      }\n    }\n  }});\n  return {SoundComponent:SoundComponent};\n}());\nObject.assign(pc, function() {\n  var _schema = [\"enabled\", \"volume\", \"pitch\", \"positional\", \"refDistance\", \"maxDistance\", \"rollOffFactor\", \"distanceModel\", \"slots\"];\n  var SoundComponentSystem = function(app, manager) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"sound\";\n    this.description = \"Allows an Entity to play sounds\";\n    this.ComponentType = pc.SoundComponent;\n    this.DataType = pc.SoundComponentData;\n    this.schema = _schema;\n    this.manager = manager;\n    pc.ComponentSystem.bind(\"update\", this.onUpdate, this);\n    this.on(\"beforeremove\", this.onBeforeRemove, this);\n  };\n  SoundComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  SoundComponentSystem.prototype.constructor = SoundComponentSystem;\n  pc.Component._buildAccessors(pc.SoundComponent.prototype, _schema);\n  Object.assign(SoundComponentSystem.prototype, {initializeComponentData:function(component, data, properties) {\n    properties = [\"volume\", \"pitch\", \"positional\", \"refDistance\", \"maxDistance\", \"rollOffFactor\", \"distanceModel\", \"slots\", \"enabled\"];\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, data, properties);\n  }, cloneComponent:function(entity, clone) {\n    var key;\n    var oldData = entity.sound.data;\n    var newData = {};\n    for (key in oldData) {\n      if (oldData.hasOwnProperty(key)) {\n        newData[key] = oldData[key];\n      }\n    }\n    newData.slots = {};\n    for (key in oldData.slots) {\n      var oldSlot = oldData.slots[key];\n      if (oldSlot instanceof pc.SoundSlot) {\n        newData.slots[key] = {name:oldSlot.name, volume:oldSlot.volume, pitch:oldSlot.pitch, loop:oldSlot.loop, duration:oldSlot.duration, startTime:oldSlot.startTime, overlap:oldSlot.overlap, autoPlay:oldSlot.autoPlay, asset:oldSlot.asset};\n      } else {\n        newData.slots[key] = oldSlot;\n      }\n    }\n    newData.playingBeforeDisable = {};\n    return this.addComponent(clone, newData);\n  }, onUpdate:function(dt) {\n    var store = this.store;\n    for (var id in store) {\n      if (store.hasOwnProperty(id)) {\n        var item = store[id];\n        var entity = item.entity;\n        var componentData = item.data;\n        if (componentData.enabled && entity.enabled && componentData.positional) {\n          var position = entity.getPosition();\n          var slots = componentData.slots;\n          for (var key in slots) {\n            slots[key].updatePosition(position);\n          }\n        }\n      }\n    }\n  }, onBeforeRemove:function(entity, component) {\n    var slots = component.slots;\n    for (var key in slots) {\n      if (!slots[key].overlap) {\n        slots[key].stop();\n      }\n    }\n    component.onRemove();\n  }});\n  Object.defineProperty(SoundComponentSystem.prototype, \"volume\", {get:function() {\n    return this.manager.volume;\n  }, set:function(volume) {\n    this.manager.volume = volume;\n  }});\n  Object.defineProperty(SoundComponentSystem.prototype, \"context\", {get:function() {\n    if (!pc.SoundManager.hasAudioContext()) {\n      console.warn(\"WARNING: Audio context is not supported on this browser\");\n      return null;\n    }\n    return this.manager.context;\n  }});\n  return {SoundComponentSystem:SoundComponentSystem};\n}());\npc.SoundComponentData = function SoundComponentData() {\n  this.enabled = true;\n  this.volume = 1;\n  this.pitch = 1;\n  this.positional = true;\n  this.refDistance = 1;\n  this.maxDistance = 10000;\n  this.rollOffFactor = 1;\n  this.distanceModel = pc.DISTANCE_LINEAR;\n  this.slots = {};\n  this.playingBeforeDisable = {};\n};\nObject.assign(pc, function() {\n  var AudioSourceComponent = function(system, entity) {\n    pc.Component.call(this, system, entity);\n    this.on(\"set_assets\", this.onSetAssets, this);\n    this.on(\"set_loop\", this.onSetLoop, this);\n    this.on(\"set_volume\", this.onSetVolume, this);\n    this.on(\"set_pitch\", this.onSetPitch, this);\n    this.on(\"set_minDistance\", this.onSetMinDistance, this);\n    this.on(\"set_maxDistance\", this.onSetMaxDistance, this);\n    this.on(\"set_rollOffFactor\", this.onSetRollOffFactor, this);\n    this.on(\"set_distanceModel\", this.onSetDistanceModel, this);\n    this.on(\"set_3d\", this.onSet3d, this);\n  };\n  AudioSourceComponent.prototype = Object.create(pc.Component.prototype);\n  AudioSourceComponent.prototype.constructor = AudioSourceComponent;\n  Object.assign(AudioSourceComponent.prototype, {play:function(name) {\n    if (!this.enabled || !this.entity.enabled) {\n      return;\n    }\n    if (this.channel) {\n      this.stop();\n    }\n    var channel;\n    var componentData = this.data;\n    if (componentData.sources[name]) {\n      if (!componentData[\"3d\"]) {\n        channel = this.system.manager.playSound(componentData.sources[name], componentData);\n        componentData.currentSource = name;\n        componentData.channel = channel;\n      } else {\n        var pos = this.entity.getPosition();\n        channel = this.system.manager.playSound3d(componentData.sources[name], pos, componentData);\n        componentData.currentSource = name;\n        componentData.channel = channel;\n      }\n    }\n  }, pause:function() {\n    if (this.channel) {\n      this.channel.pause();\n    }\n  }, unpause:function() {\n    if (this.channel && this.channel.paused) {\n      this.channel.unpause();\n    }\n  }, stop:function() {\n    if (this.channel) {\n      this.channel.stop();\n      this.channel = null;\n    }\n  }, onSetAssets:function(name, oldValue, newValue) {\n    var newAssets = [];\n    var i, len = newValue.length;\n    if (oldValue && oldValue.length) {\n      for (i = 0;i < oldValue.length;i++) {\n        if (oldValue[i]) {\n          var asset = this.system.app.assets.get(oldValue[i]);\n          if (asset) {\n            asset.off(\"change\", this.onAssetChanged, this);\n            asset.off(\"remove\", this.onAssetRemoved, this);\n            if (this.currentSource === asset.name) {\n              this.stop();\n            }\n          }\n        }\n      }\n    }\n    if (len) {\n      for (i = 0;i < len;i++) {\n        if (oldValue.indexOf(newValue[i]) < 0) {\n          if (newValue[i] instanceof pc.Asset) {\n            newAssets.push(newValue[i].id);\n          } else {\n            newAssets.push(newValue[i]);\n          }\n        }\n      }\n    }\n    if (!this.system._inTools && newAssets.length) {\n      this.loadAudioSourceAssets(newAssets);\n    }\n  }, onAssetChanged:function(asset, attribute, newValue, oldValue) {\n    if (attribute === \"resource\") {\n      var sources = this.data.sources;\n      if (sources) {\n        this.data.sources[asset.name] = newValue;\n        if (this.data.currentSource === asset.name) {\n          if (this.channel) {\n            if (this.channel.paused) {\n              this.play(asset.name);\n              this.pause();\n            } else {\n              this.play(asset.name);\n            }\n          }\n        }\n      }\n    }\n  }, onAssetRemoved:function(asset) {\n    asset.off(\"remove\", this.onAssetRemoved, this);\n    if (this.data.sources[asset.name]) {\n      delete this.data.sources[asset.name];\n      if (this.data.currentSource === asset.name) {\n        this.stop();\n        this.data.currentSource = null;\n      }\n    }\n  }, onSetLoop:function(name, oldValue, newValue) {\n    if (oldValue != newValue) {\n      if (this.channel) {\n        this.channel.setLoop(newValue);\n      }\n    }\n  }, onSetVolume:function(name, oldValue, newValue) {\n    if (oldValue != newValue) {\n      if (this.channel) {\n        this.channel.setVolume(newValue);\n      }\n    }\n  }, onSetPitch:function(name, oldValue, newValue) {\n    if (oldValue != newValue) {\n      if (this.channel) {\n        this.channel.setPitch(newValue);\n      }\n    }\n  }, onSetMaxDistance:function(name, oldValue, newValue) {\n    if (oldValue != newValue) {\n      if (this.channel instanceof pc.Channel3d) {\n        this.channel.setMaxDistance(newValue);\n      }\n    }\n  }, onSetMinDistance:function(name, oldValue, newValue) {\n    if (oldValue != newValue) {\n      if (this.channel instanceof pc.Channel3d) {\n        this.channel.setMinDistance(newValue);\n      }\n    }\n  }, onSetRollOffFactor:function(name, oldValue, newValue) {\n    if (oldValue != newValue) {\n      if (this.channel instanceof pc.Channel3d) {\n        this.channel.setRollOffFactor(newValue);\n      }\n    }\n  }, onSetDistanceModel:function(name, oldValue, newValue) {\n    if (oldValue !== newValue) {\n      if (this.channel instanceof pc.Channel3d) {\n        this.channel.setDistanceModel(newValue);\n      }\n    }\n  }, onSet3d:function(name, oldValue, newValue) {\n    if (oldValue !== newValue) {\n      if (this.system.initialized && this.currentSource) {\n        var paused = false;\n        var suspended = false;\n        if (this.channel) {\n          paused = this.channel.paused;\n          suspended = this.channel.suspended;\n        }\n        this.play(this.currentSource);\n        if (this.channel) {\n          this.channel.paused = paused;\n          this.channel.suspended = suspended;\n        }\n      }\n    }\n  }, onEnable:function() {\n    var assets = this.data.assets;\n    if (assets) {\n      var registry = this.system.app.assets;\n      for (var i = 0, len = assets.length;i < len;i++) {\n        var asset = assets[i];\n        if (!(asset instanceof pc.Asset)) {\n          asset = registry.get(asset);\n        }\n        if (asset && !asset.resource) {\n          registry.load(asset);\n        }\n      }\n    }\n    if (this.system.initialized) {\n      if (this.data.activate && !this.channel) {\n        this.play(this.currentSource);\n      } else {\n        this.unpause();\n      }\n    }\n  }, onDisable:function() {\n    this.pause();\n  }, loadAudioSourceAssets:function(ids) {\n    var self = this;\n    var assets = ids.map(function(id) {\n      return this.system.app.assets.get(id);\n    }, this);\n    var sources = {};\n    var currentSource = null;\n    var count = assets.length;\n    var _error = function(e) {\n      count--;\n    };\n    var _done = function() {\n      this.data.sources = sources;\n      this.data.currentSource = currentSource;\n      if (this.enabled && this.activate && currentSource) {\n        this.onEnable();\n      }\n    }.bind(this);\n    assets.forEach(function(asset, index) {\n      if (asset) {\n        currentSource = currentSource || asset.name;\n        asset.off(\"change\", this.onAssetChanged, this);\n        asset.on(\"change\", this.onAssetChanged, this);\n        asset.off(\"remove\", this.onAssetRemoved, this);\n        asset.on(\"remove\", this.onAssetRemoved, this);\n        asset.off(\"error\", _error, this);\n        asset.on(\"error\", _error, this);\n        asset.ready(function(asset) {\n          sources[asset.name] = asset.resource;\n          count--;\n          if (count === 0) {\n            _done();\n          }\n        });\n        if (!asset.resource && self.enabled && self.entity.enabled) {\n          this.system.app.assets.load(asset);\n        }\n      } else {\n        count--;\n        if (count === 0) {\n          _done();\n        }\n        this.system.app.assets.on(\"add:\" + ids[index], function(asset) {\n          asset.ready(function(asset) {\n            self.data.sources[asset.name] = asset.resource;\n          });\n          if (!asset.resource) {\n            self.system.app.assets.load(asset);\n          }\n        });\n      }\n    }, this);\n  }});\n  return {AudioSourceComponent:AudioSourceComponent};\n}());\nObject.assign(pc, function() {\n  var _schema = [\"enabled\", \"assets\", \"volume\", \"pitch\", \"loop\", \"activate\", \"3d\", \"minDistance\", \"maxDistance\", \"rollOffFactor\", \"distanceModel\", \"sources\", \"currentSource\", \"channel\"];\n  var AudioSourceComponentSystem = function(app, manager) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"audiosource\";\n    this.description = \"Specifies audio assets that can be played at the position of the Entity.\";\n    this.ComponentType = pc.AudioSourceComponent;\n    this.DataType = pc.AudioSourceComponentData;\n    this.schema = _schema;\n    this.manager = manager;\n    this.initialized = false;\n    pc.ComponentSystem.bind(\"initialize\", this.onInitialize, this);\n    pc.ComponentSystem.bind(\"update\", this.onUpdate, this);\n    this.on(\"remove\", this.onRemove, this);\n  };\n  AudioSourceComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  AudioSourceComponentSystem.prototype.constructor = AudioSourceComponentSystem;\n  pc.Component._buildAccessors(pc.AudioSourceComponent.prototype, _schema);\n  Object.assign(AudioSourceComponentSystem.prototype, {initializeComponentData:function(component, data, properties) {\n    properties = [\"activate\", \"volume\", \"pitch\", \"loop\", \"3d\", \"minDistance\", \"maxDistance\", \"rollOffFactor\", \"distanceModel\", \"enabled\", \"assets\"];\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, data, properties);\n    component.paused = !(component.enabled && component.activate);\n  }, onInitialize:function(root) {\n    if (root.audiosource && root.enabled && root.audiosource.enabled && root.audiosource.activate) {\n      root.audiosource.play(root.audiosource.currentSource);\n    }\n    var children = root._children;\n    var i, len = children.length;\n    for (i = 0;i < len;i++) {\n      if (children[i] instanceof pc.Entity) {\n        this.onInitialize(children[i]);\n      }\n    }\n    this.initialized = true;\n  }, onUpdate:function(dt) {\n    var components = this.store;\n    for (var id in components) {\n      if (components.hasOwnProperty(id)) {\n        var component = components[id];\n        var entity = component.entity;\n        var componentData = component.data;\n        if (componentData.enabled && entity.enabled && componentData.channel instanceof pc.Channel3d) {\n          var pos = entity.getPosition();\n          componentData.channel.setPosition(pos);\n        }\n      }\n    }\n  }, onRemove:function(entity, data) {\n    if (data.channel) {\n      data.channel.stop();\n      data.channel = null;\n    }\n  }, setVolume:function(volume) {\n    this.manager.setVolume(volume);\n  }});\n  return {AudioSourceComponentSystem:AudioSourceComponentSystem};\n}());\npc.AudioSourceComponentData = function AudioSourceComponentData() {\n  this.enabled = true;\n  this.assets = [];\n  this.activate = true;\n  this.volume = 1;\n  this.pitch = 1;\n  this.loop = false;\n  this[\"3d\"] = true;\n  this.minDistance = 1;\n  this.maxDistance = 10000;\n  this.rollOffFactor = 1;\n  this.distanceModel = pc.DISTANCE_INVERSE;\n  this.paused = true;\n  this.sources = {};\n  this.currentSource = null;\n  this.channel = null;\n};\nObject.assign(pc, function() {\n  var AudioListenerComponent = function(system, entity) {\n    pc.Component.call(this, system, entity);\n  };\n  AudioListenerComponent.prototype = Object.create(pc.Component.prototype);\n  AudioListenerComponent.prototype.constructor = AudioListenerComponent;\n  Object.assign(AudioListenerComponent.prototype, {setCurrentListener:function() {\n    if (this.enabled && this.entity.audiolistener && this.entity.enabled) {\n      this.system.current = this.entity;\n      var position = this.system.current.getPosition();\n      this.system.manager.listener.setPosition(position);\n    }\n  }, onEnable:function() {\n    this.setCurrentListener();\n  }, onDisable:function() {\n    if (this.system.current === this.entity) {\n      this.system.current = null;\n    }\n  }});\n  return {AudioListenerComponent:AudioListenerComponent};\n}());\nObject.assign(pc, function() {\n  var _schema = [\"enabled\"];\n  var AudioListenerComponentSystem = function(app, manager) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"audiolistener\";\n    this.description = \"Specifies the location of the listener for 3D audio playback.\";\n    this.ComponentType = pc.AudioListenerComponent;\n    this.DataType = pc.AudioListenerComponentData;\n    this.schema = _schema;\n    this.manager = manager;\n    this.current = null;\n    pc.ComponentSystem.bind(\"update\", this.onUpdate, this);\n  };\n  AudioListenerComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  AudioListenerComponentSystem.prototype.constructor = AudioListenerComponentSystem;\n  pc.Component._buildAccessors(pc.AudioListenerComponent.prototype, _schema);\n  Object.assign(AudioListenerComponentSystem.prototype, {initializeComponentData:function(component, data, properties) {\n    properties = [\"enabled\"];\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, data, properties);\n  }, onUpdate:function(dt) {\n    if (this.current) {\n      var position = this.current.getPosition();\n      this.manager.listener.setPosition(position);\n      var wtm = this.current.getWorldTransform();\n      this.manager.listener.setOrientation(wtm);\n    }\n  }});\n  return {AudioListenerComponentSystem:AudioListenerComponentSystem};\n}());\nObject.assign(pc, function() {\n  var AudioListenerComponentData = function() {\n    this.enabled = true;\n  };\n  return {AudioListenerComponentData:AudioListenerComponentData};\n}());\nObject.assign(pc, {BODYTYPE_STATIC:\"static\", BODYTYPE_DYNAMIC:\"dynamic\", BODYTYPE_KINEMATIC:\"kinematic\", BODYFLAG_STATIC_OBJECT:1, BODYFLAG_KINEMATIC_OBJECT:2, BODYFLAG_NORESPONSE_OBJECT:4, BODYSTATE_ACTIVE_TAG:1, BODYSTATE_ISLAND_SLEEPING:2, BODYSTATE_WANTS_DEACTIVATION:3, BODYSTATE_DISABLE_DEACTIVATION:4, BODYSTATE_DISABLE_SIMULATION:5, BODYGROUP_NONE:0, BODYGROUP_DEFAULT:1, BODYGROUP_DYNAMIC:1, BODYGROUP_STATIC:2, BODYGROUP_KINEMATIC:4, BODYGROUP_ENGINE_1:8, BODYGROUP_TRIGGER:16, BODYGROUP_ENGINE_2:32, \nBODYGROUP_ENGINE_3:64, BODYGROUP_USER_1:128, BODYGROUP_USER_2:256, BODYGROUP_USER_3:512, BODYGROUP_USER_4:1024, BODYGROUP_USER_5:2048, BODYGROUP_USER_6:4096, BODYGROUP_USER_7:8192, BODYGROUP_USER_8:16384, BODYMASK_NONE:0, BODYMASK_ALL:65535, BODYMASK_STATIC:2, BODYMASK_NOT_STATIC:65535 ^ 2, BODYMASK_NOT_STATIC_KINEMATIC:65535 ^ (2 | 4)});\nObject.assign(pc, function() {\n  var ammoTransform;\n  var ammoVec1, ammoVec2, ammoQuat, ammoOrigin;\n  var RigidBodyComponent = function RigidBodyComponent(system, entity) {\n    pc.Component.call(this, system, entity);\n    if (typeof Ammo !== \"undefined\" && !ammoTransform) {\n      ammoTransform = new Ammo.btTransform;\n      ammoVec1 = new Ammo.btVector3;\n      ammoVec2 = new Ammo.btVector3;\n      ammoQuat = new Ammo.btQuaternion;\n      ammoOrigin = new Ammo.btVector3(0, 0, 0);\n    }\n    this.on(\"set_mass\", this.onSetMass, this);\n    this.on(\"set_linearDamping\", this.onSetLinearDamping, this);\n    this.on(\"set_angularDamping\", this.onSetAngularDamping, this);\n    this.on(\"set_linearFactor\", this.onSetLinearFactor, this);\n    this.on(\"set_angularFactor\", this.onSetAngularFactor, this);\n    this.on(\"set_friction\", this.onSetFriction, this);\n    this.on(\"set_restitution\", this.onSetRestitution, this);\n    this.on(\"set_type\", this.onSetType, this);\n    this.on(\"set_group\", this.onSetGroupOrMask, this);\n    this.on(\"set_mask\", this.onSetGroupOrMask, this);\n    this.on(\"set_body\", this.onSetBody, this);\n    this._displacement = new pc.Vec3(0, 0, 0);\n    this._linearVelocity = new pc.Vec3(0, 0, 0);\n    this._angularVelocity = new pc.Vec3(0, 0, 0);\n  };\n  RigidBodyComponent.prototype = Object.create(pc.Component.prototype);\n  RigidBodyComponent.prototype.constructor = RigidBodyComponent;\n  Object.defineProperty(RigidBodyComponent.prototype, \"bodyType\", {get:function() {\n    console.warn(\"WARNING: bodyType: Function is deprecated. Query type property instead.\");\n    return this.type;\n  }, set:function(type) {\n    console.warn(\"WARNING: bodyType: Function is deprecated. Set type property instead.\");\n    this.type = type;\n  }});\n  Object.defineProperty(RigidBodyComponent.prototype, \"linearVelocity\", {get:function() {\n    if (!this.isKinematic()) {\n      if (this.body) {\n        var vel = this.body.getLinearVelocity();\n        this._linearVelocity.set(vel.x(), vel.y(), vel.z());\n      }\n    }\n    return this._linearVelocity;\n  }, set:function(lv) {\n    this.activate();\n    if (!this.isKinematic()) {\n      if (this.body) {\n        ammoVec1.setValue(lv.x, lv.y, lv.z);\n        this.body.setLinearVelocity(ammoVec1);\n      }\n    }\n    this._linearVelocity.copy(lv);\n  }});\n  Object.defineProperty(RigidBodyComponent.prototype, \"angularVelocity\", {get:function() {\n    if (!this.isKinematic()) {\n      if (this.body) {\n        var vel = this.body.getAngularVelocity();\n        this._angularVelocity.set(vel.x(), vel.y(), vel.z());\n      }\n    }\n    return this._angularVelocity;\n  }, set:function(av) {\n    this.activate();\n    if (!this.isKinematic()) {\n      if (this.body) {\n        ammoVec1.setValue(av.x, av.y, av.z);\n        this.body.setAngularVelocity(ammoVec1);\n      }\n    }\n    this._angularVelocity.copy(av);\n  }});\n  Object.assign(RigidBodyComponent.prototype, {createBody:function() {\n    var entity = this.entity;\n    var shape;\n    if (entity.collision) {\n      shape = entity.collision.shape;\n      if (entity.trigger) {\n        entity.trigger.destroy();\n        delete entity.trigger;\n      }\n    }\n    if (shape) {\n      if (this.body) {\n        this.system.onRemove(this.entity, this);\n      }\n      var isStaticOrKinematic = this.isStaticOrKinematic();\n      var mass = isStaticOrKinematic ? 0 : this.mass;\n      var localInertia = new Ammo.btVector3(0, 0, 0);\n      if (!isStaticOrKinematic) {\n        shape.calculateLocalInertia(mass, localInertia);\n      }\n      var pos = entity.getPosition();\n      var rot = entity.getRotation();\n      ammoQuat.setValue(rot.x, rot.y, rot.z, rot.w);\n      var startTransform = new Ammo.btTransform;\n      startTransform.setIdentity();\n      var origin = startTransform.getOrigin();\n      origin.setValue(pos.x, pos.y, pos.z);\n      startTransform.setRotation(ammoQuat);\n      var motionState = new Ammo.btDefaultMotionState(startTransform);\n      var bodyInfo = new Ammo.btRigidBodyConstructionInfo(mass, motionState, shape, localInertia);\n      Ammo.destroy(localInertia);\n      Ammo.destroy(origin);\n      Ammo.destroy(startTransform);\n      var body = new Ammo.btRigidBody(bodyInfo);\n      Ammo.destroy(bodyInfo);\n      body.setRestitution(this.restitution);\n      body.setFriction(this.friction);\n      body.setDamping(this.linearDamping, this.angularDamping);\n      var v;\n      v = this.linearFactor;\n      ammoVec1.setValue(v.x, v.y, v.z);\n      body.setLinearFactor(ammoVec1);\n      v = this.angularFactor;\n      ammoVec1.setValue(v.x, v.y, v.z);\n      body.setAngularFactor(ammoVec1);\n      body.entity = entity;\n      if (this.isKinematic()) {\n        body.setCollisionFlags(body.getCollisionFlags() | pc.BODYFLAG_KINEMATIC_OBJECT);\n        body.setActivationState(pc.BODYSTATE_DISABLE_DEACTIVATION);\n      }\n      entity.rigidbody.body = body;\n      if (this.enabled && this.entity.enabled) {\n        this.enableSimulation();\n      }\n    }\n  }, isActive:function() {\n    if (this.body) {\n      return this.body.isActive();\n    }\n    return false;\n  }, activate:function() {\n    if (this.body) {\n      this.body.activate();\n    }\n  }, enableSimulation:function() {\n    if (this.entity.collision && this.entity.collision.enabled && !this.data.simulationEnabled) {\n      var body = this.body;\n      if (body) {\n        this.system.addBody(body, this.group, this.mask);\n        if (this.isKinematic()) {\n          body.forceActivationState(pc.BODYSTATE_DISABLE_DEACTIVATION);\n          body.activate();\n        } else {\n          body.forceActivationState(pc.BODYFLAG_ACTIVE_TAG);\n          this.syncEntityToBody();\n        }\n        this.data.simulationEnabled = true;\n      }\n    }\n  }, disableSimulation:function() {\n    var body = this.body;\n    if (body && this.data.simulationEnabled) {\n      this.system.removeBody(body);\n      body.forceActivationState(pc.BODYSTATE_DISABLE_SIMULATION);\n      this.data.simulationEnabled = false;\n    }\n  }, applyForce:function() {\n    var x, y, z;\n    var px, py, pz;\n    switch(arguments.length) {\n      case 1:\n        x = arguments[0].x;\n        y = arguments[0].y;\n        z = arguments[0].z;\n        break;\n      case 2:\n        x = arguments[0].x;\n        y = arguments[0].y;\n        z = arguments[0].z;\n        px = arguments[1].x;\n        py = arguments[1].y;\n        pz = arguments[1].z;\n        break;\n      case 3:\n        x = arguments[0];\n        y = arguments[1];\n        z = arguments[2];\n        break;\n      case 6:\n        x = arguments[0];\n        y = arguments[1];\n        z = arguments[2];\n        px = arguments[3];\n        py = arguments[4];\n        pz = arguments[5];\n        break;\n    }\n    var body = this.body;\n    if (body) {\n      body.activate();\n      ammoVec1.setValue(x, y, z);\n      if (px !== undefined) {\n        ammoVec2.setValue(px, py, pz);\n        body.applyForce(ammoVec1, ammoVec2);\n      } else {\n        body.applyForce(ammoVec1, ammoOrigin);\n      }\n    }\n  }, applyTorque:function() {\n    var x, y, z;\n    switch(arguments.length) {\n      case 1:\n        x = arguments[0].x;\n        y = arguments[0].y;\n        z = arguments[0].z;\n        break;\n      case 3:\n        x = arguments[0];\n        y = arguments[1];\n        z = arguments[2];\n        break;\n      default:\n        return;\n    }\n    var body = this.body;\n    if (body) {\n      body.activate();\n      ammoVec1.setValue(x, y, z);\n      body.applyTorque(ammoVec1);\n    }\n  }, applyImpulse:function() {\n    var x, y, z;\n    var px, py, pz;\n    switch(arguments.length) {\n      case 1:\n        x = arguments[0].x;\n        y = arguments[0].y;\n        z = arguments[0].z;\n        break;\n      case 2:\n        x = arguments[0].x;\n        y = arguments[0].y;\n        z = arguments[0].z;\n        px = arguments[1].x;\n        py = arguments[1].y;\n        pz = arguments[1].z;\n        break;\n      case 3:\n        x = arguments[0];\n        y = arguments[1];\n        z = arguments[2];\n        break;\n      case 6:\n        x = arguments[0];\n        y = arguments[1];\n        z = arguments[2];\n        px = arguments[3];\n        py = arguments[4];\n        pz = arguments[5];\n        break;\n      default:\n        return;\n    }\n    var body = this.body;\n    if (body) {\n      body.activate();\n      ammoVec1.setValue(x, y, z);\n      if (px !== undefined) {\n        ammoVec2.setValue(px, py, pz);\n        body.applyImpulse(ammoVec1, ammoVec2);\n      } else {\n        body.applyImpulse(ammoVec1, ammoOrigin);\n      }\n    }\n  }, applyTorqueImpulse:function() {\n    var x, y, z;\n    switch(arguments.length) {\n      case 1:\n        x = arguments[0].x;\n        y = arguments[0].y;\n        z = arguments[0].z;\n        break;\n      case 3:\n        x = arguments[0];\n        y = arguments[1];\n        z = arguments[2];\n        break;\n      default:\n        return;\n    }\n    var body = this.body;\n    if (body) {\n      body.activate();\n      ammoVec1.setValue(x, y, z);\n      body.applyTorqueImpulse(ammoVec1);\n    }\n  }, isStatic:function() {\n    return this.type === pc.BODYTYPE_STATIC;\n  }, isStaticOrKinematic:function() {\n    return this.type === pc.BODYTYPE_STATIC || this.type === pc.BODYTYPE_KINEMATIC;\n  }, isKinematic:function() {\n    return this.type === pc.BODYTYPE_KINEMATIC;\n  }, syncEntityToBody:function() {\n    var body = this.body;\n    if (body) {\n      var pos = this.entity.getPosition();\n      var rot = this.entity.getRotation();\n      var transform = body.getWorldTransform();\n      var origin = transform.getOrigin();\n      origin.setValue(pos.x, pos.y, pos.z);\n      ammoQuat.setValue(rot.x, rot.y, rot.z, rot.w);\n      transform.setRotation(ammoQuat);\n      if (this.isKinematic()) {\n        var motionState = this.body.getMotionState();\n        if (motionState) {\n          motionState.setWorldTransform(transform);\n        }\n      }\n      Ammo.destroy(origin);\n      Ammo.destroy(transform);\n      body.activate();\n    }\n  }, syncBodyToEntity:function() {\n    var body = this.body;\n    if (body.isActive()) {\n      var motionState = body.getMotionState();\n      if (motionState) {\n        motionState.getWorldTransform(ammoTransform);\n        var p = ammoTransform.getOrigin();\n        var q = ammoTransform.getRotation();\n        this.entity.setPosition(p.x(), p.y(), p.z());\n        this.entity.setRotation(q.x(), q.y(), q.z(), q.w());\n      }\n    }\n  }, teleport:function() {\n    if (arguments.length < 3) {\n      if (arguments[0]) {\n        this.entity.setPosition(arguments[0]);\n      }\n      if (arguments[1]) {\n        if (arguments[1] instanceof pc.Quat) {\n          this.entity.setRotation(arguments[1]);\n        } else {\n          this.entity.setEulerAngles(arguments[1]);\n        }\n      }\n    } else {\n      if (arguments.length === 6) {\n        this.entity.setEulerAngles(arguments[3], arguments[4], arguments[5]);\n      }\n      this.entity.setPosition(arguments[0], arguments[1], arguments[2]);\n    }\n    this.syncEntityToBody();\n  }, _updateKinematic:function(dt) {\n    this._displacement.copy(this._linearVelocity).scale(dt);\n    this.entity.translate(this._displacement);\n    this._displacement.copy(this._angularVelocity).scale(dt);\n    this.entity.rotate(this._displacement.x, this._displacement.y, this._displacement.z);\n    if (this.body.getMotionState()) {\n      var pos = this.entity.getPosition();\n      var rot = this.entity.getRotation();\n      ammoTransform.getOrigin().setValue(pos.x, pos.y, pos.z);\n      ammoQuat.setValue(rot.x, rot.y, rot.z, rot.w);\n      ammoTransform.setRotation(ammoQuat);\n      this.body.getMotionState().setWorldTransform(ammoTransform);\n    }\n  }, onEnable:function() {\n    if (!this.body) {\n      this.createBody();\n    }\n    this.enableSimulation();\n  }, onDisable:function() {\n    this.disableSimulation();\n  }, onSetMass:function(name, oldValue, newValue) {\n    var body = this.data.body;\n    if (body) {\n      var isEnabled = this.enabled && this.entity.enabled;\n      if (isEnabled) {\n        this.disableSimulation();\n      }\n      var mass = newValue;\n      var localInertia = new Ammo.btVector3(0, 0, 0);\n      body.getCollisionShape().calculateLocalInertia(mass, localInertia);\n      body.setMassProps(mass, localInertia);\n      body.updateInertiaTensor();\n      Ammo.destroy(localInertia);\n      if (isEnabled) {\n        this.enableSimulation();\n      }\n    }\n  }, onSetLinearDamping:function(name, oldValue, newValue) {\n    var body = this.data.body;\n    if (body) {\n      body.setDamping(newValue, this.data.angularDamping);\n    }\n  }, onSetAngularDamping:function(name, oldValue, newValue) {\n    var body = this.data.body;\n    if (body) {\n      body.setDamping(this.data.linearDamping, newValue);\n    }\n  }, onSetLinearFactor:function(name, oldValue, newValue) {\n    var body = this.data.body;\n    if (body) {\n      ammoVec1.setValue(newValue.x, newValue.y, newValue.z);\n      body.setLinearFactor(ammoVec1);\n    }\n  }, onSetAngularFactor:function(name, oldValue, newValue) {\n    var body = this.data.body;\n    if (body) {\n      ammoVec1.setValue(newValue.x, newValue.y, newValue.z);\n      body.setAngularFactor(ammoVec1);\n    }\n  }, onSetFriction:function(name, oldValue, newValue) {\n    var body = this.data.body;\n    if (body) {\n      body.setFriction(newValue);\n    }\n  }, onSetRestitution:function(name, oldValue, newValue) {\n    var body = this.data.body;\n    if (body) {\n      body.setRestitution(newValue);\n    }\n  }, onSetType:function(name, oldValue, newValue) {\n    if (newValue !== oldValue) {\n      this.disableSimulation();\n      if (newValue === pc.BODYTYPE_DYNAMIC) {\n        this.data.group = pc.BODYGROUP_DYNAMIC;\n        this.data.mask = pc.BODYMASK_ALL;\n      } else {\n        if (newValue === pc.BODYTYPE_KINEMATIC) {\n          this.data.group = pc.BODYGROUP_KINEMATIC;\n          this.data.mask = pc.BODYMASK_ALL;\n        } else {\n          this.data.group = pc.BODYGROUP_STATIC;\n          this.data.mask = pc.BODYMASK_NOT_STATIC;\n        }\n      }\n      this.createBody();\n    }\n  }, onSetGroupOrMask:function(name, oldValue, newValue) {\n    if (newValue !== oldValue) {\n      var isEnabled = this.enabled && this.entity.enabled;\n      if (isEnabled) {\n        this.disableSimulation();\n        this.enableSimulation();\n      }\n    }\n  }, onSetBody:function(name, oldValue, newValue) {\n    if (this.body && this.data.simulationEnabled) {\n      this.body.activate();\n    }\n  }});\n  return {RigidBodyComponent:RigidBodyComponent};\n}());\nObject.assign(pc, function() {\n  var ammoRayStart, ammoRayEnd;\n  var collisions = {};\n  var frameCollisions = {};\n  var WARNED_RAYCAST_CALLBACK = false;\n  var RaycastResult = function RaycastResult(entity, point, normal) {\n    this.entity = entity;\n    this.point = point;\n    this.normal = normal;\n  };\n  var SingleContactResult = function SingleContactResult(a, b, contactPoint) {\n    if (arguments.length === 0) {\n      this.a = null;\n      this.b = null;\n      this.localPointA = new pc.Vec3;\n      this.localPointB = new pc.Vec3;\n      this.pointA = new pc.Vec3;\n      this.pointB = new pc.Vec3;\n      this.normal = new pc.Vec3;\n    } else {\n      this.a = a;\n      this.b = b;\n      this.localPointA = contactPoint.localPoint;\n      this.localPointB = contactPoint.localPointOther;\n      this.pointA = contactPoint.point;\n      this.pointB = contactPoint.pointOther;\n      this.normal = contactPoint.normal;\n    }\n  };\n  var ContactPoint = function ContactPoint(localPoint, localPointOther, point, pointOther, normal) {\n    if (arguments.length === 0) {\n      this.localPoint = new pc.Vec3;\n      this.localPointOther = new pc.Vec3;\n      this.point = new pc.Vec3;\n      this.pointOther = new pc.Vec3;\n      this.normal = new pc.Vec3;\n    } else {\n      this.localPoint = localPoint;\n      this.localPointOther = localPointOther;\n      this.point = point;\n      this.pointOther = pointOther;\n      this.normal = normal;\n    }\n  };\n  var ContactResult = function ContactResult(other, contacts) {\n    this.other = other;\n    this.contacts = contacts;\n  };\n  var _schema = [\"enabled\", \"type\", \"mass\", \"linearDamping\", \"angularDamping\", \"linearFactor\", \"angularFactor\", \"friction\", \"restitution\", \"group\", \"mask\", \"body\"];\n  var RigidBodyComponentSystem = function RigidBodyComponentSystem(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"rigidbody\";\n    this.description = \"Adds the entity to the scene's physical simulation.\";\n    this._stats = app.stats.frame;\n    this.ComponentType = pc.RigidBodyComponent;\n    this.DataType = pc.RigidBodyComponentData;\n    this.contactPointPool = new pc.AllocatePool(ContactPoint, 1);\n    this.contactResultPool = new pc.AllocatePool(ContactResult, 1);\n    this.singleContactResultPool = new pc.AllocatePool(SingleContactResult, 1);\n    this.schema = _schema;\n    this.maxSubSteps = 10;\n    this.fixedTimeStep = 1 / 60;\n    this.gravity = new pc.Vec3(0, -9.81, 0);\n    this.on(\"remove\", this.onRemove, this);\n  };\n  RigidBodyComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  RigidBodyComponentSystem.prototype.constructor = RigidBodyComponentSystem;\n  pc.Component._buildAccessors(pc.RigidBodyComponent.prototype, _schema);\n  Object.assign(RigidBodyComponentSystem.prototype, {onLibraryLoaded:function() {\n    if (typeof Ammo !== \"undefined\") {\n      var collisionConfiguration = new Ammo.btDefaultCollisionConfiguration;\n      var dispatcher = new Ammo.btCollisionDispatcher(collisionConfiguration);\n      var overlappingPairCache = new Ammo.btDbvtBroadphase;\n      var solver = new Ammo.btSequentialImpulseConstraintSolver;\n      this.dynamicsWorld = new Ammo.btDiscreteDynamicsWorld(dispatcher, overlappingPairCache, solver, collisionConfiguration);\n      ammoRayStart = new Ammo.btVector3;\n      ammoRayEnd = new Ammo.btVector3;\n      pc.ComponentSystem.bind(\"update\", this.onUpdate, this);\n    } else {\n      pc.ComponentSystem.unbind(\"update\", this.onUpdate, this);\n    }\n  }, initializeComponentData:function(component, _data, properties) {\n    properties = [\"enabled\", \"mass\", \"linearDamping\", \"angularDamping\", \"linearFactor\", \"angularFactor\", \"friction\", \"restitution\", \"type\", \"group\", \"mask\"];\n    var data = {};\n    for (var i = 0, len = properties.length;i < len;i++) {\n      var property = properties[i];\n      data[property] = _data[property];\n    }\n    if (_data.bodyType) {\n      data.type = _data.bodyType;\n      console.warn(\"WARNING: rigidbody.bodyType: Property is deprecated. Use type instead.\");\n    }\n    if (data.linearFactor && pc.type(data.linearFactor) === \"array\") {\n      data.linearFactor = new pc.Vec3(data.linearFactor[0], data.linearFactor[1], data.linearFactor[2]);\n    }\n    if (data.angularFactor && pc.type(data.angularFactor) === \"array\") {\n      data.angularFactor = new pc.Vec3(data.angularFactor[0], data.angularFactor[1], data.angularFactor[2]);\n    }\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, data, properties);\n  }, cloneComponent:function(entity, clone) {\n    var data = {enabled:entity.rigidbody.enabled, mass:entity.rigidbody.mass, linearDamping:entity.rigidbody.linearDamping, angularDamping:entity.rigidbody.angularDamping, linearFactor:[entity.rigidbody.linearFactor.x, entity.rigidbody.linearFactor.y, entity.rigidbody.linearFactor.z], angularFactor:[entity.rigidbody.angularFactor.x, entity.rigidbody.angularFactor.y, entity.rigidbody.angularFactor.z], friction:entity.rigidbody.friction, restitution:entity.rigidbody.restitution, type:entity.rigidbody.type, \n    group:entity.rigidbody.group, mask:entity.rigidbody.mask};\n    this.addComponent(clone, data);\n  }, onRemove:function(entity, data) {\n    if (data.body) {\n      this.removeBody(data.body);\n      Ammo.destroy(data.body);\n      data.body = null;\n    }\n  }, addBody:function(body, group, mask) {\n    if (group !== undefined && mask !== undefined) {\n      this.dynamicsWorld.addRigidBody(body, group, mask);\n    } else {\n      this.dynamicsWorld.addRigidBody(body);\n    }\n    return body;\n  }, removeBody:function(body) {\n    this.dynamicsWorld.removeRigidBody(body);\n  }, addConstraint:function(constraint) {\n    this.dynamicsWorld.addConstraint(constraint);\n    return constraint;\n  }, removeConstraint:function(constraint) {\n    this.dynamicsWorld.removeConstraint(constraint);\n  }, raycastFirst:function(start, end) {\n    var result = null;\n    ammoRayStart.setValue(start.x, start.y, start.z);\n    ammoRayEnd.setValue(end.x, end.y, end.z);\n    var rayCallback = new Ammo.ClosestRayResultCallback(ammoRayStart, ammoRayEnd);\n    this.dynamicsWorld.rayTest(ammoRayStart, ammoRayEnd, rayCallback);\n    if (rayCallback.hasHit()) {\n      var collisionObj = rayCallback.get_m_collisionObject();\n      var body = Ammo.castObject(collisionObj, Ammo.btRigidBody);\n      if (body) {\n        var point = rayCallback.get_m_hitPointWorld();\n        var normal = rayCallback.get_m_hitNormalWorld();\n        result = new RaycastResult(body.entity, new pc.Vec3(point.x(), point.y(), point.z()), new pc.Vec3(normal.x(), normal.y(), normal.z()));\n        Ammo.destroy(point);\n        Ammo.destroy(normal);\n        if (arguments.length > 2) {\n          var callback = arguments[2];\n          callback(result);\n          if (!WARNED_RAYCAST_CALLBACK) {\n            console.warn(\"[DEPRECATED]: pc.RigidBodyComponentSystem#rayCastFirst no longer requires a callback. The result of the raycast is returned by the function instead.\");\n            WARNED_RAYCAST_CALLBACK = true;\n          }\n        }\n      }\n    }\n    Ammo.destroy(rayCallback);\n    return result;\n  }, _storeCollision:function(entity, other) {\n    var isNewCollision = false;\n    var guid = entity.getGuid();\n    collisions[guid] = collisions[guid] || {others:[], entity:entity};\n    if (collisions[guid].others.indexOf(other) < 0) {\n      collisions[guid].others.push(other);\n      isNewCollision = true;\n    }\n    frameCollisions[guid] = frameCollisions[guid] || {others:[], entity:entity};\n    frameCollisions[guid].others.push(other);\n    return isNewCollision;\n  }, _createContactPointFromAmmo:function(contactPoint) {\n    var localPointA = contactPoint.get_m_localPointA();\n    var localPointB = contactPoint.get_m_localPointB();\n    var positionWorldOnA = contactPoint.getPositionWorldOnA();\n    var positionWorldOnB = contactPoint.getPositionWorldOnB();\n    var normalWorldOnB = contactPoint.get_m_normalWorldOnB();\n    var contact = this.contactPointPool.allocate();\n    contact.localPoint.set(localPointA.x(), localPointA.y(), localPointA.z());\n    contact.localPointOther.set(localPointB.x(), localPointB.y(), localPointB.z());\n    contact.point.set(positionWorldOnA.x(), positionWorldOnA.y(), positionWorldOnA.z());\n    contact.pointOther.set(positionWorldOnB.x(), positionWorldOnB.y(), positionWorldOnB.z());\n    contact.normal.set(normalWorldOnB.x(), normalWorldOnB.y(), normalWorldOnB.z());\n    return contact;\n  }, _createReverseContactPointFromAmmo:function(contactPoint) {\n    var localPointA = contactPoint.get_m_localPointA();\n    var localPointB = contactPoint.get_m_localPointB();\n    var positionWorldOnA = contactPoint.getPositionWorldOnA();\n    var positionWorldOnB = contactPoint.getPositionWorldOnB();\n    var normalWorldOnB = contactPoint.get_m_normalWorldOnB();\n    var contact = this.contactPointPool.allocate();\n    contact.localPointOther.set(localPointA.x(), localPointA.y(), localPointA.z());\n    contact.localPoint.set(localPointB.x(), localPointB.y(), localPointB.z());\n    contact.pointOther.set(positionWorldOnA.x(), positionWorldOnA.y(), positionWorldOnA.z());\n    contact.point.set(positionWorldOnB.x(), positionWorldOnB.y(), positionWorldOnB.z());\n    contact.normal.set(normalWorldOnB.x(), normalWorldOnB.y(), normalWorldOnB.z());\n    return contact;\n  }, _createSingleContactResult:function(a, b, contactPoint) {\n    var result = this.singleContactResultPool.allocate();\n    result.a = a;\n    result.b = b;\n    result.localPointA = contactPoint.localPoint;\n    result.localPointB = contactPoint.localPointOther;\n    result.pointA = contactPoint.point;\n    result.pointB = contactPoint.pointOther;\n    result.normal = contactPoint.normal;\n    return result;\n  }, _createContactResult:function(other, contacts) {\n    var result = this.contactResultPool.allocate();\n    result.other = other;\n    result.contacts = contacts;\n    return result;\n  }, _cleanOldCollisions:function() {\n    for (var guid in collisions) {\n      if (collisions.hasOwnProperty(guid)) {\n        var frameCollision = frameCollisions[guid];\n        var collision = collisions[guid];\n        var entity = collision.entity;\n        var entityCollision = entity.collision;\n        var entityRigidbody = entity.rigidbody;\n        var others = collision.others;\n        var length = others.length;\n        var i = length;\n        while (i--) {\n          var other = others[i];\n          if (!frameCollision || frameCollision.others.indexOf(other) < 0) {\n            others.splice(i, 1);\n            if (entity.trigger) {\n              if (entityCollision) {\n                entityCollision.fire(\"triggerleave\", other);\n              }\n            } else {\n              if (!other.trigger) {\n                if (entityRigidbody) {\n                  entityRigidbody.fire(\"collisionend\", other);\n                }\n                if (entityCollision) {\n                  entityCollision.fire(\"collisionend\", other);\n                }\n              }\n            }\n          }\n        }\n        if (others.length === 0) {\n          delete collisions[guid];\n        }\n      }\n    }\n  }, _hasContactEvent:function(entity) {\n    var c = entity.collision;\n    if (c && (c.hasEvent(\"collisionstart\") || c.hasEvent(\"collisionend\") || c.hasEvent(\"contact\"))) {\n      return true;\n    }\n    var r = entity.rigidbody;\n    return r && (r.hasEvent(\"collisionstart\") || r.hasEvent(\"collisionend\") || r.hasEvent(\"contact\"));\n  }, onUpdate:function(dt) {\n    var gravity = this.dynamicsWorld.getGravity();\n    if (gravity.x() !== this.gravity.x || gravity.y() !== this.gravity.y || gravity.z() !== this.gravity.z) {\n      gravity.setValue(this.gravity.x, this.gravity.y, this.gravity.z);\n      this.dynamicsWorld.setGravity(gravity);\n    }\n    this.dynamicsWorld.stepSimulation(dt, this.maxSubSteps, this.fixedTimeStep);\n    var components = this.store;\n    for (var id in components) {\n      if (components.hasOwnProperty(id)) {\n        var entity = components[id].entity;\n        var componentData = components[id].data;\n        if (componentData.body && componentData.body.isActive() && componentData.enabled && entity.enabled) {\n          if (componentData.type === pc.BODYTYPE_DYNAMIC) {\n            entity.rigidbody.syncBodyToEntity();\n          } else {\n            if (componentData.type === pc.BODYTYPE_KINEMATIC) {\n              entity.rigidbody._updateKinematic(dt);\n            }\n          }\n        }\n      }\n    }\n    var dispatcher = this.dynamicsWorld.getDispatcher();\n    var numManifolds = dispatcher.getNumManifolds();\n    var i, j;\n    frameCollisions = {};\n    for (i = 0;i < numManifolds;i++) {\n      var manifold = dispatcher.getManifoldByIndexInternal(i);\n      var body0 = manifold.getBody0();\n      var body1 = manifold.getBody1();\n      var wb0 = Ammo.castObject(body0, Ammo.btRigidBody);\n      var wb1 = Ammo.castObject(body1, Ammo.btRigidBody);\n      var e0 = wb0.entity;\n      var e1 = wb1.entity;\n      if (!e0 || !e1) {\n        continue;\n      }\n      var flags0 = wb0.getCollisionFlags();\n      var flags1 = wb1.getCollisionFlags();\n      var numContacts = manifold.getNumContacts();\n      var forwardContacts = [];\n      var reverseContacts = [];\n      var newCollision, e0Events, e1Events;\n      if (numContacts > 0) {\n        if (flags0 & pc.BODYFLAG_NORESPONSE_OBJECT || flags1 & pc.BODYFLAG_NORESPONSE_OBJECT) {\n          e0Events = e0.collision ? e0.collision.hasEvent(\"triggerenter\") || e0.collision.hasEvent(\"triggerleave\") : false;\n          e1Events = e1.collision ? e1.collision.hasEvent(\"triggerenter\") || e1.collision.hasEvent(\"triggerleave\") : false;\n          if (e0Events) {\n            newCollision = this._storeCollision(e0, e1);\n            if (newCollision) {\n              if (e0.collision && !(flags1 & pc.BODYFLAG_NORESPONSE_OBJECT)) {\n                e0.collision.fire(\"triggerenter\", e1);\n              }\n            }\n          }\n          if (e1Events) {\n            newCollision = this._storeCollision(e1, e0);\n            if (newCollision) {\n              if (e1.collision && !(flags0 & pc.BODYFLAG_NORESPONSE_OBJECT)) {\n                e1.collision.fire(\"triggerenter\", e0);\n              }\n            }\n          }\n        } else {\n          e0Events = this._hasContactEvent(e0);\n          e1Events = this._hasContactEvent(e1);\n          var globalEvents = this.hasEvent(\"contact\");\n          if (globalEvents || e0Events || e1Events) {\n            for (j = 0;j < numContacts;j++) {\n              var btContactPoint = manifold.getContactPoint(j);\n              var contactPoint = this._createContactPointFromAmmo(btContactPoint);\n              var reverseContactPoint = null;\n              if (e0Events || e1Events) {\n                reverseContactPoint = this._createReverseContactPointFromAmmo(btContactPoint);\n                forwardContacts.push(contactPoint);\n                reverseContacts.push(reverseContactPoint);\n              }\n              if (globalEvents) {\n                var result = this._createSingleContactResult(e0, e1, contactPoint);\n                this.fire(\"contact\", result);\n              }\n            }\n            if (e0Events) {\n              var forwardResult = this._createContactResult(e1, forwardContacts);\n              newCollision = this._storeCollision(e0, e1);\n              if (e0.collision) {\n                e0.collision.fire(\"contact\", forwardResult);\n                if (newCollision) {\n                  e0.collision.fire(\"collisionstart\", forwardResult);\n                }\n              }\n              if (e0.rigidbody) {\n                e0.rigidbody.fire(\"contact\", forwardResult);\n                if (newCollision) {\n                  e0.rigidbody.fire(\"collisionstart\", forwardResult);\n                }\n              }\n            }\n            if (e1Events) {\n              var reverseResult = this._createContactResult(e0, reverseContacts);\n              newCollision = this._storeCollision(e1, e0);\n              if (e1.collision) {\n                e1.collision.fire(\"contact\", reverseResult);\n                if (newCollision) {\n                  e1.collision.fire(\"collisionstart\", reverseResult);\n                }\n              }\n              if (e1.rigidbody) {\n                e1.rigidbody.fire(\"contact\", reverseResult);\n                if (newCollision) {\n                  e1.rigidbody.fire(\"collisionstart\", reverseResult);\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    this._cleanOldCollisions();\n    this.contactPointPool.freeAll();\n    this.contactResultPool.freeAll();\n    this.singleContactResultPool.freeAll();\n  }});\n  return {RIGIDBODY_TYPE_STATIC:\"static\", RIGIDBODY_TYPE_DYNAMIC:\"dynamic\", RIGIDBODY_TYPE_KINEMATIC:\"kinematic\", RIGIDBODY_CF_STATIC_OBJECT:1, RIGIDBODY_CF_KINEMATIC_OBJECT:2, RIGIDBODY_CF_NORESPONSE_OBJECT:4, RIGIDBODY_ACTIVE_TAG:1, RIGIDBODY_ISLAND_SLEEPING:2, RIGIDBODY_WANTS_DEACTIVATION:3, RIGIDBODY_DISABLE_DEACTIVATION:4, RIGIDBODY_DISABLE_SIMULATION:5, RigidBodyComponentSystem:RigidBodyComponentSystem};\n}());\nObject.assign(pc, function() {\n  var RigidBodyComponentData = function() {\n    this.enabled = true;\n    this.mass = 1;\n    this.linearDamping = 0;\n    this.angularDamping = 0;\n    this.linearFactor = new pc.Vec3(1, 1, 1);\n    this.angularFactor = new pc.Vec3(1, 1, 1);\n    this.friction = 0.5;\n    this.restitution = 0;\n    this.type = pc.BODYTYPE_STATIC;\n    this.group = pc.BODYGROUP_STATIC;\n    this.mask = pc.BODYMASK_NOT_STATIC;\n    this.body = null;\n    this.simulationEnabled = false;\n  };\n  return {RigidBodyComponentData:RigidBodyComponentData};\n}());\nObject.assign(pc, function() {\n  var ammoVec1, ammoQuat;\n  var Trigger = function Trigger(app, component, data) {\n    this.entity = component.entity;\n    this.component = component;\n    this.app = app;\n    if (typeof Ammo !== \"undefined\" && !ammoVec1) {\n      ammoVec1 = new Ammo.btVector3;\n      ammoQuat = new Ammo.btQuaternion;\n    }\n    this.initialize(data);\n  };\n  Object.assign(Trigger.prototype, {initialize:function(data) {\n    var entity = this.entity;\n    var shape = data.shape;\n    if (shape && typeof Ammo !== \"undefined\") {\n      if (entity.trigger) {\n        entity.trigger.destroy();\n      }\n      var mass = 1;\n      var localInertia = new Ammo.btVector3(0, 0, 0);\n      shape.calculateLocalInertia(mass, localInertia);\n      var pos = entity.getPosition();\n      var rot = entity.getRotation();\n      ammoQuat.setValue(rot.x, rot.y, rot.z, rot.w);\n      var startTransform = new Ammo.btTransform;\n      startTransform.setIdentity();\n      var origin = startTransform.getOrigin();\n      origin.setValue(pos.x, pos.y, pos.z);\n      startTransform.setRotation(ammoQuat);\n      var motionState = new Ammo.btDefaultMotionState(startTransform);\n      var bodyInfo = new Ammo.btRigidBodyConstructionInfo(mass, motionState, shape, localInertia);\n      Ammo.destroy(localInertia);\n      Ammo.destroy(origin);\n      Ammo.destroy(startTransform);\n      var body = new Ammo.btRigidBody(bodyInfo);\n      this.body = body;\n      Ammo.destroy(bodyInfo);\n      body.setRestitution(0);\n      body.setFriction(0);\n      body.setDamping(0, 0);\n      ammoVec1.setValue(0, 0, 0);\n      body.setLinearFactor(ammoVec1);\n      body.setAngularFactor(ammoVec1);\n      body.setCollisionFlags(body.getCollisionFlags() | pc.BODYFLAG_NORESPONSE_OBJECT);\n      body.entity = entity;\n      if (this.component.enabled && entity.enabled) {\n        this.enable();\n      }\n    }\n  }, destroy:function() {\n    if (this.body) {\n      this.app.systems.rigidbody.removeBody(this.body);\n      Ammo.destroy(this.body);\n    }\n  }, syncEntityToBody:function() {\n    var body = this.body;\n    if (body) {\n      var position = this.entity.getPosition();\n      var rotation = this.entity.getRotation();\n      var transform = body.getWorldTransform();\n      var origin = transform.getOrigin();\n      origin.setValue(position.x, position.y, position.z);\n      ammoQuat.setValue(rotation.x, rotation.y, rotation.z, rotation.w);\n      transform.setRotation(ammoQuat);\n      body.activate();\n      Ammo.destroy(origin);\n      Ammo.destroy(transform);\n    }\n  }, enable:function() {\n    var body = this.body;\n    if (!body) {\n      return;\n    }\n    this.app.systems.rigidbody.addBody(body, pc.BODYGROUP_TRIGGER, pc.BODYMASK_NOT_STATIC ^ pc.BODYGROUP_TRIGGER);\n    body.forceActivationState(pc.BODYSTATE_ACTIVE_TAG);\n    body.activate();\n    this.syncEntityToBody();\n  }, disable:function() {\n    var body = this.body;\n    if (!body) {\n      return;\n    }\n    this.app.systems.rigidbody.removeBody(body);\n    body.forceActivationState(pc.BODYSTATE_DISABLE_SIMULATION);\n  }});\n  return {Trigger:Trigger};\n}());\nObject.assign(pc, function() {\n  var CollisionComponent = function CollisionComponent(system, entity) {\n    pc.Component.call(this, system, entity);\n    this._compoundParent = null;\n    this.entity.on(\"insert\", this._onInsert, this);\n    this.on(\"set_type\", this.onSetType, this);\n    this.on(\"set_halfExtents\", this.onSetHalfExtents, this);\n    this.on(\"set_radius\", this.onSetRadius, this);\n    this.on(\"set_height\", this.onSetHeight, this);\n    this.on(\"set_axis\", this.onSetAxis, this);\n    this.on(\"set_asset\", this.onSetAsset, this);\n    this.on(\"set_model\", this.onSetModel, this);\n  };\n  CollisionComponent.prototype = Object.create(pc.Component.prototype);\n  CollisionComponent.prototype.constructor = CollisionComponent;\n  Object.assign(CollisionComponent.prototype, {onSetType:function(name, oldValue, newValue) {\n    if (oldValue !== newValue) {\n      this.system.changeType(this, oldValue, newValue);\n    }\n  }, onSetHalfExtents:function(name, oldValue, newValue) {\n    var t = this.data.type;\n    if (this.data.initialized && t === \"box\") {\n      this.system.recreatePhysicalShapes(this);\n    }\n  }, onSetRadius:function(name, oldValue, newValue) {\n    var t = this.data.type;\n    if (this.data.initialized && (t === \"sphere\" || t === \"capsule\" || t === \"cylinder\" || t === \"cone\")) {\n      this.system.recreatePhysicalShapes(this);\n    }\n  }, onSetHeight:function(name, oldValue, newValue) {\n    var t = this.data.type;\n    if (this.data.initialized && (t === \"capsule\" || t === \"cylinder\" || t === \"cone\")) {\n      this.system.recreatePhysicalShapes(this);\n    }\n  }, onSetAxis:function(name, oldValue, newValue) {\n    var t = this.data.type;\n    if (this.data.initialized && (t === \"capsule\" || t === \"cylinder\" || t === \"cone\")) {\n      this.system.recreatePhysicalShapes(this);\n    }\n  }, onSetAsset:function(name, oldValue, newValue) {\n    var asset;\n    var assets = this.system.app.assets;\n    if (oldValue) {\n      asset = assets.get(oldValue);\n      if (asset) {\n        asset.off(\"remove\", this.onAssetRemoved, this);\n      }\n    }\n    if (newValue) {\n      if (newValue instanceof pc.Asset) {\n        this.data.asset = newValue.id;\n      }\n      asset = assets.get(this.data.asset);\n      if (asset) {\n        asset.off(\"remove\", this.onAssetRemoved, this);\n        asset.on(\"remove\", this.onAssetRemoved, this);\n      }\n    }\n    if (this.data.initialized && this.data.type === \"mesh\") {\n      if (!newValue) {\n        this.data.model = null;\n      }\n      this.system.recreatePhysicalShapes(this);\n    }\n  }, onSetModel:function(name, oldValue, newValue) {\n    if (this.data.initialized && this.data.type === \"mesh\") {\n      this.system.implementations.mesh.doRecreatePhysicalShape(this);\n    }\n  }, onAssetRemoved:function(asset) {\n    asset.off(\"remove\", this.onAssetRemoved, this);\n    if (this.data.asset === asset.id) {\n      this.asset = null;\n    }\n  }, _getCompoundChildShapeIndex:function(shape) {\n    var compound = this.data.shape;\n    var shapes = compound.getNumChildShapes();\n    for (var i = 0;i < shapes;i++) {\n      var childShape = compound.getChildShape(i);\n      if (childShape.ptr === shape.ptr) {\n        return i;\n      }\n    }\n    return null;\n  }, _onInsert:function(parent) {\n    if (this._compoundParent) {\n      this.system.recreatePhysicalShapes(this);\n    } else {\n      if (!this.entity.rigidbody) {\n        var ancestor = this.entity.parent;\n        while (ancestor) {\n          if (ancestor.collision && ancestor.collision.type === \"compound\") {\n            if (ancestor.collision.shape.getNumChildShapes() === 0) {\n              this.system.recreatePhysicalShapes(ancestor.collision);\n            } else {\n              this.system.recreatePhysicalShapes(this);\n            }\n            break;\n          }\n          ancestor = ancestor.parent;\n        }\n      }\n    }\n  }, onEnable:function() {\n    if (this.data.type === \"mesh\" && this.data.asset && this.data.initialized) {\n      var asset = this.system.app.assets.get(this.data.asset);\n      if (asset && (!asset.resource || !this.data.shape)) {\n        this.system.recreatePhysicalShapes(this);\n        return;\n      }\n    }\n    if (this.entity.rigidbody) {\n      if (this.entity.rigidbody.enabled) {\n        this.entity.rigidbody.enableSimulation();\n      }\n    } else {\n      if (this._compoundParent && this !== this._compoundParent) {\n        if (this._compoundParent.shape.getNumChildShapes() === 0) {\n          this.system.recreatePhysicalShapes(this._compoundParent);\n        } else {\n          var transform = this.system._getNodeTransform(this.entity, this._compoundParent.entity);\n          this._compoundParent.shape.addChildShape(transform, this.data.shape);\n          Ammo.destroy(transform);\n          if (this._compoundParent.entity.rigidbody) {\n            this._compoundParent.entity.rigidbody.activate();\n          }\n        }\n      } else {\n        if (this.entity.trigger) {\n          this.entity.trigger.enable();\n        }\n      }\n    }\n  }, onDisable:function() {\n    if (this.entity.rigidbody) {\n      this.entity.rigidbody.disableSimulation();\n    } else {\n      if (this._compoundParent && this !== this._compoundParent) {\n        if (!this._compoundParent.entity._destroying) {\n          this.system._removeCompoundChild(this._compoundParent, this.data.shape);\n          if (this._compoundParent.entity.rigidbody) {\n            this._compoundParent.entity.rigidbody.activate();\n          }\n        }\n      } else {\n        if (this.entity.trigger) {\n          this.entity.trigger.disable();\n        }\n      }\n    }\n  }, onBeforeRemove:function() {\n    this.entity.off(\"insert\", this._onInsert, this);\n  }});\n  return {CollisionComponent:CollisionComponent};\n}());\nObject.assign(pc, function() {\n  var mat4 = new pc.Mat4;\n  var vec3 = new pc.Vec3;\n  var quat = new pc.Quat;\n  var _schema = [\"enabled\", \"type\", \"halfExtents\", \"radius\", \"axis\", \"height\", \"asset\", \"shape\", \"model\"];\n  var CollisionSystemImpl = function(system) {\n    this.system = system;\n  };\n  Object.assign(CollisionSystemImpl.prototype, {beforeInitialize:function(component, data) {\n    data.shape = null;\n    data.model = new pc.Model;\n    data.model.graph = new pc.GraphNode;\n  }, afterInitialize:function(component, data) {\n    this.recreatePhysicalShapes(component);\n    component.data.initialized = true;\n  }, reset:function(component, data) {\n    this.beforeInitialize(component, data);\n    this.afterInitialize(component, data);\n  }, recreatePhysicalShapes:function(component) {\n    var entity = component.entity;\n    var data = component.data;\n    if (typeof Ammo !== \"undefined\") {\n      if (entity.trigger) {\n        entity.trigger.destroy();\n        delete entity.trigger;\n      }\n      if (data.shape) {\n        if (component._compoundParent) {\n          this.system._removeCompoundChild(component._compoundParent, data.shape);\n          if (component._compoundParent.entity.rigidbody) {\n            component._compoundParent.entity.rigidbody.activate();\n          }\n        }\n        Ammo.destroy(data.shape);\n        data.shape = null;\n      }\n      data.shape = this.createPhysicalShape(component.entity, data);\n      if (data.type === \"compound\" && (!component._compoundParent || component === component._compoundParent)) {\n        component._compoundParent = component;\n        entity.forEach(this._addEachDescendant, component);\n      } else {\n        if (data.type !== \"compound\") {\n          if (component._compoundParent && component === component._compoundParent) {\n            entity.forEach(this.system.implementations.compound._updateEachDescendant, component);\n          }\n          if (!component.rigidbody) {\n            component._compoundParent = null;\n            var parent = entity.parent;\n            while (parent) {\n              if (parent.collision && parent.collision.type === \"compound\") {\n                component._compoundParent = parent.collision;\n                break;\n              }\n              parent = parent.parent;\n            }\n          }\n        }\n      }\n      if (component._compoundParent) {\n        if (component !== component._compoundParent) {\n          this.system.updateCompoundChildTransform(entity);\n          if (component._compoundParent.entity.rigidbody) {\n            component._compoundParent.entity.rigidbody.activate();\n          }\n        }\n      }\n      if (entity.rigidbody) {\n        entity.rigidbody.disableSimulation();\n        entity.rigidbody.createBody();\n        if (entity.enabled && entity.rigidbody.enabled) {\n          entity.rigidbody.enableSimulation();\n        }\n      } else {\n        if (!component._compoundParent) {\n          if (!entity.trigger) {\n            entity.trigger = new pc.Trigger(this.system.app, component, data);\n          } else {\n            entity.trigger.initialize(data);\n          }\n        }\n      }\n    }\n  }, createPhysicalShape:function(entity, data) {\n    return undefined;\n  }, updateTransform:function(component, position, rotation, scale) {\n    if (component.entity.trigger) {\n      component.entity.trigger.syncEntityToBody();\n    }\n  }, beforeRemove:function(entity, component) {\n    if (component.data.shape) {\n      if (component._compoundParent && !component._compoundParent.entity._destroying) {\n        this.system._removeCompoundChild(component._compoundParent, component.data.shape);\n        if (component._compoundParent.entity.rigidbody) {\n          component._compoundParent.entity.rigidbody.activate();\n        }\n      }\n      component._compoundParent = null;\n      Ammo.destroy(component.data.shape);\n      component.data.shape = null;\n    }\n  }, remove:function(entity, data) {\n    var app = this.system.app;\n    if (entity.rigidbody && entity.rigidbody.body) {\n      app.systems.rigidbody.removeBody(entity.rigidbody.body);\n      entity.rigidbody.disableSimulation();\n    }\n    if (entity.trigger) {\n      entity.trigger.destroy();\n      delete entity.trigger;\n    }\n    if (app.scene.containsModel(data.model)) {\n      app.root.removeChild(data.model.graph);\n      app.scene.removeModel(data.model);\n    }\n  }, clone:function(entity, clone) {\n    var src = this.system.store[entity.getGuid()];\n    var data = {enabled:src.data.enabled, type:src.data.type, halfExtents:[src.data.halfExtents.x, src.data.halfExtents.y, src.data.halfExtents.z], radius:src.data.radius, axis:src.data.axis, height:src.data.height, asset:src.data.asset, model:src.data.model};\n    return this.system.addComponent(clone, data);\n  }});\n  var CollisionBoxSystemImpl = function(system) {\n    CollisionSystemImpl.call(this, system);\n  };\n  CollisionBoxSystemImpl.prototype = Object.create(CollisionSystemImpl.prototype);\n  CollisionBoxSystemImpl.prototype.constructor = CollisionBoxSystemImpl;\n  Object.assign(CollisionBoxSystemImpl.prototype, {createPhysicalShape:function(entity, data) {\n    if (typeof Ammo !== \"undefined\") {\n      var he = data.halfExtents;\n      var ammoHe = new Ammo.btVector3(he ? he.x : 0.5, he ? he.y : 0.5, he ? he.z : 0.5);\n      var shape = new Ammo.btBoxShape(ammoHe);\n      Ammo.destroy(ammoHe);\n      return shape;\n    }\n    return undefined;\n  }});\n  var CollisionSphereSystemImpl = function(system) {\n    CollisionSystemImpl.call(this, system);\n  };\n  CollisionSphereSystemImpl.prototype = Object.create(CollisionSystemImpl.prototype);\n  CollisionSphereSystemImpl.prototype.constructor = CollisionSphereSystemImpl;\n  Object.assign(CollisionSphereSystemImpl.prototype, {createPhysicalShape:function(entity, data) {\n    if (typeof Ammo !== \"undefined\") {\n      return new Ammo.btSphereShape(data.radius);\n    }\n    return undefined;\n  }});\n  var CollisionCapsuleSystemImpl = function(system) {\n    CollisionSystemImpl.call(this, system);\n  };\n  CollisionCapsuleSystemImpl.prototype = Object.create(CollisionSystemImpl.prototype);\n  CollisionCapsuleSystemImpl.prototype.constructor = CollisionCapsuleSystemImpl;\n  Object.assign(CollisionCapsuleSystemImpl.prototype, {createPhysicalShape:function(entity, data) {\n    var shape = null;\n    var axis = data.axis !== undefined ? data.axis : 1;\n    var radius = data.radius || 0.5;\n    var height = Math.max((data.height || 2) - 2 * radius, 0);\n    if (typeof Ammo !== \"undefined\") {\n      switch(axis) {\n        case 0:\n          shape = new Ammo.btCapsuleShapeX(radius, height);\n          break;\n        case 1:\n          shape = new Ammo.btCapsuleShape(radius, height);\n          break;\n        case 2:\n          shape = new Ammo.btCapsuleShapeZ(radius, height);\n          break;\n      }\n    }\n    return shape;\n  }});\n  var CollisionCylinderSystemImpl = function(system) {\n    CollisionSystemImpl.call(this, system);\n  };\n  CollisionCylinderSystemImpl.prototype = Object.create(CollisionSystemImpl.prototype);\n  CollisionCylinderSystemImpl.prototype.constructor = CollisionCylinderSystemImpl;\n  Object.assign(CollisionCylinderSystemImpl.prototype, {createPhysicalShape:function(entity, data) {\n    var halfExtents = null;\n    var shape = null;\n    var axis = data.axis !== undefined ? data.axis : 1;\n    var radius = data.radius !== undefined ? data.radius : 0.5;\n    var height = data.height !== undefined ? data.height : 1;\n    if (typeof Ammo !== \"undefined\") {\n      switch(axis) {\n        case 0:\n          halfExtents = new Ammo.btVector3(height * 0.5, radius, radius);\n          shape = new Ammo.btCylinderShapeX(halfExtents);\n          break;\n        case 1:\n          halfExtents = new Ammo.btVector3(radius, height * 0.5, radius);\n          shape = new Ammo.btCylinderShape(halfExtents);\n          break;\n        case 2:\n          halfExtents = new Ammo.btVector3(radius, radius, height * 0.5);\n          shape = new Ammo.btCylinderShapeZ(halfExtents);\n          break;\n      }\n    }\n    if (halfExtents) {\n      Ammo.destroy(halfExtents);\n    }\n    return shape;\n  }});\n  var CollisionConeSystemImpl = function(system) {\n    CollisionSystemImpl.call(this, system);\n  };\n  CollisionConeSystemImpl.prototype = Object.create(CollisionSystemImpl.prototype);\n  CollisionConeSystemImpl.prototype.constructor = CollisionConeSystemImpl;\n  Object.assign(CollisionConeSystemImpl.prototype, {createPhysicalShape:function(entity, data) {\n    var shape = null;\n    var axis = data.axis !== undefined ? data.axis : 1;\n    var radius = data.radius !== undefined ? data.radius : 0.5;\n    var height = data.height !== undefined ? data.height : 1;\n    if (typeof Ammo !== \"undefined\") {\n      switch(axis) {\n        case 0:\n          shape = new Ammo.btConeShapeX(radius, height);\n          break;\n        case 1:\n          shape = new Ammo.btConeShape(radius, height);\n          break;\n        case 2:\n          shape = new Ammo.btConeShapeZ(radius, height);\n          break;\n      }\n    }\n    return shape;\n  }});\n  var CollisionMeshSystemImpl = function(system) {\n    CollisionSystemImpl.call(this, system);\n  };\n  CollisionMeshSystemImpl.prototype = Object.create(CollisionSystemImpl.prototype);\n  CollisionMeshSystemImpl.prototype.constructor = CollisionMeshSystemImpl;\n  Object.assign(CollisionMeshSystemImpl.prototype, {beforeInitialize:function(component, data) {\n  }, createPhysicalShape:function(entity, data) {\n    if (typeof Ammo !== \"undefined\" && data.model) {\n      var model = data.model;\n      var shape = new Ammo.btCompoundShape;\n      var i, j;\n      for (i = 0;i < model.meshInstances.length;i++) {\n        var meshInstance = model.meshInstances[i];\n        var mesh = meshInstance.mesh;\n        var triMesh;\n        if (this.system._triMeshCache[mesh.id]) {\n          triMesh = this.system._triMeshCache[mesh.id];\n        } else {\n          var ib = mesh.indexBuffer[pc.RENDERSTYLE_SOLID];\n          var vb = mesh.vertexBuffer;\n          var format = vb.getFormat();\n          var stride = format.size / 4;\n          var positions;\n          for (j = 0;j < format.elements.length;j++) {\n            var element = format.elements[j];\n            if (element.name === pc.SEMANTIC_POSITION) {\n              positions = new Float32Array(vb.lock(), element.offset);\n            }\n          }\n          var indices = new Uint16Array(ib.lock());\n          var numTriangles = mesh.primitive[0].count / 3;\n          var v1 = new Ammo.btVector3;\n          var v2 = new Ammo.btVector3;\n          var v3 = new Ammo.btVector3;\n          var i1, i2, i3;\n          var base = mesh.primitive[0].base;\n          triMesh = new Ammo.btTriangleMesh;\n          this.system._triMeshCache[mesh.id] = triMesh;\n          for (j = 0;j < numTriangles;j++) {\n            i1 = indices[base + j * 3] * stride;\n            i2 = indices[base + j * 3 + 1] * stride;\n            i3 = indices[base + j * 3 + 2] * stride;\n            v1.setValue(positions[i1], positions[i1 + 1], positions[i1 + 2]);\n            v2.setValue(positions[i2], positions[i2 + 1], positions[i2 + 2]);\n            v3.setValue(positions[i3], positions[i3 + 1], positions[i3 + 2]);\n            triMesh.addTriangle(v1, v2, v3, true);\n          }\n          Ammo.destroy(v1);\n          Ammo.destroy(v2);\n          Ammo.destroy(v3);\n        }\n        var useQuantizedAabbCompression = true;\n        var triMeshShape = new Ammo.btBvhTriangleMeshShape(triMesh, useQuantizedAabbCompression);\n        var scaling = this.system._getNodeScaling(meshInstance.node);\n        triMeshShape.setLocalScaling(scaling);\n        Ammo.destroy(scaling);\n        var transform = this.system._getNodeTransform(meshInstance.node);\n        shape.addChildShape(transform, triMeshShape);\n        Ammo.destroy(transform);\n      }\n      var entityTransform = entity.getWorldTransform();\n      var scale = entityTransform.getScale();\n      var vec = new Ammo.btVector3;\n      vec.setValue(scale.x, scale.y, scale.z);\n      shape.setLocalScaling(vec);\n      Ammo.destroy(vec);\n      return shape;\n    }\n    return undefined;\n  }, recreatePhysicalShapes:function(component) {\n    var data = component.data;\n    if (data.asset !== null && component.enabled && component.entity.enabled) {\n      this.loadModelAsset(component);\n    } else {\n      this.doRecreatePhysicalShape(component);\n    }\n  }, loadModelAsset:function(component) {\n    var self = this;\n    var id = component.data.asset;\n    var data = component.data;\n    var assets = this.system.app.assets;\n    var asset = assets.get(id);\n    if (asset) {\n      asset.ready(function(asset) {\n        data.model = asset.resource;\n        self.doRecreatePhysicalShape(component);\n      });\n      assets.load(asset);\n    } else {\n      assets.once(\"add:\" + id, function(asset) {\n        asset.ready(function(asset) {\n          data.model = asset.resource;\n          self.doRecreatePhysicalShape(component);\n        });\n        assets.load(asset);\n      });\n    }\n  }, doRecreatePhysicalShape:function(component) {\n    var entity = component.entity;\n    var data = component.data;\n    if (data.model) {\n      if (data.shape) {\n        Ammo.destroy(data.shape);\n        data.shape = null;\n      }\n      data.shape = this.createPhysicalShape(entity, data);\n      if (entity.rigidbody) {\n        entity.rigidbody.disableSimulation();\n        entity.rigidbody.createBody();\n        if (entity.enabled && entity.rigidbody.enabled) {\n          entity.rigidbody.enableSimulation();\n        }\n      } else {\n        if (!entity.trigger) {\n          entity.trigger = new pc.Trigger(this.system.app, component, data);\n        } else {\n          entity.trigger.initialize(data);\n        }\n      }\n    } else {\n      this.beforeRemove(entity, component);\n      this.remove(entity, data);\n    }\n  }, updateTransform:function(component, position, rotation, scale) {\n    if (component.shape) {\n      var entityTransform = component.entity.getWorldTransform();\n      var worldScale = entityTransform.getScale();\n      var previousScale = component.shape.getLocalScaling();\n      if (worldScale.x !== previousScale.x() || worldScale.y !== previousScale.y() || worldScale.z !== previousScale.z()) {\n        this.doRecreatePhysicalShape(component);\n      }\n    }\n    pc.CollisionSystemImpl.prototype.updateTransform.call(this, component, position, rotation, scale);\n  }, remove:function(entity, data) {\n    if (data.shape) {\n      var numShapes = data.shape.getNumChildShapes();\n      for (var i = 0;i < numShapes;i++) {\n        var shape = data.shape.getChildShape(i);\n        Ammo.destroy(shape);\n      }\n    }\n    CollisionSystemImpl.prototype.remove.call(this, entity, data);\n  }});\n  var CollisionCompoundSystemImpl = function(system) {\n    CollisionSystemImpl.call(this, system);\n  };\n  CollisionCompoundSystemImpl.prototype = Object.create(CollisionSystemImpl.prototype);\n  CollisionCompoundSystemImpl.prototype.constructor = CollisionCompoundSystemImpl;\n  Object.assign(CollisionCompoundSystemImpl.prototype, {createPhysicalShape:function(entity, data) {\n    if (typeof Ammo !== \"undefined\") {\n      return new Ammo.btCompoundShape;\n    }\n    return undefined;\n  }, _addEachDescendant:function(entity) {\n    if (!entity.collision || entity.rigidbody) {\n      return;\n    }\n    entity.collision._compoundParent = this;\n    if (entity !== this.entity) {\n      entity.collision.system.recreatePhysicalShapes(entity.collision);\n    }\n  }, _updateEachDescendant:function(entity) {\n    if (!entity.collision) {\n      return;\n    }\n    if (entity.collision._compoundParent !== this) {\n      return;\n    }\n    entity.collision._compoundParent = null;\n    if (entity !== this.entity && !entity.rigidbody) {\n      entity.collision.system.recreatePhysicalShapes(entity.collision);\n    }\n  }, _updateEachDescendantTransform:function(entity) {\n    if (!entity.collision || entity.collision._compoundParent !== this.collision._compoundParent) {\n      return;\n    }\n    this.collision.system.updateCompoundChildTransform(entity);\n  }});\n  var CollisionComponentSystem = function CollisionComponentSystem(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"collision\";\n    this.description = \"Specifies a collision volume.\";\n    this.ComponentType = pc.CollisionComponent;\n    this.DataType = pc.CollisionComponentData;\n    this.schema = _schema;\n    this.implementations = {};\n    this._triMeshCache = {};\n    this.on(\"beforeremove\", this.onBeforeRemove, this);\n    this.on(\"remove\", this.onRemove, this);\n    pc.ComponentSystem.bind(\"update\", this.onUpdate, this);\n  };\n  CollisionComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  CollisionComponentSystem.prototype.constructor = CollisionComponentSystem;\n  pc.Component._buildAccessors(pc.CollisionComponent.prototype, _schema);\n  Object.assign(CollisionComponentSystem.prototype, {onLibraryLoaded:function() {\n    if (typeof Ammo !== \"undefined\") {\n    } else {\n      pc.ComponentSystem.unbind(\"update\", this.onUpdate, this);\n    }\n  }, initializeComponentData:function(component, _data, properties) {\n    properties = [\"type\", \"halfExtents\", \"radius\", \"axis\", \"height\", \"shape\", \"model\", \"asset\", \"enabled\"];\n    var data = {};\n    for (var i = 0, len = properties.length;i < len;i++) {\n      var property = properties[i];\n      data[property] = _data[property];\n    }\n    var idx;\n    if (_data.hasOwnProperty(\"asset\")) {\n      idx = properties.indexOf(\"model\");\n      if (idx !== -1) {\n        properties.splice(idx, 1);\n      }\n    } else {\n      if (_data.hasOwnProperty(\"model\")) {\n        idx = properties.indexOf(\"asset\");\n        if (idx !== -1) {\n          properties.splice(idx, 1);\n        }\n      }\n    }\n    if (!data.type) {\n      data.type = component.data.type;\n    }\n    component.data.type = data.type;\n    if (data.halfExtents && pc.type(data.halfExtents) === \"array\") {\n      data.halfExtents = new pc.Vec3(data.halfExtents[0], data.halfExtents[1], data.halfExtents[2]);\n    }\n    var impl = this._createImplementation(data.type);\n    impl.beforeInitialize(component, data);\n    pc.ComponentSystem.prototype.initializeComponentData.call(this.system, component, data, properties);\n    impl.afterInitialize(component, data);\n  }, _createImplementation:function(type) {\n    if (this.implementations[type] === undefined) {\n      var impl;\n      switch(type) {\n        case \"box\":\n          impl = new CollisionBoxSystemImpl(this);\n          break;\n        case \"sphere\":\n          impl = new CollisionSphereSystemImpl(this);\n          break;\n        case \"capsule\":\n          impl = new CollisionCapsuleSystemImpl(this);\n          break;\n        case \"cylinder\":\n          impl = new CollisionCylinderSystemImpl(this);\n          break;\n        case \"cone\":\n          impl = new CollisionConeSystemImpl(this);\n          break;\n        case \"mesh\":\n          impl = new CollisionMeshSystemImpl(this);\n          break;\n        case \"compound\":\n          impl = new CollisionCompoundSystemImpl(this);\n          break;\n        default:\n      }\n      this.implementations[type] = impl;\n    }\n    return this.implementations[type];\n  }, _getImplementation:function(entity) {\n    return this.implementations[entity.collision.data.type];\n  }, cloneComponent:function(entity, clone) {\n    return this._getImplementation(entity).clone(entity, clone);\n  }, onBeforeRemove:function(entity, component) {\n    this.implementations[component.data.type].beforeRemove(entity, component);\n    component.onBeforeRemove();\n  }, onRemove:function(entity, data) {\n    this.implementations[data.type].remove(entity, data);\n  }, onUpdate:function(dt) {\n    var id, entity, data;\n    var components = this.store;\n    for (id in components) {\n      entity = components[id].entity;\n      data = components[id].data;\n      if (data.enabled && entity.enabled) {\n        if (!entity.rigidbody) {\n          if (entity.collision._compoundParent && entity._dirtyWorld) {\n            var dirty = entity._dirtyLocal;\n            var parent = entity;\n            while (parent && !dirty) {\n              if (parent.collision && parent.collision == entity.collision._compoundParent) {\n                break;\n              }\n              if (parent._dirtyLocal) {\n                dirty = true;\n              }\n              parent = parent.parent;\n            }\n            if (dirty) {\n              entity.forEach(this.implementations.compound._updateEachDescendantTransform, entity);\n              if (entity.collision._compoundParent.entity.rigidbody) {\n                entity.collision._compoundParent.entity.rigidbody.activate();\n              }\n            }\n          } else {\n            if (entity.trigger) {\n              entity.trigger.syncEntityToBody();\n            }\n          }\n        }\n      }\n    }\n  }, updateCompoundChildTransform:function(entity) {\n    this._removeCompoundChild(entity.collision._compoundParent, entity.collision.data.shape);\n    if (entity.enabled && entity.collision.enabled) {\n      var transform = this._getNodeTransform(entity, entity.collision._compoundParent.entity);\n      entity.collision._compoundParent.shape.addChildShape(transform, entity.collision.data.shape);\n      Ammo.destroy(transform);\n    }\n  }, _removeCompoundChild:function(collision, shape) {\n    var ind = collision._getCompoundChildShapeIndex(shape);\n    if (ind !== null) {\n      collision.shape.removeChildShapeByIndex(ind);\n    }\n  }, onTransformChanged:function(component, position, rotation, scale) {\n    this.implementations[component.data.type].updateTransform(component, position, rotation, scale);\n  }, changeType:function(component, previousType, newType) {\n    this.implementations[previousType].beforeRemove(component.entity, component);\n    this.implementations[previousType].remove(component.entity, component.data);\n    this._createImplementation(newType).reset(component, component.data);\n  }, recreatePhysicalShapes:function(component) {\n    this.implementations[component.data.type].recreatePhysicalShapes(component);\n  }, _calculateNodeRelativeTransform:function(node, relative) {\n    if (node === relative) {\n      var scale = node.getWorldTransform().getScale();\n      mat4.setScale(scale.x, scale.y, scale.z);\n    } else {\n      this._calculateNodeRelativeTransform(node.parent, relative);\n      mat4.mul(node.getLocalTransform());\n    }\n  }, _getNodeScaling:function(node) {\n    var wtm = node.getWorldTransform();\n    var scl = wtm.getScale();\n    return new Ammo.btVector3(scl.x, scl.y, scl.z);\n  }, _getNodeTransform:function(node, relative) {\n    var pos, rot;\n    if (relative) {\n      this._calculateNodeRelativeTransform(node, relative);\n      pos = vec3;\n      rot = quat;\n      mat4.getTranslation(pos);\n      rot.setFromMat4(mat4);\n    } else {\n      pos = node.getPosition();\n      rot = node.getRotation();\n    }\n    var transform = new Ammo.btTransform;\n    transform.setIdentity();\n    var origin = transform.getOrigin();\n    origin.setValue(pos.x, pos.y, pos.z);\n    var ammoQuat = new Ammo.btQuaternion;\n    ammoQuat.setValue(rot.x, rot.y, rot.z, rot.w);\n    transform.setRotation(ammoQuat);\n    Ammo.destroy(ammoQuat);\n    Ammo.destroy(origin);\n    return transform;\n  }, destroy:function() {\n    for (var key in this._triMeshCache) {\n      Ammo.destroy(this._triMeshCache[key]);\n    }\n    this._triMeshCache = null;\n    pc.ComponentSystem.prototype.destroy.call(this);\n  }});\n  return {CollisionComponentSystem:CollisionComponentSystem};\n}());\nObject.assign(pc, function() {\n  var CollisionComponentData = function() {\n    this.enabled = true;\n    this.type = \"box\";\n    this.halfExtents = new pc.Vec3(0.5, 0.5, 0.5);\n    this.radius = 0.5;\n    this.axis = 1;\n    this.height = 2;\n    this.asset = null;\n    this.shape = null;\n    this.model = null;\n    this.initialized = false;\n  };\n  return {CollisionComponentData:CollisionComponentData};\n}());\nObject.assign(pc, function() {\n  var SIMPLE_PROPERTIES = [\"emitterExtents\", \"emitterRadius\", \"emitterExtentsInner\", \"emitterRadiusInner\", \"loop\", \"initialVelocity\", \"animSpeed\", \"normalMap\", \"particleNormal\"];\n  var COMPLEX_PROPERTIES = [\"numParticles\", \"lifetime\", \"rate\", \"rate2\", \"startAngle\", \"startAngle2\", \"lighting\", \"halfLambert\", \"intensity\", \"wrap\", \"wrapBounds\", \"depthWrite\", \"noFog\", \"sort\", \"stretch\", \"alignToMotion\", \"preWarm\", \"emitterShape\", \"animTilesX\", \"animTilesY\", \"animNumFrames\", \"animLoop\", \"colorMap\", \"localSpace\", \"orientation\"];\n  var GRAPH_PROPERTIES = [\"scaleGraph\", \"scaleGraph2\", \"colorGraph\", \"colorGraph2\", \"alphaGraph\", \"alphaGraph2\", \"velocityGraph\", \"velocityGraph2\", \"localVelocityGraph\", \"localVelocityGraph2\", \"rotationSpeedGraph\", \"rotationSpeedGraph2\", \"radialSpeedGraph\", \"radialSpeedGraph2\"];\n  var ASSET_PROPERTIES = [\"colorMapAsset\", \"normalMapAsset\", \"meshAsset\"];\n  var depthLayer;\n  var ParticleSystemComponent = function ParticleSystemComponent(system, entity) {\n    pc.Component.call(this, system, entity);\n    this.on(\"set_colorMapAsset\", this.onSetColorMapAsset, this);\n    this.on(\"set_normalMapAsset\", this.onSetNormalMapAsset, this);\n    this.on(\"set_meshAsset\", this.onSetMeshAsset, this);\n    this.on(\"set_mesh\", this.onSetMesh, this);\n    this.on(\"set_loop\", this.onSetLoop, this);\n    this.on(\"set_blendType\", this.onSetBlendType, this);\n    this.on(\"set_depthSoftening\", this.onSetDepthSoftening, this);\n    this.on(\"set_layers\", this.onSetLayers, this);\n    SIMPLE_PROPERTIES.forEach(function(prop) {\n      this.on(\"set_\" + prop, this.onSetSimpleProperty, this);\n    }.bind(this));\n    COMPLEX_PROPERTIES.forEach(function(prop) {\n      this.on(\"set_\" + prop, this.onSetComplexProperty, this);\n    }.bind(this));\n    GRAPH_PROPERTIES.forEach(function(prop) {\n      this.on(\"set_\" + prop, this.onSetGraphProperty, this);\n    }.bind(this));\n    this._requestedDepth = false;\n  };\n  ParticleSystemComponent.prototype = Object.create(pc.Component.prototype);\n  ParticleSystemComponent.prototype.constructor = ParticleSystemComponent;\n  Object.assign(ParticleSystemComponent.prototype, {addModelToLayers:function() {\n    if (!this.data.model) {\n      return;\n    }\n    var layer;\n    for (var i = 0;i < this.layers.length;i++) {\n      layer = this.system.app.scene.layers.getLayerById(this.layers[i]);\n      if (!layer) {\n        continue;\n      }\n      layer.addMeshInstances(this.data.model.meshInstances);\n      this.emitter._layer = layer;\n    }\n  }, removeModelFromLayers:function(model) {\n    if (!this.data.model) {\n      return;\n    }\n    var layer;\n    for (var i = 0;i < this.layers.length;i++) {\n      layer = this.system.app.scene.layers.getLayerById(this.layers[i]);\n      if (!layer) {\n        continue;\n      }\n      layer.removeMeshInstances(this.data.model.meshInstances);\n    }\n  }, onSetLayers:function(name, oldValue, newValue) {\n    if (!this.data.model) {\n      return;\n    }\n    var i, layer;\n    for (i = 0;i < oldValue.length;i++) {\n      layer = this.system.app.scene.layers.getLayerById(oldValue[i]);\n      if (!layer) {\n        continue;\n      }\n      layer.removeMeshInstances(this.data.model.meshInstances);\n    }\n    if (!this.enabled || !this.entity.enabled) {\n      return;\n    }\n    for (i = 0;i < newValue.length;i++) {\n      layer = this.system.app.scene.layers.getLayerById(newValue[i]);\n      if (!layer) {\n        continue;\n      }\n      layer.addMeshInstances(this.data.model.meshInstances);\n    }\n  }, onLayersChanged:function(oldComp, newComp) {\n    this.addModelToLayers();\n    oldComp.off(\"add\", this.onLayerAdded, this);\n    oldComp.off(\"remove\", this.onLayerRemoved, this);\n    newComp.on(\"add\", this.onLayerAdded, this);\n    newComp.on(\"remove\", this.onLayerRemoved, this);\n  }, onLayerAdded:function(layer) {\n    if (!this.data.model) {\n      return;\n    }\n    var index = this.layers.indexOf(layer.id);\n    if (index < 0) {\n      return;\n    }\n    layer.addMeshInstances(this.data.model.meshInstances);\n  }, onLayerRemoved:function(layer) {\n    if (!this.data.model) {\n      return;\n    }\n    var index = this.layers.indexOf(layer.id);\n    if (index < 0) {\n      return;\n    }\n    layer.removeMeshInstances(this.data.model.meshInstances);\n  }, _bindColorMapAsset:function(asset) {\n    asset.on(\"load\", this._onColorMapAssetLoad, this);\n    asset.on(\"unload\", this._onColorMapAssetUnload, this);\n    asset.on(\"remove\", this._onColorMapAssetRemove, this);\n    asset.on(\"change\", this._onColorMapAssetChange, this);\n    if (asset.resource) {\n      this._onColorMapAssetLoad(asset);\n    } else {\n      if (!this.enabled || !this.entity.enabled) {\n        return;\n      }\n      this.system.app.assets.load(asset);\n    }\n  }, _unbindColorMapAsset:function(asset) {\n    asset.off(\"load\", this._onColorMapAssetLoad, this);\n    asset.off(\"unload\", this._onColorMapAssetUnload, this);\n    asset.off(\"remove\", this._onColorMapAssetRemove, this);\n    asset.off(\"change\", this._onColorMapAssetChange, this);\n  }, _onColorMapAssetLoad:function(asset) {\n    this.colorMap = asset.resource;\n  }, _onColorMapAssetUnload:function(asset) {\n    this.colorMap = null;\n  }, _onColorMapAssetRemove:function(asset) {\n    this._onColorMapAssetUnload(asset);\n  }, _onColorMapAssetChange:function(asset) {\n  }, onSetColorMapAsset:function(name, oldValue, newValue) {\n    var self = this;\n    var asset;\n    var assets = this.system.app.assets;\n    if (oldValue) {\n      asset = assets.get(oldValue);\n      if (asset) {\n        this._unbindColorMapAsset(asset);\n      }\n    }\n    if (newValue) {\n      if (newValue instanceof pc.Asset) {\n        this.data.colorMapAsset = newValue.id;\n        newValue = newValue.id;\n      }\n      asset = assets.get(newValue);\n      if (asset) {\n        self._bindColorMapAsset(asset);\n      } else {\n        assets.once(\"add:\" + newValue, function(asset) {\n          self._bindColorMapAsset(asset);\n        });\n      }\n    } else {\n      this.colorMap = null;\n    }\n  }, _bindNormalMapAsset:function(asset) {\n    asset.on(\"load\", this._onNormalMapAssetLoad, this);\n    asset.on(\"unload\", this._onNormalMapAssetUnload, this);\n    asset.on(\"remove\", this._onNormalMapAssetRemove, this);\n    asset.on(\"change\", this._onNormalMapAssetChange, this);\n    if (asset.resource) {\n      this._onNormalMapAssetLoad(asset);\n    } else {\n      if (!this.enabled || !this.entity.enabled) {\n        return;\n      }\n      this.system.app.assets.load(asset);\n    }\n  }, _unbindNormalMapAsset:function(asset) {\n    asset.off(\"load\", this._onNormalMapAssetLoad, this);\n    asset.off(\"unload\", this._onNormalMapAssetUnload, this);\n    asset.off(\"remove\", this._onNormalMapAssetRemove, this);\n    asset.off(\"change\", this._onNormalMapAssetChange, this);\n  }, _onNormalMapAssetLoad:function(asset) {\n    this.normalMap = asset.resource;\n  }, _onNormalMapAssetUnload:function(asset) {\n    this.normalMap = null;\n  }, _onNormalMapAssetRemove:function(asset) {\n    this._onNormalMapAssetUnload(asset);\n  }, _onNormalMapAssetChange:function(asset) {\n  }, onSetNormalMapAsset:function(name, oldValue, newValue) {\n    var self = this;\n    var asset;\n    var assets = this.system.app.assets;\n    if (oldValue) {\n      asset = assets.get(oldValue);\n      if (asset) {\n        this._unbindNormalMapAsset(asset);\n      }\n    }\n    if (newValue) {\n      if (newValue instanceof pc.Asset) {\n        this.data.normalMapAsset = newValue.id;\n        newValue = newValue.id;\n      }\n      asset = assets.get(newValue);\n      if (asset) {\n        self._bindNormalMapAsset(asset);\n      } else {\n        assets.once(\"add:\" + newValue, function(asset) {\n          self._bindNormalMapAsset(asset);\n        });\n      }\n    } else {\n      this.normalMap = null;\n    }\n  }, _bindMeshAsset:function(asset) {\n    asset.on(\"load\", this._onMeshAssetLoad, this);\n    asset.on(\"unload\", this._onMeshAssetUnload, this);\n    asset.on(\"remove\", this._onMeshAssetRemove, this);\n    asset.on(\"change\", this._onMeshAssetChange, this);\n    if (asset.resource) {\n      this._onMeshAssetLoad(asset);\n    } else {\n      if (!this.enabled || !this.entity.enabled) {\n        return;\n      }\n      this.system.app.assets.load(asset);\n    }\n  }, _unbindMeshAsset:function(asset) {\n    asset.off(\"load\", this._onMeshAssetLoad, this);\n    asset.off(\"unload\", this._onMeshAssetUnload, this);\n    asset.off(\"remove\", this._onMeshAssetRemove, this);\n    asset.off(\"change\", this._onMeshAssetChange, this);\n  }, _onMeshAssetLoad:function(asset) {\n    this._onMeshChanged(asset.resource);\n  }, _onMeshAssetUnload:function(asset) {\n    this.mesh = null;\n  }, _onMeshAssetRemove:function(asset) {\n    this._onMeshAssetUnload(asset);\n  }, _onMeshAssetChange:function(asset) {\n  }, onSetMeshAsset:function(name, oldValue, newValue) {\n    var asset;\n    var assets = this.system.app.assets;\n    if (oldValue) {\n      asset = assets.get(oldValue);\n      if (asset) {\n        this._unbindMeshAsset(asset);\n      }\n    }\n    if (newValue) {\n      if (newValue instanceof pc.Asset) {\n        this.data.meshAsset = newValue.id;\n        newValue = newValue.id;\n      }\n      asset = assets.get(newValue);\n      if (asset) {\n        this._bindMeshAsset(asset);\n        if (asset.resource) {\n          this._onMeshChanged(asset.resource);\n        } else {\n          assets.load(asset);\n        }\n      }\n    } else {\n      this._onMeshChanged(null);\n    }\n  }, onSetMesh:function(name, oldValue, newValue) {\n    if (!newValue || newValue instanceof pc.Asset || typeof newValue === \"number\") {\n      this.meshAsset = newValue;\n    } else {\n      this._onMeshChanged(newValue);\n    }\n  }, _onMeshChanged:function(mesh) {\n    if (mesh && !(mesh instanceof pc.Mesh)) {\n      if (mesh.meshInstances[0]) {\n        mesh = mesh.meshInstances[0].mesh;\n      } else {\n        mesh = null;\n      }\n    }\n    this.data.mesh = mesh;\n    if (this.emitter) {\n      this.emitter.mesh = mesh;\n      this.emitter.resetMaterial();\n      this.rebuild();\n    }\n  }, onSetLoop:function(name, oldValue, newValue) {\n    if (this.emitter) {\n      this.emitter[name] = newValue;\n      this.emitter.resetTime();\n    }\n  }, onSetBlendType:function(name, oldValue, newValue) {\n    if (this.emitter) {\n      this.emitter[name] = newValue;\n      this.emitter.material.blendType = newValue;\n      this.emitter.resetMaterial();\n      this.rebuild();\n    }\n  }, _requestDepth:function() {\n    if (this._requestedDepth) {\n      return;\n    }\n    if (!depthLayer) {\n      depthLayer = this.system.app.scene.layers.getLayerById(pc.LAYERID_DEPTH);\n    }\n    if (depthLayer) {\n      depthLayer.incrementCounter();\n      this._requestedDepth = true;\n    }\n  }, _releaseDepth:function() {\n    if (!this._requestedDepth) {\n      return;\n    }\n    if (depthLayer) {\n      depthLayer.decrementCounter();\n      this._requestedDepth = false;\n    }\n  }, onSetDepthSoftening:function(name, oldValue, newValue) {\n    if (oldValue !== newValue) {\n      if (newValue) {\n        if (this.enabled && this.entity.enabled) {\n          this._requestDepth();\n        }\n        if (this.emitter) {\n          this.emitter[name] = newValue;\n        }\n      } else {\n        if (this.enabled && this.entity.enabled) {\n          this._releaseDepth();\n        }\n        if (this.emitter) {\n          this.emitter[name] = newValue;\n        }\n      }\n      if (this.emitter) {\n        this.reset();\n        this.emitter.resetMaterial();\n        this.rebuild();\n      }\n    }\n  }, onSetSimpleProperty:function(name, oldValue, newValue) {\n    if (this.emitter) {\n      this.emitter[name] = newValue;\n      this.emitter.resetMaterial();\n    }\n  }, onSetComplexProperty:function(name, oldValue, newValue) {\n    if (this.emitter) {\n      this.emitter[name] = newValue;\n      this.reset();\n      this.emitter.resetMaterial();\n      this.rebuild();\n    }\n  }, onSetGraphProperty:function(name, oldValue, newValue) {\n    if (this.emitter) {\n      this.emitter[name] = newValue;\n      this.emitter.rebuildGraphs();\n      this.emitter.resetMaterial();\n    }\n  }, onEnable:function() {\n    var data = this.data;\n    for (var i = 0, len = ASSET_PROPERTIES.length;i < len;i++) {\n      var asset = data[ASSET_PROPERTIES[i]];\n      if (asset) {\n        if (!(asset instanceof pc.Asset)) {\n          var id = parseInt(asset, 10);\n          if (id >= 0) {\n            asset = this.system.app.assets.get(asset);\n          } else {\n            continue;\n          }\n        }\n        if (asset && !asset.resource) {\n          this.system.app.assets.load(asset);\n        }\n      }\n    }\n    if (!this.emitter) {\n      var mesh = data.mesh;\n      if (!(mesh instanceof pc.Mesh)) {\n        mesh = null;\n      }\n      this.emitter = new pc.ParticleEmitter(this.system.app.graphicsDevice, {numParticles:data.numParticles, emitterExtents:data.emitterExtents, emitterExtentsInner:data.emitterExtentsInner, emitterRadius:data.emitterRadius, emitterRadiusInner:data.emitterRadiusInner, emitterShape:data.emitterShape, initialVelocity:data.initialVelocity, wrap:data.wrap, localSpace:data.localSpace, wrapBounds:data.wrapBounds, lifetime:data.lifetime, rate:data.rate, rate2:data.rate2, orientation:data.orientation, particleNormal:data.particleNormal, \n      animTilesX:data.animTilesX, animTilesY:data.animTilesY, animNumFrames:data.animNumFrames, animSpeed:data.animSpeed, animLoop:data.animLoop, startAngle:data.startAngle, startAngle2:data.startAngle2, scaleGraph:data.scaleGraph, scaleGraph2:data.scaleGraph2, colorGraph:data.colorGraph, colorGraph2:data.colorGraph2, alphaGraph:data.alphaGraph, alphaGraph2:data.alphaGraph2, localVelocityGraph:data.localVelocityGraph, localVelocityGraph2:data.localVelocityGraph2, velocityGraph:data.velocityGraph, \n      velocityGraph2:data.velocityGraph2, rotationSpeedGraph:data.rotationSpeedGraph, rotationSpeedGraph2:data.rotationSpeedGraph2, radialSpeedGraph:data.radialSpeedGraph, radialSpeedGraph2:data.radialSpeedGraph2, colorMap:data.colorMap, normalMap:data.normalMap, loop:data.loop, preWarm:data.preWarm, sort:data.sort, stretch:data.stretch, alignToMotion:data.alignToMotion, lighting:data.lighting, halfLambert:data.halfLambert, intensity:data.intensity, depthSoftening:data.depthSoftening, scene:this.system.app.scene, \n      mesh:mesh, depthWrite:data.depthWrite, noFog:data.noFog, node:this.entity, blendType:data.blendType});\n      this.emitter.meshInstance.node = this.entity;\n      this.psys = new pc.Model;\n      this.psys.graph = this.entity;\n      this.psys.emitter = this.emitter;\n      this.psys.meshInstances = [this.emitter.meshInstance];\n      data.model = this.psys;\n      this.emitter.psys = this.psys;\n      if (!data.autoPlay) {\n        this.pause();\n        this.emitter.meshInstance.visible = false;\n      }\n    }\n    if (data.model && this.emitter.colorMap) {\n      this.addModelToLayers();\n    }\n    this.system.app.scene.on(\"set:layers\", this.onLayersChanged, this);\n    if (this.system.app.scene.layers) {\n      this.system.app.scene.layers.on(\"add\", this.onLayerAdded, this);\n      this.system.app.scene.layers.on(\"remove\", this.onLayerRemoved, this);\n    }\n    if (this.enabled && this.entity.enabled && data.depthSoftening) {\n      this._requestDepth();\n    }\n  }, onDisable:function() {\n    this.system.app.scene.off(\"set:layers\", this.onLayersChanged, this);\n    if (this.system.app.scene.layers) {\n      this.system.app.scene.layers.off(\"add\", this.onLayerAdded, this);\n      this.system.app.scene.layers.off(\"remove\", this.onLayerRemoved, this);\n    }\n    if (this.data.model) {\n      this.removeModelFromLayers();\n      if (this.data.depthSoftening) {\n        this._releaseDepth();\n      }\n    }\n    if (this.emitter) {\n      this.emitter.camera = null;\n    }\n  }, reset:function() {\n    if (this.emitter) {\n      this.emitter.reset();\n    }\n  }, stop:function() {\n    if (this.emitter) {\n      this.emitter.loop = false;\n      this.emitter.resetTime();\n      this.emitter.addTime(0, true);\n    }\n  }, pause:function() {\n    this.data.paused = true;\n  }, unpause:function() {\n    this.data.paused = false;\n  }, play:function() {\n    this.data.paused = false;\n    if (this.emitter) {\n      this.emitter.meshInstance.visible = true;\n      this.emitter.loop = this.data.loop;\n      this.emitter.resetTime();\n    }\n  }, isPlaying:function() {\n    if (this.data.paused) {\n      return false;\n    }\n    if (this.emitter && this.emitter.loop) {\n      return true;\n    }\n    return Date.now() <= this.emitter.endTime;\n  }, rebuild:function() {\n    var enabled = this.enabled;\n    this.enabled = false;\n    if (this.emitter) {\n      this.emitter.rebuild();\n      this.emitter.meshInstance.node = this.entity;\n      this.data.model.meshInstances = [this.emitter.meshInstance];\n    }\n    this.enabled = enabled;\n  }, onRemove:function() {\n    var data = this.data;\n    if (data.model) {\n      this.entity.removeChild(data.model.getGraph());\n      data.model.destroy();\n      data.model = null;\n    }\n    if (this.emitter) {\n      this.emitter.destroy();\n      this.emitter = null;\n    }\n    for (var i = 0;i < ASSET_PROPERTIES.length;i++) {\n      var prop = ASSET_PROPERTIES[i];\n      if (data[prop]) {\n        this[prop] = null;\n      }\n    }\n    this.off();\n  }});\n  return {ParticleSystemComponent:ParticleSystemComponent};\n}());\nObject.assign(pc, function() {\n  var _schema = [\"enabled\", \"autoPlay\", \"numParticles\", \"lifetime\", \"rate\", \"rate2\", \"startAngle\", \"startAngle2\", \"loop\", \"preWarm\", \"lighting\", \"halfLambert\", \"intensity\", \"depthWrite\", \"noFog\", \"depthSoftening\", \"sort\", \"blendType\", \"stretch\", \"alignToMotion\", \"emitterShape\", \"emitterExtents\", \"emitterExtentsInner\", \"emitterRadius\", \"emitterRadiusInner\", \"initialVelocity\", \"wrap\", \"wrapBounds\", \"localSpace\", \"colorMapAsset\", \"normalMapAsset\", \"mesh\", \"meshAsset\", \"orientation\", \"particleNormal\", \n  \"localVelocityGraph\", \"localVelocityGraph2\", \"velocityGraph\", \"velocityGraph2\", \"rotationSpeedGraph\", \"rotationSpeedGraph2\", \"radialSpeedGraph\", \"radialSpeedGraph2\", \"scaleGraph\", \"scaleGraph2\", \"colorGraph\", \"colorGraph2\", \"alphaGraph\", \"alphaGraph2\", \"colorMap\", \"normalMap\", \"animTilesX\", \"animTilesY\", \"animNumFrames\", \"animSpeed\", \"animLoop\", \"layers\"];\n  var ParticleSystemComponentSystem = function ParticleSystemComponentSystem(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"particlesystem\";\n    this.description = \"Updates and renders particle system in the scene.\";\n    this.ComponentType = pc.ParticleSystemComponent;\n    this.DataType = pc.ParticleSystemComponentData;\n    this.schema = _schema;\n    this.propertyTypes = {emitterExtents:\"vec3\", emitterExtentsInner:\"vec3\", particleNormal:\"vec3\", wrapBounds:\"vec3\", localVelocityGraph:\"curveset\", localVelocityGraph2:\"curveset\", velocityGraph:\"curveset\", velocityGraph2:\"curveset\", colorGraph:\"curveset\", colorGraph2:\"curveset\", alphaGraph:\"curve\", alphaGraph2:\"curve\", rotationSpeedGraph:\"curve\", rotationSpeedGraph2:\"curve\", radialSpeedGraph:\"curve\", radialSpeedGraph2:\"curve\", scaleGraph:\"curve\", scaleGraph2:\"curve\"};\n    this.on(\"beforeremove\", this.onRemove, this);\n    pc.ComponentSystem.bind(\"update\", this.onUpdate, this);\n  };\n  ParticleSystemComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  ParticleSystemComponentSystem.prototype.constructor = ParticleSystemComponentSystem;\n  pc.Component._buildAccessors(pc.ParticleSystemComponent.prototype, _schema);\n  Object.assign(ParticleSystemComponentSystem.prototype, {initializeComponentData:function(component, _data, properties) {\n    var data = {};\n    properties = [];\n    var types = this.propertyTypes;\n    var type;\n    if (_data.mesh instanceof pc.Asset || typeof _data.mesh === \"number\") {\n      _data.meshAsset = _data.mesh;\n      delete _data.mesh;\n    }\n    for (var prop in _data) {\n      if (_data.hasOwnProperty(prop)) {\n        properties.push(prop);\n        data[prop] = _data[prop];\n      }\n      if (types[prop] === \"vec3\") {\n        if (pc.type(data[prop]) === \"array\") {\n          data[prop] = new pc.Vec3(data[prop][0], data[prop][1], data[prop][2]);\n        }\n      } else {\n        if (types[prop] === \"curve\") {\n          if (!(data[prop] instanceof pc.Curve)) {\n            type = data[prop].type;\n            data[prop] = new pc.Curve(data[prop].keys);\n            data[prop].type = type;\n          }\n        } else {\n          if (types[prop] === \"curveset\") {\n            if (!(data[prop] instanceof pc.CurveSet)) {\n              type = data[prop].type;\n              data[prop] = new pc.CurveSet(data[prop].keys);\n              data[prop].type = type;\n            }\n          }\n        }\n      }\n      if (data.layers && pc.type(data.layers) === \"array\") {\n        data.layers = data.layers.slice(0);\n      }\n    }\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, data, properties);\n  }, cloneComponent:function(entity, clone) {\n    var source = entity.particlesystem.data;\n    var schema = this.schema;\n    var data = {};\n    for (var i = 0, len = schema.length;i < len;i++) {\n      var prop = schema[i];\n      var sourceProp = source[prop];\n      if (sourceProp instanceof pc.Vec3 || sourceProp instanceof pc.Curve || sourceProp instanceof pc.CurveSet) {\n        sourceProp = sourceProp.clone();\n        data[prop] = sourceProp;\n      } else {\n        if (prop === \"layers\") {\n          data.layers = source.layers.slice(0);\n        } else {\n          if (sourceProp !== null && sourceProp !== undefined) {\n            data[prop] = sourceProp;\n          }\n        }\n      }\n    }\n    return this.addComponent(clone, data);\n  }, onUpdate:function(dt) {\n    var components = this.store;\n    var numSteps, i, j, c;\n    var stats = this.app.stats.particles;\n    for (var id in components) {\n      if (components.hasOwnProperty(id)) {\n        c = components[id];\n        var entity = c.entity;\n        var data = c.data;\n        if (data.enabled && entity.enabled) {\n          var emitter = data.model.emitter;\n          if (!emitter.meshInstance.visible) {\n            continue;\n          }\n          if (emitter.lighting) {\n            var layer, lightCube;\n            var layers = data.layers;\n            for (i = 0;i < layers.length;i++) {\n              layer = this.app.scene.layers.getLayerById(layers[i]);\n              if (!layer) {\n                continue;\n              }\n              if (!layer._lightCube) {\n                layer._lightCube = new Float32Array(6 * 3);\n              }\n              lightCube = layer._lightCube;\n              for (i = 0;i < 6;i++) {\n                lightCube[i * 3] = this.app.scene.ambientLight.r;\n                lightCube[i * 3 + 1] = this.app.scene.ambientLight.g;\n                lightCube[i * 3 + 2] = this.app.scene.ambientLight.b;\n              }\n              var dirs = layer._sortedLights[pc.LIGHTTYPE_DIRECTIONAL];\n              for (j = 0;j < dirs.length;j++) {\n                for (c = 0;c < 6;c++) {\n                  var weight = Math.max(emitter.lightCubeDir[c].dot(dirs[j]._direction), 0) * dirs[j]._intensity;\n                  lightCube[c * 3] += dirs[j]._color.r * weight;\n                  lightCube[c * 3 + 1] += dirs[j]._color.g * weight;\n                  lightCube[c * 3 + 2] += dirs[j]._color.b * weight;\n                }\n              }\n            }\n            emitter.constantLightCube.setValue(lightCube);\n          }\n          if (!data.paused) {\n            emitter.simTime += dt;\n            if (emitter.simTime > emitter.fixedTimeStep) {\n              numSteps = Math.floor(emitter.simTime / emitter.fixedTimeStep);\n              emitter.simTime -= numSteps * emitter.fixedTimeStep;\n            }\n            if (numSteps) {\n              numSteps = Math.min(numSteps, emitter.maxSubSteps);\n              for (i = 0;i < numSteps;i++) {\n                emitter.addTime(emitter.fixedTimeStep, false);\n              }\n              stats._updatesPerFrame += numSteps;\n              stats._frameTime += emitter._addTimeTime;\n              emitter._addTimeTime = 0;\n            }\n            emitter.finishFrame();\n          }\n        }\n      }\n    }\n  }, onRemove:function(entity, component) {\n    component.onRemove();\n  }});\n  return {ParticleSystemComponentSystem:ParticleSystemComponentSystem};\n}());\nObject.assign(pc, function() {\n  var ParticleSystemComponentData = function() {\n    this.numParticles = 1;\n    this.rate = 1;\n    this.rate2 = null;\n    this.startAngle = 0;\n    this.startAngle2 = null;\n    this.lifetime = 50;\n    this.emitterExtents = new pc.Vec3;\n    this.emitterExtentsInner = new pc.Vec3;\n    this.emitterRadius = 0;\n    this.emitterRadiusInner = 0;\n    this.emitterShape = pc.EMITTERSHAPE_BOX;\n    this.initialVelocity = 0;\n    this.wrapBounds = new pc.Vec3;\n    this.localSpace = false;\n    this.colorMap = null;\n    this.colorMapAsset = null;\n    this.normalMap = null;\n    this.normalMapAsset = null;\n    this.loop = true;\n    this.preWarm = false;\n    this.sort = 0;\n    this.mode = pc.PARTICLEMODE_GPU;\n    this.scene = null;\n    this.lighting = false;\n    this.halfLambert = false;\n    this.intensity = 1;\n    this.stretch = 0.0;\n    this.alignToMotion = false;\n    this.depthSoftening = 0;\n    this.meshAsset = null;\n    this.mesh = null;\n    this.depthWrite = false;\n    this.noFog = false;\n    this.orientation = pc.PARTICLEORIENTATION_SCREEN;\n    this.particleNormal = new pc.Vec3(0, 1, 0);\n    this.animTilesX = 1;\n    this.animTilesY = 1;\n    this.animNumFrames = 1;\n    this.animSpeed = 1;\n    this.animLoop = true;\n    this.scaleGraph = null;\n    this.scaleGraph2 = null;\n    this.colorGraph = null;\n    this.colorGraph2 = null;\n    this.alphaGraph = null;\n    this.alphaGraph2 = null;\n    this.localVelocityGraph = null;\n    this.localVelocityGraph2 = null;\n    this.velocityGraph = null;\n    this.velocityGraph2 = null;\n    this.rotationSpeedGraph = null;\n    this.rotationSpeedGraph2 = null;\n    this.radialSpeedGraph = null;\n    this.radialSpeedGraph2 = null;\n    this.blendType = pc.BLEND_NORMAL;\n    this.model = null;\n    this.enabled = true;\n    this.paused = false;\n    this.autoPlay = true;\n    this.layers = [pc.LAYERID_WORLD];\n  };\n  return {ParticleSystemComponentData:ParticleSystemComponentData};\n}());\nObject.assign(pc, function() {\n  var SpriteAnimationClip = function(component, data) {\n    pc.EventHandler.call(this);\n    this._component = component;\n    this._frame = 0;\n    this._sprite = null;\n    this._spriteAsset = null;\n    this.spriteAsset = data.spriteAsset;\n    this.name = data.name;\n    this.fps = data.fps || 0;\n    this.loop = data.loop || false;\n    this._playing = false;\n    this._paused = false;\n    this._time = 0;\n  };\n  SpriteAnimationClip.prototype = Object.create(pc.EventHandler.prototype);\n  SpriteAnimationClip.prototype.constructor = SpriteAnimationClip;\n  Object.assign(SpriteAnimationClip.prototype, {_onSpriteAssetAdded:function(asset) {\n    this._component.system.app.assets.off(\"add:\" + asset.id, this._onSpriteAssetAdded, this);\n    if (this._spriteAsset === asset.id) {\n      this._bindSpriteAsset(asset);\n    }\n  }, _bindSpriteAsset:function(asset) {\n    asset.on(\"load\", this._onSpriteAssetLoad, this);\n    asset.on(\"remove\", this._onSpriteAssetRemove, this);\n    if (asset.resource) {\n      this._onSpriteAssetLoad(asset);\n    } else {\n      this._component.system.app.assets.load(asset);\n    }\n  }, _unbindSpriteAsset:function(asset) {\n    asset.off(\"load\", this._onSpriteAssetLoad, this);\n    asset.off(\"remove\", this._onSpriteAssetRemove, this);\n    if (asset.resource && asset.resource.atlas) {\n      this._component.system.app.assets.off(\"load:\" + asset.data.textureAtlasAsset, this._onTextureAtlasLoad, this);\n    }\n  }, _onSpriteAssetLoad:function(asset) {\n    if (!asset.resource) {\n      this.sprite = null;\n    } else {\n      if (!asset.resource.atlas) {\n        var atlasAssetId = asset.data.textureAtlasAsset;\n        var assets = this._component.system.app.assets;\n        assets.off(\"load:\" + atlasAssetId, this._onTextureAtlasLoad, this);\n        assets.once(\"load:\" + atlasAssetId, this._onTextureAtlasLoad, this);\n      } else {\n        this.sprite = asset.resource;\n      }\n    }\n  }, _onTextureAtlasLoad:function(atlasAsset) {\n    var spriteAsset = this._spriteAsset;\n    if (spriteAsset instanceof pc.Asset) {\n      this._onSpriteAssetLoad(spriteAsset);\n    } else {\n      this._onSpriteAssetLoad(this._component.system.app.assets.get(spriteAsset));\n    }\n  }, _onSpriteAssetRemove:function(asset) {\n    this.sprite = null;\n  }, _onSpriteMeshesChange:function() {\n    if (this._component.currentClip === this) {\n      this._component._showFrame(this.frame);\n    }\n  }, _onSpritePpuChanged:function() {\n    if (this._component.currentClip === this) {\n      if (this.sprite.renderMode !== pc.SPRITE_RENDERMODE_SIMPLE) {\n        this._component._showFrame(this.frame);\n      }\n    }\n  }, _update:function(dt) {\n    if (this.fps === 0) {\n      return;\n    }\n    if (!this._playing || this._paused || !this._sprite) {\n      return;\n    }\n    var dir = this.fps < 0 ? -1 : 1;\n    var time = this._time + dt * this._component.speed * dir;\n    var duration = this.duration;\n    var end = time > duration || time < 0;\n    this._setTime(time);\n    var frame = this.frame;\n    if (this._sprite) {\n      frame = Math.floor(this._sprite.frameKeys.length * this._time / duration);\n    } else {\n      frame = 0;\n    }\n    if (frame !== this._frame) {\n      this._setFrame(frame);\n    }\n    if (end) {\n      if (this.loop) {\n        this.fire(\"loop\");\n        this._component.fire(\"loop\", this);\n      } else {\n        this._playing = false;\n        this._paused = false;\n        this.fire(\"end\");\n        this._component.fire(\"end\", this);\n      }\n    }\n  }, _setTime:function(value) {\n    this._time = value;\n    var duration = this.duration;\n    if (this._time < 0) {\n      if (this.loop) {\n        this._time = this._time % duration + duration;\n      } else {\n        this._time = 0;\n      }\n    } else {\n      if (this._time > duration) {\n        if (this.loop) {\n          this._time = this._time % duration;\n        } else {\n          this._time = duration;\n        }\n      }\n    }\n  }, _setFrame:function(value) {\n    if (this._sprite) {\n      this._frame = pc.math.clamp(value, 0, this._sprite.frameKeys.length - 1);\n    } else {\n      this._frame = value;\n    }\n    if (this._component.currentClip === this) {\n      this._component._showFrame(this._frame);\n    }\n  }, _destroy:function() {\n    if (this._sprite) {\n      this.sprite = null;\n    }\n    if (this._spriteAsset) {\n      this.spriteAsset = null;\n    }\n  }, play:function() {\n    if (this._playing) {\n      return;\n    }\n    this._playing = true;\n    this._paused = false;\n    this.frame = 0;\n    this.fire(\"play\");\n    this._component.fire(\"play\", this);\n  }, pause:function() {\n    if (!this._playing || this._paused) {\n      return;\n    }\n    this._paused = true;\n    this.fire(\"pause\");\n    this._component.fire(\"pause\", this);\n  }, resume:function() {\n    if (!this._paused) {\n      return;\n    }\n    this._paused = false;\n    this.fire(\"resume\");\n    this._component.fire(\"resume\", this);\n  }, stop:function() {\n    if (!this._playing) {\n      return;\n    }\n    this._playing = false;\n    this._paused = false;\n    this._time = 0;\n    this.frame = 0;\n    this.fire(\"stop\");\n    this._component.fire(\"stop\", this);\n  }});\n  Object.defineProperty(SpriteAnimationClip.prototype, \"spriteAsset\", {get:function() {\n    return this._spriteAsset;\n  }, set:function(value) {\n    var assets = this._component.system.app.assets;\n    var id = value;\n    if (value instanceof pc.Asset) {\n      id = value.id;\n    }\n    if (this._spriteAsset !== id) {\n      if (this._spriteAsset) {\n        var prev = assets.get(this._spriteAsset);\n        if (prev) {\n          this._unbindSpriteAsset(prev);\n        }\n      }\n      this._spriteAsset = id;\n      if (this._spriteAsset) {\n        var asset = assets.get(this._spriteAsset);\n        if (!asset) {\n          this.sprite = null;\n          assets.on(\"add:\" + this._spriteAsset, this._onSpriteAssetAdded, this);\n        } else {\n          this._bindSpriteAsset(asset);\n        }\n      } else {\n        this.sprite = null;\n      }\n    }\n  }});\n  Object.defineProperty(SpriteAnimationClip.prototype, \"sprite\", {get:function() {\n    return this._sprite;\n  }, set:function(value) {\n    if (this._sprite) {\n      this._sprite.off(\"set:meshes\", this._onSpriteMeshesChange, this);\n      this._sprite.off(\"set:pixelsPerUnit\", this._onSpritePpuChanged, this);\n      this._sprite.off(\"set:atlas\", this._onSpriteMeshesChange, this);\n      if (this._sprite.atlas) {\n        this._sprite.atlas.off(\"set:texture\", this._onSpriteMeshesChange, this);\n      }\n    }\n    this._sprite = value;\n    if (this._sprite) {\n      this._sprite.on(\"set:meshes\", this._onSpriteMeshesChange, this);\n      this._sprite.on(\"set:pixelsPerUnit\", this._onSpritePpuChanged, this);\n      this._sprite.on(\"set:atlas\", this._onSpriteMeshesChange, this);\n      if (this._sprite.atlas) {\n        this._sprite.atlas.on(\"set:texture\", this._onSpriteMeshesChange, this);\n      }\n    }\n    if (this._component.currentClip === this) {\n      var mi;\n      if (!value || !value.atlas) {\n        mi = this._component._meshInstance;\n        if (mi) {\n          mi.deleteParameter(\"texture_emissiveMap\");\n          mi.deleteParameter(\"texture_opacityMap\");\n        }\n        this._component._hideModel();\n      } else {\n        if (value.atlas.texture) {\n          mi = this._component._meshInstance;\n          if (mi) {\n            mi.setParameter(\"texture_emissiveMap\", value.atlas.texture);\n            mi.setParameter(\"texture_opacityMap\", value.atlas.texture);\n          }\n          if (this._component.enabled && this._component.entity.enabled) {\n            this._component._showModel();\n          }\n        }\n        if (this.time && this.fps) {\n          this.time = this.time;\n        } else {\n          this.frame = this.frame;\n        }\n      }\n    }\n  }});\n  Object.defineProperty(SpriteAnimationClip.prototype, \"frame\", {get:function() {\n    return this._frame;\n  }, set:function(value) {\n    this._setFrame(value);\n    var fps = this.fps || Number.MIN_VALUE;\n    this._setTime(this._frame / fps);\n  }});\n  Object.defineProperty(SpriteAnimationClip.prototype, \"isPlaying\", {get:function() {\n    return this._playing;\n  }});\n  Object.defineProperty(SpriteAnimationClip.prototype, \"isPaused\", {get:function() {\n    return this._paused;\n  }});\n  Object.defineProperty(SpriteAnimationClip.prototype, \"duration\", {get:function() {\n    if (this._sprite) {\n      var fps = this.fps || Number.MIN_VALUE;\n      return this._sprite.frameKeys.length / Math.abs(fps);\n    }\n    return 0;\n  }});\n  Object.defineProperty(SpriteAnimationClip.prototype, \"time\", {get:function() {\n    return this._time;\n  }, set:function(value) {\n    this._setTime(value);\n    if (this._sprite) {\n      this.frame = Math.min(this._sprite.frameKeys.length - 1, Math.floor(this._time * Math.abs(this.fps)));\n    } else {\n      this.frame = 0;\n    }\n  }});\n  return {SpriteAnimationClip:SpriteAnimationClip};\n}());\nObject.assign(pc, function() {\n  pc.SPRITETYPE_SIMPLE = \"simple\";\n  pc.SPRITETYPE_ANIMATED = \"animated\";\n  var PARAM_EMISSIVE_MAP = \"texture_emissiveMap\";\n  var PARAM_OPACITY_MAP = \"texture_opacityMap\";\n  var PARAM_EMISSIVE = \"material_emissive\";\n  var PARAM_OPACITY = \"material_opacity\";\n  var PARAM_INNER_OFFSET = \"innerOffset\";\n  var PARAM_OUTER_SCALE = \"outerScale\";\n  var PARAM_ATLAS_RECT = \"atlasRect\";\n  var SpriteComponent = function SpriteComponent(system, entity) {\n    pc.Component.call(this, system, entity);\n    this._type = pc.SPRITETYPE_SIMPLE;\n    this._material = system.defaultMaterial;\n    this._color = new pc.Color(1, 1, 1, 1);\n    this._colorUniform = new Float32Array(3);\n    this._speed = 1;\n    this._flipX = false;\n    this._flipY = false;\n    this._width = 1;\n    this._height = 1;\n    this._drawOrder = 0;\n    this._layers = [pc.LAYERID_WORLD];\n    this._outerScale = new pc.Vec2(1, 1);\n    this._outerScaleUniform = new Float32Array(2);\n    this._innerOffset = new pc.Vec4;\n    this._innerOffsetUniform = new Float32Array(4);\n    this._atlasRect = new pc.Vec4;\n    this._atlasRectUniform = new Float32Array(4);\n    this._batchGroupId = -1;\n    this._batchGroup = null;\n    this._node = new pc.GraphNode;\n    this._model = new pc.Model;\n    this._model.graph = this._node;\n    this._meshInstance = null;\n    entity.addChild(this._model.graph);\n    this._model._entity = entity;\n    this._updateAabbFunc = this._updateAabb.bind(this);\n    this._addedModel = false;\n    this._autoPlayClip = null;\n    this._clips = {};\n    this._defaultClip = new pc.SpriteAnimationClip(this, {name:this.entity.name, fps:0, loop:false, spriteAsset:null});\n    this._currentClip = this._defaultClip;\n  };\n  SpriteComponent.prototype = Object.create(pc.Component.prototype);\n  SpriteComponent.prototype.constructor = SpriteComponent;\n  Object.assign(SpriteComponent.prototype, {onEnable:function() {\n    var app = this.system.app;\n    var scene = app.scene;\n    scene.on(\"set:layers\", this._onLayersChanged, this);\n    if (scene.layers) {\n      scene.layers.on(\"add\", this._onLayerAdded, this);\n      scene.layers.on(\"remove\", this._onLayerRemoved, this);\n    }\n    this._showModel();\n    if (this._autoPlayClip) {\n      this._tryAutoPlay();\n    }\n    if (this._batchGroupId >= 0) {\n      app.batcher.insert(pc.BatchGroup.SPRITE, this._batchGroupId, this.entity);\n    }\n  }, onDisable:function() {\n    var app = this.system.app;\n    var scene = app.scene;\n    scene.off(\"set:layers\", this._onLayersChanged, this);\n    if (scene.layers) {\n      scene.layers.off(\"add\", this._onLayerAdded, this);\n      scene.layers.off(\"remove\", this._onLayerRemoved, this);\n    }\n    this.stop();\n    this._hideModel();\n    if (this._batchGroupId >= 0) {\n      app.batcher.remove(pc.BatchGroup.SPRITE, this._batchGroupId, this.entity);\n    }\n  }, onDestroy:function() {\n    this._currentClip = null;\n    if (this._defaultClip) {\n      this._defaultClip._destroy();\n      this._defaultClip = null;\n    }\n    for (var key in this._clips) {\n      this._clips[key]._destroy();\n    }\n    this._clips = null;\n    this._hideModel();\n    this._model = null;\n    if (this._node) {\n      if (this._node.parent) {\n        this._node.parent.removeChild(this._node);\n      }\n      this._node = null;\n    }\n    if (this._meshInstance) {\n      this._meshInstance.material = null;\n      this._meshInstance.mesh = null;\n      this._meshInstance = null;\n    }\n  }, _showModel:function() {\n    if (this._addedModel) {\n      return;\n    }\n    if (!this._meshInstance) {\n      return;\n    }\n    var i;\n    var len;\n    var meshInstances = [this._meshInstance];\n    for (i = 0, len = this._layers.length;i < len;i++) {\n      var layer = this.system.app.scene.layers.getLayerById(this._layers[i]);\n      if (layer) {\n        layer.addMeshInstances(meshInstances);\n      }\n    }\n    this._addedModel = true;\n  }, _hideModel:function() {\n    if (!this._addedModel || !this._meshInstance) {\n      return;\n    }\n    var i;\n    var len;\n    var meshInstances = [this._meshInstance];\n    for (i = 0, len = this._layers.length;i < len;i++) {\n      var layer = this.system.app.scene.layers.getLayerById(this._layers[i]);\n      if (layer) {\n        layer.removeMeshInstances(meshInstances);\n      }\n    }\n    this._addedModel = false;\n  }, _showFrame:function(frame) {\n    if (!this.sprite) {\n      return;\n    }\n    var mesh = this.sprite.meshes[frame];\n    if (!mesh) {\n      if (this._meshInstance) {\n        this._meshInstance.mesh = null;\n        this._meshInstance.visible = false;\n      }\n      return;\n    }\n    var material = this.system.defaultMaterial;\n    if (this.sprite.renderMode === pc.SPRITE_RENDERMODE_SLICED) {\n      material = this.system.default9SlicedMaterialSlicedMode;\n    } else {\n      if (this.sprite.renderMode === pc.SPRITE_RENDERMODE_TILED) {\n        material = this.system.default9SlicedMaterialTiledMode;\n      }\n    }\n    if (!this._meshInstance) {\n      this._meshInstance = new pc.MeshInstance(this._node, mesh, this._material);\n      this._meshInstance.castShadow = false;\n      this._meshInstance.receiveShadow = false;\n      this._meshInstance.drawOrder = this._drawOrder;\n      this._model.meshInstances.push(this._meshInstance);\n      this._colorUniform[0] = this._color.r;\n      this._colorUniform[1] = this._color.g;\n      this._colorUniform[2] = this._color.b;\n      this._meshInstance.setParameter(PARAM_EMISSIVE, this._colorUniform);\n      this._meshInstance.setParameter(PARAM_OPACITY, this._color.a);\n      if (this.enabled && this.entity.enabled) {\n        this._showModel();\n      }\n    }\n    if (this._meshInstance.material !== material) {\n      this._meshInstance.material = material;\n    }\n    if (this._meshInstance.mesh !== mesh) {\n      this._meshInstance.mesh = mesh;\n      this._meshInstance.visible = true;\n      this._meshInstance._aabbVer = -1;\n    }\n    if (this.sprite.atlas && this.sprite.atlas.texture) {\n      this._meshInstance.setParameter(PARAM_EMISSIVE_MAP, this.sprite.atlas.texture);\n      this._meshInstance.setParameter(PARAM_OPACITY_MAP, this.sprite.atlas.texture);\n    } else {\n      this._meshInstance.deleteParameter(PARAM_EMISSIVE_MAP);\n      this._meshInstance.deleteParameter(PARAM_OPACITY_MAP);\n    }\n    if (this.sprite.atlas && (this.sprite.renderMode === pc.SPRITE_RENDERMODE_SLICED || this.sprite.renderMode === pc.SPRITE_RENDERMODE_TILED)) {\n      this._meshInstance._updateAabbFunc = this._updateAabbFunc;\n      var frameData = this.sprite.atlas.frames[this.sprite.frameKeys[frame]];\n      if (frameData) {\n        var borderWidthScale = 2 / frameData.rect.z;\n        var borderHeightScale = 2 / frameData.rect.w;\n        this._innerOffset.set(frameData.border.x * borderWidthScale, frameData.border.y * borderHeightScale, frameData.border.z * borderWidthScale, frameData.border.w * borderHeightScale);\n        var tex = this.sprite.atlas.texture;\n        this._atlasRect.set(frameData.rect.x / tex.width, frameData.rect.y / tex.height, frameData.rect.z / tex.width, frameData.rect.w / tex.height);\n      } else {\n        this._innerOffset.set(0, 0, 0, 0);\n      }\n      this._innerOffsetUniform[0] = this._innerOffset.x;\n      this._innerOffsetUniform[1] = this._innerOffset.y;\n      this._innerOffsetUniform[2] = this._innerOffset.z;\n      this._innerOffsetUniform[3] = this._innerOffset.w;\n      this._meshInstance.setParameter(PARAM_INNER_OFFSET, this._innerOffsetUniform);\n      this._atlasRectUniform[0] = this._atlasRect.x;\n      this._atlasRectUniform[1] = this._atlasRect.y;\n      this._atlasRectUniform[2] = this._atlasRect.z;\n      this._atlasRectUniform[3] = this._atlasRect.w;\n      this._meshInstance.setParameter(PARAM_ATLAS_RECT, this._atlasRectUniform);\n    } else {\n      this._meshInstance._updateAabbFunc = null;\n    }\n    this._updateTransform();\n  }, _updateTransform:function() {\n    var scaleX = this.flipX ? -1 : 1;\n    var scaleY = this.flipY ? -1 : 1;\n    var posX = 0;\n    var posY = 0;\n    if (this.sprite && (this.sprite.renderMode === pc.SPRITE_RENDERMODE_SLICED || this.sprite.renderMode === pc.SPRITE_RENDERMODE_TILED)) {\n      var w = 1;\n      var h = 1;\n      if (this.sprite.atlas) {\n        var frameData = this.sprite.atlas.frames[this.sprite.frameKeys[this.frame]];\n        if (frameData) {\n          w = frameData.rect.z;\n          h = frameData.rect.w;\n          posX = (0.5 - frameData.pivot.x) * this._width;\n          posY = (0.5 - frameData.pivot.y) * this._height;\n        }\n      }\n      var scaleMulX = w / this.sprite.pixelsPerUnit;\n      var scaleMulY = h / this.sprite.pixelsPerUnit;\n      this._outerScale.set(Math.max(this._width, this._innerOffset.x * scaleMulX), Math.max(this._height, this._innerOffset.y * scaleMulY));\n      scaleX *= scaleMulX;\n      scaleY *= scaleMulY;\n      this._outerScale.x /= scaleMulX;\n      this._outerScale.y /= scaleMulY;\n      scaleX *= pc.math.clamp(this._width / (this._innerOffset.x * scaleMulX), 0.0001, 1);\n      scaleY *= pc.math.clamp(this._height / (this._innerOffset.y * scaleMulY), 0.0001, 1);\n      if (this._meshInstance) {\n        this._outerScaleUniform[0] = this._outerScale.x;\n        this._outerScaleUniform[1] = this._outerScale.y;\n        this._meshInstance.setParameter(PARAM_OUTER_SCALE, this._outerScaleUniform, 4294967295);\n      }\n    }\n    this._node.setLocalScale(scaleX, scaleY, 1);\n    this._node.setLocalPosition(posX, posY, 0);\n  }, _updateAabb:function(aabb) {\n    aabb.center.set(0, 0, 0);\n    aabb.halfExtents.set(this._outerScale.x * 0.5, this._outerScale.y * 0.5, 0.001);\n    aabb.setFromTransformedAabb(aabb, this._node.getWorldTransform());\n    return aabb;\n  }, _tryAutoPlay:function() {\n    if (!this._autoPlayClip) {\n      return;\n    }\n    if (this.type !== pc.SPRITETYPE_ANIMATED) {\n      return;\n    }\n    var clip = this._clips[this._autoPlayClip];\n    if (clip && !clip.isPlaying && (!this._currentClip || !this._currentClip.isPlaying)) {\n      if (this.enabled && this.entity.enabled) {\n        this.play(clip.name);\n      }\n    }\n  }, _onLayersChanged:function(oldComp, newComp) {\n    oldComp.off(\"add\", this.onLayerAdded, this);\n    oldComp.off(\"remove\", this.onLayerRemoved, this);\n    newComp.on(\"add\", this.onLayerAdded, this);\n    newComp.on(\"remove\", this.onLayerRemoved, this);\n    if (this.enabled && this.entity.enabled) {\n      this._showModel();\n    }\n  }, _onLayerAdded:function(layer) {\n    var index = this.layers.indexOf(layer.id);\n    if (index < 0) {\n      return;\n    }\n    if (this._addedModel && this.enabled && this.entity.enabled && this._meshInstance) {\n      layer.addMeshInstances([this._meshInstance]);\n    }\n  }, _onLayerRemoved:function(layer) {\n    if (!this._meshInstance) {\n      return;\n    }\n    var index = this.layers.indexOf(layer.id);\n    if (index < 0) {\n      return;\n    }\n    layer.removeMeshInstances([this._meshInstance]);\n  }, removeModelFromLayers:function() {\n    var layer;\n    for (var i = 0;i < this.layers.length;i++) {\n      layer = this.system.app.scene.layers.getLayerById(this.layers[i]);\n      if (!layer) {\n        continue;\n      }\n      layer.removeMeshInstances([this._meshInstance]);\n    }\n  }, addClip:function(data) {\n    var clip = new pc.SpriteAnimationClip(this, {name:data.name, fps:data.fps, loop:data.loop, spriteAsset:data.spriteAsset});\n    this._clips[data.name] = clip;\n    if (clip.name && clip.name === this._autoPlayClip) {\n      this._tryAutoPlay();\n    }\n    return clip;\n  }, removeClip:function(name) {\n    delete this._clips[name];\n  }, clip:function(name) {\n    return this._clips[name];\n  }, play:function(name) {\n    var clip = this._clips[name];\n    var current = this._currentClip;\n    if (current && current !== clip) {\n      current._playing = false;\n    }\n    this._currentClip = clip;\n    if (this._currentClip) {\n      this._currentClip = clip;\n      this._currentClip.play();\n    } else {\n      logWARNING(\"Trying to play sprite animation \" + name + \" which does not exist.\");\n    }\n    return clip;\n  }, pause:function() {\n    if (this._currentClip === this._defaultClip) {\n      return;\n    }\n    if (this._currentClip.isPlaying) {\n      this._currentClip.pause();\n    }\n  }, resume:function() {\n    if (this._currentClip === this._defaultClip) {\n      return;\n    }\n    if (this._currentClip.isPaused) {\n      this._currentClip.resume();\n    }\n  }, stop:function() {\n    if (this._currentClip === this._defaultClip) {\n      return;\n    }\n    this._currentClip.stop();\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"type\", {get:function() {\n    return this._type;\n  }, set:function(value) {\n    if (this._type === value) {\n      return;\n    }\n    this._type = value;\n    if (this._type === pc.SPRITETYPE_SIMPLE) {\n      this.stop();\n      this._currentClip = this._defaultClip;\n      if (this.enabled && this.entity.enabled) {\n        this._currentClip.frame = this.frame;\n        if (this._currentClip.sprite) {\n          this._showModel();\n        } else {\n          this._hideModel();\n        }\n      }\n    } else {\n      if (this._type === pc.SPRITETYPE_ANIMATED) {\n        this.stop();\n        if (this._autoPlayClip) {\n          this._tryAutoPlay();\n        }\n        if (this._currentClip && this._currentClip.isPlaying && this.enabled && this.entity.enabled) {\n          this._showModel();\n        } else {\n          this._hideModel();\n        }\n      }\n    }\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"frame\", {get:function() {\n    return this._currentClip.frame;\n  }, set:function(value) {\n    this._currentClip.frame = value;\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"spriteAsset\", {get:function() {\n    return this._defaultClip._spriteAsset;\n  }, set:function(value) {\n    this._defaultClip.spriteAsset = value;\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"sprite\", {get:function() {\n    return this._currentClip.sprite;\n  }, set:function(value) {\n    this._currentClip.sprite = value;\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"material\", {get:function() {\n    return this._material;\n  }, set:function(value) {\n    this._material = value;\n    if (this._meshInstance) {\n      this._meshInstance.material = value;\n    }\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"color\", {get:function() {\n    return this._color;\n  }, set:function(value) {\n    this._color.r = value.r;\n    this._color.g = value.g;\n    this._color.b = value.b;\n    if (this._meshInstance) {\n      this._colorUniform[0] = this._color.r;\n      this._colorUniform[1] = this._color.g;\n      this._colorUniform[2] = this._color.b;\n      this._meshInstance.setParameter(PARAM_EMISSIVE, this._colorUniform);\n    }\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"opacity\", {get:function() {\n    return this._color.a;\n  }, set:function(value) {\n    this._color.a = value;\n    if (this._meshInstance) {\n      this._meshInstance.setParameter(PARAM_OPACITY, value);\n    }\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"clips\", {get:function() {\n    return this._clips;\n  }, set:function(value) {\n    var name, key;\n    if (!value) {\n      for (name in this._clips) {\n        this.removeClip(name);\n      }\n      return;\n    }\n    for (name in this._clips) {\n      var found = false;\n      for (key in value) {\n        if (value[key].name === name) {\n          found = true;\n          this._clips[name].fps = value[key].fps;\n          this._clips[name].loop = value[key].loop;\n          if (value[key].hasOwnProperty(\"sprite\")) {\n            this._clips[name].sprite = value[key].sprite;\n          } else {\n            if (value[key].hasOwnProperty(\"spriteAsset\")) {\n              this._clips[name].spriteAsset = value[key].spriteAsset;\n            }\n          }\n          break;\n        }\n      }\n      if (!found) {\n        this.removeClip(name);\n      }\n    }\n    for (key in value) {\n      if (this._clips[value[key].name]) {\n        continue;\n      }\n      this.addClip(value[key]);\n    }\n    if (this._autoPlayClip) {\n      this._tryAutoPlay();\n    }\n    if (!this._currentClip || !this._currentClip.sprite) {\n      this._hideModel();\n    }\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"currentClip\", {get:function() {\n    return this._currentClip;\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"speed\", {get:function() {\n    return this._speed;\n  }, set:function(value) {\n    this._speed = value;\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"flipX\", {get:function() {\n    return this._flipX;\n  }, set:function(value) {\n    if (this._flipX === value) {\n      return;\n    }\n    this._flipX = value;\n    this._updateTransform();\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"flipY\", {get:function() {\n    return this._flipY;\n  }, set:function(value) {\n    if (this._flipY === value) {\n      return;\n    }\n    this._flipY = value;\n    this._updateTransform();\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"width\", {get:function() {\n    return this._width;\n  }, set:function(value) {\n    if (value === this._width) {\n      return;\n    }\n    this._width = value;\n    this._outerScale.x = this._width;\n    if (this.sprite && (this.sprite.renderMode === pc.SPRITE_RENDERMODE_TILED || this.sprite.renderMode === pc.SPRITE_RENDERMODE_SLICED)) {\n      this._updateTransform();\n    }\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"height\", {get:function() {\n    return this._height;\n  }, set:function(value) {\n    if (value === this._height) {\n      return;\n    }\n    this._height = value;\n    this._outerScale.y = this.height;\n    if (this.sprite && (this.sprite.renderMode === pc.SPRITE_RENDERMODE_TILED || this.sprite.renderMode === pc.SPRITE_RENDERMODE_SLICED)) {\n      this._updateTransform();\n    }\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"batchGroupId\", {get:function() {\n    return this._batchGroupId;\n  }, set:function(value) {\n    if (this._batchGroupId === value) {\n      return;\n    }\n    var prev = this._batchGroupId;\n    this._batchGroupId = value;\n    if (this.entity.enabled && prev >= 0) {\n      this.system.app.batcher.remove(pc.BatchGroup.SPRITE, prev, this.entity);\n    }\n    if (this.entity.enabled && value >= 0) {\n      this.system.app.batcher.insert(pc.BatchGroup.SPRITE, value, this.entity);\n    } else {\n      if (prev >= 0) {\n        if (this._currentClip && this._currentClip.sprite && this.enabled && this.entity.enabled) {\n          this._showModel();\n        }\n      }\n    }\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"autoPlayClip\", {get:function() {\n    return this._autoPlayClip;\n  }, set:function(value) {\n    this._autoPlayClip = value instanceof pc.SpriteAnimationClip ? value.name : value;\n    this._tryAutoPlay();\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"drawOrder\", {get:function() {\n    return this._drawOrder;\n  }, set:function(value) {\n    this._drawOrder = value;\n    if (this._meshInstance) {\n      this._meshInstance.drawOrder = value;\n    }\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"layers\", {get:function() {\n    return this._layers;\n  }, set:function(value) {\n    if (this._addedModel) {\n      this._hideModel();\n    }\n    this._layers = value;\n    if (!this._meshInstance) {\n      return;\n    }\n    if (this.enabled && this.entity.enabled) {\n      this._showModel();\n    }\n  }});\n  Object.defineProperty(SpriteComponent.prototype, \"aabb\", {get:function() {\n    if (this._meshInstance) {\n      return this._meshInstance.aabb;\n    }\n    return null;\n  }});\n  return {SpriteComponent:SpriteComponent};\n}());\nObject.assign(pc, function() {\n  var _schema = [\"enabled\"];\n  var SpriteComponentSystem = function SpriteComponentSystem(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"sprite\";\n    this.app = app;\n    this.ComponentType = pc.SpriteComponent;\n    this.DataType = pc.SpriteComponentData;\n    this.schema = _schema;\n    this._defaultTexture = new pc.Texture(app.graphicsDevice, {width:1, height:1, format:pc.PIXELFORMAT_R8_G8_B8_A8});\n    var pixels = this._defaultTexture.lock();\n    var pixelData = new Uint8Array(4);\n    pixelData[0] = 255.0;\n    pixelData[1] = 255.0;\n    pixelData[2] = 255.0;\n    pixelData[3] = 255.0;\n    pixels.set(pixelData);\n    this._defaultTexture.name = \"sprite\";\n    this._defaultTexture.unlock();\n    this.defaultMaterial = new pc.StandardMaterial;\n    this.defaultMaterial.diffuse = new pc.Color(0, 0, 0, 1);\n    this.defaultMaterial.emissive = new pc.Color(0.5, 0.5, 0.5, 1);\n    this.defaultMaterial.emissiveMap = this._defaultTexture;\n    this.defaultMaterial.emissiveMapTint = true;\n    this.defaultMaterial.opacityMap = this._defaultTexture;\n    this.defaultMaterial.opacityMapChannel = \"a\";\n    this.defaultMaterial.opacityTint = true;\n    this.defaultMaterial.opacity = 0;\n    this.defaultMaterial.useLighting = false;\n    this.defaultMaterial.useGammaTonemap = false;\n    this.defaultMaterial.useFog = false;\n    this.defaultMaterial.useSkybox = false;\n    this.defaultMaterial.blendType = pc.BLEND_PREMULTIPLIED;\n    this.defaultMaterial.depthWrite = false;\n    this.defaultMaterial.pixelSnap = false;\n    this.defaultMaterial.cull = pc.CULLFACE_NONE;\n    this.defaultMaterial.update();\n    this.default9SlicedMaterialSlicedMode = this.defaultMaterial.clone();\n    this.default9SlicedMaterialSlicedMode.nineSlicedMode = pc.SPRITE_RENDERMODE_SLICED;\n    this.default9SlicedMaterialSlicedMode.update();\n    this.default9SlicedMaterialTiledMode = this.defaultMaterial.clone();\n    this.default9SlicedMaterialTiledMode.nineSlicedMode = pc.SPRITE_RENDERMODE_TILED;\n    this.default9SlicedMaterialTiledMode.update();\n    pc.ComponentSystem.bind(\"update\", this.onUpdate, this);\n    this.on(\"beforeremove\", this.onBeforeRemove, this);\n  };\n  SpriteComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  SpriteComponentSystem.prototype.constructor = SpriteComponentSystem;\n  pc.Component._buildAccessors(pc.SpriteComponent.prototype, _schema);\n  Object.assign(SpriteComponentSystem.prototype, {destroy:function() {\n    this._defaultTexture.destroy();\n    this._defaultTexture = null;\n  }, initializeComponentData:function(component, data, properties) {\n    if (data.enabled !== undefined) {\n      component.enabled = data.enabled;\n    }\n    component.type = data.type;\n    if (data.layers && pc.type(data.layers) === \"array\") {\n      component.layers = data.layers.slice(0);\n    }\n    if (data.drawOrder !== undefined) {\n      component.drawOrder = data.drawOrder;\n    }\n    if (data.color !== undefined) {\n      if (data.color instanceof pc.Color) {\n        component.color.set(data.color.r, data.color.g, data.color.b, data.opacity !== undefined ? data.opacity : 1);\n      } else {\n        component.color.set(data.color[0], data.color[1], data.color[2], data.opacity !== undefined ? data.opacity : 1);\n      }\n      component.color = component.color;\n    }\n    if (data.opacity !== undefined) {\n      component.opacity = data.opacity;\n    }\n    if (data.flipX !== undefined) {\n      component.flipX = data.flipX;\n    }\n    if (data.flipY !== undefined) {\n      component.flipY = data.flipY;\n    }\n    if (data.width !== undefined) {\n      component.width = data.width;\n    }\n    if (data.height !== undefined) {\n      component.height = data.height;\n    }\n    if (data.spriteAsset !== undefined) {\n      component.spriteAsset = data.spriteAsset;\n    }\n    if (data.sprite) {\n      component.sprite = data.sprite;\n    }\n    if (data.frame !== undefined) {\n      component.frame = data.frame;\n    }\n    if (data.clips) {\n      for (var name in data.clips) {\n        component.addClip(data.clips[name]);\n      }\n    }\n    if (data.speed !== undefined) {\n      component.speed = data.speed;\n    }\n    if (data.autoPlayClip) {\n      component.autoPlayClip = data.autoPlayClip;\n    }\n    component.batchGroupId = data.batchGroupId === undefined || data.batchGroupId === null ? -1 : data.batchGroupId;\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, data, properties);\n  }, cloneComponent:function(entity, clone) {\n    var source = entity.sprite;\n    return this.addComponent(clone, {enabled:source.enabled, type:source.type, spriteAsset:source.spriteAsset, sprite:source.sprite, frame:source.frame, color:source.color.clone(), opacity:source.opacity, flipX:source.flipX, flipY:source.flipY, speed:source.speed, clips:source.clips, autoPlayClip:source.autoPlayClip, batchGroupId:source.batchGroupId, drawOrder:source.drawOrder, layers:source.layers.slice(0)});\n  }, onUpdate:function(dt) {\n    var components = this.store;\n    for (var id in components) {\n      if (components.hasOwnProperty(id)) {\n        var component = components[id];\n        if (component.data.enabled && component.entity.enabled) {\n          var sprite = component.entity.sprite;\n          if (sprite._currentClip) {\n            sprite._currentClip._update(dt);\n          }\n        }\n      }\n    }\n  }, onBeforeRemove:function(entity, component) {\n    component.onDestroy();\n  }});\n  return {SpriteComponentSystem:SpriteComponentSystem};\n}());\nObject.assign(pc, function() {\n  var SpriteComponentData = function() {\n    this.enabled = true;\n  };\n  return {SpriteComponentData:SpriteComponentData};\n}());\nObject.assign(pc, function() {\n  pc.SCALEMODE_NONE = \"none\";\n  pc.SCALEMODE_BLEND = \"blend\";\n  var ScreenComponent = function ScreenComponent(system, entity) {\n    pc.Component.call(this, system, entity);\n    this._resolution = new pc.Vec2(640, 320);\n    this._referenceResolution = new pc.Vec2(640, 320);\n    this._scaleMode = pc.SCALEMODE_NONE;\n    this.scale = 1;\n    this._scaleBlend = 0.5;\n    this._priority = 0;\n    this._screenSpace = false;\n    this.cull = this._screenSpace;\n    this._screenMatrix = new pc.Mat4;\n    system.app.graphicsDevice.on(\"resizecanvas\", this._onResize, this);\n  };\n  ScreenComponent.prototype = Object.create(pc.Component.prototype);\n  ScreenComponent.prototype.constructor = ScreenComponent;\n  var _transform = new pc.Mat4;\n  Object.assign(ScreenComponent.prototype, {syncDrawOrder:function() {\n    this.system.queueDrawOrderSync(this.entity.getGuid(), this._processDrawOrderSync, this);\n  }, _recurseDrawOrderSync:function(e, i) {\n    if (!(e instanceof pc.Entity)) {\n      return i;\n    }\n    if (e.element) {\n      var prevDrawOrder = e.element.drawOrder;\n      e.element.drawOrder = i++;\n      if (e.element._batchGroupId >= 0 && prevDrawOrder != e.element.drawOrder) {\n        this.system.app.batcher.markGroupDirty(e.element._batchGroupId);\n      }\n    }\n    var children = e.children;\n    for (var j = 0;j < children.length;j++) {\n      i = this._recurseDrawOrderSync(children[j], i);\n    }\n    return i;\n  }, _processDrawOrderSync:function() {\n    var i = 1;\n    this._recurseDrawOrderSync(this.entity, i);\n    this.fire(\"syncdraworder\");\n  }, _calcProjectionMatrix:function() {\n    var left;\n    var right;\n    var bottom;\n    var top;\n    var near = 1;\n    var far = -1;\n    var w = this._resolution.x / this.scale;\n    var h = this._resolution.y / this.scale;\n    left = 0;\n    right = w;\n    bottom = -h;\n    top = 0;\n    this._screenMatrix.setOrtho(left, right, bottom, top, near, far);\n    if (!this._screenSpace) {\n      _transform.setScale(0.5 * w, 0.5 * h, 1);\n      this._screenMatrix.mul2(_transform, this._screenMatrix);\n    }\n  }, _updateScale:function() {\n    this.scale = this._calcScale(this._resolution, this.referenceResolution);\n  }, _calcScale:function(resolution, referenceResolution) {\n    var lx = Math.log2(resolution.x / referenceResolution.x);\n    var ly = Math.log2(resolution.y / referenceResolution.y);\n    return Math.pow(2, lx * (1 - this._scaleBlend) + ly * this._scaleBlend);\n  }, _onResize:function(width, height) {\n    if (this._screenSpace) {\n      this._resolution.set(width, height);\n      this.resolution = this._resolution;\n    }\n  }, onRemove:function() {\n    this.system.app.graphicsDevice.off(\"resizecanvas\", this._onResize, this);\n    this.fire(\"remove\");\n    this.off();\n  }});\n  Object.defineProperty(ScreenComponent.prototype, \"resolution\", {set:function(value) {\n    if (!this._screenSpace) {\n      this._resolution.set(value.x, value.y);\n    } else {\n      this._resolution.set(this.system.app.graphicsDevice.width, this.system.app.graphicsDevice.height);\n    }\n    this._updateScale();\n    this._calcProjectionMatrix();\n    if (!this.entity._dirtyLocal) {\n      this.entity._dirtifyLocal();\n    }\n    this.fire(\"set:resolution\", this._resolution);\n  }, get:function() {\n    return this._resolution;\n  }});\n  Object.defineProperty(ScreenComponent.prototype, \"referenceResolution\", {set:function(value) {\n    this._referenceResolution.set(value.x, value.y);\n    this._updateScale();\n    this._calcProjectionMatrix();\n    if (!this.entity._dirtyLocal) {\n      this.entity._dirtifyLocal();\n    }\n    this.fire(\"set:referenceresolution\", this._resolution);\n  }, get:function() {\n    if (this._scaleMode === pc.SCALEMODE_NONE) {\n      return this._resolution;\n    }\n    return this._referenceResolution;\n  }});\n  Object.defineProperty(ScreenComponent.prototype, \"screenSpace\", {set:function(value) {\n    this._screenSpace = value;\n    if (this._screenSpace) {\n      this._resolution.set(this.system.app.graphicsDevice.width, this.system.app.graphicsDevice.height);\n    }\n    this.resolution = this._resolution;\n    if (!this.entity._dirtyLocal) {\n      this.entity._dirtifyLocal();\n    }\n    this.fire(\"set:screenspace\", this._screenSpace);\n  }, get:function() {\n    return this._screenSpace;\n  }});\n  Object.defineProperty(ScreenComponent.prototype, \"scaleMode\", {set:function(value) {\n    if (value !== pc.SCALEMODE_NONE && value !== pc.SCALEMODE_BLEND) {\n      value = pc.SCALEMODE_NONE;\n    }\n    if (!this._screenSpace && value !== pc.SCALEMODE_NONE) {\n      value = pc.SCALEMODE_NONE;\n    }\n    this._scaleMode = value;\n    this.resolution = this._resolution;\n    this.fire(\"set:scalemode\", this._scaleMode);\n  }, get:function() {\n    return this._scaleMode;\n  }});\n  Object.defineProperty(ScreenComponent.prototype, \"scaleBlend\", {set:function(value) {\n    this._scaleBlend = value;\n    this._updateScale();\n    this._calcProjectionMatrix();\n    if (!this.entity._dirtyLocal) {\n      this.entity._dirtifyLocal();\n    }\n    this.fire(\"set:scaleblend\", this._scaleBlend);\n  }, get:function() {\n    return this._scaleBlend;\n  }});\n  Object.defineProperty(ScreenComponent.prototype, \"priority\", {get:function() {\n    return this._priority;\n  }, set:function(value) {\n    if (value > 255) {\n      value = 255;\n    }\n    this._priority = value;\n  }});\n  return {ScreenComponent:ScreenComponent};\n}());\nObject.assign(pc, function() {\n  var _schema = [\"enabled\"];\n  var ScreenComponentSystem = function ScreenComponentSystem(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"screen\";\n    this.app = app;\n    this.ComponentType = pc.ScreenComponent;\n    this.DataType = pc.ScreenComponentData;\n    this.schema = _schema;\n    this.windowResolution = new pc.Vec2;\n    this._drawOrderSyncQueue = new pc.IndexedList;\n    this.app.graphicsDevice.on(\"resizecanvas\", this._onResize, this);\n    pc.ComponentSystem.bind(\"update\", this._onUpdate, this);\n    this.on(\"beforeremove\", this.onRemoveComponent, this);\n  };\n  ScreenComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  ScreenComponentSystem.prototype.constructor = ScreenComponentSystem;\n  pc.Component._buildAccessors(pc.ScreenComponent.prototype, _schema);\n  Object.assign(ScreenComponentSystem.prototype, {initializeComponentData:function(component, data, properties) {\n    if (data.priority !== undefined) {\n      component.priority = data.priority;\n    }\n    if (data.screenSpace !== undefined) {\n      component.screenSpace = data.screenSpace;\n    }\n    component.cull = component.screenSpace;\n    if (data.scaleMode !== undefined) {\n      component.scaleMode = data.scaleMode;\n    }\n    if (data.scaleBlend !== undefined) {\n      component.scaleBlend = data.scaleBlend;\n    }\n    if (data.resolution !== undefined) {\n      if (data.resolution instanceof pc.Vec2) {\n        component._resolution.copy(data.resolution);\n      } else {\n        component._resolution.set(data.resolution[0], data.resolution[1]);\n      }\n      component.resolution = component._resolution;\n    }\n    if (data.referenceResolution !== undefined) {\n      if (data.referenceResolution instanceof pc.Vec2) {\n        component._referenceResolution.copy(data.referenceResolution);\n      } else {\n        component._referenceResolution.set(data.referenceResolution[0], data.referenceResolution[1]);\n      }\n      component.referenceResolution = component._referenceResolution;\n    }\n    component.syncDrawOrder();\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, data, properties);\n  }, destroy:function() {\n    this.off();\n    this.app.graphicsDevice.off(\"resizecanvas\", this._onResize, this);\n  }, _onUpdate:function(dt) {\n    var components = this.store;\n    for (var id in components) {\n      if (components[id].entity.screen.update) {\n        components[id].entity.screen.update(dt);\n      }\n    }\n  }, _onResize:function(width, height) {\n    this.windowResolution.x = width;\n    this.windowResolution.y = height;\n  }, cloneComponent:function(entity, clone) {\n    var screen = entity.screen;\n    return this.addComponent(clone, {enabled:screen.enabled, screenSpace:screen.screenSpace, scaleMode:screen.scaleMode, resolution:screen.resolution.clone(), referenceResolution:screen.referenceResolution.clone()});\n  }, onRemoveComponent:function(entity, component) {\n    component.onRemove();\n  }, processDrawOrderSyncQueue:function() {\n    var list = this._drawOrderSyncQueue.list();\n    for (var i = 0;i < list.length;i++) {\n      var item = list[i];\n      item.callback.call(item.scope);\n    }\n    this._drawOrderSyncQueue.clear();\n  }, queueDrawOrderSync:function(id, fn, scope) {\n    if (!this._drawOrderSyncQueue.list().length) {\n      this.app.once(\"prerender\", this.processDrawOrderSyncQueue, this);\n    }\n    if (!this._drawOrderSyncQueue.has(id)) {\n      this._drawOrderSyncQueue.push(id, {callback:fn, scope:scope});\n    }\n  }});\n  return {ScreenComponentSystem:ScreenComponentSystem};\n}());\nObject.assign(pc, function() {\n  var ScreenComponentData = function() {\n    this.enabled = true;\n  };\n  return {ScreenComponentData:ScreenComponentData};\n}());\nObject.assign(pc, function() {\n  pc.ELEMENTTYPE_GROUP = \"group\";\n  pc.ELEMENTTYPE_IMAGE = \"image\";\n  pc.ELEMENTTYPE_TEXT = \"text\";\n  var vecA = new pc.Vec3;\n  var vecB = new pc.Vec3;\n  var matA = new pc.Mat4;\n  var matB = new pc.Mat4;\n  var matC = new pc.Mat4;\n  var matD = new pc.Mat4;\n  var ElementComponent = function ElementComponent(system, entity) {\n    pc.Component.call(this, system, entity);\n    this._beingInitialized = false;\n    this._anchor = new pc.Vec4;\n    this._localAnchor = new pc.Vec4;\n    this._pivot = new pc.Vec2;\n    this._width = this._calculatedWidth = 32;\n    this._height = this._calculatedHeight = 32;\n    this._margin = new pc.Vec4(0, 0, -32, -32);\n    this._modelTransform = new pc.Mat4;\n    this._screenToWorld = new pc.Mat4;\n    this._anchorTransform = new pc.Mat4;\n    this._anchorDirty = true;\n    this._parentWorldTransform = new pc.Mat4;\n    this._screenTransform = new pc.Mat4;\n    this._screenCorners = [new pc.Vec3, new pc.Vec3, new pc.Vec3, new pc.Vec3];\n    this._canvasCorners = [new pc.Vec2, new pc.Vec2, new pc.Vec2, new pc.Vec2];\n    this._worldCorners = [new pc.Vec3, new pc.Vec3, new pc.Vec3, new pc.Vec3];\n    this._cornersDirty = true;\n    this._canvasCornersDirty = true;\n    this._worldCornersDirty = true;\n    this.entity.on(\"insert\", this._onInsert, this);\n    this._patch();\n    this.screen = null;\n    this._type = pc.ELEMENTTYPE_GROUP;\n    this._image = null;\n    this._text = null;\n    this._group = null;\n    this._drawOrder = 0;\n    this._useInput = false;\n    this._layers = [pc.LAYERID_UI];\n    this._addedModels = [];\n    this._batchGroupId = -1;\n    this._offsetReadAt = 0;\n    this._maskOffset = 0.5;\n    this._maskedBy = null;\n  };\n  ElementComponent.prototype = Object.create(pc.Component.prototype);\n  ElementComponent.prototype.constructor = ElementComponent;\n  Object.assign(ElementComponent.prototype, {_patch:function() {\n    this.entity._sync = this._sync;\n    this.entity.setPosition = this._setPosition;\n    this.entity.setLocalPosition = this._setLocalPosition;\n  }, _unpatch:function() {\n    this.entity._sync = pc.Entity.prototype._sync;\n    this.entity.setPosition = pc.Entity.prototype.setPosition;\n    this.entity.setLocalPosition = pc.Entity.prototype.setLocalPosition;\n  }, _setPosition:function() {\n    var position = new pc.Vec3;\n    var invParentWtm = new pc.Mat4;\n    return function(x, y, z) {\n      if (!this.element.screen) {\n        return pc.Entity.prototype.setPosition.call(this, x, y, z);\n      }\n      if (x instanceof pc.Vec3) {\n        position.copy(x);\n      } else {\n        position.set(x, y, z);\n      }\n      this.getWorldTransform();\n      invParentWtm.copy(this.element._screenToWorld).invert();\n      invParentWtm.transformPoint(position, this.localPosition);\n      if (!this._dirtyLocal) {\n        this._dirtifyLocal();\n      }\n    };\n  }(), _setLocalPosition:function(x, y, z) {\n    if (x instanceof pc.Vec3) {\n      this.localPosition.copy(x);\n    } else {\n      this.localPosition.set(x, y, z);\n    }\n    var element = this.element;\n    var p = this.localPosition;\n    var pvt = element._pivot;\n    element._margin.x = p.x - element._calculatedWidth * pvt.x;\n    element._margin.z = element._localAnchor.z - element._localAnchor.x - element._calculatedWidth - element._margin.x;\n    element._margin.y = p.y - element._calculatedHeight * pvt.y;\n    element._margin.w = element._localAnchor.w - element._localAnchor.y - element._calculatedHeight - element._margin.y;\n    if (!this._dirtyLocal) {\n      this._dirtifyLocal();\n    }\n  }, _sync:function() {\n    var element = this.element;\n    var screen = element.screen;\n    if (screen) {\n      if (element._anchorDirty) {\n        var resx = 0;\n        var resy = 0;\n        var px = 0;\n        var py = 1;\n        if (this._parent && this._parent.element) {\n          resx = this._parent.element.calculatedWidth;\n          resy = this._parent.element.calculatedHeight;\n          px = this._parent.element.pivot.x;\n          py = this._parent.element.pivot.y;\n        } else {\n          var resolution = screen.screen.resolution;\n          resx = resolution.x / screen.screen.scale;\n          resy = resolution.y / screen.screen.scale;\n        }\n        element._anchorTransform.setTranslate(resx * (element.anchor.x - px), -(resy * (py - element.anchor.y)), 0);\n        element._anchorDirty = false;\n        element._calculateLocalAnchors();\n      }\n      if (element._sizeDirty) {\n        element._calculateSize(false, false);\n      }\n    }\n    if (this._dirtyLocal) {\n      this.localTransform.setTRS(this.localPosition, this.localRotation, this.localScale);\n      var p = this.localPosition;\n      var pvt = element._pivot;\n      element._margin.x = p.x - element._calculatedWidth * pvt.x;\n      element._margin.z = element._localAnchor.z - element._localAnchor.x - element._calculatedWidth - element._margin.x;\n      element._margin.y = p.y - element._calculatedHeight * pvt.y;\n      element._margin.w = element._localAnchor.w - element._localAnchor.y - element._calculatedHeight - element._margin.y;\n      this._dirtyLocal = false;\n    }\n    if (!screen) {\n      if (this._dirtyWorld) {\n        element._cornersDirty = true;\n        element._canvasCornersDirty = true;\n        element._worldCornersDirty = true;\n      }\n      return pc.Entity.prototype._sync.call(this);\n    }\n    if (this._dirtyWorld) {\n      if (this._parent === null) {\n        this.worldTransform.copy(this.localTransform);\n      } else {\n        if (this._parent.element) {\n          element._screenToWorld.mul2(this._parent.element._modelTransform, element._anchorTransform);\n        } else {\n          element._screenToWorld.copy(element._anchorTransform);\n        }\n        element._modelTransform.mul2(element._screenToWorld, this.localTransform);\n        if (screen) {\n          element._screenToWorld.mul2(screen.screen._screenMatrix, element._screenToWorld);\n          if (!screen.screen.screenSpace) {\n            element._screenToWorld.mul2(screen.worldTransform, element._screenToWorld);\n          }\n          this.worldTransform.mul2(element._screenToWorld, this.localTransform);\n          var parentWorldTransform = element._parentWorldTransform;\n          parentWorldTransform.setIdentity();\n          var parent = this._parent;\n          if (parent && parent.element && parent !== screen) {\n            matA.setTRS(pc.Vec3.ZERO, parent.getLocalRotation(), parent.getLocalScale());\n            parentWorldTransform.mul2(parent.element._parentWorldTransform, matA);\n          }\n          var depthOffset = vecA;\n          depthOffset.set(0, 0, this.localPosition.z);\n          var pivotOffset = vecB;\n          pivotOffset.set(element._absLeft + element._pivot.x * element.calculatedWidth, element._absBottom + element._pivot.y * element.calculatedHeight, 0);\n          matA.setTranslate(-pivotOffset.x, -pivotOffset.y, -pivotOffset.z);\n          matB.setTRS(depthOffset, this.getLocalRotation(), this.getLocalScale());\n          matC.setTranslate(pivotOffset.x, pivotOffset.y, pivotOffset.z);\n          element._screenTransform.mul2(element._parentWorldTransform, matC).mul(matB).mul(matA);\n          element._cornersDirty = true;\n          element._canvasCornersDirty = true;\n          element._worldCornersDirty = true;\n        } else {\n          this.worldTransform.copy(element._modelTransform);\n        }\n      }\n      this._dirtyWorld = false;\n    }\n  }, _onInsert:function(parent) {\n    var result = this._parseUpToScreen();\n    this.entity._dirtifyWorld();\n    this._updateScreen(result.screen);\n    this._dirtifyMask();\n  }, _dirtifyMask:function() {\n    var current = this.entity;\n    while (current) {\n      var next = current.parent;\n      if ((next === null || next.screen) && current.element) {\n        if (!this.system._prerender || !this.system._prerender.length) {\n          this.system._prerender = [];\n          this.system.app.once(\"prerender\", this._onPrerender, this);\n        }\n        var i = this.system._prerender.indexOf(this.entity);\n        if (i >= 0) {\n          this.system._prerender.splice(i, 1);\n        }\n        var j = this.system._prerender.indexOf(current);\n        if (j < 0) {\n          this.system._prerender.push(current);\n        }\n      }\n      current = next;\n    }\n  }, _onPrerender:function() {\n    for (var i = 0;i < this.system._prerender.length;i++) {\n      var mask = this.system._prerender[i];\n      if (mask.element) {\n        var depth = 1;\n        mask.element.syncMask(depth);\n      }\n    }\n    this.system._prerender.length = 0;\n  }, _bindScreen:function(screen) {\n    screen.on(\"set:resolution\", this._onScreenResize, this);\n    screen.on(\"set:referenceresolution\", this._onScreenResize, this);\n    screen.on(\"set:scaleblend\", this._onScreenResize, this);\n    screen.on(\"set:screenspace\", this._onScreenSpaceChange, this);\n    screen.on(\"remove\", this._onScreenRemove, this);\n  }, _unbindScreen:function(screen) {\n    screen.off(\"set:resolution\", this._onScreenResize, this);\n    screen.off(\"set:referenceresolution\", this._onScreenResize, this);\n    screen.off(\"set:scaleblend\", this._onScreenResize, this);\n    screen.off(\"set:screenspace\", this._onScreenSpaceChange, this);\n    screen.off(\"remove\", this._onScreenRemove, this);\n  }, _updateScreen:function(screen) {\n    if (this.screen && this.screen !== screen) {\n      this._unbindScreen(this.screen.screen);\n    }\n    var previousScreen = this.screen;\n    this.screen = screen;\n    if (this.screen) {\n      this._bindScreen(this.screen.screen);\n    }\n    this._calculateSize(this._hasSplitAnchorsX, this._hasSplitAnchorsY);\n    this.fire(\"set:screen\", this.screen, previousScreen);\n    this._anchorDirty = true;\n    var children = this.entity.children;\n    for (var i = 0, l = children.length;i < l;i++) {\n      if (children[i].element) {\n        children[i].element._updateScreen(screen);\n      }\n    }\n    if (this.screen) {\n      this.screen.screen.syncDrawOrder();\n    }\n  }, syncMask:function(depth) {\n    var result = this._parseUpToScreen();\n    this._updateMask(result.mask, depth);\n  }, _setMaskedBy:function(mask) {\n    var renderableElement = this._image || this._text;\n    if (mask) {\n      var ref = mask.element._image._maskRef;\n      var sp = new pc.StencilParameters({ref:ref, func:pc.FUNC_EQUAL});\n      if (renderableElement && renderableElement._setStencil) {\n        renderableElement._setStencil(sp);\n      }\n      this._maskedBy = mask;\n    } else {\n      if (renderableElement && renderableElement._setStencil) {\n        renderableElement._setStencil(null);\n      }\n      this._maskedBy = null;\n    }\n  }, _updateMask:function(currentMask, depth) {\n    var i, l, sp, children;\n    if (currentMask) {\n      this._setMaskedBy(currentMask);\n      if (this.mask) {\n        var ref = currentMask.element._image._maskRef;\n        sp = new pc.StencilParameters({ref:ref, func:pc.FUNC_EQUAL, zpass:pc.STENCILOP_INCREMENT});\n        this._image._setStencil(sp);\n        this._image._maskRef = depth;\n        depth++;\n        currentMask = this.entity;\n      }\n      children = this.entity.children;\n      for (i = 0, l = children.length;i < l;i++) {\n        if (children[i].element) {\n          children[i].element._updateMask(currentMask, depth);\n        }\n      }\n      if (this.mask) {\n        depth--;\n      }\n    } else {\n      this._setMaskedBy(null);\n      if (this.mask) {\n        sp = new pc.StencilParameters({ref:depth, func:pc.FUNC_ALWAYS, zpass:pc.STENCILOP_REPLACE});\n        this._image._setStencil(sp);\n        this._image._maskRef = depth;\n        depth++;\n        currentMask = this.entity;\n      }\n      children = this.entity.children;\n      for (i = 0, l = children.length;i < l;i++) {\n        if (children[i].element) {\n          children[i].element._updateMask(currentMask, depth);\n        }\n      }\n      if (this.mask) {\n        depth--;\n      }\n    }\n  }, _parseUpToScreen:function() {\n    var result = {screen:null, mask:null};\n    var parent = this.entity._parent;\n    while (parent && !parent.screen) {\n      if (parent.element && parent.element.mask) {\n        if (!result.mask) {\n          result.mask = parent;\n        }\n      }\n      parent = parent.parent;\n    }\n    if (parent && parent.screen) {\n      result.screen = parent;\n    }\n    return result;\n  }, _onScreenResize:function(res) {\n    this._anchorDirty = true;\n    this._cornersDirty = true;\n    this._worldCornersDirty = true;\n    this._calculateSize(this._hasSplitAnchorsX, this._hasSplitAnchorsY);\n    this.fire(\"screen:set:resolution\", res);\n  }, _onScreenSpaceChange:function() {\n    this.fire(\"screen:set:screenspace\", this.screen.screen.screenSpace);\n  }, _onScreenRemove:function() {\n    if (this.screen && !this.screen._destroying) {\n      this._updateScreen(null);\n    }\n  }, _calculateLocalAnchors:function() {\n    var resx = 1000;\n    var resy = 1000;\n    var parent = this.entity._parent;\n    if (parent && parent.element) {\n      resx = parent.element.calculatedWidth;\n      resy = parent.element.calculatedHeight;\n    } else {\n      if (this.screen) {\n        var res = this.screen.screen.resolution;\n        var scale = this.screen.screen.scale;\n        resx = res.x / scale;\n        resy = res.y / scale;\n      }\n    }\n    this._localAnchor.set(this._anchor.x * resx, this._anchor.y * resy, this._anchor.z * resx, this._anchor.w * resy);\n  }, getOffsetPosition:function(x, y) {\n    var p = this.entity.getLocalPosition().clone();\n    p.x += x;\n    p.y += y;\n    this._screenToWorld.transformPoint(p, p);\n    return p;\n  }, onLayersChanged:function(oldComp, newComp) {\n    this.addModelToLayers(this._image ? this._image._model : this._text._model);\n    oldComp.off(\"add\", this.onLayerAdded, this);\n    oldComp.off(\"remove\", this.onLayerRemoved, this);\n    newComp.on(\"add\", this.onLayerAdded, this);\n    newComp.on(\"remove\", this.onLayerRemoved, this);\n  }, onLayerAdded:function(layer) {\n    var index = this.layers.indexOf(layer.id);\n    if (index < 0) {\n      return;\n    }\n    if (this._image) {\n      layer.addMeshInstances(this._image._model.meshInstances);\n    } else {\n      if (this._text) {\n        layer.addMeshInstances(this._text._model.meshInstances);\n      }\n    }\n  }, onLayerRemoved:function(layer) {\n    var index = this.layers.indexOf(layer.id);\n    if (index < 0) {\n      return;\n    }\n    if (this._image) {\n      layer.removeMeshInstances(this._image._model.meshInstances);\n    } else {\n      if (this._text) {\n        layer.removeMeshInstances(this._text._model.meshInstances);\n      }\n    }\n  }, onEnable:function() {\n    if (this._image) {\n      this._image.onEnable();\n    }\n    if (this._text) {\n      this._text.onEnable();\n    }\n    if (this._group) {\n      this._group.onEnable();\n    }\n    if (this.useInput && this.system.app.elementInput) {\n      this.system.app.elementInput.addElement(this);\n    }\n    this.system.app.scene.on(\"set:layers\", this.onLayersChanged, this);\n    if (this.system.app.scene.layers) {\n      this.system.app.scene.layers.on(\"add\", this.onLayerAdded, this);\n      this.system.app.scene.layers.on(\"remove\", this.onLayerRemoved, this);\n    }\n    if (this._batchGroupId >= 0) {\n      this.system.app.batcher.insert(pc.BatchGroup.ELEMENT, this.batchGroupId, this.entity);\n    }\n    this.fire(\"enableelement\");\n  }, onDisable:function() {\n    this.system.app.scene.off(\"set:layers\", this.onLayersChanged, this);\n    if (this.system.app.scene.layers) {\n      this.system.app.scene.layers.off(\"add\", this.onLayerAdded, this);\n      this.system.app.scene.layers.off(\"remove\", this.onLayerRemoved, this);\n    }\n    if (this._image) {\n      this._image.onDisable();\n    }\n    if (this._text) {\n      this._text.onDisable();\n    }\n    if (this._group) {\n      this._group.onDisable();\n    }\n    if (this.system.app.elementInput && this.useInput) {\n      this.system.app.elementInput.removeElement(this);\n    }\n    if (this._batchGroupId >= 0) {\n      this.system.app.batcher.remove(pc.BatchGroup.ELEMENT, this.batchGroupId, this.entity);\n    }\n    this.fire(\"disableelement\");\n  }, onRemove:function() {\n    this.entity.off(\"insert\", this._onInsert, this);\n    this._unpatch();\n    if (this._image) {\n      this._image.destroy();\n    }\n    if (this._text) {\n      this._text.destroy();\n    }\n    if (this.system.app.elementInput && this.useInput) {\n      this.system.app.elementInput.removeElement(this);\n    }\n    if (this.screen && this.screen.screen) {\n      this._unbindScreen(this.screen.screen);\n      this.screen.screen.syncDrawOrder();\n    }\n    this.off();\n  }, _calculateSize:function(propagateCalculatedWidth, propagateCalculatedHeight) {\n    if (!this.entity._parent && !this.screen) {\n      return;\n    }\n    this._calculateLocalAnchors();\n    var newWidth = this._absRight - this._absLeft;\n    var newHeight = this._absTop - this._absBottom;\n    if (propagateCalculatedWidth) {\n      this._setWidth(newWidth);\n    } else {\n      this._setCalculatedWidth(newWidth, false);\n    }\n    if (propagateCalculatedHeight) {\n      this._setHeight(newHeight);\n    } else {\n      this._setCalculatedHeight(newHeight, false);\n    }\n    var p = this.entity.getLocalPosition();\n    p.x = this._margin.x + this._calculatedWidth * this._pivot.x;\n    p.y = this._margin.y + this._calculatedHeight * this._pivot.y;\n    this.entity.setLocalPosition(p);\n    this._sizeDirty = false;\n  }, _setWidth:function(w) {\n    this._width = w;\n    this._setCalculatedWidth(w, false);\n    this.fire(\"set:width\", this._width);\n  }, _setHeight:function(h) {\n    this._height = h;\n    this._setCalculatedHeight(h, false);\n    this.fire(\"set:height\", this._height);\n  }, _setCalculatedWidth:function(value, updateMargins) {\n    if (Math.abs(value - this._calculatedWidth) <= 1e-4) {\n      return;\n    }\n    this._calculatedWidth = value;\n    this.entity._dirtifyLocal();\n    if (updateMargins) {\n      var p = this.entity.getLocalPosition();\n      var pvt = this._pivot;\n      this._margin.x = p.x - this._calculatedWidth * pvt.x;\n      this._margin.z = this._localAnchor.z - this._localAnchor.x - this._calculatedWidth - this._margin.x;\n    }\n    this._flagChildrenAsDirty();\n    this.fire(\"set:calculatedWidth\", this._calculatedWidth);\n    this.fire(\"resize\", this._calculatedWidth, this._calculatedHeight);\n  }, _setCalculatedHeight:function(value, updateMargins) {\n    if (Math.abs(value - this._calculatedHeight) <= 1e-4) {\n      return;\n    }\n    this._calculatedHeight = value;\n    this.entity._dirtifyLocal();\n    if (updateMargins) {\n      var p = this.entity.getLocalPosition();\n      var pvt = this._pivot;\n      this._margin.y = p.y - this._calculatedHeight * pvt.y;\n      this._margin.w = this._localAnchor.w - this._localAnchor.y - this._calculatedHeight - this._margin.y;\n    }\n    this._flagChildrenAsDirty();\n    this.fire(\"set:calculatedHeight\", this._calculatedHeight);\n    this.fire(\"resize\", this._calculatedWidth, this._calculatedHeight);\n  }, _flagChildrenAsDirty:function() {\n    var i, l;\n    var c = this.entity._children;\n    for (i = 0, l = c.length;i < l;i++) {\n      if (c[i].element) {\n        c[i].element._anchorDirty = true;\n        c[i].element._sizeDirty = true;\n      }\n    }\n  }, addModelToLayers:function(model) {\n    var layer;\n    this._addedModels.push(model);\n    for (var i = 0;i < this.layers.length;i++) {\n      layer = this.system.app.scene.layers.getLayerById(this.layers[i]);\n      if (!layer) {\n        continue;\n      }\n      layer.addMeshInstances(model.meshInstances);\n    }\n  }, removeModelFromLayers:function(model) {\n    var layer;\n    var idx = this._addedModels.indexOf(model);\n    if (idx >= 0) {\n      this._addedModels.splice(idx, 1);\n    }\n    for (var i = 0;i < this.layers.length;i++) {\n      layer = this.system.app.scene.layers.getLayerById(this.layers[i]);\n      if (!layer) {\n        continue;\n      }\n      layer.removeMeshInstances(model.meshInstances);\n    }\n  }, getMaskOffset:function() {\n    var frame = this.system.app.frame;\n    if (this._offsetReadAt !== frame) {\n      this._maskOffset = 0.5;\n      this._offsetReadAt = frame;\n    }\n    var mo = this._maskOffset;\n    this._maskOffset -= 0.001;\n    return mo;\n  }, isVisibleForCamera:function(camera) {\n    var clipL, clipR, clipT, clipB;\n    if (this.maskedBy) {\n      var corners = this.maskedBy.element.screenCorners;\n      clipL = Math.min(Math.min(corners[0].x, corners[1].x), Math.min(corners[2].x, corners[3].x));\n      clipR = Math.max(Math.max(corners[0].x, corners[1].x), Math.max(corners[2].x, corners[3].x));\n      clipB = Math.min(Math.min(corners[0].y, corners[1].y), Math.min(corners[2].y, corners[3].y));\n      clipT = Math.max(Math.max(corners[0].y, corners[1].y), Math.max(corners[2].y, corners[3].y));\n    } else {\n      var sw = this.system.app.graphicsDevice.width;\n      var sh = this.system.app.graphicsDevice.height;\n      var cameraWidth = camera._rect.width * sw;\n      var cameraHeight = camera._rect.height * sh;\n      clipL = camera._rect.x * sw;\n      clipR = clipL + cameraWidth;\n      clipT = (1 - camera._rect.y) * sh;\n      clipB = clipT - cameraHeight;\n    }\n    var hitCorners = this.screenCorners;\n    var left = Math.min(Math.min(hitCorners[0].x, hitCorners[1].x), Math.min(hitCorners[2].x, hitCorners[3].x));\n    var right = Math.max(Math.max(hitCorners[0].x, hitCorners[1].x), Math.max(hitCorners[2].x, hitCorners[3].x));\n    var bottom = Math.min(Math.min(hitCorners[0].y, hitCorners[1].y), Math.min(hitCorners[2].y, hitCorners[3].y));\n    var top = Math.max(Math.max(hitCorners[0].y, hitCorners[1].y), Math.max(hitCorners[2].y, hitCorners[3].y));\n    if (right < clipL || left > clipR || bottom > clipT || top < clipB) {\n      return false;\n    }\n    return true;\n  }, _isScreenSpace:function() {\n    if (this.screen && this.screen.screen) {\n      return this.screen.screen.screenSpace;\n    }\n    return false;\n  }, _isScreenCulled:function() {\n    if (this.screen && this.screen.screen) {\n      return this.screen.screen.cull;\n    }\n    return false;\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"type\", {get:function() {\n    return this._type;\n  }, set:function(value) {\n    if (value !== this._type) {\n      this._type = value;\n      if (this._image) {\n        this._image.destroy();\n        this._image = null;\n      }\n      if (this._text) {\n        this._text.destroy();\n        this._text = null;\n      }\n      if (value === pc.ELEMENTTYPE_IMAGE) {\n        this._image = new pc.ImageElement(this);\n      } else {\n        if (value === pc.ELEMENTTYPE_TEXT) {\n          this._text = new pc.TextElement(this);\n        }\n      }\n    }\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"layers\", {get:function() {\n    return this._layers;\n  }, set:function(value) {\n    var i, j, layer;\n    if (this._addedModels.length) {\n      for (i = 0;i < this._layers.length;i++) {\n        layer = this.system.app.scene.layers.getLayerById(this._layers[i]);\n        if (layer) {\n          for (j = 0;j < this._addedModels.length;j++) {\n            layer.removeMeshInstances(this._addedModels[j].meshInstances);\n          }\n        }\n      }\n    }\n    this._layers = value;\n    if (!this.enabled || !this.entity.enabled || !this._addedModels.length) {\n      return;\n    }\n    for (i = 0;i < this._layers.length;i++) {\n      layer = this.system.app.scene.layers.getLayerById(this._layers[i]);\n      if (layer) {\n        for (j = 0;j < this._addedModels.length;j++) {\n          layer.addMeshInstances(this._addedModels[j].meshInstances);\n        }\n      }\n    }\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"drawOrder\", {get:function() {\n    return this._drawOrder;\n  }, set:function(value) {\n    var priority = 0;\n    if (this.screen) {\n      priority = this.screen.screen.priority;\n    }\n    if (value > 16777215) {\n      value = 16777215;\n    }\n    this._drawOrder = (priority << 24) + value;\n    this.fire(\"set:draworder\", this._drawOrder);\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"_absLeft\", {get:function() {\n    return this._localAnchor.x + this._margin.x;\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"_absRight\", {get:function() {\n    return this._localAnchor.z - this._margin.z;\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"_absTop\", {get:function() {\n    return this._localAnchor.w - this._margin.w;\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"_absBottom\", {get:function() {\n    return this._localAnchor.y + this._margin.y;\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"margin\", {get:function() {\n    return this._margin;\n  }, set:function(value) {\n    this._margin.copy(value);\n    this._calculateSize(true, true);\n    this.fire(\"set:margin\", this._margin);\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"left\", {get:function() {\n    return this._margin.x;\n  }, set:function(value) {\n    this._margin.x = value;\n    var p = this.entity.getLocalPosition();\n    var wr = this._absRight;\n    var wl = this._localAnchor.x + value;\n    this._setWidth(wr - wl);\n    p.x = value + this._calculatedWidth * this._pivot.x;\n    this.entity.setLocalPosition(p);\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"right\", {get:function() {\n    return this._margin.z;\n  }, set:function(value) {\n    this._margin.z = value;\n    var p = this.entity.getLocalPosition();\n    var wl = this._absLeft;\n    var wr = this._localAnchor.z - value;\n    this._setWidth(wr - wl);\n    p.x = this._localAnchor.z - this._localAnchor.x - value - this._calculatedWidth * (1 - this._pivot.x);\n    this.entity.setLocalPosition(p);\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"top\", {get:function() {\n    return this._margin.w;\n  }, set:function(value) {\n    this._margin.w = value;\n    var p = this.entity.getLocalPosition();\n    var wb = this._absBottom;\n    var wt = this._localAnchor.w - value;\n    this._setHeight(wt - wb);\n    p.y = this._localAnchor.w - this._localAnchor.y - value - this._calculatedHeight * (1 - this._pivot.y);\n    this.entity.setLocalPosition(p);\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"bottom\", {get:function() {\n    return this._margin.y;\n  }, set:function(value) {\n    this._margin.y = value;\n    var p = this.entity.getLocalPosition();\n    var wt = this._absTop;\n    var wb = this._localAnchor.y + value;\n    this._setHeight(wt - wb);\n    p.y = value + this._calculatedHeight * this._pivot.y;\n    this.entity.setLocalPosition(p);\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"width\", {get:function() {\n    return this._width;\n  }, set:function(value) {\n    this._width = value;\n    if (!this._hasSplitAnchorsX) {\n      this._setCalculatedWidth(value, true);\n    }\n    this.fire(\"set:width\", this._width);\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"height\", {get:function() {\n    return this._height;\n  }, set:function(value) {\n    this._height = value;\n    if (!this._hasSplitAnchorsY) {\n      this._setCalculatedHeight(value, true);\n    }\n    this.fire(\"set:height\", this._height);\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"calculatedWidth\", {get:function() {\n    return this._calculatedWidth;\n  }, set:function(value) {\n    this._setCalculatedWidth(value, true);\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"calculatedHeight\", {get:function() {\n    return this._calculatedHeight;\n  }, set:function(value) {\n    this._setCalculatedHeight(value, true);\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"pivot\", {get:function() {\n    return this._pivot;\n  }, set:function(value) {\n    var prevX = this._pivot.x;\n    var prevY = this._pivot.y;\n    if (value instanceof pc.Vec2) {\n      this._pivot.set(value.x, value.y);\n    } else {\n      this._pivot.set(value[0], value[1]);\n    }\n    var mx = this._margin.x + this._margin.z;\n    var dx = this._pivot.x - prevX;\n    this._margin.x += mx * dx;\n    this._margin.z -= mx * dx;\n    var my = this._margin.y + this._margin.w;\n    var dy = this._pivot.y - prevY;\n    this._margin.y += my * dy;\n    this._margin.w -= my * dy;\n    this._anchorDirty = true;\n    this._cornersDirty = true;\n    this._worldCornersDirty = true;\n    this._calculateSize(false, false);\n    this._flagChildrenAsDirty();\n    this.fire(\"set:pivot\", this._pivot);\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"anchor\", {get:function() {\n    return this._anchor;\n  }, set:function(value) {\n    if (value instanceof pc.Vec4) {\n      this._anchor.set(value.x, value.y, value.z, value.w);\n    } else {\n      this._anchor.set(value[0], value[1], value[2], value[3]);\n    }\n    if (!this.entity._parent && !this.screen) {\n      this._calculateLocalAnchors();\n    } else {\n      this._calculateSize(this._hasSplitAnchorsX, this._hasSplitAnchorsY);\n    }\n    this._anchorDirty = true;\n    if (!this.entity._dirtyLocal) {\n      this.entity._dirtifyLocal();\n    }\n    this.fire(\"set:anchor\", this._anchor);\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"_hasSplitAnchorsX\", {get:function() {\n    return Math.abs(this._anchor.x - this._anchor.z) > 0.001;\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"_hasSplitAnchorsY\", {get:function() {\n    return Math.abs(this._anchor.y - this._anchor.w) > 0.001;\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"aabb\", {get:function() {\n    if (this._image) {\n      return this._image.aabb;\n    }\n    if (this._text) {\n      return this._text.aabb;\n    }\n    return null;\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"screenCorners\", {get:function() {\n    if (!this._cornersDirty || !this.screen) {\n      return this._screenCorners;\n    }\n    var parentBottomLeft = this.entity.parent && this.entity.parent.element && this.entity.parent.element.screenCorners[0];\n    this._screenCorners[0].set(this._absLeft, this._absBottom, 0);\n    this._screenCorners[1].set(this._absRight, this._absBottom, 0);\n    this._screenCorners[2].set(this._absRight, this._absTop, 0);\n    this._screenCorners[3].set(this._absLeft, this._absTop, 0);\n    var screenSpace = this.screen.screen.screenSpace;\n    for (var i = 0;i < 4;i++) {\n      this._screenTransform.transformPoint(this._screenCorners[i], this._screenCorners[i]);\n      if (screenSpace) {\n        this._screenCorners[i].scale(this.screen.screen.scale);\n      }\n      if (parentBottomLeft) {\n        this._screenCorners[i].add(parentBottomLeft);\n      }\n    }\n    this._cornersDirty = false;\n    this._canvasCornersDirty = true;\n    this._worldCornersDirty = true;\n    return this._screenCorners;\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"canvasCorners\", {get:function() {\n    if (!this._canvasCornersDirty || !this.screen || !this.screen.screen.screenSpace) {\n      return this._canvasCorners;\n    }\n    var device = this.system.app.graphicsDevice;\n    var screenCorners = this.screenCorners;\n    var sx = device.canvas.clientWidth / device.width;\n    var sy = device.canvas.clientHeight / device.height;\n    for (var i = 0;i < 4;i++) {\n      this._canvasCorners[i].set(screenCorners[i].x * sx, (device.height - screenCorners[i].y) * sy);\n    }\n    this._canvasCornersDirty = false;\n    return this._canvasCorners;\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"worldCorners\", {get:function() {\n    if (!this._worldCornersDirty) {\n      return this._worldCorners;\n    }\n    if (this.screen) {\n      var screenCorners = this.screenCorners;\n      if (!this.screen.screen.screenSpace) {\n        matA.copy(this.screen.screen._screenMatrix);\n        matA.data[13] = -matA.data[13];\n        matA.mul2(this.screen.getWorldTransform(), matA);\n        for (var i = 0;i < 4;i++) {\n          matA.transformPoint(screenCorners[i], this._worldCorners[i]);\n        }\n      }\n    } else {\n      var localPos = this.entity.getLocalPosition();\n      matA.setTranslate(-localPos.x, -localPos.y, -localPos.z);\n      matB.setTRS(pc.Vec3.ZERO, this.entity.getLocalRotation(), this.entity.getLocalScale());\n      matC.setTranslate(localPos.x, localPos.y, localPos.z);\n      matD.copy(this.entity.parent.getWorldTransform());\n      matD.mul(matC).mul(matB).mul(matA);\n      vecA.set(localPos.x - this.pivot.x * this.calculatedWidth, localPos.y - this.pivot.y * this.calculatedHeight, localPos.z);\n      matD.transformPoint(vecA, this._worldCorners[0]);\n      vecA.set(localPos.x + (1 - this.pivot.x) * this.calculatedWidth, localPos.y - this.pivot.y * this.calculatedHeight, localPos.z);\n      matD.transformPoint(vecA, this._worldCorners[1]);\n      vecA.set(localPos.x + (1 - this.pivot.x) * this.calculatedWidth, localPos.y + (1 - this.pivot.y) * this.calculatedHeight, localPos.z);\n      matD.transformPoint(vecA, this._worldCorners[2]);\n      vecA.set(localPos.x - this.pivot.x * this.calculatedWidth, localPos.y + (1 - this.pivot.y) * this.calculatedHeight, localPos.z);\n      matD.transformPoint(vecA, this._worldCorners[3]);\n    }\n    this._worldCornersDirty = false;\n    return this._worldCorners;\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"textWidth\", {get:function() {\n    return this._text ? this._text.width : 0;\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"textHeight\", {get:function() {\n    return this._text ? this._text.height : 0;\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"useInput\", {get:function() {\n    return this._useInput;\n  }, set:function(value) {\n    if (this._useInput === value) {\n      return;\n    }\n    this._useInput = value;\n    if (this.system.app.elementInput) {\n      if (value) {\n        if (this.enabled && this.entity.enabled) {\n          this.system.app.elementInput.addElement(this);\n        }\n      } else {\n        this.system.app.elementInput.removeElement(this);\n      }\n    }\n    this.fire(\"set:useInput\", value);\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"batchGroupId\", {get:function() {\n    return this._batchGroupId;\n  }, set:function(value) {\n    if (this._batchGroupId === value) {\n      return;\n    }\n    if (this.entity.enabled && this._batchGroupId >= 0) {\n      this.system.app.batcher.remove(pc.BatchGroup.ELEMENT, this.batchGroupId, this.entity);\n    }\n    if (this.entity.enabled && value >= 0) {\n      this.system.app.batcher.insert(pc.BatchGroup.ELEMENT, value, this.entity);\n    }\n    if (value < 0 && this._batchGroupId >= 0 && this.enabled && this.entity.enabled) {\n      if (this._image && this._image._renderable.model) {\n        this.addModelToLayers(this._image._renderable.model);\n      } else {\n        if (this._text && this._text._model) {\n          this.addModelToLayers(this._text._model);\n        }\n      }\n    }\n    this._batchGroupId = value;\n  }});\n  Object.defineProperty(ElementComponent.prototype, \"maskedBy\", {get:function() {\n    return this._maskedBy;\n  }});\n  var _define = function(name) {\n    Object.defineProperty(ElementComponent.prototype, name, {get:function() {\n      if (this._text) {\n        return this._text[name];\n      } else {\n        if (this._image) {\n          return this._image[name];\n        }\n      }\n      return null;\n    }, set:function(value) {\n      if (this._text) {\n        this._text[name] = value;\n      } else {\n        if (this._image) {\n          this._image[name] = value;\n        }\n      }\n    }});\n  };\n  _define(\"fontSize\");\n  _define(\"minFontSize\");\n  _define(\"maxFontSize\");\n  _define(\"maxLines\");\n  _define(\"autoFitWidth\");\n  _define(\"autoFitHeight\");\n  _define(\"color\");\n  _define(\"font\");\n  _define(\"fontAsset\");\n  _define(\"spacing\");\n  _define(\"lineHeight\");\n  _define(\"wrapLines\");\n  _define(\"lines\");\n  _define(\"alignment\");\n  _define(\"autoWidth\");\n  _define(\"autoHeight\");\n  _define(\"rtlReorder\");\n  _define(\"unicodeConverter\");\n  _define(\"text\");\n  _define(\"key\");\n  _define(\"texture\");\n  _define(\"textureAsset\");\n  _define(\"material\");\n  _define(\"materialAsset\");\n  _define(\"sprite\");\n  _define(\"spriteAsset\");\n  _define(\"spriteFrame\");\n  _define(\"pixelsPerUnit\");\n  _define(\"opacity\");\n  _define(\"rect\");\n  _define(\"mask\");\n  _define(\"outlineColor\");\n  _define(\"outlineThickness\");\n  _define(\"shadowColor\");\n  _define(\"shadowOffset\");\n  _define(\"enableMarkup\");\n  _define(\"rangeStart\");\n  _define(\"rangeEnd\");\n  return {ElementComponent:ElementComponent};\n}());\nObject.assign(pc, function() {\n  var _schema = [\"enabled\"];\n  var ElementComponentSystem = function ElementComponentSystem(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"element\";\n    this.app = app;\n    this.ComponentType = pc.ElementComponent;\n    this.DataType = pc.ElementComponentData;\n    this.schema = _schema;\n    this._unicodeConverter = null;\n    this._rtlReorder = null;\n    this._defaultTexture = new pc.Texture(app.graphicsDevice, {width:1, height:1, format:pc.PIXELFORMAT_R8_G8_B8_A8});\n    this._defaultTexture.name = \"element-system\";\n    var pixels = this._defaultTexture.lock();\n    var pixelData = new Uint8Array(4);\n    pixelData[0] = 255.0;\n    pixelData[1] = 255.0;\n    pixelData[2] = 255.0;\n    pixelData[3] = 255.0;\n    pixels.set(pixelData);\n    this._defaultTexture.unlock();\n    this.defaultImageMaterial = null;\n    this.defaultImage9SlicedMaterial = null;\n    this.defaultImage9TiledMaterial = null;\n    this.defaultImageMaskMaterial = null;\n    this.defaultImage9SlicedMaskMaterial = null;\n    this.defaultImage9TiledMaskMaterial = null;\n    this.defaultScreenSpaceImageMaterial = null;\n    this.defaultScreenSpaceImage9SlicedMaterial = null;\n    this.defaultScreenSpaceImage9TiledMaterial = null;\n    this.defaultScreenSpaceImageMask9SlicedMaterial = null;\n    this.defaultScreenSpaceImageMask9TiledMaterial = null;\n    this.defaultScreenSpaceImageMaskMaterial = null;\n    this.defaultTextMaterial = null;\n    this.defaultBitmapTextMaterial = null;\n    this.defaultScreenSpaceTextMaterial = null;\n    this.defaultScreenSpaceBitmapTextMaterial = null;\n    this.defaultImageMaterials = [];\n    this.on(\"beforeremove\", this.onRemoveComponent, this);\n  };\n  ElementComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  ElementComponentSystem.prototype.constructor = ElementComponentSystem;\n  pc.Component._buildAccessors(pc.ElementComponent.prototype, _schema);\n  Object.assign(ElementComponentSystem.prototype, {destroy:function() {\n    this._defaultTexture.destroy();\n  }, initializeComponentData:function(component, data, properties) {\n    component._beingInitialized = true;\n    if (data.anchor !== undefined) {\n      if (data.anchor instanceof pc.Vec4) {\n        component.anchor.copy(data.anchor);\n      } else {\n        component.anchor.set(data.anchor[0], data.anchor[1], data.anchor[2], data.anchor[3]);\n      }\n    }\n    if (data.pivot !== undefined) {\n      if (data.pivot instanceof pc.Vec2) {\n        component.pivot.copy(data.pivot);\n      } else {\n        component.pivot.set(data.pivot[0], data.pivot[1]);\n      }\n    }\n    var splitHorAnchors = Math.abs(component.anchor.x - component.anchor.z) > 0.001;\n    var splitVerAnchors = Math.abs(component.anchor.y - component.anchor.w) > 0.001;\n    var _marginChange = false;\n    var color;\n    if (data.margin !== undefined) {\n      if (data.margin instanceof pc.Vec4) {\n        component.margin.copy(data.margin);\n      } else {\n        component._margin.set(data.margin[0], data.margin[1], data.margin[2], data.margin[3]);\n      }\n      _marginChange = true;\n    }\n    if (data.left !== undefined) {\n      component._margin.x = data.left;\n      _marginChange = true;\n    }\n    if (data.bottom !== undefined) {\n      component._margin.y = data.bottom;\n      _marginChange = true;\n    }\n    if (data.right !== undefined) {\n      component._margin.z = data.right;\n      _marginChange = true;\n    }\n    if (data.top !== undefined) {\n      component._margin.w = data.top;\n      _marginChange = true;\n    }\n    if (_marginChange) {\n      component.margin = component._margin;\n    }\n    var shouldForceSetAnchor = false;\n    if (data.width !== undefined && !splitHorAnchors) {\n      component.width = data.width;\n    } else {\n      if (splitHorAnchors) {\n        shouldForceSetAnchor = true;\n      }\n    }\n    if (data.height !== undefined && !splitVerAnchors) {\n      component.height = data.height;\n    } else {\n      if (splitVerAnchors) {\n        shouldForceSetAnchor = true;\n      }\n    }\n    if (shouldForceSetAnchor) {\n      component.anchor = component.anchor;\n    }\n    if (data.enabled !== undefined) {\n      component.enabled = data.enabled;\n    }\n    if (data.useInput !== undefined) {\n      component.useInput = data.useInput;\n    }\n    component.batchGroupId = data.batchGroupId === undefined || data.batchGroupId === null ? -1 : data.batchGroupId;\n    if (data.layers && pc.type(data.layers) === \"array\") {\n      component.layers = data.layers.slice(0);\n    }\n    component.type = data.type;\n    if (component.type === pc.ELEMENTTYPE_IMAGE) {\n      if (data.rect !== undefined) {\n        component.rect = data.rect;\n      }\n      if (data.color !== undefined) {\n        color = data.color;\n        if (!(color instanceof pc.Color)) {\n          color = new pc.Color(data.color[0], data.color[1], data.color[2]);\n        }\n        component.color = color;\n      }\n      if (data.opacity !== undefined) {\n        component.opacity = data.opacity;\n      }\n      if (data.textureAsset !== undefined) {\n        component.textureAsset = data.textureAsset;\n      }\n      if (data.texture) {\n        component.texture = data.texture;\n      }\n      if (data.spriteAsset !== undefined) {\n        component.spriteAsset = data.spriteAsset;\n      }\n      if (data.sprite) {\n        component.sprite = data.sprite;\n      }\n      if (data.spriteFrame !== undefined) {\n        component.spriteFrame = data.spriteFrame;\n      }\n      if (data.pixelsPerUnit !== undefined && data.pixelsPerUnit !== null) {\n        component.pixelsPerUnit = data.pixelsPerUnit;\n      }\n      if (data.materialAsset !== undefined) {\n        component.materialAsset = data.materialAsset;\n      }\n      if (data.material) {\n        component.material = data.material;\n      }\n      if (data.mask !== undefined) {\n        component.mask = data.mask;\n      }\n    } else {\n      if (component.type === pc.ELEMENTTYPE_TEXT) {\n        if (data.autoWidth !== undefined) {\n          component.autoWidth = data.autoWidth;\n        }\n        if (data.autoHeight !== undefined) {\n          component.autoHeight = data.autoHeight;\n        }\n        if (data.rtlReorder !== undefined) {\n          component.rtlReorder = data.rtlReorder;\n        }\n        if (data.unicodeConverter !== undefined) {\n          component.unicodeConverter = data.unicodeConverter;\n        }\n        if (data.text !== null && data.text !== undefined) {\n          component.text = data.text;\n        } else {\n          if (data.key !== null && data.key !== undefined) {\n            component.key = data.key;\n          }\n        }\n        if (data.color !== undefined) {\n          color = data.color;\n          if (!(color instanceof pc.Color)) {\n            color = new pc.Color(color[0], color[1], color[2]);\n          }\n          component.color = color;\n        }\n        if (data.opacity !== undefined) {\n          component.opacity = data.opacity;\n        }\n        if (data.spacing !== undefined) {\n          component.spacing = data.spacing;\n        }\n        if (data.fontSize !== undefined) {\n          component.fontSize = data.fontSize;\n          if (!data.lineHeight) {\n            component.lineHeight = data.fontSize;\n          }\n        }\n        if (data.lineHeight !== undefined) {\n          component.lineHeight = data.lineHeight;\n        }\n        if (data.maxLines !== undefined) {\n          component.maxLines = data.maxLines;\n        }\n        if (data.wrapLines !== undefined) {\n          component.wrapLines = data.wrapLines;\n        }\n        if (data.minFontSize !== undefined) {\n          component.minFontSize = data.minFontSize;\n        }\n        if (data.maxFontSize !== undefined) {\n          component.maxFontSize = data.maxFontSize;\n        }\n        if (data.autoFitWidth) {\n          component.autoFitWidth = data.autoFitWidth;\n        }\n        if (data.autoFitHeight) {\n          component.autoFitHeight = data.autoFitHeight;\n        }\n        if (data.fontAsset !== undefined) {\n          component.fontAsset = data.fontAsset;\n        }\n        if (data.font !== undefined) {\n          component.font = data.font;\n        }\n        if (data.alignment !== undefined) {\n          component.alignment = data.alignment;\n        }\n        if (data.outlineColor !== undefined) {\n          component.outlineColor = data.outlineColor;\n        }\n        if (data.outlineThickness !== undefined) {\n          component.outlineThickness = data.outlineThickness;\n        }\n        if (data.shadowColor !== undefined) {\n          component.shadowColor = data.shadowColor;\n        }\n        if (data.shadowOffset !== undefined) {\n          component.shadowOffset = data.shadowOffset;\n        }\n        if (data.enableMarkup !== undefined) {\n          component.enableMarkup = data.enableMarkup;\n        }\n      } else {\n      }\n    }\n    var result = component._parseUpToScreen();\n    if (result.screen) {\n      component._updateScreen(result.screen);\n    }\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, data, properties);\n    component._beingInitialized = false;\n    if (component.type === pc.ELEMENTTYPE_IMAGE && component._image._meshDirty) {\n      component._image._updateMesh(component._image.mesh);\n    }\n  }, onRemoveComponent:function(entity, component) {\n    component.onRemove();\n  }, cloneComponent:function(entity, clone) {\n    var source = entity.element;\n    var data = {enabled:source.enabled, width:source.width, height:source.height, anchor:source.anchor.clone(), pivot:source.pivot.clone(), margin:source.margin.clone(), alignment:source.alignment && source.alignment.clone() || source.alignment, autoWidth:source.autoWidth, autoHeight:source.autoHeight, type:source.type, rect:source.rect && source.rect.clone() || source.rect, rtlReorder:source.rtlReorder, unicodeConverter:source.unicodeConverter, materialAsset:source.materialAsset, material:source.material, \n    color:source.color && source.color.clone() || source.color, opacity:source.opacity, textureAsset:source.textureAsset, texture:source.texture, spriteAsset:source.spriteAsset, sprite:source.sprite, spriteFrame:source.spriteFrame, pixelsPerUnit:source.pixelsPerUnit, spacing:source.spacing, lineHeight:source.lineHeight, wrapLines:source.wrapLines, layers:source.layers, fontSize:source.fontSize, minFontSize:source.minFontSize, maxFontSize:source.maxFontSize, autoFitWidth:source.autoFitWidth, autoFitHeight:source.autoFitHeight, \n    maxLines:source.maxLines, fontAsset:source.fontAsset, font:source.font, useInput:source.useInput, batchGroupId:source.batchGroupId, mask:source.mask, outlineColor:source.outlineColor && source.outlineColor.clone() || source.outlineColor, outlineThickness:source.outlineThickness, shadowColor:source.shadowColor && source.shadowColor.clone() || source.shadowColor, shadowOffset:source.shadowOffset && source.shadowOffset.clone() || source.shadowOffset, enableMarkup:source.enableMarkup};\n    if (source.key !== undefined && source.key !== null) {\n      data.key = source.key;\n    } else {\n      data.text = source.text;\n    }\n    return this.addComponent(clone, data);\n  }, getTextElementMaterial:function(screenSpace, msdf) {\n    if (screenSpace) {\n      if (msdf) {\n        if (!this.defaultScreenSpaceTextMaterial) {\n          this.defaultScreenSpaceTextMaterial = new pc.StandardMaterial;\n          this.defaultScreenSpaceTextMaterial.name = \"defaultScreenSpaceTextMaterial\";\n          this.defaultScreenSpaceTextMaterial.msdfMap = this._defaultTexture;\n          this.defaultScreenSpaceTextMaterial.useLighting = false;\n          this.defaultScreenSpaceTextMaterial.useGammaTonemap = false;\n          this.defaultScreenSpaceTextMaterial.useFog = false;\n          this.defaultScreenSpaceTextMaterial.useSkybox = false;\n          this.defaultScreenSpaceTextMaterial.diffuse.set(0, 0, 0);\n          this.defaultScreenSpaceTextMaterial.emissive.set(1, 1, 1);\n          this.defaultScreenSpaceTextMaterial.opacity = 0.5;\n          this.defaultScreenSpaceTextMaterial.blendType = pc.BLEND_PREMULTIPLIED;\n          this.defaultScreenSpaceTextMaterial.depthWrite = false;\n          this.defaultScreenSpaceTextMaterial.depthTest = false;\n          this.defaultScreenSpaceTextMaterial.emissiveVertexColor = true;\n          this.defaultScreenSpaceTextMaterial.update();\n        }\n        return this.defaultScreenSpaceTextMaterial;\n      }\n      if (!this.defaultScreenSpaceBitmapTextMaterial) {\n        this.defaultScreenSpaceBitmapTextMaterial = new pc.StandardMaterial;\n        this.defaultScreenSpaceBitmapTextMaterial.name = \"defaultScreenSpaceBitmapTextMaterial\";\n        this.defaultScreenSpaceBitmapTextMaterial.emissive.set(0.5, 0.5, 0.5);\n        this.defaultScreenSpaceBitmapTextMaterial.emissiveMap = this._defaultTexture;\n        this.defaultScreenSpaceBitmapTextMaterial.emissiveTint = true;\n        this.defaultScreenSpaceBitmapTextMaterial.opacity = 0.5;\n        this.defaultScreenSpaceBitmapTextMaterial.opacityMap = this._defaultTexture;\n        this.defaultScreenSpaceBitmapTextMaterial.opacityMapChannel = \"a\";\n        this.defaultScreenSpaceBitmapTextMaterial.useLighting = false;\n        this.defaultScreenSpaceBitmapTextMaterial.useGammaTonemap = false;\n        this.defaultScreenSpaceBitmapTextMaterial.useFog = false;\n        this.defaultScreenSpaceBitmapTextMaterial.useSkybox = false;\n        this.defaultScreenSpaceBitmapTextMaterial.diffuse.set(0, 0, 0);\n        this.defaultScreenSpaceBitmapTextMaterial.blendType = pc.BLEND_PREMULTIPLIED;\n        this.defaultScreenSpaceBitmapTextMaterial.depthWrite = false;\n        this.defaultScreenSpaceBitmapTextMaterial.depthTest = false;\n        this.defaultScreenSpaceBitmapTextMaterial.emissiveVertexColor = true;\n        this.defaultScreenSpaceBitmapTextMaterial.update();\n      }\n      return this.defaultScreenSpaceBitmapTextMaterial;\n    }\n    if (msdf) {\n      if (!this.defaultTextMaterial) {\n        this.defaultTextMaterial = new pc.StandardMaterial;\n        this.defaultTextMaterial.name = \"defaultTextMaterial\";\n        this.defaultTextMaterial.msdfMap = this._defaultTexture;\n        this.defaultTextMaterial.useLighting = false;\n        this.defaultTextMaterial.useGammaTonemap = false;\n        this.defaultTextMaterial.useFog = false;\n        this.defaultTextMaterial.useSkybox = false;\n        this.defaultTextMaterial.diffuse.set(0, 0, 0);\n        this.defaultTextMaterial.emissive.set(1, 1, 1);\n        this.defaultTextMaterial.opacity = 0.5;\n        this.defaultTextMaterial.blendType = pc.BLEND_PREMULTIPLIED;\n        this.defaultTextMaterial.depthWrite = false;\n        this.defaultTextMaterial.emissiveVertexColor = true;\n        this.defaultTextMaterial.update();\n      }\n      return this.defaultTextMaterial;\n    }\n    if (!this.defaultBitmapTextMaterial) {\n      this.defaultBitmapTextMaterial = new pc.StandardMaterial;\n      this.defaultBitmapTextMaterial.name = \"defaultBitmapTextMaterial\";\n      this.defaultBitmapTextMaterial.emissive.set(0.5, 0.5, 0.5);\n      this.defaultBitmapTextMaterial.emissiveTint = true;\n      this.defaultBitmapTextMaterial.emissiveMap = this._defaultTexture;\n      this.defaultBitmapTextMaterial.opacity = 0.5;\n      this.defaultBitmapTextMaterial.opacityMap = this._defaultTexture;\n      this.defaultBitmapTextMaterial.opacityMapChannel = \"a\";\n      this.defaultBitmapTextMaterial.useLighting = false;\n      this.defaultBitmapTextMaterial.useGammaTonemap = false;\n      this.defaultBitmapTextMaterial.useFog = false;\n      this.defaultBitmapTextMaterial.useSkybox = false;\n      this.defaultBitmapTextMaterial.diffuse.set(0, 0, 0);\n      this.defaultBitmapTextMaterial.blendType = pc.BLEND_PREMULTIPLIED;\n      this.defaultBitmapTextMaterial.depthWrite = false;\n      this.defaultBitmapTextMaterial.emissiveVertexColor = true;\n      this.defaultBitmapTextMaterial.update();\n    }\n    return this.defaultBitmapTextMaterial;\n  }, _createBaseImageMaterial:function() {\n    var material = new pc.StandardMaterial;\n    material.diffuse.set(0, 0, 0);\n    material.emissive.set(0.5, 0.5, 0.5);\n    material.emissiveMap = this._defaultTexture;\n    material.emissiveTint = true;\n    material.opacityMap = this._defaultTexture;\n    material.opacityMapChannel = \"a\";\n    material.opacityTint = true;\n    material.opacity = 0;\n    material.useLighting = false;\n    material.useGammaTonemap = false;\n    material.useFog = false;\n    material.useSkybox = false;\n    material.blendType = pc.BLEND_PREMULTIPLIED;\n    material.depthWrite = false;\n    return material;\n  }, getImageElementMaterial:function(screenSpace, mask, nineSliced, nineSliceTiled) {\n    if (screenSpace) {\n      if (mask) {\n        if (nineSliced) {\n          if (!this.defaultScreenSpaceImageMask9SlicedMaterial) {\n            this.defaultScreenSpaceImageMask9SlicedMaterial = this._createBaseImageMaterial();\n            this.defaultScreenSpaceImageMask9SlicedMaterial.name = \"defaultScreenSpaceImageMask9SlicedMaterial\";\n            this.defaultScreenSpaceImageMask9SlicedMaterial.nineSlicedMode = pc.SPRITE_RENDERMODE_SLICED;\n            this.defaultScreenSpaceImageMask9SlicedMaterial.depthTest = false;\n            this.defaultScreenSpaceImageMask9SlicedMaterial.alphaTest = 1;\n            this.defaultScreenSpaceImageMask9SlicedMaterial.redWrite = false;\n            this.defaultScreenSpaceImageMask9SlicedMaterial.greenWrite = false;\n            this.defaultScreenSpaceImageMask9SlicedMaterial.blueWrite = false;\n            this.defaultScreenSpaceImageMask9SlicedMaterial.alphaWrite = false;\n            this.defaultScreenSpaceImageMask9SlicedMaterial.update();\n            this.defaultImageMaterials.push(this.defaultScreenSpaceImageMask9SlicedMaterial);\n          }\n          return this.defaultScreenSpaceImageMask9SlicedMaterial;\n        } else {\n          if (nineSliceTiled) {\n            if (!this.defaultScreenSpaceImageMask9TiledMaterial) {\n              this.defaultScreenSpaceImageMask9TiledMaterial = this.defaultScreenSpaceImage9TiledMaterial.clone();\n              this.defaultScreenSpaceImageMask9TiledMaterial.name = \"defaultScreenSpaceImageMask9TiledMaterial\";\n              this.defaultScreenSpaceImageMask9TiledMaterial.nineSlicedMode = pc.SPRITE_RENDERMODE_TILED;\n              this.defaultScreenSpaceImageMask9TiledMaterial.depthTest = false;\n              this.defaultScreenSpaceImageMask9TiledMaterial.alphaTest = 1;\n              this.defaultScreenSpaceImageMask9TiledMaterial.redWrite = false;\n              this.defaultScreenSpaceImageMask9TiledMaterial.greenWrite = false;\n              this.defaultScreenSpaceImageMask9TiledMaterial.blueWrite = false;\n              this.defaultScreenSpaceImageMask9TiledMaterial.alphaWrite = false;\n              this.defaultScreenSpaceImageMask9TiledMaterial.update();\n              this.defaultImageMaterials.push(this.defaultScreenSpaceImageMask9TiledMaterial);\n            }\n            return this.defaultScreenSpaceImageMask9TiledMaterial;\n          } else {\n            if (!this.defaultScreenSpaceImageMaskMaterial) {\n              this.defaultScreenSpaceImageMaskMaterial = this._createBaseImageMaterial();\n              this.defaultScreenSpaceImageMaskMaterial.name = \"defaultScreenSpaceImageMaskMaterial\";\n              this.defaultScreenSpaceImageMaskMaterial.depthTest = false;\n              this.defaultScreenSpaceImageMaskMaterial.alphaTest = 1;\n              this.defaultScreenSpaceImageMaskMaterial.redWrite = false;\n              this.defaultScreenSpaceImageMaskMaterial.greenWrite = false;\n              this.defaultScreenSpaceImageMaskMaterial.blueWrite = false;\n              this.defaultScreenSpaceImageMaskMaterial.alphaWrite = false;\n              this.defaultScreenSpaceImageMaskMaterial.update();\n              this.defaultImageMaterials.push(this.defaultScreenSpaceImageMaskMaterial);\n            }\n            return this.defaultScreenSpaceImageMaskMaterial;\n          }\n        }\n      } else {\n        if (nineSliced) {\n          if (!this.defaultScreenSpaceImage9SlicedMaterial) {\n            this.defaultScreenSpaceImage9SlicedMaterial = this._createBaseImageMaterial();\n            this.defaultScreenSpaceImage9SlicedMaterial.name = \"defaultScreenSpaceImage9SlicedMaterial\";\n            this.defaultScreenSpaceImage9SlicedMaterial.nineSlicedMode = pc.SPRITE_RENDERMODE_SLICED;\n            this.defaultScreenSpaceImage9SlicedMaterial.depthTest = false;\n            this.defaultScreenSpaceImage9SlicedMaterial.update();\n            this.defaultImageMaterials.push(this.defaultScreenSpaceImage9SlicedMaterial);\n          }\n          return this.defaultScreenSpaceImage9SlicedMaterial;\n        } else {\n          if (nineSliceTiled) {\n            if (!this.defaultScreenSpaceImage9TiledMaterial) {\n              this.defaultScreenSpaceImage9TiledMaterial = this._createBaseImageMaterial();\n              this.defaultScreenSpaceImage9TiledMaterial.name = \"defaultScreenSpaceImage9TiledMaterial\";\n              this.defaultScreenSpaceImage9TiledMaterial.nineSlicedMode = pc.SPRITE_RENDERMODE_TILED;\n              this.defaultScreenSpaceImage9TiledMaterial.depthTest = false;\n              this.defaultScreenSpaceImage9TiledMaterial.update();\n              this.defaultImageMaterials.push(this.defaultScreenSpaceImage9TiledMaterial);\n            }\n            return this.defaultScreenSpaceImage9TiledMaterial;\n          } else {\n            if (!this.defaultScreenSpaceImageMaterial) {\n              this.defaultScreenSpaceImageMaterial = this._createBaseImageMaterial();\n              this.defaultScreenSpaceImageMaterial.name = \"defaultScreenSpaceImageMaterial\";\n              this.defaultScreenSpaceImageMaterial.depthTest = false;\n              this.defaultScreenSpaceImageMaterial.update();\n              this.defaultImageMaterials.push(this.defaultScreenSpaceImageMaterial);\n            }\n            return this.defaultScreenSpaceImageMaterial;\n          }\n        }\n      }\n    } else {\n      if (mask) {\n        if (nineSliced) {\n          if (!this.defaultImage9SlicedMaskMaterial) {\n            this.defaultImage9SlicedMaskMaterial = this._createBaseImageMaterial();\n            this.defaultImage9SlicedMaskMaterial.name = \"defaultImage9SlicedMaskMaterial\";\n            this.defaultImage9SlicedMaskMaterial.nineSlicedMode = pc.SPRITE_RENDERMODE_SLICED;\n            this.defaultImage9SlicedMaskMaterial.alphaTest = 1;\n            this.defaultImage9SlicedMaskMaterial.redWrite = false;\n            this.defaultImage9SlicedMaskMaterial.greenWrite = false;\n            this.defaultImage9SlicedMaskMaterial.blueWrite = false;\n            this.defaultImage9SlicedMaskMaterial.alphaWrite = false;\n            this.defaultImage9SlicedMaskMaterial.update();\n            this.defaultImageMaterials.push(this.defaultImage9SlicedMaskMaterial);\n          }\n          return this.defaultImage9SlicedMaskMaterial;\n        } else {\n          if (nineSliceTiled) {\n            if (!this.defaultImage9TiledMaskMaterial) {\n              this.defaultImage9TiledMaskMaterial = this._createBaseImageMaterial();\n              this.defaultImage9TiledMaskMaterial.name = \"defaultImage9TiledMaskMaterial\";\n              this.defaultImage9TiledMaskMaterial.nineSlicedMode = pc.SPRITE_RENDERMODE_TILED;\n              this.defaultImage9TiledMaskMaterial.alphaTest = 1;\n              this.defaultImage9TiledMaskMaterial.redWrite = false;\n              this.defaultImage9TiledMaskMaterial.greenWrite = false;\n              this.defaultImage9TiledMaskMaterial.blueWrite = false;\n              this.defaultImage9TiledMaskMaterial.alphaWrite = false;\n              this.defaultImage9TiledMaskMaterial.update();\n              this.defaultImageMaterials.push(this.defaultImage9TiledMaskMaterial);\n            }\n            return this.defaultImage9TiledMaskMaterial;\n          } else {\n            if (!this.defaultImageMaskMaterial) {\n              this.defaultImageMaskMaterial = this._createBaseImageMaterial();\n              this.defaultImageMaskMaterial.name = \"defaultImageMaskMaterial\";\n              this.defaultImageMaskMaterial.alphaTest = 1;\n              this.defaultImageMaskMaterial.redWrite = false;\n              this.defaultImageMaskMaterial.greenWrite = false;\n              this.defaultImageMaskMaterial.blueWrite = false;\n              this.defaultImageMaskMaterial.alphaWrite = false;\n              this.defaultImageMaskMaterial.update();\n              this.defaultImageMaterials.push(this.defaultImageMaskMaterial);\n            }\n            return this.defaultImageMaskMaterial;\n          }\n        }\n      } else {\n        if (nineSliced) {\n          if (!this.defaultImage9SlicedMaterial) {\n            this.defaultImage9SlicedMaterial = this._createBaseImageMaterial();\n            this.defaultImage9SlicedMaterial.name = \"defaultImage9SlicedMaterial\";\n            this.defaultImage9SlicedMaterial.nineSlicedMode = pc.SPRITE_RENDERMODE_SLICED;\n            this.defaultImage9SlicedMaterial.update();\n            this.defaultImageMaterials.push(this.defaultImage9SlicedMaterial);\n          }\n          return this.defaultImage9SlicedMaterial;\n        } else {\n          if (nineSliceTiled) {\n            if (!this.defaultImage9TiledMaterial) {\n              this.defaultImage9TiledMaterial = this._createBaseImageMaterial();\n              this.defaultImage9TiledMaterial.name = \"defaultImage9TiledMaterial\";\n              this.defaultImage9TiledMaterial.nineSlicedMode = pc.SPRITE_RENDERMODE_TILED;\n              this.defaultImage9TiledMaterial.update();\n              this.defaultImageMaterials.push(this.defaultImage9TiledMaterial);\n            }\n            return this.defaultImage9TiledMaterial;\n          } else {\n            if (!this.defaultImageMaterial) {\n              this.defaultImageMaterial = this._createBaseImageMaterial();\n              this.defaultImageMaterial.name = \"defaultImageMaterial\";\n              this.defaultImageMaterial.update();\n              this.defaultImageMaterials.push(this.defaultImageMaterial);\n            }\n            return this.defaultImageMaterial;\n          }\n        }\n      }\n    }\n  }, registerUnicodeConverter:function(func) {\n    this._unicodeConverter = func;\n  }, registerRtlReorder:function(func) {\n    this._rtlReorder = func;\n  }, getUnicodeConverter:function() {\n    return this._unicodeConverter;\n  }, getRtlReorder:function() {\n    return this._rtlReorder;\n  }});\n  return {ElementComponentSystem:ElementComponentSystem};\n}());\nObject.assign(pc, function() {\n  var ElementComponentData = function() {\n    this.enabled = true;\n  };\n  return {ElementComponentData:ElementComponentData};\n}());\nObject.assign(pc, function() {\n  var ImageRenderable = function(entity, mesh, material) {\n    this._entity = entity;\n    this._element = entity.element;\n    this.model = new pc.Model;\n    this.node = new pc.GraphNode;\n    this.model.graph = this.node;\n    this.mesh = mesh;\n    this.meshInstance = new pc.MeshInstance(this.node, this.mesh, material);\n    this.meshInstance.name = \"ImageElement: \" + entity.name;\n    this.meshInstance.castShadow = false;\n    this.meshInstance.receiveShadow = false;\n    this._meshDirty = false;\n    this.model.meshInstances.push(this.meshInstance);\n    this._entity.addChild(this.model.graph);\n    this.model._entity = this._entity;\n    this.unmaskMeshInstance = null;\n  };\n  ImageRenderable.prototype.destroy = function() {\n    this.setMaterial(null);\n    this._element.removeModelFromLayers(this.model);\n    this.model.destroy();\n    this.model = null;\n    this.node = null;\n    this.mesh = null;\n    this.meshInstance = null;\n    this._entity = null;\n    this._element = null;\n  };\n  ImageRenderable.prototype.setMesh = function(mesh) {\n    if (!this.meshInstance) {\n      return;\n    }\n    this.mesh = mesh;\n    this.meshInstance.mesh = mesh;\n    this.meshInstance.visible = !!mesh;\n    if (this.unmaskMeshInstance) {\n      this.unmaskMeshInstance.mesh = mesh;\n    }\n    this.forceUpdateAabb();\n  };\n  ImageRenderable.prototype.setMask = function(mask) {\n    if (!this.meshInstance) {\n      return;\n    }\n    if (mask) {\n      this.unmaskMeshInstance = new pc.MeshInstance(this.node, this.mesh, this.meshInstance.material);\n      this.unmaskMeshInstance.name = \"Unmask: \" + this._entity.name;\n      this.unmaskMeshInstance.castShadow = false;\n      this.unmaskMeshInstance.receiveShadow = false;\n      this.unmaskMeshInstance.pick = false;\n      this.model.meshInstances.push(this.unmaskMeshInstance);\n      for (var name in this.meshInstance.parameters) {\n        this.unmaskMeshInstance.setParameter(name, this.meshInstance.parameters[name].data);\n      }\n    } else {\n      var idx = this.model.meshInstances.indexOf(this.unmaskMeshInstance);\n      if (idx >= 0) {\n        this.model.meshInstances.splice(idx, 1);\n      }\n      this.unmaskMeshInstance = null;\n    }\n    if (this._entity.enabled && this._element.enabled) {\n      this._element.removeModelFromLayers(this.model);\n      this._element.addModelToLayers(this.model);\n    }\n  };\n  ImageRenderable.prototype.setMaterial = function(material) {\n    if (!this.meshInstance) {\n      return;\n    }\n    this.meshInstance.material = material;\n    if (this.unmaskMeshInstance) {\n      this.unmaskMeshInstance.material = material;\n    }\n  };\n  ImageRenderable.prototype.setParameter = function(name, value) {\n    if (!this.meshInstance) {\n      return;\n    }\n    this.meshInstance.setParameter(name, value);\n    if (this.unmaskMeshInstance) {\n      this.unmaskMeshInstance.setParameter(name, value);\n    }\n  };\n  ImageRenderable.prototype.deleteParameter = function(name) {\n    if (!this.meshInstance) {\n      return;\n    }\n    this.meshInstance.deleteParameter(name);\n    if (this.unmaskMeshInstance) {\n      this.unmaskMeshInstance.deleteParameter(name);\n    }\n  };\n  ImageRenderable.prototype.setUnmaskDrawOrder = function() {\n    if (!this.meshInstance) {\n      return;\n    }\n    var getLastChild = function(e) {\n      var last;\n      var c = e.children;\n      var l = c.length;\n      if (l) {\n        for (var i = 0;i < l;i++) {\n          if (c[i].element) {\n            last = c[i];\n          }\n        }\n        if (!last) {\n          return null;\n        }\n        var child = getLastChild(last);\n        if (child) {\n          return child;\n        }\n        return last;\n      }\n      return null;\n    };\n    if (this.unmaskMeshInstance) {\n      var lastChild = getLastChild(this._entity);\n      if (lastChild && lastChild.element) {\n        this.unmaskMeshInstance.drawOrder = lastChild.element.drawOrder + lastChild.element.getMaskOffset();\n      } else {\n        this.unmaskMeshInstance.drawOrder = this.meshInstance.drawOrder + this._element.getMaskOffset();\n      }\n    }\n  };\n  ImageRenderable.prototype.setDrawOrder = function(drawOrder) {\n    if (!this.meshInstance) {\n      return;\n    }\n    this.meshInstance.drawOrder = drawOrder;\n  };\n  ImageRenderable.prototype.setCull = function(cull) {\n    if (!this.meshInstance) {\n      return;\n    }\n    var element = this._element;\n    var visibleFn = null;\n    if (cull && element._isScreenCulled()) {\n      visibleFn = function(camera) {\n        return element.isVisibleForCamera(camera);\n      };\n    }\n    this.meshInstance.cull = cull;\n    this.meshInstance.isVisibleFunc = visibleFn;\n    if (this.unmaskMeshInstance) {\n      this.unmaskMeshInstance.cull = cull;\n      this.unmaskMeshInstance.isVisibleFunc = visibleFn;\n    }\n  };\n  ImageRenderable.prototype.setScreenSpace = function(screenSpace) {\n    if (!this.meshInstance) {\n      return;\n    }\n    this.meshInstance.screenSpace = screenSpace;\n    if (this.unmaskMeshInstance) {\n      this.unmaskMeshInstance.screenSpace = screenSpace;\n    }\n  };\n  ImageRenderable.prototype.setLayer = function(layer) {\n    if (!this.meshInstance) {\n      return;\n    }\n    this.meshInstance.layer = layer;\n    if (this.unmaskMeshInstance) {\n      this.unmaskMeshInstance.layer = layer;\n    }\n  };\n  ImageRenderable.prototype.forceUpdateAabb = function(mask) {\n    if (!this.meshInstance) {\n      return;\n    }\n    this.meshInstance._aabbVer = -1;\n    if (this.unmaskMeshInstance) {\n      this.unmaskMeshInstance._aabbVer = -1;\n    }\n  };\n  ImageRenderable.prototype.setAabbFunc = function(fn) {\n    if (!this.meshInstance) {\n      return;\n    }\n    this.meshInstance._updateAabbFunc = fn;\n    if (this.unmaskMeshInstance) {\n      this.unmaskMeshInstance._updateAabbFunc = fn;\n    }\n  };\n  var ImageElement = function ImageElement(element) {\n    this._element = element;\n    this._entity = element.entity;\n    this._system = element.system;\n    this._textureAsset = null;\n    this._texture = null;\n    this._materialAsset = null;\n    this._material = null;\n    this._spriteAsset = null;\n    this._sprite = null;\n    this._spriteFrame = 0;\n    this._pixelsPerUnit = null;\n    this._rect = new pc.Vec4(0, 0, 1, 1);\n    this._mask = false;\n    this._maskRef = 0;\n    this._outerScale = new pc.Vec2;\n    this._outerScaleUniform = new Float32Array(2);\n    this._innerOffset = new pc.Vec4;\n    this._innerOffsetUniform = new Float32Array(4);\n    this._atlasRect = new pc.Vec4;\n    this._atlasRectUniform = new Float32Array(4);\n    this._defaultMesh = this._createMesh();\n    this._renderable = new ImageRenderable(this._entity, this._defaultMesh, this._material);\n    this._color = new pc.Color(1, 1, 1, 1);\n    this._colorUniform = new Float32Array([1, 1, 1]);\n    this._renderable.setParameter(\"material_emissive\", this._colorUniform);\n    this._renderable.setParameter(\"material_opacity\", 1);\n    this._updateAabbFunc = this._updateAabb.bind(this);\n    this._onScreenChange(this._element.screen);\n    this._element.on(\"resize\", this._onParentResizeOrPivotChange, this);\n    this._element.on(\"set:pivot\", this._onParentResizeOrPivotChange, this);\n    this._element.on(\"screen:set:screenspace\", this._onScreenSpaceChange, this);\n    this._element.on(\"set:screen\", this._onScreenChange, this);\n    this._element.on(\"set:draworder\", this._onDrawOrderChange, this);\n    this._element.on(\"screen:set:resolution\", this._onResolutionChange, this);\n  };\n  Object.assign(ImageElement.prototype, {destroy:function() {\n    this.textureAsset = null;\n    this.spriteAsset = null;\n    this.materialAsset = null;\n    this._renderable.setMesh(this._defaultMesh);\n    this._renderable.destroy();\n    this._defaultMesh = null;\n    this._element.off(\"resize\", this._onParentResizeOrPivotChange, this);\n    this._element.off(\"set:pivot\", this._onParentResizeOrPivotChange, this);\n    this._element.off(\"screen:set:screenspace\", this._onScreenSpaceChange, this);\n    this._element.off(\"set:screen\", this._onScreenChange, this);\n    this._element.off(\"set:draworder\", this._onDrawOrderChange, this);\n    this._element.off(\"screen:set:resolution\", this._onResolutionChange, this);\n  }, _onResolutionChange:function(res) {\n  }, _onParentResizeOrPivotChange:function() {\n    if (this._renderable.mesh) {\n      this._updateMesh(this._renderable.mesh);\n    }\n  }, _onScreenSpaceChange:function(value) {\n    this._updateMaterial(value);\n  }, _onScreenChange:function(screen, previous) {\n    if (screen) {\n      this._updateMaterial(screen.screen.screenSpace);\n    } else {\n      this._updateMaterial(false);\n    }\n  }, _onDrawOrderChange:function(order) {\n    this._renderable.setDrawOrder(order);\n    if (this.mask && this._element.screen) {\n      this._element.screen.screen.once(\"syncdraworder\", function() {\n        this._renderable.setUnmaskDrawOrder();\n      }, this);\n    }\n  }, _hasUserMaterial:function() {\n    return !!this._materialAsset || !!this._material && this._system.defaultImageMaterials.indexOf(this._material) === -1;\n  }, _use9Slicing:function() {\n    return this.sprite && (this.sprite.renderMode === pc.SPRITE_RENDERMODE_SLICED || this.sprite.renderMode === pc.SPRITE_RENDERMODE_TILED);\n  }, _updateMaterial:function(screenSpace) {\n    var mask = !!this._mask;\n    var nineSliced = !!(this.sprite && this.sprite.renderMode === pc.SPRITE_RENDERMODE_SLICED);\n    var nineTiled = !!(this.sprite && this.sprite.renderMode === pc.SPRITE_RENDERMODE_TILED);\n    if (!this._hasUserMaterial()) {\n      this._material = this._system.getImageElementMaterial(screenSpace, mask, nineSliced, nineTiled);\n    }\n    if (this._renderable) {\n      this._renderable.setCull(true);\n      this._renderable.setMaterial(this._material);\n      this._renderable.setScreenSpace(screenSpace);\n      this._renderable.setLayer(screenSpace ? pc.LAYER_HUD : pc.LAYER_WORLD);\n    }\n  }, _createMesh:function() {\n    var element = this._element;\n    var w = element.calculatedWidth;\n    var h = element.calculatedHeight;\n    var r = this._rect;\n    var vertexData = new ArrayBuffer(4 * 8 * 4);\n    var vertexDataF32 = new Float32Array(vertexData);\n    vertexDataF32[5] = 1;\n    vertexDataF32[6] = r.x;\n    vertexDataF32[7] = r.y;\n    vertexDataF32[8] = w;\n    vertexDataF32[13] = 1;\n    vertexDataF32[14] = r.x + r.z;\n    vertexDataF32[15] = r.y;\n    vertexDataF32[16] = w;\n    vertexDataF32[17] = h;\n    vertexDataF32[21] = 1;\n    vertexDataF32[22] = r.x + r.z;\n    vertexDataF32[23] = r.y + r.w;\n    vertexDataF32[25] = h;\n    vertexDataF32[29] = 1;\n    vertexDataF32[30] = r.x;\n    vertexDataF32[31] = r.y + r.w;\n    var vertexDesc = [{semantic:pc.SEMANTIC_POSITION, components:3, type:pc.TYPE_FLOAT32}, {semantic:pc.SEMANTIC_NORMAL, components:3, type:pc.TYPE_FLOAT32}, {semantic:pc.SEMANTIC_TEXCOORD0, components:2, type:pc.TYPE_FLOAT32}];\n    var device = this._system.app.graphicsDevice;\n    var vertexFormat = new pc.VertexFormat(device, vertexDesc);\n    var vertexBuffer = new pc.VertexBuffer(device, vertexFormat, 4, pc.BUFFER_STATIC, vertexData);\n    var mesh = new pc.Mesh;\n    mesh.vertexBuffer = vertexBuffer;\n    mesh.primitive[0].type = pc.PRIMITIVE_TRIFAN;\n    mesh.primitive[0].base = 0;\n    mesh.primitive[0].count = 4;\n    mesh.primitive[0].indexed = false;\n    mesh.aabb.setMinMax(pc.Vec3.ZERO, new pc.Vec3(w, h, 0));\n    this._updateMesh(mesh);\n    return mesh;\n  }, _updateMesh:function(mesh) {\n    var element = this._element;\n    var w = element.calculatedWidth;\n    var h = element.calculatedHeight;\n    var screenSpace = element._isScreenSpace();\n    this._updateMaterial(screenSpace);\n    if (this._renderable) {\n      this._renderable.forceUpdateAabb();\n    }\n    if (this.sprite && (this.sprite.renderMode === pc.SPRITE_RENDERMODE_SLICED || this.sprite.renderMode === pc.SPRITE_RENDERMODE_TILED)) {\n      var frameData = this._sprite.atlas.frames[this._sprite.frameKeys[this._spriteFrame]];\n      var borderWidthScale = 2 / frameData.rect.z;\n      var borderHeightScale = 2 / frameData.rect.w;\n      this._innerOffset.set(frameData.border.x * borderWidthScale, frameData.border.y * borderHeightScale, frameData.border.z * borderWidthScale, frameData.border.w * borderHeightScale);\n      var tex = this.sprite.atlas.texture;\n      this._atlasRect.set(frameData.rect.x / tex.width, frameData.rect.y / tex.height, frameData.rect.z / tex.width, frameData.rect.w / tex.height);\n      var ppu = this._pixelsPerUnit !== null ? this._pixelsPerUnit : this.sprite.pixelsPerUnit;\n      var scaleMulX = frameData.rect.z / ppu;\n      var scaleMulY = frameData.rect.w / ppu;\n      this._outerScale.set(Math.max(w, this._innerOffset.x * scaleMulX), Math.max(h, this._innerOffset.y * scaleMulY));\n      var scaleX = scaleMulX;\n      var scaleY = scaleMulY;\n      this._outerScale.x /= scaleMulX;\n      this._outerScale.y /= scaleMulY;\n      scaleX *= pc.math.clamp(w / (this._innerOffset.x * scaleMulX), 0.0001, 1);\n      scaleY *= pc.math.clamp(h / (this._innerOffset.y * scaleMulY), 0.0001, 1);\n      if (this._renderable) {\n        this._innerOffsetUniform[0] = this._innerOffset.x;\n        this._innerOffsetUniform[1] = this._innerOffset.y;\n        this._innerOffsetUniform[2] = this._innerOffset.z;\n        this._innerOffsetUniform[3] = this._innerOffset.w;\n        this._renderable.setParameter(\"innerOffset\", this._innerOffsetUniform);\n        this._atlasRectUniform[0] = this._atlasRect.x;\n        this._atlasRectUniform[1] = this._atlasRect.y;\n        this._atlasRectUniform[2] = this._atlasRect.z;\n        this._atlasRectUniform[3] = this._atlasRect.w;\n        this._renderable.setParameter(\"atlasRect\", this._atlasRectUniform);\n        this._outerScaleUniform[0] = this._outerScale.x;\n        this._outerScaleUniform[1] = this._outerScale.y;\n        this._renderable.setParameter(\"outerScale\", this._outerScaleUniform);\n        this._renderable.setAabbFunc(this._updateAabbFunc);\n        this._renderable.node.setLocalScale(scaleX, scaleY, 1);\n        this._renderable.node.setLocalPosition((0.5 - element.pivot.x) * w, (0.5 - element.pivot.y) * h, 0);\n      }\n    } else {\n      var vb = mesh.vertexBuffer;\n      var vertexDataF32 = new Float32Array(vb.lock());\n      var hp = element.pivot.x;\n      var vp = element.pivot.y;\n      vertexDataF32[0] = 0 - hp * w;\n      vertexDataF32[1] = 0 - vp * h;\n      vertexDataF32[8] = w - hp * w;\n      vertexDataF32[9] = 0 - vp * h;\n      vertexDataF32[16] = w - hp * w;\n      vertexDataF32[17] = h - vp * h;\n      vertexDataF32[24] = 0 - hp * w;\n      vertexDataF32[25] = h - vp * h;\n      var atlasTextureWidth = 1;\n      var atlasTextureHeight = 1;\n      var rect = this._rect;\n      if (this._sprite && this._sprite.frameKeys[this._spriteFrame] && this._sprite.atlas) {\n        var frame = this._sprite.atlas.frames[this._sprite.frameKeys[this._spriteFrame]];\n        if (frame) {\n          rect = frame.rect;\n          atlasTextureWidth = this._sprite.atlas.texture.width;\n          atlasTextureHeight = this._sprite.atlas.texture.height;\n        }\n      }\n      vertexDataF32[6] = rect.x / atlasTextureWidth;\n      vertexDataF32[7] = rect.y / atlasTextureHeight;\n      vertexDataF32[14] = (rect.x + rect.z) / atlasTextureWidth;\n      vertexDataF32[15] = rect.y / atlasTextureHeight;\n      vertexDataF32[22] = (rect.x + rect.z) / atlasTextureWidth;\n      vertexDataF32[23] = (rect.y + rect.w) / atlasTextureHeight;\n      vertexDataF32[30] = rect.x / atlasTextureWidth;\n      vertexDataF32[31] = (rect.y + rect.w) / atlasTextureHeight;\n      vb.unlock();\n      var min = new pc.Vec3(0 - hp * w, 0 - vp * h, 0);\n      var max = new pc.Vec3(w - hp * w, h - vp * h, 0);\n      mesh.aabb.setMinMax(min, max);\n      if (this._renderable) {\n        this._renderable.node.setLocalScale(1, 1, 1);\n        this._renderable.node.setLocalPosition(0, 0, 0);\n        this._renderable.setAabbFunc(null);\n      }\n    }\n    this._meshDirty = false;\n  }, _updateSprite:function() {\n    var nineSlice = false;\n    var mesh = null;\n    if (this._sprite && this._sprite.atlas) {\n      mesh = this._sprite.meshes[this.spriteFrame];\n      nineSlice = this._sprite.renderMode === pc.SPRITE_RENDERMODE_SLICED || this._sprite.renderMode === pc.SPRITE_RENDERMODE_TILED;\n    }\n    this.mesh = nineSlice ? mesh : this._defaultMesh;\n    if (this.mesh) {\n      if (!this._element._beingInitialized) {\n        this._updateMesh(this.mesh);\n      } else {\n        this._meshDirty = true;\n      }\n    }\n  }, _updateAabb:function(aabb) {\n    aabb.center.set(0, 0, 0);\n    aabb.halfExtents.set(this._outerScale.x * 0.5, this._outerScale.y * 0.5, 0.001);\n    aabb.setFromTransformedAabb(aabb, this._renderable.node.getWorldTransform());\n    return aabb;\n  }, _toggleMask:function() {\n    this._element._dirtifyMask();\n    var screenSpace = this._element._isScreenSpace();\n    this._updateMaterial(screenSpace);\n    this._renderable.setMask(!!this._mask);\n  }, _onMaterialLoad:function(asset) {\n    this.material = asset.resource;\n  }, _onMaterialAdded:function(asset) {\n    this._system.app.assets.off(\"add:\" + asset.id, this._onMaterialAdded, this);\n    if (this._materialAsset === asset.id) {\n      this._bindMaterialAsset(asset);\n    }\n  }, _bindMaterialAsset:function(asset) {\n    if (!this._entity.enabled) {\n      return;\n    }\n    asset.on(\"load\", this._onMaterialLoad, this);\n    asset.on(\"change\", this._onMaterialChange, this);\n    asset.on(\"remove\", this._onMaterialRemove, this);\n    if (asset.resource) {\n      this._onMaterialLoad(asset);\n    } else {\n      this._system.app.assets.load(asset);\n    }\n  }, _unbindMaterialAsset:function(asset) {\n    asset.off(\"load\", this._onMaterialLoad, this);\n    asset.off(\"change\", this._onMaterialChange, this);\n    asset.off(\"remove\", this._onMaterialRemove, this);\n  }, _onMaterialChange:function() {\n  }, _onMaterialRemove:function() {\n  }, _onTextureAdded:function(asset) {\n    this._system.app.assets.off(\"add:\" + asset.id, this._onTextureAdded, this);\n    if (this._textureAsset === asset.id) {\n      this._bindTextureAsset(asset);\n    }\n  }, _bindTextureAsset:function(asset) {\n    if (!this._entity.enabled) {\n      return;\n    }\n    asset.on(\"load\", this._onTextureLoad, this);\n    asset.on(\"change\", this._onTextureChange, this);\n    asset.on(\"remove\", this._onTextureRemove, this);\n    if (asset.resource) {\n      this._onTextureLoad(asset);\n    } else {\n      this._system.app.assets.load(asset);\n    }\n  }, _unbindTextureAsset:function(asset) {\n    asset.off(\"load\", this._onTextureLoad, this);\n    asset.off(\"change\", this._onTextureChange, this);\n    asset.off(\"remove\", this._onTextureRemove, this);\n  }, _onTextureLoad:function(asset) {\n    this.texture = asset.resource;\n  }, _onTextureChange:function(asset) {\n  }, _onTextureRemove:function(asset) {\n  }, _onSpriteAssetAdded:function(asset) {\n    this._system.app.assets.off(\"add:\" + asset.id, this._onSpriteAssetAdded, this);\n    if (this._spriteAsset === asset.id) {\n      this._bindSpriteAsset(asset);\n    }\n  }, _bindSpriteAsset:function(asset) {\n    if (!this._entity.enabled) {\n      return;\n    }\n    asset.on(\"load\", this._onSpriteAssetLoad, this);\n    asset.on(\"change\", this._onSpriteAssetChange, this);\n    asset.on(\"remove\", this._onSpriteAssetRemove, this);\n    if (asset.resource) {\n      this._onSpriteAssetLoad(asset);\n    } else {\n      this._system.app.assets.load(asset);\n    }\n  }, _unbindSpriteAsset:function(asset) {\n    asset.off(\"load\", this._onSpriteAssetLoad, this);\n    asset.off(\"change\", this._onSpriteAssetChange, this);\n    asset.off(\"remove\", this._onSpriteAssetRemove, this);\n    if (asset.data.textureAtlasAsset) {\n      this._system.app.assets.off(\"load:\" + asset.data.textureAtlasAsset, this._onTextureAtlasLoad, this);\n    }\n  }, _onSpriteAssetLoad:function(asset) {\n    if (!asset || !asset.resource) {\n      this.sprite = null;\n    } else {\n      if (!asset.resource.atlas) {\n        var atlasAssetId = asset.data.textureAtlasAsset;\n        if (atlasAssetId) {\n          var assets = this._system.app.assets;\n          assets.off(\"load:\" + atlasAssetId, this._onTextureAtlasLoad, this);\n          assets.once(\"load:\" + atlasAssetId, this._onTextureAtlasLoad, this);\n        }\n      } else {\n        this.sprite = asset.resource;\n      }\n    }\n  }, _onSpriteAssetChange:function(asset) {\n    this._onSpriteAssetLoad(asset);\n  }, _onSpriteAssetRemove:function(asset) {\n  }, _bindSprite:function(sprite) {\n    sprite.on(\"set:meshes\", this._onSpriteMeshesChange, this);\n    sprite.on(\"set:pixelsPerUnit\", this._onSpritePpuChange, this);\n    sprite.on(\"set:atlas\", this._onAtlasTextureChange, this);\n    if (sprite.atlas) {\n      sprite.atlas.on(\"set:texture\", this._onAtlasTextureChange, this);\n    }\n  }, _unbindSprite:function(sprite) {\n    sprite.off(\"set:meshes\", this._onSpriteMeshesChange, this);\n    sprite.off(\"set:pixelsPerUnit\", this._onSpritePpuChange, this);\n    sprite.off(\"set:atlas\", this._onAtlasTextureChange, this);\n    if (sprite.atlas) {\n      sprite.atlas.off(\"set:texture\", this._onAtlasTextureChange, this);\n    }\n  }, _onSpriteMeshesChange:function() {\n    if (this._sprite) {\n      this._spriteFrame = pc.math.clamp(this._spriteFrame, 0, this._sprite.frameKeys.length - 1);\n    }\n    this._updateSprite();\n  }, _onSpritePpuChange:function() {\n    if (this.sprite.renderMode !== pc.SPRITE_RENDERMODE_SIMPLE && this._pixelsPerUnit === null) {\n      this._updateSprite();\n    }\n  }, _onAtlasTextureChange:function() {\n    if (this.sprite && this.sprite.atlas && this.sprite.atlas.texture) {\n      this._renderable.setParameter(\"texture_emissiveMap\", this._sprite.atlas.texture);\n      this._renderable.setParameter(\"texture_opacityMap\", this._sprite.atlas.texture);\n    } else {\n      this._renderable.deleteParameter(\"texture_emissiveMap\");\n      this._renderable.deleteParameter(\"texture_opacityMap\");\n    }\n  }, _onTextureAtlasLoad:function(atlasAsset) {\n    var spriteAsset = this._spriteAsset;\n    if (spriteAsset instanceof pc.Asset) {\n      this._onSpriteAssetLoad(spriteAsset);\n    } else {\n      this._onSpriteAssetLoad(this._system.app.assets.get(spriteAsset));\n    }\n  }, onEnable:function() {\n    var asset;\n    if (this._materialAsset) {\n      asset = this._system.app.assets.get(this._materialAsset);\n      if (asset && asset.resource !== this._material) {\n        this._bindMaterialAsset(asset);\n      }\n    }\n    if (this._textureAsset) {\n      asset = this._system.app.assets.get(this._textureAsset);\n      if (asset && asset.resource !== this._texture) {\n        this._bindTextureAsset(asset);\n      }\n    }\n    if (this._spriteAsset) {\n      asset = this._system.app.assets.get(this._spriteAsset);\n      if (asset && asset.resource !== this._sprite) {\n        this._bindSpriteAsset(asset);\n      }\n    }\n    this._element.addModelToLayers(this._renderable.model);\n  }, onDisable:function() {\n    this._element.removeModelFromLayers(this._renderable.model);\n  }, _setStencil:function(stencilParams) {\n    this._renderable.meshInstance.stencilFront = stencilParams;\n    this._renderable.meshInstance.stencilBack = stencilParams;\n    var ref = 0;\n    if (this._element.maskedBy) {\n      ref = this._element.maskedBy.element._image._maskRef;\n    }\n    if (this._renderable.unmaskMeshInstance) {\n      var sp = new pc.StencilParameters({ref:ref + 1, func:pc.FUNC_EQUAL, zpass:pc.STENCILOP_DECREMENT});\n      this._renderable.unmaskMeshInstance.stencilFront = sp;\n      this._renderable.unmaskMeshInstance.stencilBack = sp;\n    }\n  }});\n  Object.defineProperty(ImageElement.prototype, \"color\", {get:function() {\n    return this._color;\n  }, set:function(value) {\n    var r = value.r;\n    var g = value.g;\n    var b = value.b;\n    if (this._color.r === r && this._color.g === g && this._color.b === b) {\n      return;\n    }\n    this._color.r = r;\n    this._color.g = g;\n    this._color.b = b;\n    this._colorUniform[0] = r;\n    this._colorUniform[1] = g;\n    this._colorUniform[2] = b;\n    this._renderable.setParameter(\"material_emissive\", this._colorUniform);\n    if (this._element) {\n      this._element.fire(\"set:color\", this._color);\n    }\n  }});\n  Object.defineProperty(ImageElement.prototype, \"opacity\", {get:function() {\n    return this._color.a;\n  }, set:function(value) {\n    if (value === this._color.a) {\n      return;\n    }\n    this._color.a = value;\n    this._renderable.setParameter(\"material_opacity\", value);\n    if (this._element) {\n      this._element.fire(\"set:opacity\", value);\n    }\n  }});\n  Object.defineProperty(ImageElement.prototype, \"rect\", {get:function() {\n    return this._rect;\n  }, set:function(value) {\n    var x, y, z, w;\n    if (value instanceof pc.Vec4) {\n      x = value.x;\n      y = value.y;\n      z = value.z;\n      w = value.w;\n    } else {\n      x = value[0];\n      y = value[1];\n      z = value[2];\n      w = value[3];\n    }\n    if (x === this._rect.x && y === this._rect.y && z === this._rect.z && w === this._rect.w) {\n      return;\n    }\n    this._rect.set(x, y, z, w);\n    if (this._renderable.mesh) {\n      if (!this._element._beingInitialized) {\n        this._updateMesh(this._renderable.mesh);\n      } else {\n        this._meshDirty = true;\n      }\n    }\n  }});\n  Object.defineProperty(ImageElement.prototype, \"material\", {get:function() {\n    return this._material;\n  }, set:function(value) {\n    if (this._material === value) {\n      return;\n    }\n    if (!value) {\n      var screenSpace = this._element._isScreenSpace();\n      if (this.mask) {\n        value = screenSpace ? this._system.defaultScreenSpaceImageMaskMaterial : this._system.defaultImageMaskMaterial;\n      } else {\n        value = screenSpace ? this._system.defaultScreenSpaceImageMaterial : this._system.defaultImageMaterial;\n      }\n    }\n    this._material = value;\n    if (value) {\n      this._renderable.setMaterial(value);\n      if (this._hasUserMaterial()) {\n        this._renderable.deleteParameter(\"material_opacity\");\n        this._renderable.deleteParameter(\"material_emissive\");\n      } else {\n        this._colorUniform[0] = this._color.r;\n        this._colorUniform[1] = this._color.g;\n        this._colorUniform[2] = this._color.b;\n        this._renderable.setParameter(\"material_emissive\", this._colorUniform);\n        this._renderable.setParameter(\"material_opacity\", this._color.a);\n      }\n    }\n  }});\n  Object.defineProperty(ImageElement.prototype, \"materialAsset\", {get:function() {\n    return this._materialAsset;\n  }, set:function(value) {\n    var assets = this._system.app.assets;\n    var _id = value;\n    if (value instanceof pc.Asset) {\n      _id = value.id;\n    }\n    if (this._materialAsset !== _id) {\n      if (this._materialAsset) {\n        assets.off(\"add:\" + this._materialAsset, this._onMaterialAdded, this);\n        var _prev = assets.get(this._materialAsset);\n        if (_prev) {\n          _prev.off(\"load\", this._onMaterialLoad, this);\n          _prev.off(\"change\", this._onMaterialChange, this);\n          _prev.off(\"remove\", this._onMaterialRemove, this);\n        }\n      }\n      this._materialAsset = _id;\n      if (this._materialAsset) {\n        var asset = assets.get(this._materialAsset);\n        if (!asset) {\n          this.material = null;\n          assets.on(\"add:\" + this._materialAsset, this._onMaterialAdded, this);\n        } else {\n          this._bindMaterialAsset(asset);\n        }\n      } else {\n        this.material = null;\n      }\n    }\n  }});\n  Object.defineProperty(ImageElement.prototype, \"texture\", {get:function() {\n    return this._texture;\n  }, set:function(value) {\n    if (this._texture === value) {\n      return;\n    }\n    if (this._textureAsset) {\n      var textureAsset = this._system.app.assets.get(this._textureAsset);\n      if (textureAsset && textureAsset.resource !== value) {\n        this.textureAsset = null;\n      }\n    }\n    this._texture = value;\n    if (value) {\n      if (this._spriteAsset) {\n        this.spriteAsset = null;\n      }\n      this._renderable.setParameter(\"texture_emissiveMap\", this._texture);\n      this._renderable.setParameter(\"texture_opacityMap\", this._texture);\n      this._colorUniform[0] = this._color.r;\n      this._colorUniform[1] = this._color.g;\n      this._colorUniform[2] = this._color.b;\n      this._renderable.setParameter(\"material_emissive\", this._colorUniform);\n      this._renderable.setParameter(\"material_opacity\", this._color.a);\n    } else {\n      this._renderable.deleteParameter(\"texture_emissiveMap\");\n      this._renderable.deleteParameter(\"texture_opacityMap\");\n    }\n  }});\n  Object.defineProperty(ImageElement.prototype, \"textureAsset\", {get:function() {\n    return this._textureAsset;\n  }, set:function(value) {\n    var assets = this._system.app.assets;\n    var _id = value;\n    if (value instanceof pc.Asset) {\n      _id = value.id;\n    }\n    if (this._textureAsset !== _id) {\n      if (this._textureAsset) {\n        assets.off(\"add:\" + this._textureAsset, this._onTextureAdded, this);\n        var _prev = assets.get(this._textureAsset);\n        if (_prev) {\n          _prev.off(\"load\", this._onTextureLoad, this);\n          _prev.off(\"change\", this._onTextureChange, this);\n          _prev.off(\"remove\", this._onTextureRemove, this);\n        }\n      }\n      this._textureAsset = _id;\n      if (this._textureAsset) {\n        var asset = assets.get(this._textureAsset);\n        if (!asset) {\n          this.texture = null;\n          assets.on(\"add:\" + this._textureAsset, this._onTextureAdded, this);\n        } else {\n          this._bindTextureAsset(asset);\n        }\n      } else {\n        this.texture = null;\n      }\n    }\n  }});\n  Object.defineProperty(ImageElement.prototype, \"spriteAsset\", {get:function() {\n    return this._spriteAsset;\n  }, set:function(value) {\n    var assets = this._system.app.assets;\n    var _id = value;\n    if (value instanceof pc.Asset) {\n      _id = value.id;\n    }\n    if (this._spriteAsset !== _id) {\n      if (this._spriteAsset) {\n        assets.off(\"add:\" + this._spriteAsset, this._onSpriteAssetAdded, this);\n        var _prev = assets.get(this._spriteAsset);\n        if (_prev) {\n          this._unbindSpriteAsset(_prev);\n        }\n      }\n      this._spriteAsset = _id;\n      if (this._spriteAsset) {\n        var asset = assets.get(this._spriteAsset);\n        if (!asset) {\n          this.sprite = null;\n          assets.on(\"add:\" + this._spriteAsset, this._onSpriteAssetAdded, this);\n        } else {\n          this._bindSpriteAsset(asset);\n        }\n      } else {\n        this.sprite = null;\n      }\n      if (this._element) {\n        this._element.fire(\"set:spriteAsset\", _id);\n      }\n    }\n  }});\n  Object.defineProperty(ImageElement.prototype, \"sprite\", {get:function() {\n    return this._sprite;\n  }, set:function(value) {\n    if (this._sprite === value) {\n      return;\n    }\n    if (this._sprite) {\n      this._unbindSprite(this._sprite);\n    }\n    if (this._spriteAsset) {\n      var spriteAsset = this._system.app.assets.get(this._spriteAsset);\n      if (spriteAsset && spriteAsset.resource !== value) {\n        this.spriteAsset = null;\n      }\n    }\n    this._sprite = value;\n    if (this._sprite) {\n      this._bindSprite(this._sprite);\n      if (this._textureAsset) {\n        this.textureAsset = null;\n      }\n    }\n    if (this._sprite && this._sprite.atlas && this._sprite.atlas.texture) {\n      this._renderable.setParameter(\"texture_emissiveMap\", this._sprite.atlas.texture);\n      this._renderable.setParameter(\"texture_opacityMap\", this._sprite.atlas.texture);\n    } else {\n      this._renderable.deleteParameter(\"texture_emissiveMap\");\n      this._renderable.deleteParameter(\"texture_opacityMap\");\n    }\n    if (this._sprite) {\n      this._spriteFrame = pc.math.clamp(this._spriteFrame, 0, this._sprite.frameKeys.length - 1);\n    }\n    this._updateSprite();\n  }});\n  Object.defineProperty(ImageElement.prototype, \"spriteFrame\", {get:function() {\n    return this._spriteFrame;\n  }, set:function(value) {\n    var oldValue = this._spriteFrame;\n    if (this._sprite) {\n      this._spriteFrame = pc.math.clamp(value, 0, this._sprite.frameKeys.length - 1);\n    } else {\n      this._spriteFrame = value;\n    }\n    if (this._spriteFrame === oldValue) {\n      return;\n    }\n    this._updateSprite();\n    if (this._element) {\n      this._element.fire(\"set:spriteFrame\", value);\n    }\n  }});\n  Object.defineProperty(ImageElement.prototype, \"mesh\", {get:function() {\n    return this._renderable.mesh;\n  }, set:function(value) {\n    this._renderable.setMesh(value);\n    if (this._defaultMesh === value) {\n      this._renderable.setAabbFunc(null);\n    } else {\n      this._renderable.setAabbFunc(this._updateAabbFunc);\n    }\n  }});\n  Object.defineProperty(ImageElement.prototype, \"mask\", {get:function() {\n    return this._mask;\n  }, set:function(value) {\n    if (this._mask !== value) {\n      this._mask = value;\n      this._toggleMask();\n    }\n  }});\n  Object.defineProperty(ImageElement.prototype, \"pixelsPerUnit\", {get:function() {\n    return this._pixelsPerUnit;\n  }, set:function(value) {\n    if (this._pixelsPerUnit === value) {\n      return;\n    }\n    this._pixelsPerUnit = value;\n    if (this._sprite && (this._sprite.renderMode === pc.SPRITE_RENDERMODE_SLICED || this._sprite.renderMode === pc.SPRITE_RENDERMODE_TILED)) {\n      this._updateSprite();\n    }\n  }});\n  Object.defineProperty(ImageElement.prototype, \"aabb\", {get:function() {\n    if (this._renderable.meshInstance) {\n      return this._renderable.meshInstance.aabb;\n    }\n    return null;\n  }});\n  return {ImageElement:ImageElement};\n}());\nObject.assign(pc, function() {\n  var MeshInfo = function() {\n    this.count = 0;\n    this.quad = 0;\n    this.lines = {};\n    this.positions = [];\n    this.normals = [];\n    this.uvs = [];\n    this.colors = [];\n    this.indices = [];\n    this.meshInstance = null;\n  };\n  var TextElement = function TextElement(element) {\n    this._element = element;\n    this._system = element.system;\n    this._entity = element.entity;\n    this._text = \"\";\n    this._symbols = [];\n    this._colorPalette = [];\n    this._symbolColors = null;\n    this._i18nKey = null;\n    this._fontAsset = new pc.LocalizedAsset(this._system.app);\n    this._fontAsset.disableLocalization = true;\n    this._fontAsset.on(\"load\", this._onFontLoad, this);\n    this._fontAsset.on(\"change\", this._onFontChange, this);\n    this._fontAsset.on(\"remove\", this._onFontRemove, this);\n    this._font = null;\n    this._color = new pc.Color(1, 1, 1, 1);\n    this._colorUniform = new Float32Array(3);\n    this._spacing = 1;\n    this._fontSize = 32;\n    this._fontMinY = 0;\n    this._fontMaxY = 0;\n    this._originalFontSize = 32;\n    this._maxFontSize = 32;\n    this._minFontSize = 8;\n    this._autoFitWidth = false;\n    this._autoFitHeight = false;\n    this._maxLines = -1;\n    this._lineHeight = 32;\n    this._scaledLineHeight = 32;\n    this._wrapLines = false;\n    this._drawOrder = 0;\n    this._alignment = new pc.Vec2(0.5, 0.5);\n    this._autoWidth = true;\n    this._autoHeight = true;\n    this.width = 0;\n    this.height = 0;\n    this._node = new pc.GraphNode;\n    this._model = new pc.Model;\n    this._model.graph = this._node;\n    this._entity.addChild(this._node);\n    this._meshInfo = [];\n    this._material = null;\n    this._aabbDirty = true;\n    this._aabb = new pc.BoundingBox;\n    this._noResize = false;\n    this._currentMaterialType = null;\n    this._maskedMaterialSrc = null;\n    this._rtlReorder = false;\n    this._unicodeConverter = false;\n    this._rtl = false;\n    this._outlineColor = new pc.Color(0, 0, 0, 1);\n    this._outlineColorUniform = new Float32Array(4);\n    this._outlineThicknessScale = 0.2;\n    this._outlineThickness = 0.0;\n    this._shadowColor = new pc.Color(0, 0, 0, 1);\n    this._shadowColorUniform = new Float32Array(4);\n    this._shadowOffsetScale = 0.005;\n    this._shadowOffset = new pc.Vec2(0, 0);\n    this._shadowOffsetUniform = new Float32Array(2);\n    this._enableMarkup = false;\n    this._onScreenChange(this._element.screen);\n    element.on(\"resize\", this._onParentResize, this);\n    element.on(\"set:screen\", this._onScreenChange, this);\n    element.on(\"screen:set:screenspace\", this._onScreenSpaceChange, this);\n    element.on(\"set:draworder\", this._onDrawOrderChange, this);\n    element.on(\"set:pivot\", this._onPivotChange, this);\n    this._system.app.i18n.on(\"set:locale\", this._onLocaleSet, this);\n    this._system.app.i18n.on(\"data:add\", this._onLocalizationData, this);\n    this._system.app.i18n.on(\"data:remove\", this._onLocalizationData, this);\n    this._rangeStart = 0;\n    this._rangeEnd = 0;\n  };\n  var LINE_BREAK_CHAR = /^[\\r\\n]$/;\n  var WHITESPACE_CHAR = /^[ \\t]$/;\n  var WORD_BOUNDARY_CHAR = /^[ \\t\\-]$/;\n  Object.assign(TextElement.prototype, {destroy:function() {\n    this._setMaterial(null);\n    if (this._model) {\n      this._element.removeModelFromLayers(this._model);\n      this._model.destroy();\n      this._model = null;\n    }\n    this._fontAsset.destroy();\n    this.font = null;\n    this._element.off(\"resize\", this._onParentResize, this);\n    this._element.off(\"set:screen\", this._onScreenChange, this);\n    this._element.off(\"screen:set:screenspace\", this._onScreenSpaceChange, this);\n    this._element.off(\"set:draworder\", this._onDrawOrderChange, this);\n    this._element.off(\"set:pivot\", this._onPivotChange, this);\n    this._system.app.i18n.off(\"set:locale\", this._onLocaleSet, this);\n    this._system.app.i18n.off(\"data:add\", this._onLocalizationData, this);\n    this._system.app.i18n.off(\"data:remove\", this._onLocalizationData, this);\n  }, _onParentResize:function(width, height) {\n    if (this._noResize) {\n      return;\n    }\n    if (this._font) {\n      this._updateText();\n    }\n  }, _onScreenChange:function(screen) {\n    if (screen) {\n      this._updateMaterial(screen.screen.screenSpace);\n    } else {\n      this._updateMaterial(false);\n    }\n  }, _onScreenSpaceChange:function(value) {\n    this._updateMaterial(value);\n  }, _onDrawOrderChange:function(order) {\n    this._drawOrder = order;\n    if (this._model) {\n      var i;\n      var len;\n      for (i = 0, len = this._model.meshInstances.length;i < len;i++) {\n        this._model.meshInstances[i].drawOrder = order;\n      }\n    }\n  }, _onPivotChange:function(pivot) {\n    if (this._font) {\n      this._updateText();\n    }\n  }, _onLocaleSet:function(locale) {\n    if (!this._i18nKey) {\n      return;\n    }\n    if (this.fontAsset) {\n      var asset = this._system.app.assets.get(this.fontAsset);\n      if (!asset || !asset.resource || asset.resource !== this._font) {\n        this.font = null;\n      }\n    }\n    this._resetLocalizedText();\n  }, _onLocalizationData:function(locale, messages) {\n    if (this._i18nKey && messages[this._i18nKey]) {\n      this._resetLocalizedText();\n    }\n  }, _resetLocalizedText:function() {\n    this._setText(this._system.app.i18n.getText(this._i18nKey));\n  }, _setText:function(text) {\n    if (this.unicodeConverter) {\n      var unicodeConverterFunc = this._system.getUnicodeConverter();\n      if (unicodeConverterFunc) {\n        text = unicodeConverterFunc(text);\n      } else {\n        console.warn(\"Element created with unicodeConverter option but no unicodeConverter function registered\");\n      }\n    }\n    if (this._text !== text) {\n      if (this._font) {\n        this._updateText(text);\n      }\n      this._text = text;\n    }\n  }, _updateText:function(text) {\n    var i;\n    var len;\n    var results;\n    var tags;\n    if (text === undefined) {\n      text = this._text;\n    }\n    this._symbols = pc.string.getSymbols(text);\n    if (this._symbols.length === 0) {\n      this._symbols = [\" \"];\n    }\n    if (this._enableMarkup) {\n      results = pc.Markup.evaluate(this._symbols);\n      this._symbols = results.symbols;\n      tags = results.tags;\n    }\n    if (this._rtlReorder) {\n      var rtlReorderFunc = this._system.app.systems.element.getRtlReorder();\n      if (rtlReorderFunc) {\n        results = rtlReorderFunc(this._symbols);\n        this._rtl = results.rtl;\n        this._symbols = results.mapping.map(function(v) {\n          return this._symbols[v];\n        }, this);\n        if (tags) {\n          tags = results.mapping.map(function(v) {\n            return tags[v];\n          });\n        }\n      } else {\n        console.warn(\"Element created with rtlReorder option but no rtlReorder function registered\");\n      }\n    } else {\n      this._rtl = false;\n    }\n    if (tags) {\n      var paletteMap = {};\n      this._colorPalette = [Math.round(this._color.r * 255), Math.round(this._color.g * 255), Math.round(this._color.b * 255)];\n      this._symbolColors = [];\n      paletteMap[this._color.toString(false).toLowerCase()] = 0;\n      for (i = 0, len = this._symbols.length;i < len;++i) {\n        var tag = tags[i];\n        var color = 0;\n        if (tag && tag.color && tag.color.value) {\n          var c = tag.color.value;\n          if (c.length === 7 && c[0] === \"#\") {\n            var hex = c.substring(1).toLowerCase();\n            if (paletteMap.hasOwnProperty(hex)) {\n              color = paletteMap[hex];\n            } else {\n              if (/^([0-9a-f]{2}){3}$/.test(hex)) {\n                color = this._colorPalette.length / 3;\n                paletteMap[hex] = color;\n                this._colorPalette.push(parseInt(hex.substring(0, 2), 16));\n                this._colorPalette.push(parseInt(hex.substring(2, 4), 16));\n                this._colorPalette.push(parseInt(hex.substring(4, 6), 16));\n              }\n            }\n          }\n        }\n        this._symbolColors.push(color);\n      }\n    } else {\n      this._colorPalette = [];\n      this._symbolColors = null;\n    }\n    var charactersPerTexture = this._calculateCharsPerTexture();\n    var removedModel = false;\n    var element = this._element;\n    var screenSpace = element._isScreenSpace();\n    var screenCulled = element._isScreenCulled();\n    var visibleFn = function(camera) {\n      return element.isVisibleForCamera(camera);\n    };\n    for (i = 0, len = this._meshInfo.length;i < len;i++) {\n      var l = charactersPerTexture[i] || 0;\n      var meshInfo = this._meshInfo[i];\n      if (meshInfo.count !== l) {\n        if (!removedModel) {\n          element.removeModelFromLayers(this._model);\n          removedModel = true;\n        }\n        meshInfo.count = l;\n        meshInfo.positions.length = meshInfo.normals.length = l * 3 * 4;\n        meshInfo.indices.length = l * 3 * 2;\n        meshInfo.uvs.length = l * 2 * 4;\n        meshInfo.colors.length = l * 4 * 4;\n        if (meshInfo.meshInstance) {\n          this._removeMeshInstance(meshInfo.meshInstance);\n          meshInfo.meshInstance.material = null;\n        }\n        if (l === 0) {\n          meshInfo.meshInstance = null;\n          continue;\n        }\n        for (var v = 0;v < l;v++) {\n          meshInfo.indices[v * 3 * 2 + 0] = v * 4;\n          meshInfo.indices[v * 3 * 2 + 1] = v * 4 + 1;\n          meshInfo.indices[v * 3 * 2 + 2] = v * 4 + 3;\n          meshInfo.indices[v * 3 * 2 + 3] = v * 4 + 2;\n          meshInfo.indices[v * 3 * 2 + 4] = v * 4 + 3;\n          meshInfo.indices[v * 3 * 2 + 5] = v * 4 + 1;\n          meshInfo.normals[v * 4 * 3 + 0] = 0;\n          meshInfo.normals[v * 4 * 3 + 1] = 0;\n          meshInfo.normals[v * 4 * 3 + 2] = -1;\n          meshInfo.normals[v * 4 * 3 + 3] = 0;\n          meshInfo.normals[v * 4 * 3 + 4] = 0;\n          meshInfo.normals[v * 4 * 3 + 5] = -1;\n          meshInfo.normals[v * 4 * 3 + 6] = 0;\n          meshInfo.normals[v * 4 * 3 + 7] = 0;\n          meshInfo.normals[v * 4 * 3 + 8] = -1;\n          meshInfo.normals[v * 4 * 3 + 9] = 0;\n          meshInfo.normals[v * 4 * 3 + 10] = 0;\n          meshInfo.normals[v * 4 * 3 + 11] = -1;\n        }\n        var mesh = pc.createMesh(this._system.app.graphicsDevice, meshInfo.positions, {uvs:meshInfo.uvs, normals:meshInfo.normals, colors:meshInfo.colors, indices:meshInfo.indices});\n        var mi = new pc.MeshInstance(this._node, mesh, this._material);\n        mi.name = \"Text Element: \" + this._entity.name;\n        mi.castShadow = false;\n        mi.receiveShadow = false;\n        mi.cull = !screenSpace;\n        mi.screenSpace = screenSpace;\n        mi.drawOrder = this._drawOrder;\n        if (screenCulled) {\n          mi.cull = true;\n          mi.isVisibleFunc = visibleFn;\n        }\n        this._setTextureParams(mi, this._font.textures[i]);\n        if (this._symbolColors) {\n          this._colorUniform[0] = 1;\n          this._colorUniform[1] = 1;\n          this._colorUniform[2] = 1;\n        } else {\n          this._colorUniform[0] = this._color.r;\n          this._colorUniform[1] = this._color.g;\n          this._colorUniform[2] = this._color.b;\n        }\n        mi.setParameter(\"material_emissive\", this._colorUniform);\n        mi.setParameter(\"material_opacity\", this._color.a);\n        mi.setParameter(\"font_sdfIntensity\", this._font.intensity);\n        mi.setParameter(\"font_pxrange\", this._getPxRange(this._font));\n        mi.setParameter(\"font_textureWidth\", this._font.data.info.maps[i].width);\n        this._outlineColorUniform[0] = this._outlineColor.r;\n        this._outlineColorUniform[1] = this._outlineColor.g;\n        this._outlineColorUniform[2] = this._outlineColor.b;\n        this._outlineColorUniform[3] = this._outlineColor.a;\n        mi.setParameter(\"outline_color\", this._outlineColorUniform);\n        mi.setParameter(\"outline_thickness\", this._outlineThicknessScale * this._outlineThickness);\n        this._shadowColorUniform[0] = this._shadowColor.r;\n        this._shadowColorUniform[1] = this._shadowColor.g;\n        this._shadowColorUniform[2] = this._shadowColor.b;\n        this._shadowColorUniform[3] = this._shadowColor.a;\n        mi.setParameter(\"shadow_color\", this._shadowColorUniform);\n        var ratio = this._font.data.info.maps[i].width / this._font.data.info.maps[i].height;\n        this._shadowOffsetUniform[0] = this._shadowOffsetScale * this._shadowOffset.x;\n        this._shadowOffsetUniform[1] = ratio * this._shadowOffsetScale * this._shadowOffset.y;\n        mi.setParameter(\"shadow_offset\", this._shadowOffsetUniform);\n        meshInfo.meshInstance = mi;\n        this._model.meshInstances.push(mi);\n      }\n    }\n    if (this._element.maskedBy) {\n      this._element._setMaskedBy(this._element.maskedBy);\n    }\n    if (removedModel && this._element.enabled && this._entity.enabled) {\n      this._element.addModelToLayers(this._model);\n    }\n    this._updateMeshes();\n    this._rangeStart = 0;\n    this._rangeEnd = this._symbols.length;\n    this._updateRenderRange();\n  }, _removeMeshInstance:function(meshInstance) {\n    var ib;\n    var iblen;\n    var oldMesh = meshInstance.mesh;\n    if (oldMesh) {\n      if (oldMesh.vertexBuffer) {\n        oldMesh.vertexBuffer.destroy();\n      }\n      if (oldMesh.indexBuffer) {\n        for (ib = 0, iblen = oldMesh.indexBuffer.length;ib < iblen;ib++) {\n          oldMesh.indexBuffer[ib].destroy();\n        }\n      }\n    }\n    var idx = this._model.meshInstances.indexOf(meshInstance);\n    if (idx !== -1) {\n      this._model.meshInstances.splice(idx, 1);\n    }\n  }, _setMaterial:function(material) {\n    var i;\n    var len;\n    this._material = material;\n    if (this._model) {\n      for (i = 0, len = this._model.meshInstances.length;i < len;i++) {\n        var mi = this._model.meshInstances[i];\n        mi.material = material;\n      }\n    }\n  }, _updateMaterial:function(screenSpace) {\n    var element = this._element;\n    var screenCulled = element._isScreenCulled();\n    var visibleFn = function(camera) {\n      return element.isVisibleForCamera(camera);\n    };\n    var msdf = this._font && this._font.type === pc.FONT_MSDF;\n    this._material = this._system.getTextElementMaterial(screenSpace, msdf);\n    if (this._model) {\n      for (var i = 0, len = this._model.meshInstances.length;i < len;i++) {\n        var mi = this._model.meshInstances[i];\n        mi.cull = !screenSpace;\n        mi.material = this._material;\n        mi.screenSpace = screenSpace;\n        if (screenCulled) {\n          mi.cull = true;\n          mi.isVisibleFunc = visibleFn;\n        } else {\n          mi.isVisibleFunc = null;\n        }\n      }\n    }\n  }, _updateMeshes:function() {\n    var json = this._font.data;\n    var self = this;\n    var minFont = Math.min(this._minFontSize, this._maxFontSize);\n    var maxFont = this._maxFontSize;\n    var autoFit = this._shouldAutoFit();\n    if (autoFit) {\n      this._fontSize = this._maxFontSize;\n    }\n    var MAGIC = 32;\n    var l = this._symbols.length;\n    var _x = 0;\n    var _y = 0;\n    var _z = 0;\n    var _xMinusTrailingWhitespace = 0;\n    var lines = 1;\n    var wordStartX = 0;\n    var wordStartIndex = 0;\n    var lineStartIndex = 0;\n    var numWordsThisLine = 0;\n    var numCharsThisLine = 0;\n    var numBreaksThisLine = 0;\n    var splitHorizontalAnchors = Math.abs(this._element.anchor.x - this._element.anchor.z) >= 0.0001;\n    var maxLineWidth = this._element.calculatedWidth;\n    if (this.autoWidth && !splitHorizontalAnchors || !this._wrapLines) {\n      maxLineWidth = Number.POSITIVE_INFINITY;\n    }\n    var fontMinY = 0;\n    var fontMaxY = 0;\n    var scale = 1;\n    var char, data, i, j, quad;\n    function breakLine(symbols, lineBreakIndex, lineBreakX) {\n      self._lineWidths.push(Math.abs(lineBreakX));\n      var sliceStart = lineStartIndex > lineBreakIndex ? lineBreakIndex + 1 : lineStartIndex;\n      var sliceEnd = lineStartIndex > lineBreakIndex ? lineStartIndex + 1 : lineBreakIndex;\n      var chars = symbols.slice(sliceStart, sliceEnd);\n      if (numBreaksThisLine) {\n        var i = chars.length;\n        while (i-- && numBreaksThisLine > 0) {\n          if (LINE_BREAK_CHAR.test(chars[i])) {\n            chars.splice(i, 1);\n            numBreaksThisLine--;\n          }\n        }\n      }\n      self._lineContents.push(chars.join(\"\"));\n      _x = 0;\n      _y -= self._scaledLineHeight;\n      lines++;\n      numWordsThisLine = 0;\n      numCharsThisLine = 0;\n      numBreaksThisLine = 0;\n      wordStartX = 0;\n      lineStartIndex = lineBreakIndex;\n    }\n    var retryUpdateMeshes = true;\n    while (retryUpdateMeshes) {\n      retryUpdateMeshes = false;\n      if (autoFit) {\n        this._scaledLineHeight = this._lineHeight * this._fontSize / (this._maxFontSize || 0.0001);\n      } else {\n        this._scaledLineHeight = this._lineHeight;\n      }\n      this.width = 0;\n      this.height = 0;\n      this._lineWidths = [];\n      this._lineContents = [];\n      _x = 0;\n      _y = 0;\n      _z = 0;\n      _xMinusTrailingWhitespace = 0;\n      lines = 1;\n      wordStartX = 0;\n      wordStartIndex = 0;\n      lineStartIndex = 0;\n      numWordsThisLine = 0;\n      numCharsThisLine = 0;\n      numBreaksThisLine = 0;\n      scale = this._fontSize / MAGIC;\n      fontMinY = this._fontMinY * scale;\n      fontMaxY = this._fontMaxY * scale;\n      for (i = 0;i < this._meshInfo.length;i++) {\n        this._meshInfo[i].quad = 0;\n        this._meshInfo[i].lines = {};\n      }\n      var color_r = 255;\n      var color_g = 255;\n      var color_b = 255;\n      for (i = 0;i < l;i++) {\n        char = this._symbols[i];\n        var x = 0;\n        var y = 0;\n        var advance = 0;\n        var quadsize = 1;\n        var dataScale, size;\n        data = json.chars[char];\n        if (!data) {\n          if (json.chars[\" \"]) {\n            data = json.chars[\" \"];\n          } else {\n            for (var key in json.chars) {\n              data = json.chars[key];\n              break;\n            }\n          }\n        }\n        if (data) {\n          var kerning = 0;\n          if (numCharsThisLine > 0) {\n            var kernTable = this._font.data.kerning;\n            if (kernTable) {\n              var kernLeft = kernTable[pc.string.getCodePoint(this._symbols[i - 1]) || 0];\n              if (kernLeft) {\n                kerning = kernLeft[pc.string.getCodePoint(this._symbols[i]) || 0] || 0;\n              }\n            }\n          }\n          dataScale = data.scale || 1;\n          size = (data.width + data.height) / 2;\n          quadsize = scale * size / dataScale;\n          advance = (data.xadvance + kerning) * scale;\n          x = (data.xoffset - kerning) * scale;\n          y = data.yoffset * scale;\n        } else {\n          console.error(\"Couldn't substitute missing character: '\" + char + \"'\");\n        }\n        var isLineBreak = LINE_BREAK_CHAR.test(char);\n        if (isLineBreak) {\n          numBreaksThisLine++;\n          if (this._maxLines < 0 || lines < this._maxLines) {\n            breakLine(this._symbols, i, _xMinusTrailingWhitespace);\n            wordStartIndex = i + 1;\n            lineStartIndex = i + 1;\n          }\n          continue;\n        }\n        var isWhitespace = WHITESPACE_CHAR.test(char);\n        var meshInfo = this._meshInfo[data && data.map || 0];\n        var candidateLineWidth = _x + this._spacing * advance;\n        if (candidateLineWidth > maxLineWidth && numCharsThisLine > 0 && !isWhitespace) {\n          if (this._maxLines < 0 || lines < this._maxLines) {\n            if (numWordsThisLine === 0) {\n              wordStartIndex = i;\n              breakLine(this._symbols, i, _xMinusTrailingWhitespace);\n            } else {\n              var backtrack = Math.max(i - wordStartIndex, 0);\n              if (this._meshInfo.length <= 1) {\n                meshInfo.lines[lines - 1] -= backtrack;\n                meshInfo.quad -= backtrack;\n              } else {\n                var backtrackStart = wordStartIndex;\n                var backtrackEnd = i;\n                for (j = backtrackStart;j < backtrackEnd;j++) {\n                  var backChar = this._symbols[j];\n                  var backCharData = json.chars[backChar];\n                  var backMeshInfo = this._meshInfo[backCharData && backCharData.map || 0];\n                  backMeshInfo.lines[lines - 1] -= 1;\n                  backMeshInfo.quad -= 1;\n                }\n              }\n              i -= backtrack + 1;\n              breakLine(this._symbols, wordStartIndex, wordStartX);\n              continue;\n            }\n          }\n        }\n        quad = meshInfo.quad;\n        meshInfo.lines[lines - 1] = quad;\n        var left = _x - x;\n        var right = left + quadsize;\n        var bottom = _y - y;\n        var top = bottom + quadsize;\n        if (this._rtl) {\n          var shift = quadsize - x - this._spacing * advance - x;\n          left -= shift;\n          right -= shift;\n        }\n        meshInfo.positions[quad * 4 * 3 + 0] = left;\n        meshInfo.positions[quad * 4 * 3 + 1] = bottom;\n        meshInfo.positions[quad * 4 * 3 + 2] = _z;\n        meshInfo.positions[quad * 4 * 3 + 3] = right;\n        meshInfo.positions[quad * 4 * 3 + 4] = bottom;\n        meshInfo.positions[quad * 4 * 3 + 5] = _z;\n        meshInfo.positions[quad * 4 * 3 + 6] = right;\n        meshInfo.positions[quad * 4 * 3 + 7] = top;\n        meshInfo.positions[quad * 4 * 3 + 8] = _z;\n        meshInfo.positions[quad * 4 * 3 + 9] = left;\n        meshInfo.positions[quad * 4 * 3 + 10] = top;\n        meshInfo.positions[quad * 4 * 3 + 11] = _z;\n        this.width = Math.max(this.width, candidateLineWidth);\n        var fontSize;\n        if (this._shouldAutoFitWidth() && this.width > this._element.calculatedWidth) {\n          fontSize = Math.floor(this._element.fontSize * this._element.calculatedWidth / (this.width || 0.0001));\n          fontSize = pc.math.clamp(fontSize, minFont, maxFont);\n          if (fontSize !== this._element.fontSize) {\n            this._fontSize = fontSize;\n            retryUpdateMeshes = true;\n            break;\n          }\n        }\n        this.height = Math.max(this.height, fontMaxY - (_y + fontMinY));\n        if (this._shouldAutoFitHeight() && this.height > this._element.calculatedHeight) {\n          fontSize = pc.math.clamp(this._fontSize - 1, minFont, maxFont);\n          if (fontSize !== this._element.fontSize) {\n            this._fontSize = fontSize;\n            retryUpdateMeshes = true;\n            break;\n          }\n        }\n        _x += this._spacing * advance;\n        if (!isWhitespace && !isLineBreak) {\n          _xMinusTrailingWhitespace = _x;\n        }\n        var isWordBoundary = WORD_BOUNDARY_CHAR.test(char);\n        if (isWordBoundary) {\n          numWordsThisLine++;\n          wordStartX = _xMinusTrailingWhitespace;\n          wordStartIndex = i + 1;\n        }\n        numCharsThisLine++;\n        var uv = this._getUv(char);\n        meshInfo.uvs[quad * 4 * 2 + 0] = uv[0];\n        meshInfo.uvs[quad * 4 * 2 + 1] = uv[1];\n        meshInfo.uvs[quad * 4 * 2 + 2] = uv[2];\n        meshInfo.uvs[quad * 4 * 2 + 3] = uv[1];\n        meshInfo.uvs[quad * 4 * 2 + 4] = uv[2];\n        meshInfo.uvs[quad * 4 * 2 + 5] = uv[3];\n        meshInfo.uvs[quad * 4 * 2 + 6] = uv[0];\n        meshInfo.uvs[quad * 4 * 2 + 7] = uv[3];\n        if (this._symbolColors) {\n          var colorIdx = this._symbolColors[i] * 3;\n          color_r = this._colorPalette[colorIdx];\n          color_g = this._colorPalette[colorIdx + 1];\n          color_b = this._colorPalette[colorIdx + 2];\n        }\n        meshInfo.colors[quad * 4 * 4 + 0] = color_r;\n        meshInfo.colors[quad * 4 * 4 + 1] = color_g;\n        meshInfo.colors[quad * 4 * 4 + 2] = color_b;\n        meshInfo.colors[quad * 4 * 4 + 3] = 255;\n        meshInfo.colors[quad * 4 * 4 + 4] = color_r;\n        meshInfo.colors[quad * 4 * 4 + 5] = color_g;\n        meshInfo.colors[quad * 4 * 4 + 6] = color_b;\n        meshInfo.colors[quad * 4 * 4 + 7] = 255;\n        meshInfo.colors[quad * 4 * 4 + 8] = color_r;\n        meshInfo.colors[quad * 4 * 4 + 9] = color_g;\n        meshInfo.colors[quad * 4 * 4 + 10] = color_b;\n        meshInfo.colors[quad * 4 * 4 + 11] = 255;\n        meshInfo.colors[quad * 4 * 4 + 12] = color_r;\n        meshInfo.colors[quad * 4 * 4 + 13] = color_g;\n        meshInfo.colors[quad * 4 * 4 + 14] = color_b;\n        meshInfo.colors[quad * 4 * 4 + 15] = 255;\n        meshInfo.quad++;\n      }\n      if (retryUpdateMeshes) {\n        continue;\n      }\n      if (lineStartIndex < l) {\n        breakLine(this._symbols, l, _x);\n      }\n    }\n    this._noResize = true;\n    this.autoWidth = this._autoWidth;\n    this.autoHeight = this._autoHeight;\n    this._noResize = false;\n    var hp = this._element.pivot.x;\n    var vp = this._element.pivot.y;\n    var ha = this._alignment.x;\n    var va = this._alignment.y;\n    for (i = 0;i < this._meshInfo.length;i++) {\n      if (this._meshInfo[i].count === 0) {\n        continue;\n      }\n      var prevQuad = 0;\n      for (var line in this._meshInfo[i].lines) {\n        var index = this._meshInfo[i].lines[line];\n        var lw = this._lineWidths[parseInt(line, 10)];\n        var hoffset = -hp * this._element.calculatedWidth + ha * (this._element.calculatedWidth - lw) * (this._rtl ? -1 : 1);\n        var voffset = (1 - vp) * this._element.calculatedHeight - fontMaxY - (1 - va) * (this._element.calculatedHeight - this.height);\n        for (quad = prevQuad;quad <= index;quad++) {\n          this._meshInfo[i].positions[quad * 4 * 3] += hoffset;\n          this._meshInfo[i].positions[quad * 4 * 3 + 3] += hoffset;\n          this._meshInfo[i].positions[quad * 4 * 3 + 6] += hoffset;\n          this._meshInfo[i].positions[quad * 4 * 3 + 9] += hoffset;\n          this._meshInfo[i].positions[quad * 4 * 3 + 1] += voffset;\n          this._meshInfo[i].positions[quad * 4 * 3 + 4] += voffset;\n          this._meshInfo[i].positions[quad * 4 * 3 + 7] += voffset;\n          this._meshInfo[i].positions[quad * 4 * 3 + 10] += voffset;\n        }\n        if (this._rtl) {\n          for (quad = prevQuad;quad <= index;quad++) {\n            var idx = quad * 4 * 3;\n            for (var vert = 0;vert < 4;++vert) {\n              this._meshInfo[i].positions[idx + vert * 3] = this._element.calculatedWidth - this._meshInfo[i].positions[idx + vert * 3] + hoffset * 2;\n            }\n            var tmp0 = this._meshInfo[i].positions[idx + 3];\n            var tmp1 = this._meshInfo[i].positions[idx + 6];\n            this._meshInfo[i].positions[idx + 3] = this._meshInfo[i].positions[idx + 0];\n            this._meshInfo[i].positions[idx + 6] = this._meshInfo[i].positions[idx + 9];\n            this._meshInfo[i].positions[idx + 0] = tmp0;\n            this._meshInfo[i].positions[idx + 9] = tmp1;\n          }\n        }\n        prevQuad = index + 1;\n      }\n      var numVertices = this._meshInfo[i].count * 4;\n      var vertMax = this._meshInfo[i].quad * 4;\n      var it = new pc.VertexIterator(this._meshInfo[i].meshInstance.mesh.vertexBuffer);\n      for (var v = 0;v < numVertices;v++) {\n        if (v >= vertMax) {\n          it.element[pc.SEMANTIC_POSITION].set(0, 0, 0);\n          it.element[pc.SEMANTIC_TEXCOORD0].set(0, 0);\n          it.element[pc.SEMANTIC_COLOR].set(0, 0, 0, 0);\n        } else {\n          it.element[pc.SEMANTIC_POSITION].set(this._meshInfo[i].positions[v * 3 + 0], this._meshInfo[i].positions[v * 3 + 1], this._meshInfo[i].positions[v * 3 + 2]);\n          it.element[pc.SEMANTIC_TEXCOORD0].set(this._meshInfo[i].uvs[v * 2 + 0], this._meshInfo[i].uvs[v * 2 + 1]);\n          it.element[pc.SEMANTIC_COLOR].set(this._meshInfo[i].colors[v * 4 + 0], this._meshInfo[i].colors[v * 4 + 1], this._meshInfo[i].colors[v * 4 + 2], this._meshInfo[i].colors[v * 4 + 3]);\n        }\n        it.next();\n      }\n      it.end();\n      this._meshInfo[i].meshInstance.mesh.aabb.compute(this._meshInfo[i].positions);\n      this._meshInfo[i].meshInstance._aabbVer = -1;\n    }\n    this._aabbDirty = true;\n  }, _onFontRender:function() {\n    this.font = this._font;\n  }, _onFontLoad:function(asset) {\n    if (this.font !== asset.resource) {\n      this.font = asset.resource;\n    }\n  }, _onFontChange:function(asset, name, _new, _old) {\n    if (name === \"data\") {\n      this._font.data = _new;\n      var maps = this._font.data.info.maps.length;\n      for (var i = 0;i < maps;i++) {\n        if (!this._meshInfo[i]) {\n          continue;\n        }\n        var mi = this._meshInfo[i].meshInstance;\n        if (mi) {\n          mi.setParameter(\"font_sdfIntensity\", this._font.intensity);\n          mi.setParameter(\"font_pxrange\", this._getPxRange(this._font));\n          mi.setParameter(\"font_textureWidth\", this._font.data.info.maps[i].width);\n        }\n      }\n    }\n  }, _onFontRemove:function(asset) {\n  }, _setTextureParams:function(mi, texture) {\n    if (this._font) {\n      if (this._font.type === pc.FONT_MSDF) {\n        mi.deleteParameter(\"texture_emissiveMap\");\n        mi.deleteParameter(\"texture_opacityMap\");\n        mi.setParameter(\"texture_msdfMap\", texture);\n      } else {\n        if (this._font.type === pc.FONT_BITMAP) {\n          mi.deleteParameter(\"texture_msdfMap\");\n          mi.setParameter(\"texture_emissiveMap\", texture);\n          mi.setParameter(\"texture_opacityMap\", texture);\n        }\n      }\n    }\n  }, _getPxRange:function(font) {\n    var keys = Object.keys(this._font.data.chars);\n    for (var i = 0;i < keys.length;i++) {\n      var char = this._font.data.chars[keys[i]];\n      if (char.range) {\n        return (char.scale || 1) * char.range;\n      }\n    }\n    return 2;\n  }, _getUv:function(char) {\n    var data = this._font.data;\n    if (!data.chars[char]) {\n      var space = \" \";\n      if (data.chars[space]) {\n        return this._getUv(space);\n      }\n      return [0, 0, 0, 0];\n    }\n    var map = data.chars[char].map;\n    var width = data.info.maps[map].width;\n    var height = data.info.maps[map].height;\n    var x = data.chars[char].x;\n    var y = data.chars[char].y;\n    var x1 = x;\n    var y1 = y;\n    var x2 = x + data.chars[char].width;\n    var y2 = y - data.chars[char].height;\n    var edge = 1 - data.chars[char].height / height;\n    return [x1 / width, edge - y1 / height, x2 / width, edge - y2 / height];\n  }, onEnable:function() {\n    this._fontAsset.autoLoad = true;\n    if (this._model) {\n      this._element.addModelToLayers(this._model);\n    }\n  }, onDisable:function() {\n    this._fontAsset.autoLoad = false;\n    if (this._model) {\n      this._element.removeModelFromLayers(this._model);\n    }\n  }, _setStencil:function(stencilParams) {\n    if (this._model) {\n      var instances = this._model.meshInstances;\n      for (var i = 0;i < instances.length;i++) {\n        instances[i].stencilFront = stencilParams;\n        instances[i].stencilBack = stencilParams;\n      }\n    }\n  }, _shouldAutoFitWidth:function() {\n    return this._autoFitWidth && !this._autoWidth;\n  }, _shouldAutoFitHeight:function() {\n    return this._autoFitHeight && !this._autoHeight;\n  }, _shouldAutoFit:function() {\n    return this._autoFitWidth && !this._autoWidth || this._autoFitHeight && !this._autoHeight;\n  }, _calculateCharsPerTexture:function(symbolIndex) {\n    var charactersPerTexture = {};\n    if (symbolIndex === undefined) {\n      symbolIndex = this._symbols.length;\n    }\n    var i, len, char, info, map;\n    for (i = 0, len = symbolIndex;i < len;i++) {\n      char = this._symbols[i];\n      info = this._font.data.chars[char];\n      if (!info) {\n        info = this._font.data.chars[\" \"];\n        if (!info) {\n          info = this._font.data.chars[Object.keys(this._font.data.chars)[0]];\n        }\n      }\n      map = info.map;\n      if (!charactersPerTexture[map]) {\n        charactersPerTexture[map] = 1;\n      } else {\n        charactersPerTexture[map]++;\n      }\n    }\n    return charactersPerTexture;\n  }, _updateRenderRange:function() {\n    var startChars = this._rangeStart === 0 ? 0 : this._calculateCharsPerTexture(this._rangeStart);\n    var endChars = this._rangeEnd === 0 ? 0 : this._calculateCharsPerTexture(this._rangeEnd);\n    var i, len;\n    for (i = 0, len = this._meshInfo.length;i < len;i++) {\n      var start = startChars[i] || 0;\n      var end = endChars[i] || 0;\n      var instance = this._meshInfo[i].meshInstance;\n      if (instance) {\n        var mesh = instance.mesh;\n        if (mesh) {\n          mesh.primitive[0].base = start * 3 * 2;\n          mesh.primitive[0].count = (end - start) * 3 * 2;\n        }\n      }\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"text\", {get:function() {\n    return this._text;\n  }, set:function(value) {\n    this._i18nKey = null;\n    var str = value && value.toString() || \"\";\n    this._setText(str);\n  }});\n  Object.defineProperty(TextElement.prototype, \"key\", {get:function() {\n    return this._i18nKey;\n  }, set:function(value) {\n    var str = value !== null ? value.toString() : null;\n    if (this._i18nKey === str) {\n      return;\n    }\n    this._i18nKey = str;\n    if (str) {\n      this._fontAsset.disableLocalization = false;\n      this._resetLocalizedText();\n    } else {\n      this._fontAsset.disableLocalization = true;\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"color\", {get:function() {\n    return this._color;\n  }, set:function(value) {\n    var r = value.r;\n    var g = value.g;\n    var b = value.b;\n    if (this._color.r === r && this._color.g === g && this._color.b === b) {\n      return;\n    }\n    this._color.r = r;\n    this._color.g = g;\n    this._color.b = b;\n    if (this._symbolColors) {\n      if (this._font) {\n        this._updateText();\n      }\n    } else {\n      this._colorUniform[0] = this._color.r;\n      this._colorUniform[1] = this._color.g;\n      this._colorUniform[2] = this._color.b;\n      for (var i = 0, len = this._model.meshInstances.length;i < len;i++) {\n        var mi = this._model.meshInstances[i];\n        mi.setParameter(\"material_emissive\", this._colorUniform);\n      }\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"opacity\", {get:function() {\n    return this._color.a;\n  }, set:function(value) {\n    if (this._color.a === value) {\n      return;\n    }\n    this._color.a = value;\n    if (this._model) {\n      for (var i = 0, len = this._model.meshInstances.length;i < len;i++) {\n        var mi = this._model.meshInstances[i];\n        mi.setParameter(\"material_opacity\", value);\n      }\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"lineHeight\", {get:function() {\n    return this._lineHeight;\n  }, set:function(value) {\n    var _prev = this._lineHeight;\n    this._lineHeight = value;\n    this._scaledLineHeight = value;\n    if (_prev !== value && this._font) {\n      this._updateText();\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"wrapLines\", {get:function() {\n    return this._wrapLines;\n  }, set:function(value) {\n    var _prev = this._wrapLines;\n    this._wrapLines = value;\n    if (_prev !== value && this._font) {\n      this._updateText();\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"lines\", {get:function() {\n    return this._lineContents;\n  }});\n  Object.defineProperty(TextElement.prototype, \"spacing\", {get:function() {\n    return this._spacing;\n  }, set:function(value) {\n    var _prev = this._spacing;\n    this._spacing = value;\n    if (_prev !== value && this._font) {\n      this._updateText();\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"fontSize\", {get:function() {\n    return this._fontSize;\n  }, set:function(value) {\n    var _prev = this._fontSize;\n    this._fontSize = value;\n    this._originalFontSize = value;\n    if (_prev !== value && this._font) {\n      this._updateText();\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"fontAsset\", {get:function() {\n    return this._fontAsset.localizedAsset;\n  }, set:function(value) {\n    this._fontAsset.defaultAsset = value;\n  }});\n  Object.defineProperty(TextElement.prototype, \"font\", {get:function() {\n    return this._font;\n  }, set:function(value) {\n    var i;\n    var len;\n    var previousFontType;\n    if (this._font) {\n      previousFontType = this._font.type;\n      if (this._font.off) {\n        this._font.off(\"render\", this._onFontRender, this);\n      }\n    }\n    this._font = value;\n    this._fontMinY = 0;\n    this._fontMaxY = 0;\n    if (!value) {\n      return;\n    }\n    var json = this._font.data;\n    for (var charId in json.chars) {\n      var data = json.chars[charId];\n      if (data.bounds) {\n        this._fontMinY = Math.min(this._fontMinY, data.bounds[1]);\n        this._fontMaxY = Math.max(this._fontMaxY, data.bounds[3]);\n      }\n    }\n    if (this._font.on) {\n      this._font.on(\"render\", this._onFontRender, this);\n    }\n    if (this._fontAsset.localizedAsset) {\n      var asset = this._system.app.assets.get(this._fontAsset.localizedAsset);\n      if (asset.resource !== this._font) {\n        this._fontAsset.defaultAsset = null;\n      }\n    }\n    if (value.type !== previousFontType) {\n      var screenSpace = this._element._isScreenSpace();\n      this._updateMaterial(screenSpace);\n    }\n    for (i = 0, len = this._font.textures.length;i < len;i++) {\n      if (!this._meshInfo[i]) {\n        this._meshInfo[i] = new MeshInfo;\n      } else {\n        var mi = this._meshInfo[i].meshInstance;\n        if (mi) {\n          mi.setParameter(\"font_sdfIntensity\", this._font.intensity);\n          mi.setParameter(\"font_pxrange\", this._getPxRange(this._font));\n          mi.setParameter(\"font_textureWidth\", this._font.data.info.maps[i].width);\n          this._setTextureParams(mi, this._font.textures[i]);\n        }\n      }\n    }\n    var removedModel = false;\n    for (i = this._font.textures.length;i < this._meshInfo.length;i++) {\n      if (this._meshInfo[i].meshInstance) {\n        if (!removedModel) {\n          this._element.removeModelFromLayers(this._model);\n          removedModel = true;\n        }\n        this._removeMeshInstance(this._meshInfo[i].meshInstance);\n      }\n    }\n    if (this._meshInfo.length > this._font.textures.length) {\n      this._meshInfo.length = this._font.textures.length;\n    }\n    this._updateText();\n  }});\n  Object.defineProperty(TextElement.prototype, \"alignment\", {get:function() {\n    return this._alignment;\n  }, set:function(value) {\n    if (value instanceof pc.Vec2) {\n      this._alignment.set(value.x, value.y);\n    } else {\n      this._alignment.set(value[0], value[1]);\n    }\n    if (this._font) {\n      this._updateText();\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"autoWidth\", {get:function() {\n    return this._autoWidth;\n  }, set:function(value) {\n    var old = this._autoWidth;\n    this._autoWidth = value;\n    if (value && Math.abs(this._element.anchor.x - this._element.anchor.z) < 0.0001) {\n      this._element.width = this.width;\n    }\n    if (old !== value) {\n      var newFontSize = this._shouldAutoFit() ? this._maxFontSize : this._originalFontSize;\n      if (newFontSize !== this._fontSize) {\n        this._fontSize = newFontSize;\n        if (this._font) {\n          this._updateText();\n        }\n      }\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"autoHeight\", {get:function() {\n    return this._autoHeight;\n  }, set:function(value) {\n    var old = this._autoHeight;\n    this._autoHeight = value;\n    if (value && Math.abs(this._element.anchor.y - this._element.anchor.w) < 0.0001) {\n      this._element.height = this.height;\n    }\n    if (old !== value) {\n      var newFontSize = this._shouldAutoFit() ? this._maxFontSize : this._originalFontSize;\n      if (newFontSize !== this._fontSize) {\n        this._fontSize = newFontSize;\n        if (this._font) {\n          this._updateText();\n        }\n      }\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"rtlReorder\", {get:function() {\n    return this._rtlReorder;\n  }, set:function(value) {\n    if (this._rtlReorder !== value) {\n      this._rtlReorder = value;\n      if (this._font) {\n        this._updateText();\n      }\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"unicodeConverter\", {get:function() {\n    return this._unicodeConverter;\n  }, set:function(value) {\n    if (this._unicodeConverter !== value) {\n      this._unicodeConverter = value;\n      this._setText(this._text);\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"aabb\", {get:function() {\n    if (this._aabbDirty) {\n      var initialized = false;\n      for (var i = 0;i < this._meshInfo.length;i++) {\n        if (!this._meshInfo[i].meshInstance) {\n          continue;\n        }\n        if (!initialized) {\n          this._aabb.copy(this._meshInfo[i].meshInstance.aabb);\n          initialized = true;\n        } else {\n          this._aabb.add(this._meshInfo[i].meshInstance.aabb);\n        }\n      }\n      this._aabbDirty = false;\n    }\n    return this._aabb;\n  }});\n  Object.defineProperty(TextElement.prototype, \"outlineColor\", {get:function() {\n    return this._outlineColor;\n  }, set:function(value) {\n    var r = value instanceof pc.Color ? value.r : value[0];\n    var g = value instanceof pc.Color ? value.g : value[1];\n    var b = value instanceof pc.Color ? value.b : value[2];\n    var a = value instanceof pc.Color ? value.a : value[3];\n    if (this._outlineColor.r === r && this._outlineColor.g === g && this._outlineColor.b === b && this._outlineColor.a === a) {\n      return;\n    }\n    this._outlineColor.r = r;\n    this._outlineColor.g = g;\n    this._outlineColor.b = b;\n    this._outlineColor.a = a;\n    if (this._model) {\n      this._outlineColorUniform[0] = this._outlineColor.r;\n      this._outlineColorUniform[1] = this._outlineColor.g;\n      this._outlineColorUniform[2] = this._outlineColor.b;\n      this._outlineColorUniform[3] = this._outlineColor.a;\n      for (var i = 0, len = this._model.meshInstances.length;i < len;i++) {\n        var mi = this._model.meshInstances[i];\n        mi.setParameter(\"outline_color\", this._outlineColorUniform);\n      }\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"outlineThickness\", {get:function() {\n    return this._outlineThickness;\n  }, set:function(value) {\n    var _prev = this._outlineThickness;\n    this._outlineThickness = value;\n    if (_prev !== value && this._font) {\n      if (this._model) {\n        for (var i = 0, len = this._model.meshInstances.length;i < len;i++) {\n          var mi = this._model.meshInstances[i];\n          mi.setParameter(\"outline_thickness\", this._outlineThicknessScale * this._outlineThickness);\n        }\n      }\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"shadowColor\", {get:function() {\n    return this._shadowColor;\n  }, set:function(value) {\n    var r = value instanceof pc.Color ? value.r : value[0];\n    var g = value instanceof pc.Color ? value.g : value[1];\n    var b = value instanceof pc.Color ? value.b : value[2];\n    var a = value instanceof pc.Color ? value.a : value[3];\n    if (this._shadowColor.r === r && this._shadowColor.g === g && this._shadowColor.b === b && this._shadowColor.a === a) {\n      return;\n    }\n    this._shadowColor.r = r;\n    this._shadowColor.g = g;\n    this._shadowColor.b = b;\n    this._shadowColor.a = a;\n    if (this._model) {\n      this._shadowColorUniform[0] = this._shadowColor.r;\n      this._shadowColorUniform[1] = this._shadowColor.g;\n      this._shadowColorUniform[2] = this._shadowColor.b;\n      this._shadowColorUniform[3] = this._shadowColor.a;\n      for (var i = 0, len = this._model.meshInstances.length;i < len;i++) {\n        var mi = this._model.meshInstances[i];\n        mi.setParameter(\"shadow_color\", this._shadowColorUniform);\n      }\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"shadowOffset\", {get:function() {\n    return this._shadowOffset;\n  }, set:function(value) {\n    var x = value instanceof pc.Vec2 ? value.x : value[0], y = value instanceof pc.Vec2 ? value.y : value[1];\n    if (this._shadowOffset.x === x && this._shadowOffset.y === y) {\n      return;\n    }\n    this._shadowOffset.set(x, y);\n    if (this._font && this._model) {\n      for (var i = 0, len = this._model.meshInstances.length;i < len;i++) {\n        var ratio = this._font.data.info.maps[i].width / this._font.data.info.maps[i].height;\n        this._shadowOffsetUniform[0] = this._shadowOffsetScale * this._shadowOffset.x;\n        this._shadowOffsetUniform[1] = ratio * this._shadowOffsetScale * this._shadowOffset.y;\n        var mi = this._model.meshInstances[i];\n        mi.setParameter(\"shadow_offset\", this._shadowOffsetUniform);\n      }\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"minFontSize\", {get:function() {\n    return this._minFontSize;\n  }, set:function(value) {\n    if (this._minFontSize === value) {\n      return;\n    }\n    this._minFontSize = value;\n    if (this.font && this._shouldAutoFit()) {\n      this._updateText();\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"maxFontSize\", {get:function() {\n    return this._maxFontSize;\n  }, set:function(value) {\n    if (this._maxFontSize === value) {\n      return;\n    }\n    this._maxFontSize = value;\n    if (this.font && this._shouldAutoFit()) {\n      this._updateText();\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"autoFitWidth\", {get:function() {\n    return this._autoFitWidth;\n  }, set:function(value) {\n    if (this._autoFitWidth === value) {\n      return;\n    }\n    this._autoFitWidth = value;\n    this._fontSize = this._shouldAutoFit() ? this._maxFontSize : this._originalFontSize;\n    if (this.font) {\n      this._updateText();\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"autoFitHeight\", {get:function() {\n    return this._autoFitHeight;\n  }, set:function(value) {\n    if (this._autoFitHeight === value) {\n      return;\n    }\n    this._autoFitHeight = value;\n    this._fontSize = this._shouldAutoFit() ? this._maxFontSize : this._originalFontSize;\n    if (this.font) {\n      this._updateText();\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"maxLines\", {get:function() {\n    return this._maxLines;\n  }, set:function(value) {\n    if (this._maxLines === value) {\n      return;\n    }\n    if (value === null && this._maxLines === -1) {\n      return;\n    }\n    this._maxLines = value === null ? -1 : value;\n    if (this.font && this._wrapLines) {\n      this._updateText();\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"enableMarkup\", {get:function() {\n    return this._enableMarkup;\n  }, set:function(value) {\n    value = !!value;\n    if (this._enableMarkup === value) {\n      return;\n    }\n    this._enableMarkup = value;\n    if (this.font) {\n      this._updateText();\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"symbols\", {get:function() {\n    return this._symbols;\n  }});\n  Object.defineProperty(TextElement.prototype, \"symbolColors\", {get:function() {\n    if (this._symbolColors === null) {\n      return null;\n    }\n    return this._symbolColors.map(function(c) {\n      return this._colorPalette.slice(c * 3, c * 3 + 3);\n    }, this);\n  }});\n  Object.defineProperty(TextElement.prototype, \"rtl\", {get:function() {\n    return this._rtl;\n  }});\n  Object.defineProperty(TextElement.prototype, \"rangeStart\", {get:function() {\n    return this._rangeStart;\n  }, set:function(rangeStart) {\n    rangeStart = Math.max(0, Math.min(rangeStart, this._symbols.length));\n    if (rangeStart !== this._rangeStart) {\n      this._rangeStart = rangeStart;\n      this._updateRenderRange();\n    }\n  }});\n  Object.defineProperty(TextElement.prototype, \"rangeEnd\", {get:function() {\n    return this._rangeEnd;\n  }, set:function(rangeEnd) {\n    rangeEnd = Math.max(this._rangeStart, Math.min(rangeEnd, this._symbols.length));\n    if (rangeEnd !== this._rangeEnd) {\n      this._rangeEnd = rangeEnd;\n      this._updateRenderRange();\n    }\n  }});\n  return {TextElement:TextElement};\n}());\nObject.assign(pc, function() {\n  var Scanner = function(symbols) {\n    this._symbols = symbols;\n    this._index = 0;\n    this._last = 0;\n    this._cur = this._symbols.length > 0 ? this._symbols[0] : null;\n    this._buf = [];\n    this._mode = \"text\";\n    this._error = null;\n  };\n  Object.assign(Scanner.prototype, {EOF_TOKEN:0, ERROR_TOKEN:1, TEXT_TOKEN:2, OPEN_BRACKET_TOKEN:3, CLOSE_BRACKET_TOKEN:4, EQUALS_TOKEN:5, STRING_TOKEN:6, IDENTIFIER_TOKEN:7, WHITESPACE_TOKEN:8, WHITESPACE_CHARS:\" \\t\\n\\r\\v\\f\", IDENTIFIER_REGEX:/[A-Z|a-z|0-9|_|-|/]/, read:function() {\n    var token = this._read();\n    while (token === this.WHITESPACE_TOKEN) {\n      token = this._read();\n    }\n    if (token !== this.EOF_TOKEN && token !== this.ERROR_TOKEN) {\n      this._last = this._index;\n    }\n    return token;\n  }, buf:function() {\n    return this._buf;\n  }, last:function() {\n    return this._last;\n  }, error:function() {\n    return this._error;\n  }, debugPrint:function() {\n    var tokenStrings = [\"EOF\", \"ERROR\", \"TEXT\", \"OPEN_BRACKET\", \"CLOSE_BRACKET\", \"EQUALS\", \"STRING\", \"IDENTIFIER\", \"WHITESPACE\"];\n    var token = this.read();\n    var result = \"\";\n    while (true) {\n      result += (result.length > 0 ? \"\\n\" : \"\") + tokenStrings[token] + \" '\" + this.buf().join(\"\") + \"'\";\n      if (token === this.EOF_TOKEN || token === this.ERROR_TOKEN) {\n        break;\n      }\n      token = this.read();\n    }\n    return result;\n  }, _read:function() {\n    this._buf = [];\n    if (this._eof()) {\n      return this.EOF_TOKEN;\n    }\n    return this._mode === \"text\" ? this._text() : this._tag();\n  }, _text:function() {\n    while (true) {\n      switch(this._cur) {\n        case null:\n          return this._buf.length > 0 ? this.TEXT_TOKEN : this.EOF_TOKEN;\n        case \"[\":\n          this._mode = \"tag\";\n          return this._buf.length > 0 ? this.TEXT_TOKEN : this._tag();\n        case \"\\\\\":\n          this._next();\n          switch(this._cur) {\n            case \"[\":\n              this._store();\n              break;\n            default:\n              this._output(\"\\\\\");\n              break;\n          }break;\n        default:\n          this._store();\n          break;\n      }\n    }\n  }, _tag:function() {\n    while (true) {\n      switch(this._cur) {\n        case null:\n          this._error = \"unexpected end of input reading tag\";\n          return this.ERROR_TOKEN;\n        case \"[\":\n          this._store();\n          return this.OPEN_BRACKET_TOKEN;\n        case \"]\":\n          this._store();\n          this._mode = \"text\";\n          return this.CLOSE_BRACKET_TOKEN;\n        case \"=\":\n          this._store();\n          return this.EQUALS_TOKEN;\n        case \" \":\n        case \"\\t\":\n        case \"\\n\":\n        case \"\\r\":\n        case \"\\v\":\n        case \"\\f\":\n          return this._whitespace();\n        case '\"':\n          return this._string();\n        default:\n          if (!this._isIdentifierSymbol(this._cur)) {\n            this._error = \"unrecognized character\";\n            return this.ERROR_TOKEN;\n          }\n          return this._identifier();\n      }\n    }\n  }, _whitespace:function() {\n    this._store();\n    while (this.WHITESPACE_CHARS.indexOf(this._cur) !== -1) {\n      this._store();\n    }\n    return this.WHITESPACE_TOKEN;\n  }, _string:function() {\n    this._next();\n    while (true) {\n      switch(this._cur) {\n        case null:\n          this._error = \"unexpected end of input reading string\";\n          return this.ERROR_TOKEN;\n        case '\"':\n          this._next();\n          return this.STRING_TOKEN;\n        default:\n          this._store();\n          break;\n      }\n    }\n  }, _identifier:function() {\n    this._store();\n    while (this._cur !== null && this._isIdentifierSymbol(this._cur)) {\n      this._store();\n    }\n    return this.IDENTIFIER_TOKEN;\n  }, _isIdentifierSymbol:function(s) {\n    return s.length === 1 && s.match(this.IDENTIFIER_REGEX) !== null;\n  }, _eof:function() {\n    return this._cur === null;\n  }, _next:function() {\n    if (!this._eof()) {\n      this._index++;\n      this._cur = this._index < this._symbols.length ? this._symbols[this._index] : null;\n    }\n    return this._cur;\n  }, _store:function() {\n    this._buf.push(this._cur);\n    return this._next();\n  }, _output:function(c) {\n    this._buf.push(c);\n  }});\n  var Parser = function(symbols) {\n    this._scanner = new Scanner(symbols);\n    this._error = null;\n  };\n  Object.assign(Parser.prototype, {parse:function(symbols, tags) {\n    while (true) {\n      var token = this._scanner.read();\n      switch(token) {\n        case this._scanner.EOF_TOKEN:\n          return true;\n        case this._scanner.ERROR_TOKEN:\n          return false;\n        case this._scanner.TEXT_TOKEN:\n          Array.prototype.push.apply(symbols, this._scanner.buf());\n          break;\n        case this._scanner.OPEN_BRACKET_TOKEN:\n          if (!this._parseTag(symbols, tags)) {\n            return false;\n          }\n          break;\n        default:\n          return false;\n      }\n    }\n  }, error:function() {\n    return \"Error evaluating markup at #\" + this._scanner.last().toString() + \" (\" + (this._scanner.error() || this._error) + \")\";\n  }, _parseTag:function(symbols, tags) {\n    var token = this._scanner.read();\n    if (token !== this._scanner.IDENTIFIER_TOKEN) {\n      this._error = \"expected identifier\";\n      return false;\n    }\n    var name = this._scanner.buf().join(\"\");\n    if (name[0] === \"/\") {\n      for (var index = tags.length - 1;index >= 0;--index) {\n        if (name === \"/\" + tags[index].name && tags[index].end === null) {\n          tags[index].end = symbols.length;\n          token = this._scanner.read();\n          if (token !== this._scanner.CLOSE_BRACKET_TOKEN) {\n            this._error = \"expected close bracket\";\n            return false;\n          }\n          return true;\n        }\n      }\n      this._error = \"failed to find matching tag\";\n      return false;\n    }\n    var tag = {name:name, value:null, attributes:{}, start:symbols.length, end:null};\n    token = this._scanner.read();\n    if (token === this._scanner.EQUALS_TOKEN) {\n      token = this._scanner.read();\n      if (token !== this._scanner.STRING_TOKEN) {\n        this._error = \"expected string\";\n        return false;\n      }\n      tag.value = this._scanner.buf().join(\"\");\n      token = this._scanner.read();\n    }\n    while (true) {\n      switch(token) {\n        case this._scanner.CLOSE_BRACKET_TOKEN:\n          tags.push(tag);\n          return true;\n        case this._scanner.IDENTIFIER_TOKEN:\n          var identifier = this._scanner.buf().join(\"\");\n          token = this._scanner.read();\n          if (token !== this._scanner.EQUALS_TOKEN) {\n            this._error = \"expected equals\";\n            return false;\n          }\n          token = this._scanner.read();\n          if (token !== this._scanner.STRING_TOKEN) {\n            this._error = \"expected string\";\n            return false;\n          }\n          var value = this._scanner.buf().join(\"\");\n          tag.attributes[identifier] = value;\n          break;\n        default:\n          this._error = \"expected close bracket or identifier\";\n          return false;\n      }\n      token = this._scanner.read();\n    }\n  }});\n  function merge(target, source) {\n    for (var key in source) {\n      if (!source.hasOwnProperty(key)) {\n        continue;\n      }\n      var value = source[key];\n      if (value instanceof Object) {\n        if (!target.hasOwnProperty(key)) {\n          target[key] = {};\n        }\n        merge(target[key], source[key]);\n      } else {\n        target[key] = value;\n      }\n    }\n  }\n  function combineTags(tags) {\n    if (tags.length === 0) {\n      return null;\n    }\n    var result = {};\n    for (var index = 0;index < tags.length;++index) {\n      var tag = tags[index];\n      var tmp = {};\n      tmp[tag.name] = {value:tag.value, attributes:tag.attributes};\n      merge(result, tmp);\n    }\n    return result;\n  }\n  function resolveMarkupTags(tags, numSymbols) {\n    var index;\n    if (tags.length === 0) {\n      return null;\n    }\n    var edges = {};\n    for (index = 0;index < tags.length;++index) {\n      var tag = tags[index];\n      if (!edges.hasOwnProperty(tag.start)) {\n        edges[tag.start] = {open:[tag], close:null};\n      } else {\n        if (edges[tag.start].open === null) {\n          edges[tag.start].open = [tag];\n        } else {\n          edges[tag.start].open.push(tag);\n        }\n      }\n      if (!edges.hasOwnProperty(tag.end)) {\n        edges[tag.end] = {open:null, close:[tag]};\n      } else {\n        if (edges[tag.end].close === null) {\n          edges[tag.end].close = [tag];\n        } else {\n          edges[tag.end].close.push(tag);\n        }\n      }\n    }\n    var tagStack = [];\n    function removeTags(tags) {\n      tagStack = tagStack.filter(function(tag) {\n        return tags.find(function(t) {\n          return t === tag;\n        }) === undefined;\n      });\n    }\n    function addTags(tags) {\n      for (var index = 0;index < tags.length;++index) {\n        tagStack.push(tags[index]);\n      }\n    }\n    var edgeKeys = Object.keys(edges).sort(function(a, b) {\n      return a - b;\n    });\n    var resolvedTags = [];\n    for (index = 0;index < edgeKeys.length;++index) {\n      var edge = edges[edgeKeys[index]];\n      if (edge.close !== null) {\n        removeTags(edge.close);\n      }\n      if (edge.open !== null) {\n        addTags(edge.open);\n      }\n      resolvedTags.push({start:edgeKeys[index], tags:combineTags(tagStack)});\n    }\n    var result = [];\n    var prevTag = null;\n    for (index = 0;index < resolvedTags.length;++index) {\n      var resolvedTag = resolvedTags[index];\n      while (result.length < resolvedTag.start) {\n        result.push(prevTag ? prevTag.tags : null);\n      }\n      prevTag = resolvedTag;\n    }\n    while (result.length < numSymbols) {\n      result.push(null);\n    }\n    return result;\n  }\n  function evaluateMarkup(symbols) {\n    var parser = new Parser(symbols);\n    var stripped_symbols = [];\n    var tags = [];\n    if (!parser.parse(stripped_symbols, tags)) {\n      console.warn(parser.error());\n      return {symbols:symbols, tags:null};\n    }\n    var invalidTag = tags.find(function(t) {\n      return t.end === null;\n    });\n    if (invalidTag) {\n      console.warn(\"Markup error: found unclosed tag='\" + invalidTag.name + \"'\");\n      return {symbols:symbols, tags:null};\n    }\n    var resolved_tags = resolveMarkupTags(tags, stripped_symbols.length);\n    return {symbols:stripped_symbols, tags:resolved_tags};\n  }\n  var Markup = function() {\n  };\n  Markup.evaluate = function(symbols) {\n    return evaluateMarkup(symbols);\n  };\n  return {Markup:Markup};\n}());\nObject.assign(pc, function() {\n  var _inputScreenPosition = new pc.Vec2;\n  var _inputWorldPosition = new pc.Vec3;\n  var _rayOrigin = new pc.Vec3;\n  var _rayDirection = new pc.Vec3;\n  var _planeOrigin = new pc.Vec3;\n  var _planeNormal = new pc.Vec3;\n  var _entityRotation = new pc.Quat;\n  var OPPOSITE_AXIS = {x:\"y\", y:\"x\"};\n  var ElementDragHelper = function ElementDragHelper(element, axis) {\n    pc.EventHandler.call(this);\n    if (!element || !(element instanceof pc.ElementComponent)) {\n      throw new Error(\"Element was null or not an ElementComponent\");\n    }\n    if (axis && axis !== \"x\" && axis !== \"y\") {\n      throw new Error(\"Unrecognized axis: \" + axis);\n    }\n    this._element = element;\n    this._app = element.system.app;\n    this._axis = axis || null;\n    this._enabled = true;\n    this._dragScale = new pc.Vec3;\n    this._dragStartMousePosition = new pc.Vec3;\n    this._dragStartHandlePosition = new pc.Vec3;\n    this._deltaMousePosition = new pc.Vec3;\n    this._deltaHandlePosition = new pc.Vec3;\n    this._isDragging = false;\n    this._toggleLifecycleListeners(\"on\");\n  };\n  ElementDragHelper.prototype = Object.create(pc.EventHandler.prototype);\n  ElementDragHelper.prototype.constructor = ElementDragHelper;\n  Object.assign(ElementDragHelper.prototype, {_toggleLifecycleListeners:function(onOrOff) {\n    this._element[onOrOff](\"mousedown\", this._onMouseDownOrTouchStart, this);\n    this._element[onOrOff](\"touchstart\", this._onMouseDownOrTouchStart, this);\n  }, _toggleDragListeners:function(onOrOff) {\n    var isOn = onOrOff === \"on\";\n    var addOrRemoveEventListener = isOn ? \"addEventListener\" : \"removeEventListener\";\n    if (this._hasDragListeners && isOn) {\n      return;\n    }\n    if (!this._handleMouseUpOrTouchEnd) {\n      this._handleMouseUpOrTouchEnd = this._onMouseUpOrTouchEnd.bind(this);\n    }\n    if (this._app.mouse) {\n      this._app.mouse[onOrOff](\"mousemove\", this._onMove, this);\n      window[addOrRemoveEventListener](\"mouseup\", this._handleMouseUpOrTouchEnd, false);\n    }\n    if (pc.platform.touch) {\n      this._app.touch[onOrOff](\"touchmove\", this._onMove, this);\n      window[addOrRemoveEventListener](\"touchend\", this._handleMouseUpOrTouchEnd, false);\n      window[addOrRemoveEventListener](\"touchcancel\", this._handleMouseUpOrTouchEnd, false);\n    }\n    this._hasDragListeners = isOn;\n  }, _onMouseDownOrTouchStart:function(event) {\n    if (this._element && !this._isDragging && this.enabled) {\n      this._dragCamera = event.camera;\n      this._calculateDragScale();\n      var currentMousePosition = this._screenToLocal(event);\n      if (currentMousePosition) {\n        this._toggleDragListeners(\"on\");\n        this._isDragging = true;\n        this._dragStartMousePosition.copy(currentMousePosition);\n        this._dragStartHandlePosition.copy(this._element.entity.getLocalPosition());\n        this.fire(\"drag:start\");\n      }\n    }\n  }, _onMouseUpOrTouchEnd:function() {\n    if (this._isDragging) {\n      this._isDragging = false;\n      this._toggleDragListeners(\"off\");\n      this.fire(\"drag:end\");\n    }\n  }, _screenToLocal:function(event) {\n    this._determineInputPosition(event);\n    this._chooseRayOriginAndDirection();\n    _planeOrigin.copy(this._element.entity.getPosition());\n    _planeNormal.copy(this._element.entity.forward).scale(-1);\n    var denominator = _planeNormal.dot(_rayDirection);\n    if (Math.abs(denominator) > 0) {\n      var rayOriginToPlaneOrigin = _planeOrigin.sub(_rayOrigin);\n      var collisionDistance = rayOriginToPlaneOrigin.dot(_planeNormal) / denominator;\n      var position = _rayOrigin.add(_rayDirection.scale(collisionDistance));\n      _entityRotation.copy(this._element.entity.getRotation()).invert().transformVector(position, position);\n      position.mul(this._dragScale);\n      return position;\n    }\n    return null;\n  }, _determineInputPosition:function(event) {\n    var devicePixelRatio = this._app.graphicsDevice.maxPixelRatio;\n    if (typeof event.x !== \"undefined\" && typeof event.y !== \"undefined\") {\n      _inputScreenPosition.x = event.x * devicePixelRatio;\n      _inputScreenPosition.y = event.y * devicePixelRatio;\n    } else {\n      if (event.changedTouches) {\n        _inputScreenPosition.x = event.changedTouches[0].x * devicePixelRatio;\n        _inputScreenPosition.y = event.changedTouches[0].y * devicePixelRatio;\n      } else {\n        console.warn(\"Could not determine position from input event\");\n      }\n    }\n  }, _chooseRayOriginAndDirection:function() {\n    if (this._element.screen && this._element.screen.screen.screenSpace) {\n      _rayOrigin.set(_inputScreenPosition.x, -_inputScreenPosition.y, 0);\n      _rayDirection.set(0, 0, -1);\n    } else {\n      _inputWorldPosition.copy(this._dragCamera.screenToWorld(_inputScreenPosition.x, _inputScreenPosition.y, 1));\n      _rayOrigin.copy(this._dragCamera.entity.getPosition());\n      _rayDirection.copy(_inputWorldPosition).sub(_rayOrigin).normalize();\n    }\n  }, _calculateDragScale:function() {\n    var current = this._element.entity.parent;\n    var screen = this._element.screen && this._element.screen.screen;\n    var isWithin2DScreen = screen && screen.screenSpace;\n    var screenScale = isWithin2DScreen ? screen.scale : 1;\n    var dragScale = this._dragScale;\n    dragScale.set(screenScale, screenScale, screenScale);\n    while (current) {\n      dragScale.mul(current.getLocalScale());\n      current = current.parent;\n      if (isWithin2DScreen && current.screen) {\n        break;\n      }\n    }\n    dragScale.x = 1 / dragScale.x;\n    dragScale.y = 1 / dragScale.y;\n    dragScale.z = 1 / dragScale.z;\n  }, _onMove:function(event) {\n    if (this._element && this._isDragging && this.enabled && this._element.enabled && this._element.entity.enabled) {\n      var currentMousePosition = this._screenToLocal(event);\n      if (this._dragStartMousePosition && currentMousePosition) {\n        this._deltaMousePosition.copy(currentMousePosition).sub(this._dragStartMousePosition);\n        this._deltaHandlePosition.copy(this._dragStartHandlePosition).add(this._deltaMousePosition);\n        if (this._axis) {\n          var currentPosition = this._element.entity.getLocalPosition();\n          var constrainedAxis = OPPOSITE_AXIS[this._axis];\n          this._deltaHandlePosition[constrainedAxis] = currentPosition[constrainedAxis];\n        }\n        this._element.entity.setLocalPosition(this._deltaHandlePosition);\n        this.fire(\"drag:move\", this._deltaHandlePosition);\n      }\n    }\n  }, destroy:function() {\n    this._toggleLifecycleListeners(\"off\");\n    this._toggleDragListeners(\"off\");\n  }});\n  Object.defineProperty(ElementDragHelper.prototype, \"enabled\", {get:function() {\n    return this._enabled;\n  }, set:function(value) {\n    this._enabled = value;\n  }});\n  Object.defineProperty(ElementDragHelper.prototype, \"isDragging\", {get:function() {\n    return this._isDragging;\n  }});\n  return {ElementDragHelper:ElementDragHelper};\n}());\nObject.assign(pc, {BUTTON_TRANSITION_MODE_TINT:0, BUTTON_TRANSITION_MODE_SPRITE_CHANGE:1});\nObject.assign(pc, function() {\n  var VisualState = {DEFAULT:\"DEFAULT\", HOVER:\"HOVER\", PRESSED:\"PRESSED\", INACTIVE:\"INACTIVE\"};\n  var STATES_TO_TINT_NAMES = {};\n  STATES_TO_TINT_NAMES[VisualState.DEFAULT] = \"_defaultTint\";\n  STATES_TO_TINT_NAMES[VisualState.HOVER] = \"hoverTint\";\n  STATES_TO_TINT_NAMES[VisualState.PRESSED] = \"pressedTint\";\n  STATES_TO_TINT_NAMES[VisualState.INACTIVE] = \"inactiveTint\";\n  var STATES_TO_SPRITE_ASSET_NAMES = {};\n  STATES_TO_SPRITE_ASSET_NAMES[VisualState.DEFAULT] = \"_defaultSpriteAsset\";\n  STATES_TO_SPRITE_ASSET_NAMES[VisualState.HOVER] = \"hoverSpriteAsset\";\n  STATES_TO_SPRITE_ASSET_NAMES[VisualState.PRESSED] = \"pressedSpriteAsset\";\n  STATES_TO_SPRITE_ASSET_NAMES[VisualState.INACTIVE] = \"inactiveSpriteAsset\";\n  var STATES_TO_SPRITE_FRAME_NAMES = {};\n  STATES_TO_SPRITE_FRAME_NAMES[VisualState.DEFAULT] = \"_defaultSpriteFrame\";\n  STATES_TO_SPRITE_FRAME_NAMES[VisualState.HOVER] = \"hoverSpriteFrame\";\n  STATES_TO_SPRITE_FRAME_NAMES[VisualState.PRESSED] = \"pressedSpriteFrame\";\n  STATES_TO_SPRITE_FRAME_NAMES[VisualState.INACTIVE] = \"inactiveSpriteFrame\";\n  var ButtonComponent = function ButtonComponent(system, entity) {\n    pc.Component.call(this, system, entity);\n    this._visualState = VisualState.DEFAULT;\n    this._isHovering = false;\n    this._isPressed = false;\n    this._defaultTint = new pc.Color(1, 1, 1, 1);\n    this._defaultSpriteAsset = null;\n    this._defaultSpriteFrame = 0;\n    this._imageReference = new pc.EntityReference(this, \"imageEntity\", {\"element#gain\":this._onImageElementGain, \"element#lose\":this._onImageElementLose, \"element#set:color\":this._onSetColor, \"element#set:opacity\":this._onSetOpacity, \"element#set:spriteAsset\":this._onSetSpriteAsset, \"element#set:spriteFrame\":this._onSetSpriteFrame});\n    this._toggleLifecycleListeners(\"on\", system);\n  };\n  ButtonComponent.prototype = Object.create(pc.Component.prototype);\n  ButtonComponent.prototype.constructor = ButtonComponent;\n  Object.assign(ButtonComponent.prototype, {_toggleLifecycleListeners:function(onOrOff, system) {\n    this[onOrOff](\"set_active\", this._onSetActive, this);\n    this[onOrOff](\"set_transitionMode\", this._onSetTransitionMode, this);\n    this[onOrOff](\"set_hoverTint\", this._onSetTransitionValue, this);\n    this[onOrOff](\"set_pressedTint\", this._onSetTransitionValue, this);\n    this[onOrOff](\"set_inactiveTint\", this._onSetTransitionValue, this);\n    this[onOrOff](\"set_hoverSpriteAsset\", this._onSetTransitionValue, this);\n    this[onOrOff](\"set_hoverSpriteFrame\", this._onSetTransitionValue, this);\n    this[onOrOff](\"set_pressedSpriteAsset\", this._onSetTransitionValue, this);\n    this[onOrOff](\"set_pressedSpriteFrame\", this._onSetTransitionValue, this);\n    this[onOrOff](\"set_inactiveSpriteAsset\", this._onSetTransitionValue, this);\n    this[onOrOff](\"set_inactiveSpriteFrame\", this._onSetTransitionValue, this);\n    system.app.systems.element[onOrOff](\"add\", this._onElementComponentAdd, this);\n    system.app.systems.element[onOrOff](\"beforeremove\", this._onElementComponentRemove, this);\n  }, _onSetActive:function(name, oldValue, newValue) {\n    if (oldValue !== newValue) {\n      this._updateVisualState();\n    }\n  }, _onSetTransitionMode:function(name, oldValue, newValue) {\n    if (oldValue !== newValue) {\n      this._cancelTween();\n      this._resetToDefaultVisualState(oldValue);\n      this._forceReapplyVisualState();\n    }\n  }, _onSetTransitionValue:function(name, oldValue, newValue) {\n    if (oldValue !== newValue) {\n      this._forceReapplyVisualState();\n    }\n  }, _onElementComponentRemove:function(entity) {\n    if (this.entity === entity) {\n      this._toggleHitElementListeners(\"off\");\n    }\n  }, _onElementComponentAdd:function(entity) {\n    if (this.entity === entity) {\n      this._toggleHitElementListeners(\"on\");\n    }\n  }, _onImageElementLose:function() {\n    this._cancelTween();\n    this._resetToDefaultVisualState(this.transitionMode);\n  }, _onImageElementGain:function() {\n    this._storeDefaultVisualState();\n    this._forceReapplyVisualState();\n  }, _toggleHitElementListeners:function(onOrOff) {\n    if (this.entity.element) {\n      var isAdding = onOrOff === \"on\";\n      if (isAdding && this._hasHitElementListeners) {\n        return;\n      }\n      this.entity.element[onOrOff](\"mouseenter\", this._onMouseEnter, this);\n      this.entity.element[onOrOff](\"mouseleave\", this._onMouseLeave, this);\n      this.entity.element[onOrOff](\"mousedown\", this._onMouseDown, this);\n      this.entity.element[onOrOff](\"mouseup\", this._onMouseUp, this);\n      this.entity.element[onOrOff](\"touchstart\", this._onTouchStart, this);\n      this.entity.element[onOrOff](\"touchend\", this._onTouchEnd, this);\n      this.entity.element[onOrOff](\"touchleave\", this._onTouchLeave, this);\n      this.entity.element[onOrOff](\"touchcancel\", this._onTouchCancel, this);\n      this.entity.element[onOrOff](\"click\", this._onClick, this);\n      this._hasHitElementListeners = isAdding;\n    }\n  }, _storeDefaultVisualState:function() {\n    if (this._imageReference.hasComponent(\"element\")) {\n      this._storeDefaultColor(this._imageReference.entity.element.color);\n      this._storeDefaultOpacity(this._imageReference.entity.element.opacity);\n      this._storeDefaultSpriteAsset(this._imageReference.entity.element.spriteAsset);\n      this._storeDefaultSpriteFrame(this._imageReference.entity.element.spriteFrame);\n    }\n  }, _storeDefaultColor:function(color) {\n    this._defaultTint.r = color.r;\n    this._defaultTint.g = color.g;\n    this._defaultTint.b = color.b;\n  }, _storeDefaultOpacity:function(opacity) {\n    this._defaultTint.a = opacity;\n  }, _storeDefaultSpriteAsset:function(spriteAsset) {\n    this._defaultSpriteAsset = spriteAsset;\n  }, _storeDefaultSpriteFrame:function(spriteFrame) {\n    this._defaultSpriteFrame = spriteFrame;\n  }, _onSetColor:function(color) {\n    if (!this._isApplyingTint) {\n      this._storeDefaultColor(color);\n      this._forceReapplyVisualState();\n    }\n  }, _onSetOpacity:function(opacity) {\n    if (!this._isApplyingTint) {\n      this._storeDefaultOpacity(opacity);\n      this._forceReapplyVisualState();\n    }\n  }, _onSetSpriteAsset:function(spriteAsset) {\n    if (!this._isApplyingSprite) {\n      this._storeDefaultSpriteAsset(spriteAsset);\n      this._forceReapplyVisualState();\n    }\n  }, _onSetSpriteFrame:function(spriteFrame) {\n    if (!this._isApplyingSprite) {\n      this._storeDefaultSpriteFrame(spriteFrame);\n      this._forceReapplyVisualState();\n    }\n  }, _onMouseEnter:function(event) {\n    this._isHovering = true;\n    this._updateVisualState();\n    this._fireIfActive(\"mouseenter\", event);\n  }, _onMouseLeave:function(event) {\n    this._isHovering = false;\n    this._isPressed = false;\n    this._updateVisualState();\n    this._fireIfActive(\"mouseleave\", event);\n  }, _onMouseDown:function(event) {\n    this._isPressed = true;\n    this._updateVisualState();\n    this._fireIfActive(\"mousedown\", event);\n  }, _onMouseUp:function(event) {\n    this._isPressed = false;\n    this._updateVisualState();\n    this._fireIfActive(\"mouseup\", event);\n  }, _onTouchStart:function(event) {\n    this._isPressed = true;\n    this._updateVisualState();\n    this._fireIfActive(\"touchstart\", event);\n  }, _onTouchEnd:function(event) {\n    event.event.preventDefault();\n    this._isPressed = false;\n    this._updateVisualState();\n    this._fireIfActive(\"touchend\", event);\n  }, _onTouchLeave:function(event) {\n    this._isPressed = false;\n    this._updateVisualState();\n    this._fireIfActive(\"touchleave\", event);\n  }, _onTouchCancel:function(event) {\n    this._isPressed = false;\n    this._updateVisualState();\n    this._fireIfActive(\"touchcancel\", event);\n  }, _onClick:function(event) {\n    this._fireIfActive(\"click\", event);\n  }, _fireIfActive:function(name, event) {\n    if (this.data.active) {\n      this.fire(name, event);\n    }\n  }, _updateVisualState:function(force) {\n    var oldVisualState = this._visualState;\n    var newVisualState = this._determineVisualState();\n    if ((oldVisualState !== newVisualState || force) && this.enabled) {\n      this._visualState = newVisualState;\n      if (oldVisualState === VisualState.HOVER) {\n        this._fireIfActive(\"hoverend\");\n      }\n      if (oldVisualState === VisualState.PRESSED) {\n        this._fireIfActive(\"pressedend\");\n      }\n      if (newVisualState === VisualState.HOVER) {\n        this._fireIfActive(\"hoverstart\");\n      }\n      if (newVisualState === VisualState.PRESSED) {\n        this._fireIfActive(\"pressedstart\");\n      }\n      switch(this.transitionMode) {\n        case pc.BUTTON_TRANSITION_MODE_TINT:\n          var tintName = STATES_TO_TINT_NAMES[this._visualState];\n          var tintColor = this[tintName];\n          this._applyTint(tintColor);\n          break;\n        case pc.BUTTON_TRANSITION_MODE_SPRITE_CHANGE:\n          var spriteAssetName = STATES_TO_SPRITE_ASSET_NAMES[this._visualState];\n          var spriteFrameName = STATES_TO_SPRITE_FRAME_NAMES[this._visualState];\n          var spriteAsset = this[spriteAssetName];\n          var spriteFrame = this[spriteFrameName];\n          this._applySprite(spriteAsset, spriteFrame);\n          break;\n      }\n    }\n  }, _forceReapplyVisualState:function() {\n    this._updateVisualState(true);\n  }, _resetToDefaultVisualState:function(transitionMode) {\n    if (this._imageReference.hasComponent(\"element\")) {\n      switch(transitionMode) {\n        case pc.BUTTON_TRANSITION_MODE_TINT:\n          this._cancelTween();\n          this._applyTintImmediately(this._defaultTint);\n          break;\n        case pc.BUTTON_TRANSITION_MODE_SPRITE_CHANGE:\n          this._applySprite(this._defaultSpriteAsset, this._defaultSpriteFrame);\n          break;\n      }\n    }\n  }, _determineVisualState:function() {\n    if (!this.active) {\n      return VisualState.INACTIVE;\n    } else {\n      if (this._isPressed) {\n        return VisualState.PRESSED;\n      } else {\n        if (this._isHovering) {\n          return VisualState.HOVER;\n        }\n      }\n    }\n    return VisualState.DEFAULT;\n  }, _applySprite:function(spriteAsset, spriteFrame) {\n    spriteFrame = spriteFrame || 0;\n    if (this._imageReference.hasComponent(\"element\")) {\n      this._isApplyingSprite = true;\n      this._imageReference.entity.element.spriteAsset = spriteAsset;\n      this._imageReference.entity.element.spriteFrame = spriteFrame;\n      this._isApplyingSprite = false;\n    }\n  }, _applyTint:function(tintColor) {\n    this._cancelTween();\n    if (this.fadeDuration === 0) {\n      this._applyTintImmediately(tintColor);\n    } else {\n      this._applyTintWithTween(tintColor);\n    }\n  }, _applyTintImmediately:function(tintColor) {\n    if (this._imageReference.hasComponent(\"element\") && tintColor) {\n      this._isApplyingTint = true;\n      this._imageReference.entity.element.color = toColor3(tintColor);\n      this._imageReference.entity.element.opacity = tintColor.a;\n      this._isApplyingTint = false;\n    }\n  }, _applyTintWithTween:function(tintColor) {\n    if (this._imageReference.hasComponent(\"element\") && tintColor) {\n      var color = this._imageReference.entity.element.color;\n      var opacity = this._imageReference.entity.element.opacity;\n      this._tweenInfo = {startTime:pc.now(), from:new pc.Color(color.r, color.g, color.b, opacity), to:tintColor.clone(), lerpColor:new pc.Color};\n    }\n  }, _updateTintTween:function() {\n    var elapsedTime = pc.now() - this._tweenInfo.startTime;\n    var elapsedProportion = this.fadeDuration === 0 ? 1 : elapsedTime / this.fadeDuration;\n    elapsedProportion = pc.math.clamp(elapsedProportion, 0, 1);\n    if (Math.abs(elapsedProportion - 1) > 1e-5) {\n      var lerpColor = this._tweenInfo.lerpColor;\n      lerpColor.lerp(this._tweenInfo.from, this._tweenInfo.to, elapsedProportion);\n      this._applyTintImmediately(new pc.Color(lerpColor.r, lerpColor.g, lerpColor.b, lerpColor.a));\n    } else {\n      this._applyTintImmediately(this._tweenInfo.to);\n      this._cancelTween();\n    }\n  }, _cancelTween:function() {\n    delete this._tweenInfo;\n  }, onUpdate:function() {\n    if (this._tweenInfo) {\n      this._updateTintTween();\n    }\n  }, onEnable:function() {\n    this._imageReference.onParentComponentEnable();\n    this._toggleHitElementListeners(\"on\");\n    this._forceReapplyVisualState();\n  }, onDisable:function() {\n    this._toggleHitElementListeners(\"off\");\n    this._resetToDefaultVisualState(this.transitionMode);\n  }, onRemove:function() {\n    this._toggleLifecycleListeners(\"off\", this.system);\n    this.onDisable();\n  }});\n  function toColor3(color4) {\n    return new pc.Color(color4.r, color4.g, color4.b);\n  }\n  return {ButtonComponent:ButtonComponent};\n}());\nObject.assign(pc, function() {\n  var _schema = [\"enabled\", \"active\", {name:\"imageEntity\", type:\"entity\"}, {name:\"hitPadding\", type:\"vec4\"}, \"transitionMode\", {name:\"hoverTint\", type:\"rgba\"}, {name:\"pressedTint\", type:\"rgba\"}, {name:\"inactiveTint\", type:\"rgba\"}, \"fadeDuration\", \"hoverSpriteAsset\", \"hoverSpriteFrame\", \"pressedSpriteAsset\", \"pressedSpriteFrame\", \"inactiveSpriteAsset\", \"inactiveSpriteFrame\"];\n  var ButtonComponentSystem = function ButtonComponentSystem(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"button\";\n    this.app = app;\n    this.ComponentType = pc.ButtonComponent;\n    this.DataType = pc.ButtonComponentData;\n    this.schema = _schema;\n    this.on(\"beforeremove\", this._onRemoveComponent, this);\n    pc.ComponentSystem.bind(\"update\", this.onUpdate, this);\n  };\n  ButtonComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  ButtonComponentSystem.prototype.constructor = ButtonComponentSystem;\n  pc.Component._buildAccessors(pc.ButtonComponent.prototype, _schema);\n  Object.assign(ButtonComponentSystem.prototype, {initializeComponentData:function(component, data, properties) {\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, data, _schema);\n  }, onUpdate:function(dt) {\n    var components = this.store;\n    for (var id in components) {\n      var entity = components[id].entity;\n      var component = entity.button;\n      if (component.enabled && entity.enabled) {\n        component.onUpdate();\n      }\n    }\n  }, _onRemoveComponent:function(entity, component) {\n    component.onRemove();\n  }});\n  return {ButtonComponentSystem:ButtonComponentSystem};\n}());\nObject.assign(pc, function() {\n  var ButtonComponentData = function() {\n    this.enabled = true;\n    this.active = true;\n    this.imageEntity = null;\n    this.hitPadding = new pc.Vec4;\n    this.transitionMode = pc.BUTTON_TRANSITION_MODE_TINT;\n    this.hoverTint = new pc.Color(0.75, 0.75, 0.75);\n    this.pressedTint = new pc.Color(0.5, 0.5, 0.5);\n    this.inactiveTint = new pc.Color(0.25, 0.25, 0.25);\n    this.fadeDuration = 0;\n    this.hoverSpriteAsset = null;\n    this.hoverSpriteFrame = 0;\n    this.pressedSpriteAsset = null;\n    this.pressedSpriteFrame = 0;\n    this.inactiveSpriteAsset = null;\n    this.inactiveSpriteFrame = 0;\n  };\n  return {ButtonComponentData:ButtonComponentData};\n}());\nObject.assign(pc, {SCROLL_MODE_CLAMP:0, SCROLL_MODE_BOUNCE:1, SCROLL_MODE_INFINITE:2, SCROLLBAR_VISIBILITY_SHOW_ALWAYS:0, SCROLLBAR_VISIBILITY_SHOW_WHEN_REQUIRED:1});\nObject.assign(pc, function() {\n  var _tempScrollValue = new pc.Vec2;\n  var ScrollViewComponent = function ScrollViewComponent(system, entity) {\n    pc.Component.call(this, system, entity);\n    this._viewportReference = new pc.EntityReference(this, \"viewportEntity\", {\"element#gain\":this._onViewportElementGain, \"element#resize\":this._onSetContentOrViewportSize});\n    this._contentReference = new pc.EntityReference(this, \"contentEntity\", {\"element#gain\":this._onContentElementGain, \"element#lose\":this._onContentElementLose, \"element#resize\":this._onSetContentOrViewportSize});\n    this._scrollbarUpdateFlags = {};\n    this._scrollbarReferences = {};\n    this._scrollbarReferences[pc.ORIENTATION_HORIZONTAL] = new pc.EntityReference(this, \"horizontalScrollbarEntity\", {\"scrollbar#set:value\":this._onSetHorizontalScrollbarValue, \"scrollbar#gain\":this._onHorizontalScrollbarGain});\n    this._scrollbarReferences[pc.ORIENTATION_VERTICAL] = new pc.EntityReference(this, \"verticalScrollbarEntity\", {\"scrollbar#set:value\":this._onSetVerticalScrollbarValue, \"scrollbar#gain\":this._onVerticalScrollbarGain});\n    this._prevContentSizes = {};\n    this._prevContentSizes[pc.ORIENTATION_HORIZONTAL] = null;\n    this._prevContentSizes[pc.ORIENTATION_VERTICAL] = null;\n    this._scroll = new pc.Vec2;\n    this._velocity = new pc.Vec3;\n    this._dragStartPosition = new pc.Vec3;\n    this._disabledContentInput = false;\n    this._disabledContentInputEntities = [];\n    this._toggleLifecycleListeners(\"on\", system);\n    this._toggleElementListeners(\"on\");\n  };\n  ScrollViewComponent.prototype = Object.create(pc.Component.prototype);\n  ScrollViewComponent.prototype.constructor = ScrollViewComponent;\n  Object.assign(ScrollViewComponent.prototype, {_toggleLifecycleListeners:function(onOrOff, system) {\n    this[onOrOff](\"set_horizontal\", this._onSetHorizontalScrollingEnabled, this);\n    this[onOrOff](\"set_vertical\", this._onSetVerticalScrollingEnabled, this);\n    system.app.systems.element[onOrOff](\"add\", this._onElementComponentAdd, this);\n    system.app.systems.element[onOrOff](\"beforeremove\", this._onElementComponentRemove, this);\n  }, _toggleElementListeners:function(onOrOff) {\n    if (this.entity.element) {\n      if (onOrOff === \"on\" && this._hasElementListeners) {\n        return;\n      }\n      this.entity.element[onOrOff](\"resize\", this._onSetContentOrViewportSize, this);\n      this._hasElementListeners = onOrOff === \"on\";\n    }\n  }, _onElementComponentAdd:function(entity) {\n    if (this.entity === entity) {\n      this._toggleElementListeners(\"on\");\n    }\n  }, _onElementComponentRemove:function(entity) {\n    if (this.entity === entity) {\n      this._toggleElementListeners(\"off\");\n    }\n  }, _onViewportElementGain:function() {\n    this._syncAll();\n  }, _onContentElementGain:function() {\n    this._destroyDragHelper();\n    this._contentDragHelper = new pc.ElementDragHelper(this._contentReference.entity.element);\n    this._contentDragHelper.on(\"drag:start\", this._onContentDragStart, this);\n    this._contentDragHelper.on(\"drag:end\", this._onContentDragEnd, this);\n    this._contentDragHelper.on(\"drag:move\", this._onContentDragMove, this);\n    this._prevContentSizes[pc.ORIENTATION_HORIZONTAL] = null;\n    this._prevContentSizes[pc.ORIENTATION_VERTICAL] = null;\n    this._syncAll();\n  }, _onContentElementLose:function() {\n    this._destroyDragHelper();\n  }, _onContentDragStart:function() {\n    if (this._contentReference.entity && this.enabled && this.entity.enabled) {\n      this._dragStartPosition.copy(this._contentReference.entity.getLocalPosition());\n    }\n  }, _onContentDragEnd:function() {\n    this._prevContentDragPosition = null;\n    this._enableContentInput();\n  }, _onContentDragMove:function(position) {\n    if (this._contentReference.entity && this.enabled && this.entity.enabled) {\n      this._wasDragged = true;\n      this._setScrollFromContentPosition(position);\n      this._setVelocityFromContentPositionDelta(position);\n      if (!this._disabledContentInput) {\n        var dx = position.x - this._dragStartPosition.x;\n        var dy = position.y - this._dragStartPosition.y;\n        if (Math.abs(dx) > this.dragThreshold || Math.abs(dy) > this.dragThreshold) {\n          this._disableContentInput();\n        }\n      }\n    }\n  }, _onSetContentOrViewportSize:function() {\n    this._syncAll();\n  }, _onSetHorizontalScrollbarValue:function(scrollValueX) {\n    if (!this._scrollbarUpdateFlags[pc.ORIENTATION_HORIZONTAL] && this.enabled && this.entity.enabled) {\n      this._onSetScroll(scrollValueX, null);\n    }\n  }, _onSetVerticalScrollbarValue:function(scrollValueY) {\n    if (!this._scrollbarUpdateFlags[pc.ORIENTATION_VERTICAL] && this.enabled && this.entity.enabled) {\n      this._onSetScroll(null, scrollValueY);\n    }\n  }, _onSetHorizontalScrollingEnabled:function() {\n    this._syncScrollbarEnabledState(pc.ORIENTATION_HORIZONTAL);\n  }, _onSetVerticalScrollingEnabled:function() {\n    this._syncScrollbarEnabledState(pc.ORIENTATION_VERTICAL);\n  }, _onHorizontalScrollbarGain:function() {\n    this._syncScrollbarEnabledState(pc.ORIENTATION_HORIZONTAL);\n    this._syncScrollbarPosition(pc.ORIENTATION_HORIZONTAL);\n  }, _onVerticalScrollbarGain:function() {\n    this._syncScrollbarEnabledState(pc.ORIENTATION_VERTICAL);\n    this._syncScrollbarPosition(pc.ORIENTATION_VERTICAL);\n  }, _onSetScroll:function(x, y, resetVelocity) {\n    if (resetVelocity !== false) {\n      this._velocity.set(0, 0, 0);\n    }\n    var hasChanged = false;\n    hasChanged |= this._updateAxis(x, \"x\", pc.ORIENTATION_HORIZONTAL);\n    hasChanged |= this._updateAxis(y, \"y\", pc.ORIENTATION_VERTICAL);\n    if (hasChanged) {\n      this.fire(\"set:scroll\", this._scroll);\n    }\n  }, _updateAxis:function(scrollValue, axis, orientation) {\n    var hasChanged = scrollValue !== null && Math.abs(scrollValue - this._scroll[axis]) > 1e-5;\n    if (hasChanged || this._isDragging() || scrollValue === 0) {\n      this._scroll[axis] = this._determineNewScrollValue(scrollValue, axis, orientation);\n      this._syncContentPosition(orientation);\n      this._syncScrollbarPosition(orientation);\n    }\n    return hasChanged;\n  }, _determineNewScrollValue:function(scrollValue, axis, orientation) {\n    if (!this._getScrollingEnabled(orientation)) {\n      return this._scroll[axis];\n    }\n    switch(this.scrollMode) {\n      case pc.SCROLL_MODE_CLAMP:\n        return pc.math.clamp(scrollValue, 0, this._getMaxScrollValue(orientation));\n      case pc.SCROLL_MODE_BOUNCE:\n        this._setVelocityFromOvershoot(scrollValue, axis, orientation);\n        return scrollValue;\n      case pc.SCROLL_MODE_INFINITE:\n        return scrollValue;\n      default:\n        console.warn(\"Unhandled scroll mode:\" + this.scrollMode);\n        return scrollValue;\n    }\n  }, _syncAll:function() {\n    this._syncContentPosition(pc.ORIENTATION_HORIZONTAL);\n    this._syncContentPosition(pc.ORIENTATION_VERTICAL);\n    this._syncScrollbarPosition(pc.ORIENTATION_HORIZONTAL);\n    this._syncScrollbarPosition(pc.ORIENTATION_VERTICAL);\n    this._syncScrollbarEnabledState(pc.ORIENTATION_HORIZONTAL);\n    this._syncScrollbarEnabledState(pc.ORIENTATION_VERTICAL);\n  }, _syncContentPosition:function(orientation) {\n    var axis = this._getAxis(orientation);\n    var sign = this._getSign(orientation);\n    var contentEntity = this._contentReference.entity;\n    if (contentEntity) {\n      var prevContentSize = this._prevContentSizes[orientation];\n      var currContentSize = this._getContentSize(orientation);\n      if (prevContentSize !== null && Math.abs(prevContentSize - currContentSize) > 1e-4) {\n        var prevMaxOffset = this._getMaxOffset(orientation, prevContentSize);\n        var currMaxOffset = this._getMaxOffset(orientation, currContentSize);\n        if (currMaxOffset === 0) {\n          this._scroll[axis] = 1;\n        } else {\n          this._scroll[axis] = pc.math.clamp(this._scroll[axis] * prevMaxOffset / currMaxOffset, 0, 1);\n        }\n      }\n      var offset = this._scroll[axis] * this._getMaxOffset(orientation);\n      var contentPosition = contentEntity.getLocalPosition();\n      contentPosition[axis] = offset * sign;\n      contentEntity.setLocalPosition(contentPosition);\n      this._prevContentSizes[orientation] = currContentSize;\n    }\n  }, _syncScrollbarPosition:function(orientation) {\n    var axis = this._getAxis(orientation);\n    var scrollbarEntity = this._scrollbarReferences[orientation].entity;\n    if (scrollbarEntity && scrollbarEntity.scrollbar) {\n      this._scrollbarUpdateFlags[orientation] = true;\n      scrollbarEntity.scrollbar.value = this._scroll[axis];\n      scrollbarEntity.scrollbar.handleSize = this._getScrollbarHandleSize(axis, orientation);\n      this._scrollbarUpdateFlags[orientation] = false;\n    }\n  }, _syncScrollbarEnabledState:function(orientation) {\n    var entity = this._scrollbarReferences[orientation].entity;\n    if (entity) {\n      var isScrollingEnabled = this._getScrollingEnabled(orientation);\n      var requestedVisibility = this._getScrollbarVisibility(orientation);\n      switch(requestedVisibility) {\n        case pc.SCROLLBAR_VISIBILITY_SHOW_ALWAYS:\n          entity.enabled = isScrollingEnabled;\n          return;\n        case pc.SCROLLBAR_VISIBILITY_SHOW_WHEN_REQUIRED:\n          entity.enabled = isScrollingEnabled && this._contentIsLargerThanViewport(orientation);\n          return;\n        default:\n          console.warn(\"Unhandled scrollbar visibility:\" + requestedVisibility);\n          entity.enabled = isScrollingEnabled;\n      }\n    }\n  }, _contentIsLargerThanViewport:function(orientation) {\n    return this._getContentSize(orientation) > this._getViewportSize(orientation);\n  }, _contentPositionToScrollValue:function(contentPosition) {\n    var maxOffsetH = this._getMaxOffset(pc.ORIENTATION_HORIZONTAL);\n    var maxOffsetV = this._getMaxOffset(pc.ORIENTATION_VERTICAL);\n    if (maxOffsetH === 0) {\n      _tempScrollValue.x = 0;\n    } else {\n      _tempScrollValue.x = contentPosition.x / maxOffsetH;\n    }\n    if (maxOffsetV === 0) {\n      _tempScrollValue.y = 0;\n    } else {\n      _tempScrollValue.y = contentPosition.y / -maxOffsetV;\n    }\n    return _tempScrollValue;\n  }, _getMaxOffset:function(orientation, contentSize) {\n    contentSize = contentSize === undefined ? this._getContentSize(orientation) : contentSize;\n    var viewportSize = this._getViewportSize(orientation);\n    if (contentSize < viewportSize) {\n      return -this._getViewportSize(orientation);\n    }\n    return viewportSize - contentSize;\n  }, _getMaxScrollValue:function(orientation) {\n    return this._contentIsLargerThanViewport(orientation) ? 1 : 0;\n  }, _getScrollbarHandleSize:function(axis, orientation) {\n    var viewportSize = this._getViewportSize(orientation);\n    var contentSize = this._getContentSize(orientation);\n    if (Math.abs(contentSize) < 0.001) {\n      return 1;\n    }\n    var handleSize = Math.min(viewportSize / contentSize, 1);\n    var overshoot = this._toOvershoot(this._scroll[axis], orientation);\n    if (overshoot === 0) {\n      return handleSize;\n    }\n    return handleSize / (1 + Math.abs(overshoot));\n  }, _getViewportSize:function(orientation) {\n    return this._getSize(orientation, this._viewportReference);\n  }, _getContentSize:function(orientation) {\n    return this._getSize(orientation, this._contentReference);\n  }, _getSize:function(orientation, entityReference) {\n    if (entityReference.entity && entityReference.entity.element) {\n      return entityReference.entity.element[this._getCalculatedDimension(orientation)];\n    }\n    return 0;\n  }, _getScrollingEnabled:function(orientation) {\n    if (orientation === pc.ORIENTATION_HORIZONTAL) {\n      return this.horizontal;\n    } else {\n      if (orientation === pc.ORIENTATION_VERTICAL) {\n        return this.vertical;\n      }\n    }\n    console.warn(\"Unrecognized orientation: \" + orientation);\n  }, _getScrollbarVisibility:function(orientation) {\n    if (orientation === pc.ORIENTATION_HORIZONTAL) {\n      return this.horizontalScrollbarVisibility;\n    } else {\n      if (orientation === pc.ORIENTATION_VERTICAL) {\n        return this.verticalScrollbarVisibility;\n      }\n    }\n    console.warn(\"Unrecognized orientation: \" + orientation);\n  }, _getSign:function(orientation) {\n    return orientation === pc.ORIENTATION_HORIZONTAL ? 1 : -1;\n  }, _getAxis:function(orientation) {\n    return orientation === pc.ORIENTATION_HORIZONTAL ? \"x\" : \"y\";\n  }, _getCalculatedDimension:function(orientation) {\n    return orientation === pc.ORIENTATION_HORIZONTAL ? \"calculatedWidth\" : \"calculatedHeight\";\n  }, _destroyDragHelper:function() {\n    if (this._contentDragHelper) {\n      this._contentDragHelper.destroy();\n    }\n  }, onUpdate:function() {\n    if (this._contentReference.entity) {\n      this._updateVelocity();\n      this._syncScrollbarEnabledState(pc.ORIENTATION_HORIZONTAL);\n      this._syncScrollbarEnabledState(pc.ORIENTATION_VERTICAL);\n    }\n  }, _updateVelocity:function() {\n    if (!this._isDragging()) {\n      if (this.scrollMode === pc.SCROLL_MODE_BOUNCE) {\n        if (this._hasOvershoot(\"x\", pc.ORIENTATION_HORIZONTAL)) {\n          this._setVelocityFromOvershoot(this.scroll.x, \"x\", pc.ORIENTATION_HORIZONTAL);\n        }\n        if (this._hasOvershoot(\"y\", pc.ORIENTATION_VERTICAL)) {\n          this._setVelocityFromOvershoot(this.scroll.y, \"y\", pc.ORIENTATION_VERTICAL);\n        }\n      }\n      this._velocity.x *= 1 - this.friction;\n      this._velocity.y *= 1 - this.friction;\n      if (Math.abs(this._velocity.x) > 1e-4 || Math.abs(this._velocity.y) > 1e-4) {\n        var position = this._contentReference.entity.getLocalPosition();\n        position.x += this._velocity.x;\n        position.y += this._velocity.y;\n        this._contentReference.entity.setLocalPosition(position);\n        this._setScrollFromContentPosition(position);\n      }\n    }\n  }, _hasOvershoot:function(axis, orientation) {\n    return Math.abs(this._toOvershoot(this.scroll[axis], orientation)) > 0.001;\n  }, _toOvershoot:function(scrollValue, orientation) {\n    var maxScrollValue = this._getMaxScrollValue(orientation);\n    if (scrollValue < 0) {\n      return scrollValue;\n    } else {\n      if (scrollValue > maxScrollValue) {\n        return scrollValue - maxScrollValue;\n      }\n    }\n    return 0;\n  }, _setVelocityFromOvershoot:function(scrollValue, axis, orientation) {\n    var overshootValue = this._toOvershoot(scrollValue, orientation);\n    var overshootPixels = overshootValue * this._getMaxOffset(orientation) * this._getSign(orientation);\n    if (Math.abs(overshootPixels) > 0) {\n      this._velocity[axis] = -overshootPixels / (this.bounceAmount * 50 + 1);\n    }\n  }, _setVelocityFromContentPositionDelta:function(position) {\n    if (this._prevContentDragPosition) {\n      this._velocity.sub2(position, this._prevContentDragPosition);\n      this._prevContentDragPosition.copy(position);\n    } else {\n      this._velocity.set(0, 0, 0);\n      this._prevContentDragPosition = position.clone();\n    }\n  }, _setScrollFromContentPosition:function(position) {\n    var scrollValue = this._contentPositionToScrollValue(position);\n    if (this._isDragging()) {\n      scrollValue = this._applyScrollValueTension(scrollValue);\n    }\n    this._onSetScroll(scrollValue.x, scrollValue.y, false);\n  }, _applyScrollValueTension:function(scrollValue) {\n    var max;\n    var overshoot;\n    var factor = 1;\n    max = this._getMaxScrollValue(pc.ORIENTATION_HORIZONTAL);\n    overshoot = this._toOvershoot(scrollValue.x, pc.ORIENTATION_HORIZONTAL);\n    if (overshoot > 0) {\n      scrollValue.x = max + factor * Math.log10(1 + overshoot);\n    } else {\n      if (overshoot < 0) {\n        scrollValue.x = -factor * Math.log10(1 - overshoot);\n      }\n    }\n    max = this._getMaxScrollValue(pc.ORIENTATION_VERTICAL);\n    overshoot = this._toOvershoot(scrollValue.y, pc.ORIENTATION_VERTICAL);\n    if (overshoot > 0) {\n      scrollValue.y = max + factor * Math.log10(1 + overshoot);\n    } else {\n      if (overshoot < 0) {\n        scrollValue.y = -factor * Math.log10(1 - overshoot);\n      }\n    }\n    return scrollValue;\n  }, _isDragging:function() {\n    return this._contentDragHelper && this._contentDragHelper.isDragging;\n  }, _setScrollbarComponentsEnabled:function(enabled) {\n    if (this._scrollbarReferences[pc.ORIENTATION_HORIZONTAL].hasComponent(\"scrollbar\")) {\n      this._scrollbarReferences[pc.ORIENTATION_HORIZONTAL].entity.scrollbar.enabled = enabled;\n    }\n    if (this._scrollbarReferences[pc.ORIENTATION_VERTICAL].hasComponent(\"scrollbar\")) {\n      this._scrollbarReferences[pc.ORIENTATION_VERTICAL].entity.scrollbar.enabled = enabled;\n    }\n  }, _setContentDraggingEnabled:function(enabled) {\n    if (this._contentDragHelper) {\n      this._contentDragHelper.enabled = enabled;\n    }\n  }, _enableContentInput:function() {\n    while (this._disabledContentInputEntities.length) {\n      var e = this._disabledContentInputEntities.pop();\n      if (e.element) {\n        e.element.useInput = true;\n      }\n    }\n    this._disabledContentInput = false;\n  }, _disableContentInput:function() {\n    var self = this;\n    var _disableInput = function(e) {\n      if (e.element && e.element.useInput) {\n        self._disabledContentInputEntities.push(e);\n        e.element.useInput = false;\n      }\n      var children = e.children;\n      var i, l;\n      for (i = 0, l = children.length;i < l;i++) {\n        _disableInput(children[i]);\n      }\n    };\n    var contentEntity = this._contentReference.entity;\n    if (contentEntity) {\n      var children = contentEntity.children;\n      var i, l = children.length;\n      for (i = 0;i < l;i++) {\n        _disableInput(children[i]);\n      }\n    }\n    this._disabledContentInput = true;\n  }, onEnable:function() {\n    this._viewportReference.onParentComponentEnable();\n    this._contentReference.onParentComponentEnable();\n    this._scrollbarReferences[pc.ORIENTATION_HORIZONTAL].onParentComponentEnable();\n    this._scrollbarReferences[pc.ORIENTATION_VERTICAL].onParentComponentEnable();\n    this._setScrollbarComponentsEnabled(true);\n    this._setContentDraggingEnabled(true);\n    this._syncAll();\n  }, onDisable:function() {\n    this._setScrollbarComponentsEnabled(false);\n    this._setContentDraggingEnabled(false);\n  }, onRemove:function() {\n    this._toggleLifecycleListeners(\"off\", this.system);\n    this._toggleElementListeners(\"off\");\n    this._destroyDragHelper();\n  }});\n  Object.defineProperty(ScrollViewComponent.prototype, \"scroll\", {get:function() {\n    return this._scroll;\n  }, set:function(value) {\n    this._onSetScroll(value.x, value.y);\n  }});\n  return {ScrollViewComponent:ScrollViewComponent};\n}());\nObject.assign(pc, function() {\n  var _schema = [{name:\"enabled\", type:\"boolean\"}, {name:\"horizontal\", type:\"boolean\"}, {name:\"vertical\", type:\"boolean\"}, {name:\"scrollMode\", type:\"number\"}, {name:\"bounceAmount\", type:\"number\"}, {name:\"friction\", type:\"number\"}, {name:\"dragThreshold\", type:\"number\"}, {name:\"horizontalScrollbarVisibility\", type:\"number\"}, {name:\"verticalScrollbarVisibility\", type:\"number\"}, {name:\"viewportEntity\", type:\"entity\"}, {name:\"contentEntity\", type:\"entity\"}, {name:\"horizontalScrollbarEntity\", type:\"entity\"}, \n  {name:\"verticalScrollbarEntity\", type:\"entity\"}];\n  var DEFAULT_DRAG_THRESHOLD = 10;\n  var ScrollViewComponentSystem = function ScrollViewComponentSystem(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"scrollview\";\n    this.app = app;\n    this.ComponentType = pc.ScrollViewComponent;\n    this.DataType = pc.ScrollViewComponentData;\n    this.schema = _schema;\n    this.on(\"beforeremove\", this._onRemoveComponent, this);\n    pc.ComponentSystem.bind(\"update\", this.onUpdate, this);\n  };\n  ScrollViewComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  ScrollViewComponentSystem.prototype.constructor = ScrollViewComponentSystem;\n  pc.Component._buildAccessors(pc.ScrollViewComponent.prototype, _schema);\n  Object.assign(ScrollViewComponentSystem.prototype, {initializeComponentData:function(component, data, properties) {\n    if (data.dragThreshold === undefined) {\n      data.dragThreshold = DEFAULT_DRAG_THRESHOLD;\n    }\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, data, _schema);\n  }, onUpdate:function(dt) {\n    var components = this.store;\n    for (var id in components) {\n      var entity = components[id].entity;\n      var component = entity.scrollview;\n      if (component.enabled && entity.enabled) {\n        component.onUpdate();\n      }\n    }\n  }, _onRemoveComponent:function(entity, component) {\n    component.onRemove();\n  }});\n  return {ScrollViewComponentSystem:ScrollViewComponentSystem};\n}());\nObject.assign(pc, function() {\n  var ScrollViewComponentData = function() {\n    this.enabled = true;\n  };\n  return {ScrollViewComponentData:ScrollViewComponentData};\n}());\nObject.assign(pc, function() {\n  var ScrollbarComponent = function ScrollbarComponent(system, entity) {\n    pc.Component.call(this, system, entity);\n    this._app = system.app;\n    this._handleReference = new pc.EntityReference(this, \"handleEntity\", {\"element#gain\":this._onHandleElementGain, \"element#lose\":this._onHandleElementLose, \"element#set:anchor\":this._onSetHandleAlignment, \"element#set:margin\":this._onSetHandleAlignment, \"element#set:pivot\":this._onSetHandleAlignment});\n    this._toggleLifecycleListeners(\"on\");\n  };\n  ScrollbarComponent.prototype = Object.create(pc.Component.prototype);\n  ScrollbarComponent.prototype.constructor = ScrollbarComponent;\n  Object.assign(ScrollbarComponent.prototype, {_toggleLifecycleListeners:function(onOrOff) {\n    this[onOrOff](\"set_value\", this._onSetValue, this);\n    this[onOrOff](\"set_handleSize\", this._onSetHandleSize, this);\n    this[onOrOff](\"set_orientation\", this._onSetOrientation, this);\n  }, _onHandleElementGain:function() {\n    this._destroyDragHelper();\n    this._handleDragHelper = new pc.ElementDragHelper(this._handleReference.entity.element, this._getAxis());\n    this._handleDragHelper.on(\"drag:move\", this._onHandleDrag, this);\n    this._updateHandlePositionAndSize();\n  }, _onHandleElementLose:function() {\n    this._destroyDragHelper();\n  }, _onHandleDrag:function(position) {\n    if (this._handleReference.entity && this.enabled && this.entity.enabled) {\n      this.value = this._handlePositionToScrollValue(position[this._getAxis()]);\n    }\n  }, _onSetValue:function(name, oldValue, newValue) {\n    if (Math.abs(newValue - oldValue) > 1e-5) {\n      this.data.value = pc.math.clamp(newValue, 0, 1);\n      this._updateHandlePositionAndSize();\n      this.fire(\"set:value\", this.data.value);\n    }\n  }, _onSetHandleSize:function(name, oldValue, newValue) {\n    if (Math.abs(newValue - oldValue) > 1e-5) {\n      this.data.handleSize = pc.math.clamp(newValue, 0, 1);\n      this._updateHandlePositionAndSize();\n    }\n  }, _onSetHandleAlignment:function() {\n    this._updateHandlePositionAndSize();\n  }, _onSetOrientation:function(name, oldValue, newValue) {\n    if (newValue !== oldValue && this._handleReference.hasComponent(\"element\")) {\n      this._handleReference.entity.element[this._getOppositeDimension()] = 0;\n    }\n  }, _updateHandlePositionAndSize:function() {\n    var handleEntity = this._handleReference.entity;\n    var handleElement = handleEntity && handleEntity.element;\n    if (handleEntity) {\n      var position = handleEntity.getLocalPosition();\n      position[this._getAxis()] = this._getHandlePosition();\n      this._handleReference.entity.setLocalPosition(position);\n    }\n    if (handleElement) {\n      handleElement[this._getDimension()] = this._getHandleLength();\n    }\n  }, _handlePositionToScrollValue:function(handlePosition) {\n    return handlePosition * this._getSign() / this._getUsableTrackLength();\n  }, _scrollValueToHandlePosition:function(value) {\n    return value * this._getSign() * this._getUsableTrackLength();\n  }, _getUsableTrackLength:function() {\n    return Math.max(this._getTrackLength() - this._getHandleLength(), 0.001);\n  }, _getTrackLength:function() {\n    if (this.entity.element) {\n      return this.orientation === pc.ORIENTATION_HORIZONTAL ? this.entity.element.calculatedWidth : this.entity.element.calculatedHeight;\n    }\n    return 0;\n  }, _getHandleLength:function() {\n    return this._getTrackLength() * this.handleSize;\n  }, _getHandlePosition:function() {\n    return this._scrollValueToHandlePosition(this.value);\n  }, _getSign:function() {\n    return this.orientation === pc.ORIENTATION_HORIZONTAL ? 1 : -1;\n  }, _getAxis:function() {\n    return this.orientation === pc.ORIENTATION_HORIZONTAL ? \"x\" : \"y\";\n  }, _getDimension:function() {\n    return this.orientation === pc.ORIENTATION_HORIZONTAL ? \"width\" : \"height\";\n  }, _getOppositeDimension:function() {\n    return this.orientation === pc.ORIENTATION_HORIZONTAL ? \"height\" : \"width\";\n  }, _destroyDragHelper:function() {\n    if (this._handleDragHelper) {\n      this._handleDragHelper.destroy();\n    }\n  }, _setHandleDraggingEnabled:function(enabled) {\n    if (this._handleDragHelper) {\n      this._handleDragHelper.enabled = enabled;\n    }\n  }, onEnable:function() {\n    this._handleReference.onParentComponentEnable();\n    this._setHandleDraggingEnabled(true);\n  }, onDisable:function() {\n    this._setHandleDraggingEnabled(false);\n  }, onRemove:function() {\n    this._destroyDragHelper();\n    this._toggleLifecycleListeners(\"off\");\n  }});\n  return {ScrollbarComponent:ScrollbarComponent};\n}());\nObject.assign(pc, function() {\n  var _schema = [{name:\"enabled\", type:\"boolean\"}, {name:\"orientation\", type:\"number\"}, {name:\"value\", type:\"number\"}, {name:\"handleSize\", type:\"number\"}, {name:\"handleEntity\", type:\"entity\"}];\n  var ScrollbarComponentSystem = function ScrollbarComponentSystem(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"scrollbar\";\n    this.app = app;\n    this.ComponentType = pc.ScrollbarComponent;\n    this.DataType = pc.ScrollbarComponentData;\n    this.schema = _schema;\n    this.on(\"beforeremove\", this._onRemoveComponent, this);\n  };\n  ScrollbarComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  ScrollbarComponentSystem.prototype.constructor = ScrollbarComponentSystem;\n  pc.Component._buildAccessors(pc.ScrollbarComponent.prototype, _schema);\n  Object.assign(ScrollbarComponentSystem.prototype, {initializeComponentData:function(component, data, properties) {\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, data, _schema);\n  }, _onRemoveComponent:function(entity, component) {\n    component.onRemove();\n  }});\n  return {ScrollbarComponentSystem:ScrollbarComponentSystem};\n}());\nObject.assign(pc, function() {\n  var ScrollbarComponentData = function() {\n    this.enabled = true;\n  };\n  return {ScrollbarComponentData:ScrollbarComponentData};\n}());\nObject.assign(pc, {FITTING_NONE:0, FITTING_STRETCH:1, FITTING_SHRINK:2, FITTING_BOTH:3});\nObject.assign(pc, function() {\n  var LayoutGroupComponent = function LayoutGroupComponent(system, entity) {\n    pc.Component.call(this, system, entity);\n    this._orientation = pc.ORIENTATION_HORIZONTAL;\n    this._reverseX = false;\n    this._reverseY = true;\n    this._alignment = new pc.Vec2(0, 1);\n    this._padding = new pc.Vec4;\n    this._spacing = new pc.Vec2;\n    this._widthFitting = pc.FITTING_NONE;\n    this._heightFitting = pc.FITTING_NONE;\n    this._wrap = false;\n    this._layoutCalculator = new pc.LayoutCalculator;\n    this._listenForReflowEvents(this.entity, \"on\");\n    this.entity.children.forEach(function(child) {\n      this._listenForReflowEvents(child, \"on\");\n    }.bind(this));\n    this.entity.on(\"childinsert\", this._onChildInsert, this);\n    this.entity.on(\"childremove\", this._onChildRemove, this);\n    system.app.systems.element.on(\"add\", this._onElementOrLayoutComponentAdd, this);\n    system.app.systems.element.on(\"beforeremove\", this._onElementOrLayoutComponentRemove, this);\n    system.app.systems.layoutchild.on(\"add\", this._onElementOrLayoutComponentAdd, this);\n    system.app.systems.layoutchild.on(\"beforeremove\", this._onElementOrLayoutComponentRemove, this);\n  };\n  LayoutGroupComponent.prototype = Object.create(pc.Component.prototype);\n  LayoutGroupComponent.prototype.constructor = LayoutGroupComponent;\n  Object.assign(LayoutGroupComponent.prototype, {_isSelfOrChild:function(entity) {\n    return entity === this.entity || this.entity.children.indexOf(entity) !== -1;\n  }, _listenForReflowEvents:function(target, onOff) {\n    if (target.element) {\n      target.element[onOff](\"enableelement\", this._scheduleReflow, this);\n      target.element[onOff](\"disableelement\", this._scheduleReflow, this);\n      target.element[onOff](\"resize\", this._scheduleReflow, this);\n      target.element[onOff](\"set:pivot\", this._scheduleReflow, this);\n    }\n    if (target.layoutchild) {\n      target.layoutchild[onOff](\"set_enabled\", this._scheduleReflow, this);\n      target.layoutchild[onOff](\"resize\", this._scheduleReflow, this);\n    }\n  }, _onElementOrLayoutComponentAdd:function(entity) {\n    if (this._isSelfOrChild(entity)) {\n      this._listenForReflowEvents(entity, \"on\");\n      this._scheduleReflow();\n    }\n  }, _onElementOrLayoutComponentRemove:function(entity) {\n    if (this._isSelfOrChild(entity)) {\n      this._listenForReflowEvents(entity, \"off\");\n      this._scheduleReflow();\n    }\n  }, _onChildInsert:function(child) {\n    this._listenForReflowEvents(child, \"on\");\n    this._scheduleReflow();\n  }, _onChildRemove:function(child) {\n    this._listenForReflowEvents(child, \"off\");\n    this._scheduleReflow();\n  }, _scheduleReflow:function() {\n    if (this.enabled && this.entity && this.entity.enabled && !this._isPerformingReflow) {\n      this.system.scheduleReflow(this);\n    }\n  }, reflow:function() {\n    var container = getElement(this.entity);\n    var elements = this.entity.children.filter(isEnabledAndHasEnabledElement).map(getElement);\n    if (!container || elements.length === 0) {\n      return;\n    }\n    var containerWidth = Math.max(container.calculatedWidth, 0);\n    var containerHeight = Math.max(container.calculatedHeight, 0);\n    var options = {orientation:this._orientation, reverseX:this._reverseX, reverseY:this._reverseY, alignment:this._alignment, padding:this._padding, spacing:this._spacing, widthFitting:this._widthFitting, heightFitting:this._heightFitting, wrap:this._wrap, containerSize:new pc.Vec2(containerWidth, containerHeight)};\n    this._isPerformingReflow = true;\n    var layoutInfo = this._layoutCalculator.calculateLayout(elements, options);\n    this._isPerformingReflow = false;\n    this.fire(\"reflow\", layoutInfo);\n  }, onEnable:function() {\n    this._scheduleReflow();\n  }, onRemove:function() {\n    this.entity.off(\"childinsert\", this._onChildInsert, this);\n    this.entity.off(\"childremove\", this._onChildRemove, this);\n    this._listenForReflowEvents(this.entity, \"off\");\n    this.entity.children.forEach(function(child) {\n      this._listenForReflowEvents(child, \"off\");\n    }.bind(this));\n    this.system.app.systems.element.off(\"add\", this._onElementOrLayoutComponentAdd, this);\n    this.system.app.systems.element.off(\"beforeremove\", this._onElementOrLayoutComponentRemove, this);\n    this.system.app.systems.layoutchild.off(\"add\", this._onElementOrLayoutComponentAdd, this);\n    this.system.app.systems.layoutchild.off(\"beforeremove\", this._onElementOrLayoutComponentRemove, this);\n  }});\n  function getElement(entity) {\n    return entity.element;\n  }\n  function isEnabledAndHasEnabledElement(entity) {\n    return entity.enabled && entity.element && entity.element.enabled;\n  }\n  function defineReflowSchedulingProperty(name) {\n    var _name = \"_\" + name;\n    Object.defineProperty(LayoutGroupComponent.prototype, name, {get:function() {\n      return this[_name];\n    }, set:function(value) {\n      if (this[_name] !== value) {\n        this[_name] = value;\n        this._scheduleReflow();\n      }\n    }});\n  }\n  defineReflowSchedulingProperty(\"orientation\");\n  defineReflowSchedulingProperty(\"reverseX\");\n  defineReflowSchedulingProperty(\"reverseY\");\n  defineReflowSchedulingProperty(\"alignment\");\n  defineReflowSchedulingProperty(\"padding\");\n  defineReflowSchedulingProperty(\"spacing\");\n  defineReflowSchedulingProperty(\"widthFitting\");\n  defineReflowSchedulingProperty(\"heightFitting\");\n  defineReflowSchedulingProperty(\"wrap\");\n  return {LayoutGroupComponent:LayoutGroupComponent};\n}());\nObject.assign(pc, function() {\n  var _schema = [\"enabled\"];\n  var MAX_ITERATIONS = 100;\n  var LayoutGroupComponentSystem = function LayoutGroupComponentSystem(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"layoutgroup\";\n    this.app = app;\n    this.ComponentType = pc.LayoutGroupComponent;\n    this.DataType = pc.LayoutGroupComponentData;\n    this.schema = _schema;\n    this._reflowQueue = [];\n    this.on(\"beforeremove\", this._onRemoveComponent, this);\n    pc.ComponentSystem.bind(\"postUpdate\", this._onPostUpdate, this);\n  };\n  LayoutGroupComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  LayoutGroupComponentSystem.prototype.constructor = LayoutGroupComponentSystem;\n  pc.Component._buildAccessors(pc.LayoutGroupComponent.prototype, _schema);\n  Object.assign(LayoutGroupComponentSystem.prototype, {initializeComponentData:function(component, data, properties) {\n    if (data.enabled !== undefined) {\n      component.enabled = data.enabled;\n    }\n    if (data.orientation !== undefined) {\n      component.orientation = data.orientation;\n    }\n    if (data.reverseX !== undefined) {\n      component.reverseX = data.reverseX;\n    }\n    if (data.reverseY !== undefined) {\n      component.reverseY = data.reverseY;\n    }\n    if (data.alignment !== undefined) {\n      if (data.alignment instanceof pc.Vec2) {\n        component.alignment.copy(data.alignment);\n      } else {\n        component.alignment.set(data.alignment[0], data.alignment[1]);\n      }\n      component.alignment = component.alignment;\n    }\n    if (data.padding !== undefined) {\n      if (data.padding instanceof pc.Vec4) {\n        component.padding.copy(data.padding);\n      } else {\n        component.padding.set(data.padding[0], data.padding[1], data.padding[2], data.padding[3]);\n      }\n      component.padding = component.padding;\n    }\n    if (data.spacing !== undefined) {\n      if (data.spacing instanceof pc.Vec2) {\n        component.spacing.copy(data.spacing);\n      } else {\n        component.spacing.set(data.spacing[0], data.spacing[1]);\n      }\n      component.spacing = component.spacing;\n    }\n    if (data.widthFitting !== undefined) {\n      component.widthFitting = data.widthFitting;\n    }\n    if (data.heightFitting !== undefined) {\n      component.heightFitting = data.heightFitting;\n    }\n    if (data.wrap !== undefined) {\n      component.wrap = data.wrap;\n    }\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, data, properties);\n  }, cloneComponent:function(entity, clone) {\n    var layoutGroup = entity.layoutgroup;\n    return this.addComponent(clone, {enabled:layoutGroup.enabled, orientation:layoutGroup.orientation, reverseX:layoutGroup.reverseX, reverseY:layoutGroup.reverseY, alignment:layoutGroup.alignment, padding:layoutGroup.padding, spacing:layoutGroup.spacing, widthFitting:layoutGroup.widthFitting, heightFitting:layoutGroup.heightFitting, wrap:layoutGroup.wrap});\n  }, scheduleReflow:function(component) {\n    if (this._reflowQueue.indexOf(component) === -1) {\n      this._reflowQueue.push(component);\n    }\n  }, _onPostUpdate:function() {\n    this._processReflowQueue();\n  }, _processReflowQueue:function() {\n    if (this._reflowQueue.length === 0) {\n      return;\n    }\n    var iterationCount = 0;\n    while (this._reflowQueue.length > 0) {\n      var queue = this._reflowQueue.slice();\n      this._reflowQueue.length = 0;\n      queue.sort(function(componentA, componentB) {\n        return componentA.entity.graphDepth - componentB.entity.graphDepth;\n      });\n      for (var i = 0;i < queue.length;++i) {\n        queue[i].reflow();\n      }\n      if (++iterationCount >= MAX_ITERATIONS) {\n        console.warn(\"Max reflow iterations limit reached, bailing.\");\n        break;\n      }\n    }\n  }, _onRemoveComponent:function(entity, component) {\n    component.onRemove();\n  }});\n  return {LayoutGroupComponentSystem:LayoutGroupComponentSystem};\n}());\nObject.assign(pc, function() {\n  var LayoutGroupComponentData = function() {\n    this.enabled = true;\n  };\n  return {LayoutGroupComponentData:LayoutGroupComponentData};\n}());\nObject.assign(pc, function() {\n  function LayoutCalculator() {\n  }\n  var AXIS_MAPPINGS = {};\n  AXIS_MAPPINGS[pc.ORIENTATION_HORIZONTAL] = {axis:\"x\", size:\"width\", calculatedSize:\"calculatedWidth\", minSize:\"minWidth\", maxSize:\"maxWidth\", fitting:\"widthFitting\", fittingProportion:\"fitWidthProportion\"};\n  AXIS_MAPPINGS[pc.ORIENTATION_VERTICAL] = {axis:\"y\", size:\"height\", calculatedSize:\"calculatedHeight\", minSize:\"minHeight\", maxSize:\"maxHeight\", fitting:\"heightFitting\", fittingProportion:\"fitHeightProportion\"};\n  var OPPOSITE_ORIENTATION = {};\n  OPPOSITE_ORIENTATION[pc.ORIENTATION_HORIZONTAL] = pc.ORIENTATION_VERTICAL;\n  OPPOSITE_ORIENTATION[pc.ORIENTATION_VERTICAL] = pc.ORIENTATION_HORIZONTAL;\n  var PROPERTY_DEFAULTS = {minWidth:0, minHeight:0, maxWidth:Number.POSITIVE_INFINITY, maxHeight:Number.POSITIVE_INFINITY, width:null, height:null, fitWidthProportion:0, fitHeightProportion:0};\n  var FITTING_ACTION = {NONE:\"NONE\", APPLY_STRETCHING:\"APPLY_STRETCHING\", APPLY_SHRINKING:\"APPLY_SHRINKING\"};\n  var availableSpace = new pc.Vec2;\n  function createCalculator(orientation) {\n    var options;\n    var a = AXIS_MAPPINGS[orientation];\n    var b = AXIS_MAPPINGS[OPPOSITE_ORIENTATION[orientation]];\n    function minExtentA(element, size) {\n      return -size[a.size] * element.pivot[a.axis];\n    }\n    function minExtentB(element, size) {\n      return -size[b.size] * element.pivot[b.axis];\n    }\n    function maxExtentA(element, size) {\n      return size[a.size] * (1 - element.pivot[a.axis]);\n    }\n    function maxExtentB(element, size) {\n      return size[b.size] * (1 - element.pivot[b.axis]);\n    }\n    function calculateAll(allElements, layoutOptions) {\n      allElements = allElements.filter(shouldIncludeInLayout);\n      options = layoutOptions;\n      availableSpace.x = options.containerSize.x - options.padding.x - options.padding.z;\n      availableSpace.y = options.containerSize.y - options.padding.y - options.padding.w;\n      resetAnchors(allElements);\n      var lines = reverseLinesIfRequired(splitLines(allElements));\n      var sizes = calculateSizesOnAxisB(lines, calculateSizesOnAxisA(lines));\n      var positions = calculateBasePositions(lines, sizes);\n      applyAlignmentAndPadding(lines, sizes, positions);\n      applySizesAndPositions(lines, sizes, positions);\n      return createLayoutInfo(lines, sizes, positions);\n    }\n    function shouldIncludeInLayout(element) {\n      var layoutChildComponent = element.entity.layoutchild;\n      return !layoutChildComponent || !layoutChildComponent.enabled || !layoutChildComponent.excludeFromLayout;\n    }\n    function resetAnchors(allElements) {\n      for (var i = 0;i < allElements.length;++i) {\n        var element = allElements[i];\n        var anchor = element.anchor;\n        if (anchor.x !== 0 || anchor.y !== 0 || anchor.z !== 0 || anchor.w !== 0) {\n          element.anchor = pc.Vec4.ZERO;\n        }\n      }\n    }\n    function splitLines(allElements) {\n      if (!options.wrap) {\n        return [allElements];\n      }\n      var lines = [[]];\n      var sizes = getElementSizeProperties(allElements);\n      var runningSize = 0;\n      var allowOverrun = options[a.fitting] === pc.FITTING_SHRINK;\n      for (var i = 0;i < allElements.length;++i) {\n        if (lines[lines.length - 1].length > 0) {\n          runningSize += options.spacing[a.axis];\n        }\n        var idealElementSize = sizes[i][a.size];\n        runningSize += idealElementSize;\n        if (!allowOverrun && runningSize > availableSpace[a.axis] && lines[lines.length - 1].length !== 0) {\n          runningSize = idealElementSize;\n          lines.push([]);\n        }\n        lines[lines.length - 1].push(allElements[i]);\n        if (allowOverrun && runningSize > availableSpace[a.axis] && i !== allElements.length - 1) {\n          runningSize = 0;\n          lines.push([]);\n        }\n      }\n      return lines;\n    }\n    function reverseLinesIfRequired(lines) {\n      var reverseAxisA = options.orientation === pc.ORIENTATION_HORIZONTAL && options.reverseX || options.orientation === pc.ORIENTATION_VERTICAL && options.reverseY;\n      var reverseAxisB = options.orientation === pc.ORIENTATION_HORIZONTAL && options.reverseY || options.orientation === pc.ORIENTATION_VERTICAL && options.reverseX;\n      if (reverseAxisA) {\n        for (var lineIndex = 0;lineIndex < lines.length;++lineIndex) {\n          if (reverseAxisA) {\n            lines[lineIndex].reverse();\n          }\n        }\n      }\n      if (reverseAxisB) {\n        lines.reverse();\n      }\n      return lines;\n    }\n    function calculateSizesOnAxisA(lines) {\n      var sizesAllLines = [];\n      for (var lineIndex = 0;lineIndex < lines.length;++lineIndex) {\n        var line = lines[lineIndex];\n        var sizesThisLine = getElementSizeProperties(line);\n        var idealRequiredSpace = calculateTotalSpace(sizesThisLine, a);\n        var fittingAction = determineFittingAction(options[a.fitting], idealRequiredSpace, availableSpace[a.axis]);\n        if (fittingAction === FITTING_ACTION.APPLY_STRETCHING) {\n          stretchSizesToFitContainer(sizesThisLine, idealRequiredSpace, a);\n        } else {\n          if (fittingAction === FITTING_ACTION.APPLY_SHRINKING) {\n            shrinkSizesToFitContainer(sizesThisLine, idealRequiredSpace, a);\n          }\n        }\n        sizesAllLines.push(sizesThisLine);\n      }\n      return sizesAllLines;\n    }\n    function calculateSizesOnAxisB(lines, sizesAllLines) {\n      var largestElementsForEachLine = [];\n      var largestSizesForEachLine = [];\n      var elementIndex;\n      var lineIndex;\n      var line;\n      for (lineIndex = 0;lineIndex < lines.length;++lineIndex) {\n        line = lines[lineIndex];\n        line.largestElement = null;\n        line.largestSize = {width:Number.NEGATIVE_INFINITY, height:Number.NEGATIVE_INFINITY};\n        for (elementIndex = 0;elementIndex < line.length;++elementIndex) {\n          var sizesThisElement = sizesAllLines[lineIndex][elementIndex];\n          if (sizesThisElement[b.size] > line.largestSize[b.size]) {\n            line.largestElement = line[elementIndex];\n            line.largestSize = sizesThisElement;\n          }\n        }\n        largestElementsForEachLine.push(line.largestElement);\n        largestSizesForEachLine.push(line.largestSize);\n      }\n      var idealRequiredSpace = calculateTotalSpace(largestSizesForEachLine, b);\n      var fittingAction = determineFittingAction(options[b.fitting], idealRequiredSpace, availableSpace[b.axis]);\n      if (fittingAction === FITTING_ACTION.APPLY_STRETCHING) {\n        stretchSizesToFitContainer(largestSizesForEachLine, idealRequiredSpace, b);\n      } else {\n        if (fittingAction === FITTING_ACTION.APPLY_SHRINKING) {\n          shrinkSizesToFitContainer(largestSizesForEachLine, idealRequiredSpace, b);\n        }\n      }\n      for (lineIndex = 0;lineIndex < lines.length;++lineIndex) {\n        line = lines[lineIndex];\n        for (elementIndex = 0;elementIndex < line.length;++elementIndex) {\n          var sizesForThisElement = sizesAllLines[lineIndex][elementIndex];\n          var currentSize = sizesForThisElement[b.size];\n          var availableSize = lines.length === 1 ? availableSpace[b.axis] : line.largestSize[b.size];\n          var elementFittingAction = determineFittingAction(options[b.fitting], currentSize, availableSize);\n          if (elementFittingAction === FITTING_ACTION.APPLY_STRETCHING) {\n            sizesForThisElement[b.size] = Math.min(availableSize, sizesForThisElement[b.maxSize]);\n          } else {\n            if (elementFittingAction === FITTING_ACTION.APPLY_SHRINKING) {\n              sizesForThisElement[b.size] = Math.max(availableSize, sizesForThisElement[b.minSize]);\n            }\n          }\n        }\n      }\n      return sizesAllLines;\n    }\n    function determineFittingAction(fittingMode, currentSize, availableSize) {\n      switch(fittingMode) {\n        case pc.FITTING_NONE:\n          return FITTING_ACTION.NONE;\n        case pc.FITTING_STRETCH:\n          if (currentSize < availableSize) {\n            return FITTING_ACTION.APPLY_STRETCHING;\n          }\n          return FITTING_ACTION.NONE;\n        case pc.FITTING_SHRINK:\n          if (currentSize >= availableSize) {\n            return FITTING_ACTION.APPLY_SHRINKING;\n          }\n          return FITTING_ACTION.NONE;\n        case pc.FITTING_BOTH:\n          if (currentSize < availableSize) {\n            return FITTING_ACTION.APPLY_STRETCHING;\n          } else {\n            if (currentSize >= availableSize) {\n              return FITTING_ACTION.APPLY_SHRINKING;\n            }\n          }\n          return FITTING_ACTION.NONE;\n        default:\n          throw new Error(\"Unrecognized fitting mode: \" + fittingMode);\n      }\n    }\n    function calculateTotalSpace(sizes, axis) {\n      var totalSizes = sumValues(sizes, axis.size);\n      var totalSpacing = (sizes.length - 1) * options.spacing[axis.axis];\n      return totalSizes + totalSpacing;\n    }\n    function stretchSizesToFitContainer(sizesThisLine, idealRequiredSpace, axis) {\n      var ascendingMaxSizeOrder = getTraversalOrder(sizesThisLine, axis.maxSize);\n      var fittingProportions = getNormalizedValues(sizesThisLine, axis.fittingProportion);\n      var fittingProportionSums = createSumArray(fittingProportions, ascendingMaxSizeOrder);\n      var remainingUndershoot = availableSpace[axis.axis] - idealRequiredSpace;\n      for (var i = 0;i < sizesThisLine.length;++i) {\n        var index = ascendingMaxSizeOrder[i];\n        var targetIncrease = calculateAdjustment(index, remainingUndershoot, fittingProportions, fittingProportionSums);\n        var targetSize = sizesThisLine[index][axis.size] + targetIncrease;\n        var maxSize = sizesThisLine[index][axis.maxSize];\n        var actualSize = Math.min(targetSize, maxSize);\n        sizesThisLine[index][axis.size] = actualSize;\n        var actualIncrease = Math.max(targetSize - actualSize, 0);\n        var appliedIncrease = targetIncrease - actualIncrease;\n        remainingUndershoot -= appliedIncrease;\n      }\n    }\n    function shrinkSizesToFitContainer(sizesThisLine, idealRequiredSpace, axis) {\n      var descendingMinSizeOrder = getTraversalOrder(sizesThisLine, axis.minSize, true);\n      var fittingProportions = getNormalizedValues(sizesThisLine, axis.fittingProportion);\n      var inverseFittingProportions = invertNormalizedValues(fittingProportions);\n      var inverseFittingProportionSums = createSumArray(inverseFittingProportions, descendingMinSizeOrder);\n      var remainingOvershoot = idealRequiredSpace - availableSpace[axis.axis];\n      for (var i = 0;i < sizesThisLine.length;++i) {\n        var index = descendingMinSizeOrder[i];\n        var targetReduction = calculateAdjustment(index, remainingOvershoot, inverseFittingProportions, inverseFittingProportionSums);\n        var targetSize = sizesThisLine[index][axis.size] - targetReduction;\n        var minSize = sizesThisLine[index][axis.minSize];\n        var actualSize = Math.max(targetSize, minSize);\n        sizesThisLine[index][axis.size] = actualSize;\n        var actualReduction = Math.max(actualSize - targetSize, 0);\n        var appliedReduction = targetReduction - actualReduction;\n        remainingOvershoot -= appliedReduction;\n      }\n    }\n    function calculateAdjustment(index, remainingAdjustment, fittingProportions, fittingProportionSums) {\n      var proportion = fittingProportions[index];\n      var sumOfRemainingProportions = fittingProportionSums[index];\n      if (Math.abs(proportion) < 1e-5 && Math.abs(sumOfRemainingProportions) < 1e-5) {\n        return remainingAdjustment;\n      }\n      return remainingAdjustment * proportion / sumOfRemainingProportions;\n    }\n    function calculateBasePositions(lines, sizes) {\n      var cursor = {};\n      cursor[a.axis] = 0;\n      cursor[b.axis] = 0;\n      lines[a.size] = Number.NEGATIVE_INFINITY;\n      var positionsAllLines = [];\n      for (var lineIndex = 0;lineIndex < lines.length;++lineIndex) {\n        var line = lines[lineIndex];\n        if (line.length === 0) {\n          return;\n        }\n        var positionsThisLine = [];\n        var sizesThisLine = sizes[lineIndex];\n        for (var elementIndex = 0;elementIndex < line.length;++elementIndex) {\n          var element = line[elementIndex];\n          var sizesThisElement = sizesThisLine[elementIndex];\n          cursor[b.axis] -= minExtentB(element, sizesThisElement);\n          cursor[a.axis] -= minExtentA(element, sizesThisElement);\n          positionsThisLine[elementIndex] = {};\n          positionsThisLine[elementIndex][a.axis] = cursor[a.axis];\n          positionsThisLine[elementIndex][b.axis] = cursor[b.axis];\n          cursor[b.axis] += minExtentB(element, sizesThisElement);\n          cursor[a.axis] += maxExtentA(element, sizesThisElement) + options.spacing[a.axis];\n        }\n        line[a.size] = cursor[a.axis] - options.spacing[a.axis];\n        line[b.size] = line.largestSize[b.size];\n        lines[a.size] = Math.max(lines[a.size], line[a.size]);\n        cursor[a.axis] = 0;\n        cursor[b.axis] += line[b.size] + options.spacing[b.axis];\n        positionsAllLines.push(positionsThisLine);\n      }\n      lines[b.size] = cursor[b.axis] - options.spacing[b.axis];\n      return positionsAllLines;\n    }\n    function applyAlignmentAndPadding(lines, sizes, positions) {\n      var alignmentA = options.alignment[a.axis];\n      var alignmentB = options.alignment[b.axis];\n      var paddingA = options.padding[a.axis];\n      var paddingB = options.padding[b.axis];\n      for (var lineIndex = 0;lineIndex < lines.length;++lineIndex) {\n        var line = lines[lineIndex];\n        var sizesThisLine = sizes[lineIndex];\n        var positionsThisLine = positions[lineIndex];\n        var axisAOffset = (availableSpace[a.axis] - line[a.size]) * alignmentA + paddingA;\n        var axisBOffset = (availableSpace[b.axis] - lines[b.size]) * alignmentB + paddingB;\n        for (var elementIndex = 0;elementIndex < line.length;++elementIndex) {\n          var withinLineAxisBOffset = (line[b.size] - sizesThisLine[elementIndex][b.size]) * options.alignment[b.axis];\n          positionsThisLine[elementIndex][a.axis] += axisAOffset;\n          positionsThisLine[elementIndex][b.axis] += axisBOffset + withinLineAxisBOffset;\n        }\n      }\n    }\n    function applySizesAndPositions(lines, sizes, positions) {\n      for (var lineIndex = 0;lineIndex < lines.length;++lineIndex) {\n        var line = lines[lineIndex];\n        var sizesThisLine = sizes[lineIndex];\n        var positionsThisLine = positions[lineIndex];\n        for (var elementIndex = 0;elementIndex < line.length;++elementIndex) {\n          var element = line[elementIndex];\n          element[a.calculatedSize] = sizesThisLine[elementIndex][a.size];\n          element[b.calculatedSize] = sizesThisLine[elementIndex][b.size];\n          if (options.orientation === pc.ORIENTATION_HORIZONTAL) {\n            element.entity.setLocalPosition(positionsThisLine[elementIndex][a.axis], positionsThisLine[elementIndex][b.axis], element.entity.getLocalPosition().z);\n          } else {\n            element.entity.setLocalPosition(positionsThisLine[elementIndex][b.axis], positionsThisLine[elementIndex][a.axis], element.entity.getLocalPosition().z);\n          }\n        }\n      }\n    }\n    function createLayoutInfo(lines) {\n      var layoutWidth = lines.width;\n      var layoutHeight = lines.height;\n      var xOffset = (availableSpace.x - layoutWidth) * options.alignment.x + options.padding.x;\n      var yOffset = (availableSpace.y - layoutHeight) * options.alignment.y + options.padding.y;\n      return {bounds:new pc.Vec4(xOffset, yOffset, layoutWidth, layoutHeight)};\n    }\n    function getElementSizeProperties(elements) {\n      var sizeProperties = [];\n      for (var i = 0;i < elements.length;++i) {\n        var element = elements[i];\n        var minWidth = Math.max(getProperty(element, \"minWidth\"), 0);\n        var minHeight = Math.max(getProperty(element, \"minHeight\"), 0);\n        var maxWidth = Math.max(getProperty(element, \"maxWidth\"), minWidth);\n        var maxHeight = Math.max(getProperty(element, \"maxHeight\"), minHeight);\n        var width = clamp(getProperty(element, \"width\"), minWidth, maxWidth);\n        var height = clamp(getProperty(element, \"height\"), minHeight, maxHeight);\n        var fitWidthProportion = getProperty(element, \"fitWidthProportion\");\n        var fitHeightProportion = getProperty(element, \"fitHeightProportion\");\n        sizeProperties.push({minWidth:minWidth, minHeight:minHeight, maxWidth:maxWidth, maxHeight:maxHeight, width:width, height:height, fitWidthProportion:fitWidthProportion, fitHeightProportion:fitHeightProportion});\n      }\n      return sizeProperties;\n    }\n    function getProperty(element, propertyName) {\n      var layoutChildComponent = element.entity.layoutchild;\n      if (layoutChildComponent && layoutChildComponent.enabled && layoutChildComponent[propertyName] !== undefined && layoutChildComponent[propertyName] !== null) {\n        return layoutChildComponent[propertyName];\n      } else {\n        if (element[propertyName] !== undefined) {\n          return element[propertyName];\n        }\n      }\n      return PROPERTY_DEFAULTS[propertyName];\n    }\n    function clamp(value, min, max) {\n      return Math.min(Math.max(value, min), max);\n    }\n    function sumValues(items, propertyName) {\n      return items.reduce(function(accumulator, current) {\n        return accumulator + current[propertyName];\n      }, 0);\n    }\n    function getNormalizedValues(items, propertyName) {\n      var sum = sumValues(items, propertyName);\n      var normalizedValues = [];\n      var numItems = items.length;\n      var i;\n      if (sum === 0) {\n        for (i = 0;i < numItems;++i) {\n          normalizedValues.push(1 / numItems);\n        }\n      } else {\n        for (i = 0;i < numItems;++i) {\n          normalizedValues.push(items[i][propertyName] / sum);\n        }\n      }\n      return normalizedValues;\n    }\n    function invertNormalizedValues(values) {\n      if (values.length === 1) {\n        return [1];\n      }\n      var invertedValues = [];\n      var numValues = values.length;\n      for (var i = 0;i < numValues;++i) {\n        invertedValues.push((1 - values[i]) / (numValues - 1));\n      }\n      return invertedValues;\n    }\n    function getTraversalOrder(items, orderBy, descending) {\n      items.forEach(assignIndex);\n      return items.slice().sort(function(itemA, itemB) {\n        return descending ? itemB[orderBy] - itemA[orderBy] : itemA[orderBy] - itemB[orderBy];\n      }).map(getIndex);\n    }\n    function assignIndex(item, index) {\n      item.index = index;\n    }\n    function getIndex(item) {\n      return item.index;\n    }\n    function createSumArray(values, order) {\n      var sumArray = [];\n      sumArray[order[values.length - 1]] = values[order[values.length - 1]];\n      for (var i = values.length - 2;i >= 0;--i) {\n        sumArray[order[i]] = sumArray[order[i + 1]] + values[order[i]];\n      }\n      return sumArray;\n    }\n    return calculateAll;\n  }\n  var CALCULATE_FNS = {};\n  CALCULATE_FNS[pc.ORIENTATION_HORIZONTAL] = createCalculator(pc.ORIENTATION_HORIZONTAL);\n  CALCULATE_FNS[pc.ORIENTATION_VERTICAL] = createCalculator(pc.ORIENTATION_VERTICAL);\n  Object.assign(LayoutCalculator.prototype, {calculateLayout:function(elements, options) {\n    var calculateFn = CALCULATE_FNS[options.orientation];\n    if (!calculateFn) {\n      throw new Error(\"Unrecognized orientation value: \" + options.orientation);\n    } else {\n      return calculateFn(elements, options);\n    }\n  }});\n  return {LayoutCalculator:LayoutCalculator};\n}());\nObject.assign(pc, function() {\n  var LayoutChildComponent = function LayoutChildComponent(system, entity) {\n    pc.Component.call(this, system, entity);\n    this._minWidth = 0;\n    this._minHeight = 0;\n    this._maxWidth = null;\n    this._maxHeight = null;\n    this._fitWidthProportion = 0;\n    this._fitHeightProportion = 0;\n    this._excludeFromLayout = false;\n  };\n  LayoutChildComponent.prototype = Object.create(pc.Component.prototype);\n  LayoutChildComponent.prototype.constructor = LayoutChildComponent;\n  function defineResizeProperty(name) {\n    var _name = \"_\" + name;\n    Object.defineProperty(LayoutChildComponent.prototype, name, {get:function() {\n      return this[_name];\n    }, set:function(value) {\n      if (this[_name] !== value) {\n        this[_name] = value;\n        this.fire(\"resize\");\n      }\n    }});\n  }\n  defineResizeProperty(\"minWidth\");\n  defineResizeProperty(\"minHeight\");\n  defineResizeProperty(\"maxWidth\");\n  defineResizeProperty(\"maxHeight\");\n  defineResizeProperty(\"fitWidthProportion\");\n  defineResizeProperty(\"fitHeightProportion\");\n  defineResizeProperty(\"excludeFromLayout\");\n  return {LayoutChildComponent:LayoutChildComponent};\n}());\nObject.assign(pc, function() {\n  var _schema = [\"enabled\"];\n  var LayoutChildComponentSystem = function LayoutChildComponentSystem(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"layoutchild\";\n    this.app = app;\n    this.ComponentType = pc.LayoutChildComponent;\n    this.DataType = pc.LayoutChildComponentData;\n    this.schema = _schema;\n  };\n  LayoutChildComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  LayoutChildComponentSystem.prototype.constructor = LayoutChildComponentSystem;\n  pc.Component._buildAccessors(pc.LayoutChildComponent.prototype, _schema);\n  Object.assign(LayoutChildComponentSystem.prototype, {initializeComponentData:function(component, data, properties) {\n    if (data.enabled !== undefined) {\n      component.enabled = data.enabled;\n    }\n    if (data.minWidth !== undefined) {\n      component.minWidth = data.minWidth;\n    }\n    if (data.minHeight !== undefined) {\n      component.minHeight = data.minHeight;\n    }\n    if (data.maxWidth !== undefined) {\n      component.maxWidth = data.maxWidth;\n    }\n    if (data.maxHeight !== undefined) {\n      component.maxHeight = data.maxHeight;\n    }\n    if (data.fitWidthProportion !== undefined) {\n      component.fitWidthProportion = data.fitWidthProportion;\n    }\n    if (data.fitHeightProportion !== undefined) {\n      component.fitHeightProportion = data.fitHeightProportion;\n    }\n    if (data.excludeFromLayout !== undefined) {\n      component.excludeFromLayout = data.excludeFromLayout;\n    }\n    pc.ComponentSystem.prototype.initializeComponentData.call(this, component, data, properties);\n  }, cloneComponent:function(entity, clone) {\n    var layoutChild = entity.layoutchild;\n    return this.addComponent(clone, {enabled:layoutChild.enabled, minWidth:layoutChild.minWidth, minHeight:layoutChild.minHeight, maxWidth:layoutChild.maxWidth, maxHeight:layoutChild.maxHeight, fitWidthProportion:layoutChild.fitWidthProportion, fitHeightProportion:layoutChild.fitHeightProportion, excludeFromLayout:layoutChild.excludeFromLayout});\n  }});\n  return {LayoutChildComponentSystem:LayoutChildComponentSystem};\n}());\nObject.assign(pc, function() {\n  var LayoutChildComponentData = function() {\n    this.enabled = true;\n  };\n  return {LayoutChildComponentData:LayoutChildComponentData};\n}());\nObject.assign(pc, function() {\n  pc.FONT_MSDF = \"msdf\";\n  pc.FONT_BITMAP = \"bitmap\";\n  var Font = function(textures, data) {\n    this.type = data ? data.type || pc.FONT_MSDF : pc.FONT_MSDF;\n    this.em = 1;\n    this.textures = textures;\n    this.intensity = 0.0;\n    this._data = null;\n    this.data = data;\n  };\n  Object.defineProperty(Font.prototype, \"data\", {get:function() {\n    return this._data;\n  }, set:function(value) {\n    this._data = value;\n    if (!value) {\n      return;\n    }\n    if (this._data.intensity !== undefined) {\n      this.intensity = this._data.intensity;\n    }\n    if (!this._data.info) {\n      this._data.info = {};\n    }\n    if (!this._data.version || this._data.version < 2) {\n      this._data.info.maps = [{width:this._data.info.width, height:this._data.info.height}];\n      if (this._data.chars) {\n        for (var key in this._data.chars) {\n          this._data.chars[key].map = 0;\n        }\n      }\n    }\n  }});\n  return {FONT_MSDF:pc.FONT_MSDF, Font:Font};\n}());\nObject.assign(pc, function() {\n  var MAX_TEXTURE_SIZE = 4096;\n  var DEFAULT_TEXTURE_SIZE = 512;\n  var CanvasFont = function(app, options) {\n    pc.EventHandler.call(this);\n    this.type = \"bitmap\";\n    this.app = app;\n    this.intensity = 0;\n    options = options || {};\n    this.fontWeight = options.fontWeight || \"normal\";\n    this.fontSize = parseInt(options.fontSize, 10);\n    this.glyphSize = this.fontSize;\n    this.fontName = options.fontName || \"Arial\";\n    this.color = options.color || new pc.Color(1, 1, 1);\n    this.padding = options.padding || 0;\n    var w = options.width > MAX_TEXTURE_SIZE ? MAX_TEXTURE_SIZE : options.width || DEFAULT_TEXTURE_SIZE;\n    var h = options.height > MAX_TEXTURE_SIZE ? MAX_TEXTURE_SIZE : options.height || DEFAULT_TEXTURE_SIZE;\n    var canvas = document.createElement(\"canvas\");\n    canvas.height = h;\n    canvas.width = w;\n    var texture = new pc.Texture(this.app.graphicsDevice, {format:pc.PIXELFORMAT_R8_G8_B8_A8, autoMipmap:true});\n    texture.name = \"font\";\n    texture.setSource(canvas);\n    texture.minFilter = pc.FILTER_LINEAR_MIPMAP_LINEAR;\n    texture.magFilter = pc.FILTER_LINEAR;\n    texture.addressU = pc.ADDRESS_CLAMP_TO_EDGE;\n    texture.addressV = pc.ADDRESS_CLAMP_TO_EDGE;\n    this.textures = [texture];\n    this.chars = \"\";\n    this.data = {};\n  };\n  CanvasFont.prototype = Object.create(pc.EventHandler.prototype);\n  CanvasFont.prototype.constructor = CanvasFont;\n  CanvasFont.prototype.createTextures = function(text) {\n    var _chars = this._normalizeCharsSet(text);\n    if (_chars.length !== this.chars.length) {\n      this._renderAtlas(_chars);\n      return;\n    }\n    for (var i = 0;i < _chars.length;i++) {\n      if (_chars[i] !== this.chars[i]) {\n        this._renderAtlas(_chars);\n        return;\n      }\n    }\n  };\n  CanvasFont.prototype.updateTextures = function(text) {\n    var _chars = this._normalizeCharsSet(text);\n    var newCharsSet = [];\n    for (var i = 0;i < _chars.length;i++) {\n      var char = _chars[i];\n      if (!this.data.chars[char]) {\n        newCharsSet.push(char);\n      }\n    }\n    if (newCharsSet.length > 0) {\n      this._renderAtlas(this.chars.concat(newCharsSet));\n    }\n  };\n  CanvasFont.prototype.destroy = function() {\n    for (var i = 0;i < this.textures.length;i++) {\n      this.textures[i].destroy();\n    }\n    this.chars = null;\n    this.color = null;\n    this.data = null;\n    this.fontName = null;\n    this.fontSize = null;\n    this.glyphSize = null;\n    this.intensity = null;\n    this.textures = null;\n    this.type = null;\n    this.fontWeight = null;\n  };\n  CanvasFont.prototype._getAndClearContext = function(canvas, clearColor) {\n    var w = canvas.width;\n    var h = canvas.height;\n    var ctx = canvas.getContext(\"2d\", {alpha:true});\n    ctx.clearRect(0, 0, w, h);\n    ctx.fillStyle = clearColor;\n    ctx.fillRect(0, 0, w, h);\n    return ctx;\n  };\n  CanvasFont.prototype._colorToRgbString = function(color, alpha) {\n    var str;\n    var r = Math.round(255 * color.r);\n    var g = Math.round(255 * color.g);\n    var b = Math.round(255 * color.b);\n    if (alpha) {\n      str = \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + color.a + \")\";\n    } else {\n      str = \"rgb(\" + r + \", \" + g + \", \" + b + \")\";\n    }\n    return str;\n  };\n  CanvasFont.prototype.renderCharacter = function(context, char, x, y, color) {\n    context.fillStyle = color;\n    context.fillText(char, x, y);\n  };\n  CanvasFont.prototype._renderAtlas = function(charsArray) {\n    this.chars = charsArray;\n    var numTextures = 1;\n    var canvas = this.textures[numTextures - 1].getSource();\n    var w = canvas.width;\n    var h = canvas.height;\n    var color = this._colorToRgbString(this.color, false);\n    var a = this.color.a;\n    this.color.a = 1 / 255;\n    var transparent = this._colorToRgbString(this.color, true);\n    this.color.a = a;\n    var TEXT_ALIGN = \"center\";\n    var TEXT_BASELINE = \"alphabetic\";\n    var ctx = this._getAndClearContext(canvas, transparent);\n    ctx.font = this.fontWeight + \" \" + this.fontSize.toString() + \"px \" + this.fontName;\n    ctx.textAlign = TEXT_ALIGN;\n    ctx.textBaseline = TEXT_BASELINE;\n    this.data = this._createJson(this.chars, this.fontName, w, h);\n    var symbols = pc.string.getSymbols(this.chars.join(\"\"));\n    var prevNumTextures = this.textures.length;\n    var maxHeight = 0;\n    var maxDescent = 0;\n    var metrics = {};\n    var i, ch;\n    for (i = 0;i < symbols.length;i++) {\n      ch = symbols[i];\n      metrics[ch] = this._getTextMetrics(ch);\n      maxHeight = Math.max(maxHeight, metrics[ch].height);\n      maxDescent = Math.max(maxDescent, metrics[ch].descent);\n    }\n    this.glyphSize = Math.max(this.glyphSize, maxHeight);\n    var sx = this.glyphSize + this.padding * 2;\n    var sy = this.glyphSize + this.padding * 2;\n    var _xOffset = this.glyphSize / 2 + this.padding;\n    var _yOffset = sy - maxDescent - this.padding;\n    var _x = 0;\n    var _y = 0;\n    for (i = 0;i < symbols.length;i++) {\n      ch = symbols[i];\n      var code = pc.string.getCodePoint(symbols[i]);\n      var fs = this.fontSize;\n      ctx.font = this.fontWeight + \" \" + fs.toString() + \"px \" + this.fontName;\n      ctx.textAlign = TEXT_ALIGN;\n      ctx.textBaseline = TEXT_BASELINE;\n      var width = ctx.measureText(ch).width;\n      if (width > fs) {\n        fs = this.fontSize * this.fontSize / width;\n        ctx.font = this.fontWeight + \" \" + fs.toString() + \"px \" + this.fontName;\n        width = this.fontSize;\n      }\n      this.renderCharacter(ctx, ch, _x + _xOffset, _y + _yOffset, color);\n      var xoffset = this.padding + (this.glyphSize - width) / 2;\n      var yoffset = -this.padding + metrics[ch].descent - maxDescent;\n      var xadvance = width;\n      this._addChar(this.data, ch, code, _x, _y, sx, sy, xoffset, yoffset, xadvance, numTextures - 1, w, h);\n      _x += sx;\n      if (_x + sx > w) {\n        _x = 0;\n        _y += sy;\n        if (_y + sy > h) {\n          this.textures[numTextures - 1].upload();\n          numTextures++;\n          _y = 0;\n          if (numTextures > prevNumTextures) {\n            canvas = document.createElement(\"canvas\");\n            canvas.height = h;\n            canvas.width = w;\n            ctx = this._getAndClearContext(canvas, transparent);\n            var texture = new pc.Texture(this.app.graphicsDevice, {format:pc.PIXELFORMAT_R8_G8_B8_A8, autoMipmap:true});\n            texture.name = \"font-atlas\";\n            texture.setSource(canvas);\n            texture.minFilter = pc.FILTER_LINEAR_MIPMAP_LINEAR;\n            texture.magFilter = pc.FILTER_LINEAR;\n            texture.addressU = pc.ADDRESS_CLAMP_TO_EDGE;\n            texture.addressV = pc.ADDRESS_CLAMP_TO_EDGE;\n            this.textures.push(texture);\n          } else {\n            canvas = this.textures[numTextures - 1].getSource();\n            ctx = this._getAndClearContext(canvas, transparent);\n          }\n        }\n      }\n    }\n    this.textures[numTextures - 1].upload();\n    if (numTextures < prevNumTextures) {\n      for (i = numTextures;i < prevNumTextures;i++) {\n        this.textures[i].destroy();\n      }\n      this.textures.splice(numTextures);\n    }\n    this.fire(\"render\");\n  };\n  CanvasFont.prototype._createJson = function(chars, fontName, width, height) {\n    var base = {\"version\":3, \"intensity\":this.intensity, \"info\":{\"face\":fontName, \"width\":width, \"height\":height, \"maps\":[{\"width\":width, \"height\":height}]}, \"chars\":{}};\n    return base;\n  };\n  CanvasFont.prototype._addChar = function(json, char, charCode, x, y, w, h, xoffset, yoffset, xadvance, mapNum, mapW, mapH) {\n    if (json.info.maps.length < mapNum + 1) {\n      json.info.maps.push({\"width\":mapW, \"height\":mapH});\n    }\n    var scale = this.fontSize / 32;\n    json.chars[char] = {\"id\":charCode, \"letter\":char, \"x\":x, \"y\":y, \"width\":w, \"height\":h, \"xadvance\":xadvance / scale, \"xoffset\":xoffset / scale, \"yoffset\":(yoffset + this.padding) / scale, \"scale\":scale, \"range\":1, \"map\":mapNum, \"bounds\":[0, 0, w / scale, h / scale]};\n  };\n  CanvasFont.prototype._normalizeCharsSet = function(text) {\n    var unicodeConverterFunc = this.app.systems.element.getUnicodeConverter();\n    if (unicodeConverterFunc) {\n      text = unicodeConverterFunc(text);\n    }\n    var set = {};\n    var symbols = pc.string.getSymbols(text);\n    var i;\n    for (i = 0;i < symbols.length;i++) {\n      var ch = symbols[i];\n      if (set[ch]) {\n        continue;\n      }\n      set[ch] = ch;\n    }\n    var chars = Object.keys(set);\n    return chars.sort();\n  };\n  CanvasFont.prototype._getTextMetrics = function(text) {\n    var textSpan = document.createElement(\"span\");\n    textSpan.id = \"content-span\";\n    textSpan.innerHTML = text;\n    var block = document.createElement(\"div\");\n    block.id = \"content-block\";\n    block.style.display = \"inline-block\";\n    block.style.width = \"1px\";\n    block.style.height = \"0px\";\n    var div = document.createElement(\"div\");\n    div.appendChild(textSpan);\n    div.appendChild(block);\n    div.style.font = this.fontName;\n    div.style.fontSize = this.fontSize + \"px\";\n    var body = document.body;\n    body.appendChild(div);\n    var ascent = -1;\n    var descent = -1;\n    var height = -1;\n    try {\n      block.style[\"vertical-align\"] = \"baseline\";\n      ascent = block.offsetTop - textSpan.offsetTop;\n      block.style[\"vertical-align\"] = \"bottom\";\n      height = block.offsetTop - textSpan.offsetTop;\n      descent = height - ascent;\n    } finally {\n      document.body.removeChild(div);\n    }\n    return {ascent:ascent, descent:descent, height:height};\n  };\n  return {CanvasFont:CanvasFont};\n}());\nObject.assign(pc, function() {\n  var ZoneComponent = function ZoneComponent(system, entity) {\n    pc.Component.call(this, system, entity);\n    this._oldState = true;\n    this._size = new pc.Vec3;\n    this.on(\"set_enabled\", this._onSetEnabled, this);\n  };\n  ZoneComponent.prototype = Object.create(pc.Component.prototype);\n  ZoneComponent.prototype.constructor = ZoneComponent;\n  Object.assign(ZoneComponent.prototype, {onEnable:function() {\n    this._checkState();\n  }, onDisable:function() {\n    this._checkState();\n  }, _onSetEnabled:function(prop, old, value) {\n    this._checkState();\n  }, _checkState:function() {\n    var state = this.enabled && this.entity.enabled;\n    if (state === this._oldState) {\n      return;\n    }\n    this._oldState = state;\n    this.fire(\"enable\");\n    this.fire(\"state\", this.enabled);\n  }, _onBeforeRemove:function() {\n    this.fire(\"remove\");\n  }});\n  Object.defineProperty(ZoneComponent.prototype, \"size\", {set:function(data) {\n    if (data instanceof pc.Vec3) {\n      this._size.copy(data);\n    } else {\n      if (data instanceof Array && data.length >= 3) {\n        this.size.set(data[0], data[1], data[2]);\n      }\n    }\n  }, get:function() {\n    return this._size;\n  }});\n  return {ZoneComponent:ZoneComponent};\n}());\nObject.assign(pc, function() {\n  var _schema = [\"enabled\"];\n  var ZoneComponentSystem = function ZoneComponentSystem(app) {\n    pc.ComponentSystem.call(this, app);\n    this.id = \"zone\";\n    this.app = app;\n    this.ComponentType = pc.ZoneComponent;\n    this.DataType = pc.ZoneComponentData;\n    this.schema = _schema;\n    this.on(\"beforeremove\", this._onBeforeRemove, this);\n  };\n  ZoneComponentSystem.prototype = Object.create(pc.ComponentSystem.prototype);\n  ZoneComponentSystem.prototype.constructor = ZoneComponentSystem;\n  pc.Component._buildAccessors(pc.ZoneComponent.prototype, _schema);\n  Object.assign(ZoneComponentSystem.prototype, {initializeComponentData:function(component, data, properties) {\n    component.enabled = data.hasOwnProperty(\"enabled\") ? !!data.enabled : true;\n    if (data.size) {\n      if (data.size instanceof pc.Vec3) {\n        component.size.copy(data.size);\n      } else {\n        if (data.size instanceof Array && data.size.length >= 3) {\n          component.size.set(data.size[0], data.size[1], data.size[2]);\n        }\n      }\n    }\n  }, cloneComponent:function(entity, clone) {\n    var data = {size:entity.zone.size};\n    return this.addComponent(clone, data);\n  }, _onBeforeRemove:function(entity, component) {\n    component._onBeforeRemove();\n  }});\n  return {ZoneComponentSystem:ZoneComponentSystem};\n}());\nObject.assign(pc, function() {\n  var ZoneComponentData = function() {\n    this.enabled = true;\n  };\n  return {ZoneComponentData:ZoneComponentData};\n}());\nObject.assign(pc, function() {\n  var Entity = function(name, app) {\n    pc.GraphNode.call(this, name);\n    if (name instanceof pc.Application) {\n      app = name;\n    }\n    this._batchHandle = null;\n    this.c = {};\n    this._app = app;\n    if (!app) {\n      this._app = pc.Application.getApplication();\n      if (!this._app) {\n        throw new Error(\"Couldn't find current application\");\n      }\n    }\n    this._guid = null;\n    this._request = null;\n    this._destroying = false;\n  };\n  Entity.prototype = Object.create(pc.GraphNode.prototype);\n  Entity.prototype.constructor = Entity;\n  Entity.prototype.addComponent = function(type, data) {\n    var system = this._app.systems[type];\n    if (!system) {\n      return null;\n    }\n    if (this.c[type]) {\n      return null;\n    }\n    return system.addComponent(this, data);\n  };\n  Entity.prototype.removeComponent = function(type) {\n    var system = this._app.systems[type];\n    if (!system) {\n      return;\n    }\n    if (!this.c[type]) {\n      return;\n    }\n    system.removeComponent(this);\n  };\n  Entity.prototype.findComponent = function(type) {\n    var entity = this.findOne(function(node) {\n      return node.c && node.c[type];\n    });\n    return entity && entity.c[type];\n  };\n  Entity.prototype.findComponents = function(type) {\n    var entities = this.find(function(node) {\n      return node.c && node.c[type];\n    });\n    return entities.map(function(entity) {\n      return entity.c[type];\n    });\n  };\n  Entity.prototype.getGuid = function() {\n    if (!this._guid) {\n      this.setGuid(pc.guid.create());\n    }\n    return this._guid;\n  };\n  Entity.prototype.setGuid = function(guid) {\n    var index = this._app._entityIndex;\n    if (this._guid) {\n      delete index[this._guid];\n    }\n    this._guid = guid;\n    index[this._guid] = this;\n  };\n  Entity.prototype._notifyHierarchyStateChanged = function(node, enabled) {\n    var enableFirst = false;\n    if (node === this && this._app._enableList.length === 0) {\n      enableFirst = true;\n    }\n    node._beingEnabled = true;\n    node._onHierarchyStateChanged(enabled);\n    if (node._onHierarchyStatePostChanged) {\n      this._app._enableList.push(node);\n    }\n    var i, len;\n    var c = node._children;\n    for (i = 0, len = c.length;i < len;i++) {\n      if (c[i]._enabled) {\n        this._notifyHierarchyStateChanged(c[i], enabled);\n      }\n    }\n    node._beingEnabled = false;\n    if (enableFirst) {\n      for (i = 0;i < this._app._enableList.length;i++) {\n        this._app._enableList[i]._onHierarchyStatePostChanged();\n      }\n      this._app._enableList.length = 0;\n    }\n  };\n  Entity.prototype._onHierarchyStateChanged = function(enabled) {\n    pc.GraphNode.prototype._onHierarchyStateChanged.call(this, enabled);\n    var component;\n    var components = this.c;\n    for (var type in components) {\n      if (components.hasOwnProperty(type)) {\n        component = components[type];\n        if (component.enabled) {\n          if (enabled) {\n            component.onEnable();\n          } else {\n            component.onDisable();\n          }\n        }\n      }\n    }\n  };\n  Entity.prototype._onHierarchyStatePostChanged = function() {\n    var components = this.c;\n    for (var type in components) {\n      if (components.hasOwnProperty(type)) {\n        components[type].onPostStateChange();\n      }\n    }\n  };\n  Entity.prototype.setRequest = function(request) {\n    this._request = request;\n  };\n  Entity.prototype.getRequest = function() {\n    return this._request;\n  };\n  Entity.prototype.findByGuid = function(guid) {\n    if (this._guid === guid) {\n      return this;\n    }\n    var e = this._app._entityIndex[guid];\n    if (e && (e === this || e.isDescendantOf(this))) {\n      return e;\n    }\n    return null;\n  };\n  Entity.prototype.destroy = function() {\n    var name;\n    this._destroying = true;\n    for (name in this.c) {\n      this.c[name].enabled = false;\n    }\n    for (name in this.c) {\n      this.c[name].system.removeComponent(this);\n    }\n    if (this._parent) {\n      this._parent.removeChild(this);\n    }\n    var children = this._children;\n    var child = children.shift();\n    while (child) {\n      if (child instanceof pc.Entity) {\n        child.destroy();\n      }\n      child._parent = null;\n      child = children.shift();\n    }\n    this.fire(\"destroy\", this);\n    this.off();\n    if (this._guid) {\n      delete this._app._entityIndex[this._guid];\n    }\n    this._destroying = false;\n  };\n  Entity.prototype.clone = function() {\n    var duplicatedIdsMap = {};\n    var clone = this._cloneRecursively(duplicatedIdsMap);\n    duplicatedIdsMap[this.getGuid()] = clone;\n    resolveDuplicatedEntityReferenceProperties(this, this, clone, duplicatedIdsMap);\n    return clone;\n  };\n  Entity.prototype._cloneRecursively = function(duplicatedIdsMap) {\n    var clone = new pc.Entity(this._app);\n    pc.GraphNode.prototype._cloneInternal.call(this, clone);\n    for (var type in this.c) {\n      var component = this.c[type];\n      component.system.cloneComponent(this, clone);\n    }\n    var i;\n    for (i = 0;i < this._children.length;i++) {\n      var oldChild = this._children[i];\n      if (oldChild instanceof pc.Entity) {\n        var newChild = oldChild._cloneRecursively(duplicatedIdsMap);\n        clone.addChild(newChild);\n        duplicatedIdsMap[oldChild.getGuid()] = newChild;\n      }\n    }\n    return clone;\n  };\n  function resolveDuplicatedEntityReferenceProperties(oldSubtreeRoot, oldEntity, newEntity, duplicatedIdsMap) {\n    var i, len;\n    if (oldEntity instanceof pc.Entity) {\n      var components = oldEntity.c;\n      for (var componentName in components) {\n        var component = components[componentName];\n        var entityProperties = component.system.getPropertiesOfType(\"entity\");\n        for (i = 0, len = entityProperties.length;i < len;i++) {\n          var propertyDescriptor = entityProperties[i];\n          var propertyName = propertyDescriptor.name;\n          var oldEntityReferenceId = component[propertyName];\n          var entityIsWithinOldSubtree = !!oldSubtreeRoot.findByGuid(oldEntityReferenceId);\n          if (entityIsWithinOldSubtree) {\n            var newEntityReferenceId = duplicatedIdsMap[oldEntityReferenceId].getGuid();\n            if (newEntityReferenceId) {\n              newEntity.c[componentName][propertyName] = newEntityReferenceId;\n            } else {\n              console.warn(\"Could not find corresponding entity id when resolving duplicated entity references\");\n            }\n          }\n        }\n      }\n      if (components.script && !newEntity._app.useLegacyScriptAttributeCloning) {\n        newEntity.script.resolveDuplicatedEntityReferenceProperties(components.script, duplicatedIdsMap);\n      }\n      var _old = oldEntity.children.filter(function(e) {\n        return e instanceof pc.Entity;\n      });\n      var _new = newEntity.children.filter(function(e) {\n        return e instanceof pc.Entity;\n      });\n      for (i = 0, len = _old.length;i < len;i++) {\n        resolveDuplicatedEntityReferenceProperties(oldSubtreeRoot, _old[i], _new[i], duplicatedIdsMap);\n      }\n    }\n  }\n  return {Entity:Entity};\n}());\nObject.assign(pc, function() {\n  function EntityReference(parentComponent, entityPropertyName, eventConfig) {\n    if (!parentComponent || !(parentComponent instanceof pc.Component)) {\n      throw new Error(\"The parentComponent argument is required and must be a Component\");\n    } else {\n      if (!entityPropertyName || typeof entityPropertyName !== \"string\") {\n        throw new Error(\"The propertyName argument is required and must be a string\");\n      } else {\n        if (eventConfig && typeof eventConfig !== \"object\") {\n          throw new Error(\"If provided, the eventConfig argument must be an object\");\n        }\n      }\n    }\n    this._parentComponent = parentComponent;\n    this._entityPropertyName = entityPropertyName;\n    this._entity = null;\n    this._app = parentComponent.system.app;\n    this._configureEventListeners(eventConfig || {}, {\"entity#destroy\":this._onEntityDestroy});\n    this._toggleLifecycleListeners(\"on\");\n  }\n  Object.assign(EntityReference.prototype, {_configureEventListeners:function(externalEventConfig, internalEventConfig) {\n    var externalEventListenerConfigs = this._parseEventListenerConfig(externalEventConfig, \"external\", this._parentComponent);\n    var internalEventListenerConfigs = this._parseEventListenerConfig(internalEventConfig, \"internal\", this);\n    this._eventListenerConfigs = externalEventListenerConfigs.concat(internalEventListenerConfigs);\n    this._listenerStatusFlags = {};\n    this._gainListeners = {};\n    this._loseListeners = {};\n  }, _parseEventListenerConfig:function(eventConfig, prefix, scope) {\n    return Object.keys(eventConfig).map(function(listenerDescription, index) {\n      var listenerDescriptionParts = listenerDescription.split(\"#\");\n      var sourceName = listenerDescriptionParts[0];\n      var eventName = listenerDescriptionParts[1];\n      var callback = eventConfig[listenerDescription];\n      if (listenerDescriptionParts.length !== 2 || typeof sourceName !== \"string\" || sourceName.length === 0 || typeof eventName !== \"string\" || eventName.length === 0) {\n        throw new Error(\"Invalid event listener description: `\" + listenerDescription + \"`\");\n      }\n      if (typeof callback !== \"function\") {\n        throw new Error(\"Invalid or missing callback for event listener `\" + listenerDescription + \"`\");\n      }\n      return {id:prefix + \"_\" + index + \"_\" + listenerDescription, sourceName:sourceName, eventName:eventName, callback:callback, scope:scope};\n    }, this);\n  }, _toggleLifecycleListeners:function(onOrOff) {\n    this._parentComponent[onOrOff](\"set_\" + this._entityPropertyName, this._onSetEntity, this);\n    this._parentComponent.system[onOrOff](\"beforeremove\", this._onParentComponentRemove, this);\n    pc.ComponentSystem[onOrOff](\"postinitialize\", this._onPostInitialize, this);\n    this._app[onOrOff](\"tools:sceneloaded\", this._onSceneLoaded, this);\n    var allComponentSystems = [];\n    for (var i = 0;i < this._eventListenerConfigs.length;++i) {\n      var config = this._eventListenerConfigs[i];\n      var componentSystem = this._app.systems[config.sourceName];\n      if (componentSystem) {\n        if (allComponentSystems.indexOf(componentSystem) === -1) {\n          allComponentSystems.push(componentSystem);\n        }\n        if (componentSystem && config.eventName === \"gain\") {\n          this._gainListeners[config.sourceName] = config;\n        }\n        if (componentSystem && config.eventName === \"lose\") {\n          this._loseListeners[config.sourceName] = config;\n        }\n      }\n    }\n    for (var j = 0;j < allComponentSystems.length;++j) {\n      allComponentSystems[j][onOrOff](\"add\", this._onComponentAdd, this);\n      allComponentSystems[j][onOrOff](\"beforeremove\", this._onComponentRemove, this);\n    }\n  }, _onSetEntity:function(name, oldValue, newValue) {\n    if (newValue instanceof pc.Entity) {\n      this._updateEntityReference();\n    } else {\n      if (newValue !== null && newValue !== undefined && typeof newValue !== \"string\") {\n        console.warn(\"Entity field `\" + this._entityPropertyName + \"` was set to unexpected type '\" + typeof newValue + \"'\");\n        return;\n      }\n      if (oldValue !== newValue) {\n        this._updateEntityReference();\n      }\n    }\n  }, _onPostInitialize:function() {\n    this._updateEntityReference();\n  }, onParentComponentEnable:function() {\n    if (!this._entity) {\n      this._updateEntityReference();\n    }\n  }, _onSceneLoaded:function() {\n    this._updateEntityReference();\n  }, _updateEntityReference:function() {\n    var nextEntityGuid = this._parentComponent.data[this._entityPropertyName];\n    var nextEntity;\n    if (nextEntityGuid instanceof pc.Entity) {\n      nextEntity = nextEntityGuid;\n      nextEntityGuid = nextEntity.getGuid();\n      this._parentComponent.data[this._entityPropertyName] = nextEntityGuid;\n    } else {\n      var root = this._parentComponent.system.app.root;\n      var isOnSceneGraph = this._parentComponent.entity.isDescendantOf(root);\n      nextEntity = isOnSceneGraph && nextEntityGuid ? root.findByGuid(nextEntityGuid) : null;\n    }\n    var hasChanged = this._entity !== nextEntity;\n    if (hasChanged) {\n      if (this._entity) {\n        this._onBeforeEntityChange();\n      }\n      this._entity = nextEntity;\n      if (this._entity) {\n        this._onAfterEntityChange();\n      }\n    }\n  }, _onBeforeEntityChange:function() {\n    this._toggleEntityListeners(\"off\");\n    this._callAllGainOrLoseListeners(this._loseListeners);\n  }, _onAfterEntityChange:function() {\n    this._toggleEntityListeners(\"on\");\n    this._callAllGainOrLoseListeners(this._gainListeners);\n  }, _onComponentAdd:function(entity, component) {\n    var componentName = component.system.id;\n    if (entity === this._entity) {\n      this._callGainOrLoseListener(componentName, this._gainListeners);\n      this._toggleComponentListeners(\"on\", componentName);\n    }\n  }, _onComponentRemove:function(entity, component) {\n    var componentName = component.system.id;\n    if (entity === this._entity) {\n      this._callGainOrLoseListener(componentName, this._loseListeners);\n      this._toggleComponentListeners(\"off\", componentName, true);\n    }\n  }, _callAllGainOrLoseListeners:function(listenerMap) {\n    for (var componentName in this._entity.c) {\n      this._callGainOrLoseListener(componentName, listenerMap);\n    }\n  }, _callGainOrLoseListener:function(componentName, listenerMap) {\n    if (this._entity.c.hasOwnProperty(componentName) && listenerMap[componentName]) {\n      var config = listenerMap[componentName];\n      config.callback.call(config.scope);\n    }\n  }, _toggleEntityListeners:function(onOrOff, isDestroying) {\n    if (this._entity) {\n      for (var i = 0;i < this._eventListenerConfigs.length;++i) {\n        this._safeToggleListener(onOrOff, this._eventListenerConfigs[i], isDestroying);\n      }\n    }\n  }, _toggleComponentListeners:function(onOrOff, componentName, isDestroying) {\n    for (var i = 0;i < this._eventListenerConfigs.length;++i) {\n      var config = this._eventListenerConfigs[i];\n      if (config.sourceName === componentName) {\n        this._safeToggleListener(onOrOff, config, isDestroying);\n      }\n    }\n  }, _safeToggleListener:function(onOrOff, config, isDestroying) {\n    var isAdding = onOrOff === \"on\";\n    if (isAdding && this._listenerStatusFlags[config.id]) {\n      return;\n    }\n    var source = this._getEventSource(config.sourceName, isDestroying);\n    if (source) {\n      source[onOrOff](config.eventName, config.callback, config.scope);\n      this._listenerStatusFlags[config.id] = isAdding;\n    }\n  }, _getEventSource:function(sourceName, isDestroying) {\n    if (sourceName === \"entity\") {\n      return this._entity;\n    }\n    var component = this._entity[sourceName];\n    if (component) {\n      return component;\n    }\n    if (!isDestroying) {\n      console.warn(\"Entity has no component with name \" + sourceName);\n    }\n    return null;\n  }, _onEntityDestroy:function(entity) {\n    if (this._entity === entity) {\n      this._toggleEntityListeners(\"off\", true);\n      this._entity = null;\n    }\n  }, _onParentComponentRemove:function(entity, component) {\n    if (component === this._parentComponent) {\n      this._toggleLifecycleListeners(\"off\");\n      this._toggleEntityListeners(\"off\", true);\n    }\n  }, hasComponent:function(componentName) {\n    return this._entity && this._entity.c ? !!this._entity.c[componentName] : false;\n  }});\n  Object.defineProperty(EntityReference.prototype, \"entity\", {get:function() {\n    return this._entity;\n  }});\n  return {EntityReference:EntityReference};\n}());\nObject.assign(pc, function() {\n  var SortedLoopArray = function(args) {\n    this._sortBy = args.sortBy;\n    this.items = [];\n    this.length = 0;\n    this.loopIndex = -1;\n    this._sortHandler = this._doSort.bind(this);\n  };\n  SortedLoopArray.prototype._binarySearch = function(item) {\n    var left = 0;\n    var right = this.items.length - 1;\n    var search = item[this._sortBy];\n    var middle;\n    var current;\n    while (left <= right) {\n      middle = Math.floor((left + right) / 2);\n      current = this.items[middle][this._sortBy];\n      if (current <= search) {\n        left = middle + 1;\n      } else {\n        if (current > search) {\n          right = middle - 1;\n        }\n      }\n    }\n    return left;\n  };\n  SortedLoopArray.prototype._doSort = function(a, b) {\n    var sortBy = this._sortBy;\n    return a[sortBy] - b[sortBy];\n  };\n  SortedLoopArray.prototype.insert = function(item) {\n    var index = this._binarySearch(item);\n    this.items.splice(index, 0, item);\n    this.length++;\n    if (this.loopIndex >= index) {\n      this.loopIndex++;\n    }\n  };\n  SortedLoopArray.prototype.append = function(item) {\n    this.items.push(item);\n    this.length++;\n  };\n  SortedLoopArray.prototype.remove = function(item) {\n    var idx = this.items.indexOf(item);\n    if (idx < 0) {\n      return;\n    }\n    this.items.splice(idx, 1);\n    this.length--;\n    if (this.loopIndex >= idx) {\n      this.loopIndex--;\n    }\n  };\n  SortedLoopArray.prototype.sort = function() {\n    var current = this.loopIndex >= 0 ? this.items[this.loopIndex] : null;\n    this.items.sort(this._sortHandler);\n    if (current !== null) {\n      this.loopIndex = this.items.indexOf(current);\n    }\n  };\n  return {SortedLoopArray:SortedLoopArray};\n}());\nObject.assign(pc, function() {\n  var ResourceLoader = function(app) {\n    this._handlers = {};\n    this._requests = {};\n    this._cache = {};\n    this._app = app;\n  };\n  Object.assign(ResourceLoader.prototype, {addHandler:function(type, handler) {\n    this._handlers[type] = handler;\n    handler._loader = this;\n  }, removeHandler:function(type) {\n    delete this._handlers[type];\n  }, getHandler:function(type) {\n    return this._handlers[type];\n  }, load:function(url, type, callback, asset) {\n    var handler = this._handlers[type];\n    if (!handler) {\n      var err = \"No handler for asset type: \" + type;\n      callback(err);\n      return;\n    }\n    var key = url + type;\n    if (this._cache[key] !== undefined) {\n      callback(null, this._cache[key]);\n    } else {\n      if (this._requests[key]) {\n        this._requests[key].push(callback);\n      } else {\n        this._requests[key] = [callback];\n        var handleLoad = function(err, urlObj) {\n          if (err) {\n            console.error(err);\n            if (this._requests[key]) {\n              for (var i = 0, len = this._requests[key].length;i < len;i++) {\n                this._requests[key][i](err);\n              }\n            }\n            delete this._requests[key];\n            return;\n          }\n          handler.load(urlObj, function(err, data, extra) {\n            if (!this._requests[key]) {\n              return;\n            }\n            var i, len = this._requests[key].length;\n            var resource;\n            if (!err) {\n              try {\n                resource = handler.open(urlObj.original, data, asset);\n              } catch (ex) {\n                err = ex;\n              }\n            }\n            if (!err) {\n              this._cache[key] = resource;\n              for (i = 0;i < len;i++) {\n                this._requests[key][i](null, resource, extra);\n              }\n            } else {\n              console.error(err);\n              for (i = 0;i < len;i++) {\n                this._requests[key][i](err);\n              }\n            }\n            delete this._requests[key];\n          }.bind(this), asset);\n        }.bind(this);\n        var normalizedUrl = url.split(\"?\")[0];\n        if (this._app.enableBundles && this._app.bundles.hasUrl(normalizedUrl)) {\n          if (!this._app.bundles.canLoadUrl(normalizedUrl)) {\n            handleLoad(\"Bundle for \" + url + \" not loaded yet\");\n            return;\n          }\n          this._app.bundles.loadUrl(normalizedUrl, function(err, fileUrlFromBundle) {\n            handleLoad(err, {load:fileUrlFromBundle, original:url});\n          });\n        } else {\n          handleLoad(null, {load:url, original:url});\n        }\n      }\n    }\n  }, open:function(type, data) {\n    var handler = this._handlers[type];\n    if (!handler) {\n      console.warn(\"No resource handler found for: \" + type);\n      return data;\n    }\n    return handler.open(null, data);\n  }, patch:function(asset, assets) {\n    var handler = this._handlers[asset.type];\n    if (!handler) {\n      console.warn(\"No resource handler found for: \" + asset.type);\n      return;\n    }\n    if (handler.patch) {\n      handler.patch(asset, assets);\n    }\n  }, clearCache:function(url, type) {\n    delete this._cache[url + type];\n  }, getFromCache:function(url, type) {\n    if (this._cache[url + type]) {\n      return this._cache[url + type];\n    }\n  }, enableRetry:function() {\n    for (var key in this._handlers) {\n      this._handlers[key].retryRequests = true;\n    }\n  }, disableRetry:function() {\n    for (var key in this._handlers) {\n      this._handlers[key].retryRequests = false;\n    }\n  }, destroy:function() {\n    this._handlers = {};\n    this._requests = {};\n    this._cache = {};\n  }});\n  return {ResourceLoader:ResourceLoader};\n}());\nObject.assign(pc, function() {\n  var ResourceHandler = function() {\n  };\n  Object.assign(ResourceHandler.prototype, {load:function(url, callback, asset) {\n    throw new Error(\"not implemented\");\n  }, open:function(url, data, asset) {\n    throw new Error(\"not implemented\");\n  }, patch:function(asset, assets) {\n  }});\n  return {ResourceHandler:ResourceHandler};\n}());\nObject.assign(pc, function() {\n  var BundleHandler = function(assets) {\n    this._assets = assets;\n    this._worker = null;\n    this.retryRequests = false;\n  };\n  Object.assign(BundleHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    var self = this;\n    pc.http.get(url.load, {responseType:pc.Http.ResponseType.ARRAY_BUFFER, retry:this.retryRequests}, function(err, response) {\n      if (!err) {\n        try {\n          self._untar(response, callback);\n        } catch (ex) {\n          callback(\"Error loading bundle resource \" + url.original + \": \" + ex);\n        }\n      } else {\n        callback(\"Error loading bundle resource \" + url.original + \": \" + err);\n      }\n    });\n  }, _untar:function(response, callback) {\n    var self = this;\n    if (pc.platform.workers) {\n      if (!self._worker) {\n        self._worker = new pc.UntarWorker(self._assets.prefix);\n      }\n      self._worker.untar(response, function(err, files) {\n        callback(err, files);\n        if (!self._worker.hasPendingRequests()) {\n          self._worker.destroy();\n          self._worker = null;\n        }\n      });\n    } else {\n      var archive = new pc.Untar(response);\n      var files = archive.untar(self._assets.prefix);\n      callback(null, files);\n    }\n  }, open:function(url, data) {\n    return new pc.Bundle(data);\n  }, patch:function(asset, assets) {\n  }});\n  return {BundleHandler:BundleHandler};\n}());\nObject.assign(pc, function() {\n  var Untar;\n  function UntarScope(isWorker) {\n    var utfDecoder;\n    var asciiDecoder;\n    if (typeof TextDecoder !== \"undefined\") {\n      utfDecoder = new TextDecoder(\"utf-8\");\n      asciiDecoder = new TextDecoder(\"windows-1252\");\n    } else {\n      console.warn(\"TextDecoder not supported - pc.Untar module will not work\");\n    }\n    function PaxHeader(fields) {\n      this._fields = fields;\n    }\n    PaxHeader.parse = function(buffer, start, length) {\n      var paxArray = new Uint8Array(buffer, start, length);\n      var bytesRead = 0;\n      var fields = [];\n      while (bytesRead < length) {\n        var spaceIndex;\n        for (spaceIndex = bytesRead;spaceIndex < length;spaceIndex++) {\n          if (paxArray[spaceIndex] == 32) {\n            break;\n          }\n        }\n        if (spaceIndex >= length) {\n          throw new Error(\"Invalid PAX header data format.\");\n        }\n        var fieldLength = parseInt(utfDecoder.decode(new Uint8Array(buffer, start + bytesRead, spaceIndex - bytesRead)), 10);\n        var fieldText = utfDecoder.decode(new Uint8Array(buffer, start + spaceIndex + 1, fieldLength - (spaceIndex - bytesRead) - 2));\n        var field = fieldText.split(\"=\");\n        if (field.length !== 2) {\n          throw new Error(\"Invalid PAX header data format.\");\n        }\n        if (field[1].length === 0) {\n          field[1] = null;\n        }\n        fields.push({name:field[0], value:field[1]});\n        bytesRead += fieldLength;\n      }\n      return new PaxHeader(fields);\n    };\n    PaxHeader.prototype.applyHeader = function(file) {\n      for (var i = 0;i < this._fields.length;i++) {\n        var fieldName = this._fields[i].name;\n        var fieldValue = this._fields[i].value;\n        if (fieldName === \"path\") {\n          fieldName = \"name\";\n        }\n        if (fieldValue === null) {\n          delete file[fieldName];\n        } else {\n          file[fieldName] = fieldValue;\n        }\n      }\n    };\n    var UntarInternal = function(arrayBuffer) {\n      this._arrayBuffer = arrayBuffer || new ArrayBuffer(0);\n      this._bufferView = new DataView(this._arrayBuffer);\n      this._globalPaxHeader = null;\n      this._paxHeader = null;\n      this._bytesRead = 0;\n    };\n    if (!isWorker) {\n      Untar = UntarInternal;\n    }\n    UntarInternal.prototype._hasNext = function() {\n      return this._bytesRead + 4 < this._arrayBuffer.byteLength && this._bufferView.getUint32(this._bytesRead) !== 0;\n    };\n    UntarInternal.prototype._readNextFile = function() {\n      var headersDataView = new DataView(this._arrayBuffer, this._bytesRead, 512);\n      var headers = asciiDecoder.decode(headersDataView);\n      this._bytesRead += 512;\n      var name = headers.substr(0, 100).replace(/\\0/g, \"\");\n      var ustarFormat = headers.substr(257, 6);\n      var size = parseInt(headers.substr(124, 12), 8);\n      var type = headers.substr(156, 1);\n      var start = this._bytesRead;\n      var url = null;\n      var normalFile = false;\n      switch(type) {\n        case \"0\":\n        case \"\":\n          normalFile = true;\n          if (!isWorker) {\n            var blob = new Blob([this._arrayBuffer.slice(this._bytesRead, this._bytesRead + size)]);\n            url = URL.createObjectURL(blob);\n          }\n          break;\n        case \"g\":\n          this._globalPaxHeader = PaxHeader.parse(this._arrayBuffer, this._bytesRead, size);\n          break;\n        case \"x\":\n          this._paxHeader = PaxHeader.parse(this._arrayBuffer, this._bytesRead, size);\n          break;\n        case \"1\":\n        case \"2\":\n        case \"3\":\n        case \"4\":\n        case \"5\":\n        case \"6\":\n        case \"7\":\n        default:\n      }\n      this._bytesRead += size;\n      var remainder = size % 512;\n      if (remainder !== 0) {\n        this._bytesRead += 512 - remainder;\n      }\n      if (!normalFile) {\n        return null;\n      }\n      if (ustarFormat.indexOf(\"ustar\") !== -1) {\n        var namePrefix = headers.substr(345, 155).replace(/\\0/g, \"\");\n        if (namePrefix.length > 0) {\n          name = namePrefix.trim() + name.trim();\n        }\n      }\n      var file = {name:name, start:start, size:size, url:url};\n      if (this._globalPaxHeader) {\n        this._globalPaxHeader.applyHeader(file);\n      }\n      if (this._paxHeader) {\n        this._paxHeader.applyHeader(file);\n        this._paxHeader = null;\n      }\n      return file;\n    };\n    UntarInternal.prototype.untar = function(filenamePrefix) {\n      if (!utfDecoder) {\n        console.error(\"Cannot untar because TextDecoder interface is not available for this platform.\");\n        return [];\n      }\n      var files = [];\n      while (this._hasNext()) {\n        var file = this._readNextFile();\n        if (!file) {\n          continue;\n        }\n        if (filenamePrefix && file.name) {\n          file.name = filenamePrefix + file.name;\n        }\n        files.push(file);\n      }\n      return files;\n    };\n    if (isWorker) {\n      self.onmessage = function(e) {\n        var id = e.data.id;\n        try {\n          var archive = new UntarInternal(e.data.arrayBuffer);\n          var files = archive.untar(e.data.prefix);\n          postMessage({id:id, files:files, arrayBuffer:e.data.arrayBuffer}, [e.data.arrayBuffer]);\n        } catch (err) {\n          postMessage({id:id, error:err.toString()});\n        }\n      };\n    }\n  }\n  var workerUrl = null;\n  var getWorkerUrl = function() {\n    if (!workerUrl) {\n      var code = \"(\" + UntarScope.toString() + \")(true)\\n\\n\";\n      var blob = new Blob([code], {type:\"application/javascript\"});\n      workerUrl = URL.createObjectURL(blob);\n    }\n    return workerUrl;\n  };\n  var UntarWorker = function(filenamePrefix) {\n    this._requestId = 0;\n    this._pendingRequests = {};\n    this._filenamePrefix = filenamePrefix;\n    this._worker = new Worker(getWorkerUrl());\n    this._worker.addEventListener(\"message\", this._onMessage.bind(this));\n  };\n  UntarWorker.prototype._onMessage = function(e) {\n    var id = e.data.id;\n    if (!this._pendingRequests[id]) {\n      return;\n    }\n    var callback = this._pendingRequests[id];\n    delete this._pendingRequests[id];\n    if (e.data.error) {\n      callback(e.data.error);\n    } else {\n      var arrayBuffer = e.data.arrayBuffer;\n      for (var i = 0, len = e.data.files.length;i < len;i++) {\n        var file = e.data.files[i];\n        var blob = new Blob([arrayBuffer.slice(file.start, file.start + file.size)]);\n        file.url = URL.createObjectURL(blob);\n      }\n      callback(null, e.data.files);\n    }\n  };\n  UntarWorker.prototype.untar = function(arrayBuffer, callback) {\n    var id = this._requestId++;\n    this._pendingRequests[id] = callback;\n    this._worker.postMessage({id:id, prefix:this._filenamePrefix, arrayBuffer:arrayBuffer}, [arrayBuffer]);\n  };\n  UntarWorker.prototype.hasPendingRequests = function() {\n    for (var key in this._pendingRequests) {\n      return true;\n    }\n    return false;\n  };\n  UntarWorker.prototype.destroy = function() {\n    if (this._worker) {\n      this._worker.terminate();\n      this._worker = null;\n      this._pendingRequests = null;\n    }\n  };\n  UntarScope();\n  return {Untar:Untar, UntarWorker:UntarWorker};\n}());\nObject.assign(pc, function() {\n  var AnimationHandler = function() {\n    this.retryRequests = false;\n  };\n  Object.assign(AnimationHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    var options = {retry:this.retryRequests};\n    if (url.load.startsWith(\"blob:\")) {\n      options.responseType = pc.Http.ResponseType.JSON;\n    }\n    pc.http.get(url.load, options, function(err, response) {\n      if (err) {\n        callback(pc.string.format(\"Error loading animation resource: {0} [{1}]\", url.original, err));\n      } else {\n        callback(null, response);\n      }\n    });\n  }, open:function(url, data) {\n    return this[\"_parseAnimationV\" + data.animation.version](data);\n  }, _parseAnimationV3:function(data) {\n    var animData = data.animation;\n    var anim = new pc.Animation;\n    anim.setName(animData.name);\n    anim.duration = animData.duration;\n    for (var i = 0;i < animData.nodes.length;i++) {\n      var node = new pc.Node;\n      var n = animData.nodes[i];\n      node._name = n.name;\n      for (var j = 0;j < n.keys.length;j++) {\n        var k = n.keys[j];\n        var t = k.time;\n        var p = k.pos;\n        var r = k.rot;\n        var s = k.scale;\n        var pos = new pc.Vec3(p[0], p[1], p[2]);\n        var rot = (new pc.Quat).setFromEulerAngles(r[0], r[1], r[2]);\n        var scl = new pc.Vec3(s[0], s[1], s[2]);\n        var key = new pc.Key(t, pos, rot, scl);\n        node._keys.push(key);\n      }\n      anim.addNode(node);\n    }\n    return anim;\n  }, _parseAnimationV4:function(data) {\n    var animData = data.animation;\n    var anim = new pc.Animation;\n    anim.setName(animData.name);\n    anim.duration = animData.duration;\n    for (var i = 0;i < animData.nodes.length;i++) {\n      var node = new pc.Node;\n      var n = animData.nodes[i];\n      node._name = n.name;\n      var defPos = n.defaults.p;\n      var defRot = n.defaults.r;\n      var defScl = n.defaults.s;\n      for (var j = 0;j < n.keys.length;j++) {\n        var k = n.keys[j];\n        var t = k.t;\n        var p = defPos ? defPos : k.p;\n        var r = defRot ? defRot : k.r;\n        var s = defScl ? defScl : k.s;\n        var pos = new pc.Vec3(p[0], p[1], p[2]);\n        var rot = (new pc.Quat).setFromEulerAngles(r[0], r[1], r[2]);\n        var scl = new pc.Vec3(s[0], s[1], s[2]);\n        var key = new pc.Key(t, pos, rot, scl);\n        node._keys.push(key);\n      }\n      anim.addNode(node);\n    }\n    return anim;\n  }});\n  return {AnimationHandler:AnimationHandler};\n}());\nObject.assign(pc, function() {\n  var ie = function() {\n    if (typeof window === \"undefined\") {\n      return false;\n    }\n    var ua = window.navigator.userAgent;\n    var msie = ua.indexOf(\"MSIE \");\n    if (msie > 0) {\n      return parseInt(ua.substring(msie + 5, ua.indexOf(\".\", msie)), 10);\n    }\n    var trident = ua.indexOf(\"Trident/\");\n    if (trident > 0) {\n      var rv = ua.indexOf(\"rv:\");\n      return parseInt(ua.substring(rv + 3, ua.indexOf(\".\", rv)), 10);\n    }\n    return false;\n  }();\n  var AudioHandler = function(manager) {\n    this.manager = manager;\n    this.retryRequests = false;\n  };\n  Object.assign(AudioHandler.prototype, {_isSupported:function(url) {\n    var toMIME = {\".ogg\":\"audio/ogg\", \".mp3\":\"audio/mpeg\", \".wav\":\"audio/x-wav\", \".mp4a\":\"audio/mp4\", \".m4a\":\"audio/mp4\", \".mp4\":\"audio/mp4\", \".aac\":\"audio/aac\"};\n    var ext = pc.path.getExtension(url);\n    if (toMIME[ext]) {\n      return true;\n    }\n    return false;\n  }, load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    var success = function(resource) {\n      callback(null, new pc.Sound(resource));\n    };\n    var error = function(err) {\n      var msg = \"Error loading audio url: \" + url.original;\n      if (err) {\n        msg += \": \" + (err.message || err);\n      }\n      console.warn(msg);\n      callback(msg);\n    };\n    if (this._createSound) {\n      if (!this._isSupported(url.original)) {\n        error(pc.string.format(\"Audio format for {0} not supported\", url.original));\n        return;\n      }\n      this._createSound(url.load, success, error);\n    } else {\n      error(null);\n    }\n  }, open:function(url, data) {\n    return data;\n  }});\n  if (pc.SoundManager.hasAudioContext()) {\n    AudioHandler.prototype._createSound = function(url, success, error) {\n      var manager = this.manager;\n      if (!manager.context) {\n        error(\"Audio manager has no audio context\");\n        return;\n      }\n      var options = {retry:this.retryRequests};\n      if (url.startsWith(\"blob:\")) {\n        options.responseType = pc.Http.ResponseType.ARRAY_BUFFER;\n      }\n      pc.http.get(url, options, function(err, response) {\n        if (err) {\n          error(err);\n          return;\n        }\n        manager.context.decodeAudioData(response, success, error);\n      });\n    };\n  } else {\n    if (pc.SoundManager.hasAudio()) {\n      AudioHandler.prototype._createSound = function(url, success, error) {\n        var audio = null;\n        try {\n          audio = new Audio;\n        } catch (e) {\n          error(\"No support for Audio element\");\n          return;\n        }\n        if (ie) {\n          document.body.appendChild(audio);\n        }\n        var onReady = function() {\n          audio.removeEventListener(\"canplaythrough\", onReady);\n          if (ie) {\n            document.body.removeChild(audio);\n          }\n          success(audio);\n        };\n        audio.onerror = function() {\n          audio.onerror = null;\n          if (ie) {\n            document.body.removeChild(audio);\n          }\n          error();\n        };\n        audio.addEventListener(\"canplaythrough\", onReady);\n        audio.src = url;\n      };\n    }\n  }\n  return {AudioHandler:AudioHandler};\n}());\nObject.assign(pc, function() {\n  var CubemapHandler = function(device, assets, loader) {\n    this._device = device;\n    this._assets = assets;\n    this._loader = loader;\n  };\n  Object.assign(CubemapHandler.prototype, {load:function(url, callback) {\n  }, open:function(url, data) {\n  }, patch:function(assetCubeMap, assets) {\n    var self = this;\n    var loaded = false;\n    if (!assetCubeMap.resources[0]) {\n      assetCubeMap.resources[0] = new pc.Texture(this._device, {format:pc.PIXELFORMAT_R8_G8_B8_A8, cubemap:true, mipmaps:true, fixCubemapSeams:!!assetCubeMap._dds});\n      assetCubeMap.resources[0].name = \"cubemap\";\n      loaded = true;\n    }\n    if (!assetCubeMap.file) {\n      delete assetCubeMap._dds;\n    } else {\n      if (assetCubeMap.file && !assetCubeMap._dds) {\n        var url = assetCubeMap.getFileUrl();\n        assets._loader.load(url + \"?t=\" + assetCubeMap.file.hash, \"texture\", function(err, texture) {\n          if (!err) {\n            assets._loader.patch({resource:texture, type:\"texture\", data:assetCubeMap.data}, assets);\n            assetCubeMap._dds = texture;\n            self.patch(assetCubeMap, assets);\n          } else {\n            assets.fire(\"error\", err, assetCubeMap);\n            assets.fire(\"error:\" + assetCubeMap.id, err, assetCubeMap);\n            assetCubeMap.fire(\"error\", err, assetCubeMap);\n          }\n        });\n      }\n    }\n    if ((!assetCubeMap.file || !assetCubeMap._dds) && assetCubeMap.resources[1]) {\n      assetCubeMap.resources = [assetCubeMap.resources[0]];\n      loaded = true;\n    } else {\n      if (assetCubeMap._dds && !assetCubeMap.resources[1]) {\n        assetCubeMap.resources = [assetCubeMap.resources[0]];\n        assetCubeMap._dds.fixCubemapSeams = true;\n        assetCubeMap._dds.addressU = pc.ADDRESS_CLAMP_TO_EDGE;\n        assetCubeMap._dds.addressV = pc.ADDRESS_CLAMP_TO_EDGE;\n        var startIndex = 0;\n        if (this._device.useTexCubeLod) {\n          assetCubeMap.resources.push(assetCubeMap._dds);\n          startIndex = 1;\n        }\n        for (var i = startIndex;i < 6;i++) {\n          var mip = new pc.Texture(this._device, {cubemap:true, fixCubemapSeams:true, mipmaps:true, format:assetCubeMap._dds.format, rgbm:assetCubeMap._dds.rgbm, width:Math.pow(2, 7 - i), height:Math.pow(2, 7 - i)});\n          mip.name = \"cubemap-mip\";\n          mip._levels[0] = assetCubeMap._dds._levels[i];\n          mip.upload();\n          assetCubeMap.resources.push(mip);\n        }\n        loaded = true;\n      }\n    }\n    var cubemap = assetCubeMap.resource;\n    if (cubemap.name !== assetCubeMap.name) {\n      cubemap.name = assetCubeMap.name;\n    }\n    var rgbm = !!assetCubeMap.data.rgbm;\n    if (assetCubeMap.data.hasOwnProperty(\"rgbm\") && cubemap.rgbm !== rgbm) {\n      cubemap.rgbm = rgbm;\n    }\n    cubemap.fixCubemapSeams = !!assetCubeMap._dds;\n    if (assetCubeMap.data.hasOwnProperty(\"minFilter\") && cubemap.minFilter !== assetCubeMap.data.minFilter) {\n      cubemap.minFilter = assetCubeMap.data.minFilter;\n    }\n    if (assetCubeMap.data.hasOwnProperty(\"magFilter\") && cubemap.magFilter !== assetCubeMap.data.magFilter) {\n      cubemap.magFilter = assetCubeMap.data.magFilter;\n    }\n    if (assetCubeMap.data.hasOwnProperty(\"anisotropy\") && cubemap.anisotropy !== assetCubeMap.data.anisotropy) {\n      cubemap.anisotropy = assetCubeMap.data.anisotropy;\n    }\n    if (cubemap.addressU !== pc.ADDRESS_CLAMP_TO_EDGE) {\n      cubemap.addressU = pc.ADDRESS_CLAMP_TO_EDGE;\n    }\n    if (cubemap.addressV !== pc.ADDRESS_CLAMP_TO_EDGE) {\n      cubemap.addressV = pc.ADDRESS_CLAMP_TO_EDGE;\n    }\n    this._patchTextureFaces(assetCubeMap, assets);\n    if (loaded) {\n      assets.fire(\"load\", assetCubeMap);\n      assets.fire(\"load:\" + assetCubeMap.id, assetCubeMap);\n      assetCubeMap.fire(\"load\", assetCubeMap);\n    }\n  }, _patchTexture:function() {\n    this.registry._loader._handlers.cubemap._patchTextureFaces(this, this.registry);\n  }, _patchTextureFaces:function(assetCubeMap, assets) {\n    if (!assetCubeMap.loadFaces && assetCubeMap.file) {\n      return;\n    }\n    var cubemap = assetCubeMap.resource;\n    var sources = [];\n    var count = 0;\n    var levelsUpdated = false;\n    var self = this;\n    if (!assetCubeMap._levelsEvents) {\n      assetCubeMap._levelsEvents = [null, null, null, null, null, null];\n    }\n    assetCubeMap.data.textures.forEach(function(id, index) {\n      var assetReady = function(asset) {\n        count++;\n        sources[index] = asset && asset.resource.getSource() || null;\n        var evtAsset = assetCubeMap._levelsEvents[index];\n        if (evtAsset !== asset) {\n          if (evtAsset) {\n            evtAsset.off(\"load\", self._patchTexture, assetCubeMap);\n          }\n          if (asset) {\n            asset.on(\"load\", self._patchTexture, assetCubeMap);\n          }\n          assetCubeMap._levelsEvents[index] = asset || null;\n        }\n        if (sources[index] !== cubemap._levels[0][index]) {\n          levelsUpdated = true;\n        }\n        if (count === 6 && levelsUpdated) {\n          cubemap.setSource(sources);\n          assets.fire(\"load\", assetCubeMap);\n          assets.fire(\"load:\" + assetCubeMap.id, assetCubeMap);\n          assetCubeMap.fire(\"load\", assetCubeMap);\n        }\n      };\n      var assetAdded = function(asset) {\n        asset.ready(assetReady);\n        assets.load(asset);\n      };\n      var asset = assets.get(id);\n      if (asset) {\n        asset.ready(assetReady);\n        assets.load(asset);\n      } else {\n        if (id) {\n          assets.once(\"load:\" + id, assetReady);\n          assets.once(\"add:\" + id, assetAdded);\n        } else {\n          assetReady(null);\n        }\n      }\n    });\n  }});\n  return {CubemapHandler:CubemapHandler};\n}());\nObject.assign(pc, function() {\n  var JsonHandler = function() {\n    this.retryRequests = false;\n  };\n  Object.assign(JsonHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    var options = {retry:this.retryRequests};\n    if (url.load.startsWith(\"blob:\")) {\n      options.responseType = pc.Http.ResponseType.JSON;\n    }\n    pc.http.get(url.load, options, function(err, response) {\n      if (!err) {\n        callback(null, response);\n      } else {\n        callback(pc.string.format(\"Error loading JSON resource: {0} [{1}]\", url.original, err));\n      }\n    });\n  }, open:function(url, data) {\n    return data;\n  }, patch:function(asset, assets) {\n  }});\n  return {JsonHandler:JsonHandler};\n}());\nObject.assign(pc, function() {\n  var PLACEHOLDER_MAP = {aoMap:\"white\", diffuseMap:\"gray\", specularMap:\"gray\", metalnessMap:\"black\", glossMap:\"gray\", emissiveMap:\"gray\", normalMap:\"normal\", heightMap:\"gray\", opacityMap:\"gray\", sphereMap:\"gray\", lightMap:\"white\"};\n  var MaterialHandler = function(app) {\n    this._assets = app.assets;\n    this._device = app.graphicsDevice;\n    this._placeholderTextures = null;\n    this._parser = new pc.JsonStandardMaterialParser;\n    this.retryRequests = false;\n  };\n  Object.assign(MaterialHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    pc.http.get(url.load, {retry:this.retryRequests}, function(err, response) {\n      if (!err) {\n        if (callback) {\n          response._engine = true;\n          callback(null, response);\n        }\n      } else {\n        if (callback) {\n          callback(pc.string.format(\"Error loading material: {0} [{1}]\", url.original, err));\n        }\n      }\n    });\n  }, open:function(url, data) {\n    var material = this._parser.parse(data);\n    if (data._engine) {\n      material._data = data;\n      delete data._engine;\n    }\n    return material;\n  }, _createPlaceholders:function() {\n    this._placeholderTextures = {};\n    var textures = {white:[255, 255, 255, 255], gray:[128, 128, 128, 255], black:[0, 0, 0, 255], normal:[128, 128, 255, 255]};\n    for (var key in textures) {\n      if (!textures.hasOwnProperty(key)) {\n        continue;\n      }\n      this._placeholderTextures[key] = new pc.Texture(this._device, {width:2, height:2, format:pc.PIXELFORMAT_R8_G8_B8_A8});\n      this._placeholderTextures[key].name = \"placeholder\";\n      var pixels = this._placeholderTextures[key].lock();\n      for (var i = 0;i < 4;i++) {\n        for (var c = 0;c < 4;c++) {\n          pixels[i * 4 + c] = textures[key][c];\n        }\n      }\n      this._placeholderTextures[key].unlock();\n    }\n  }, patch:function(asset, assets) {\n    if (asset.resource._data) {\n      asset._data = asset.resource._data;\n      delete asset.resource._data;\n    }\n    asset.data.name = asset.name;\n    asset.resource.name = asset.name;\n    this._bindAndAssignAssets(asset, assets);\n    asset.off(\"unload\", this._onAssetUnload, this);\n    asset.on(\"unload\", this._onAssetUnload, this);\n  }, _onAssetUnload:function(asset) {\n    delete asset.data.parameters;\n    delete asset.data.chunks;\n    delete asset.data.name;\n  }, _assignTexture:function(parameterName, materialAsset, texture) {\n    materialAsset.data[parameterName] = texture;\n    materialAsset.resource[parameterName] = texture;\n  }, _assignPlaceholderTexture:function(parameterName, materialAsset) {\n    if (!this._placeholderTextures) {\n      this._createPlaceholders();\n    }\n    var placeholder = PLACEHOLDER_MAP[parameterName];\n    var texture = this._placeholderTextures[placeholder];\n    materialAsset.resource[parameterName] = texture;\n  }, _onTextureLoad:function(parameterName, materialAsset, textureAsset) {\n    this._assignTexture(parameterName, materialAsset, textureAsset.resource);\n    materialAsset.resource.update();\n  }, _onTextureAdd:function(parameterName, materialAsset, textureAsset) {\n    this._assets.load(textureAsset);\n  }, _onTextureRemove:function(parameterName, materialAsset, textureAsset) {\n    var material = materialAsset.resource;\n    if (material[parameterName] === textureAsset.resource) {\n      this._assignTexture(parameterName, materialAsset, null);\n      material.update();\n    }\n  }, _assignCubemap:function(parameterName, materialAsset, textures) {\n    materialAsset.data[parameterName] = textures[0];\n    if (textures.length === 7) {\n      materialAsset.data.prefilteredCubeMap128 = textures[1];\n      materialAsset.data.prefilteredCubeMap64 = textures[2];\n      materialAsset.data.prefilteredCubeMap32 = textures[3];\n      materialAsset.data.prefilteredCubeMap16 = textures[4];\n      materialAsset.data.prefilteredCubeMap8 = textures[5];\n      materialAsset.data.prefilteredCubeMap4 = textures[6];\n    }\n  }, _onCubemapLoad:function(parameterName, materialAsset, cubemapAsset) {\n    this._assignCubemap(parameterName, materialAsset, cubemapAsset.resources);\n    this._parser.initialize(materialAsset.resource, materialAsset.data);\n  }, _onCubemapAdd:function(parameterName, materialAsset, cubemapAsset) {\n    if (materialAsset.data.shadingModel === pc.SPECULAR_PHONG) {\n      materialAsset.loadFaces = true;\n    }\n    this._assets.load(cubemapAsset);\n  }, _onCubemapRemove:function(parameterName, materialAsset, cubemapAsset) {\n    var material = materialAsset.resource;\n    if (material[parameterName] === cubemapAsset.resource) {\n      this._assignCubemap(parameterName, materialAsset, [null, null, null, null, null, null, null]);\n      material.update();\n    }\n  }, _bindAndAssignAssets:function(materialAsset, assets) {\n    var data = this._parser.migrate(materialAsset.data);\n    var material = materialAsset.resource;\n    var pathMapping = data.mappingFormat === \"path\";\n    var TEXTURES = pc.StandardMaterial.TEXTURE_PARAMETERS;\n    var dir;\n    if (pathMapping) {\n      dir = pc.path.getDirectory(materialAsset.getFileUrl());\n    }\n    var i, name, assetReference;\n    for (i = 0;i < TEXTURES.length;i++) {\n      name = TEXTURES[i];\n      assetReference = material._assetReferences[name];\n      if (data[name] && !(data[name] instanceof pc.Texture)) {\n        if (!assetReference) {\n          assetReference = new pc.AssetReference(name, materialAsset, assets, {load:this._onTextureLoad, add:this._onTextureAdd, remove:this._onTextureRemove}, this);\n          material._assetReferences[name] = assetReference;\n        }\n        if (pathMapping) {\n          assetReference.url = pc.path.join(dir, data[name]);\n        } else {\n          assetReference.id = data[name];\n        }\n        if (assetReference.asset) {\n          if (assetReference.asset.resource) {\n            this._assignTexture(name, materialAsset, assetReference.asset.resource);\n          } else {\n            this._assignPlaceholderTexture(name, materialAsset);\n          }\n          assets.load(assetReference.asset);\n        }\n      } else {\n        if (assetReference) {\n          if (pathMapping) {\n            assetReference.url = null;\n          } else {\n            assetReference.id = null;\n          }\n        } else {\n        }\n      }\n    }\n    var CUBEMAPS = pc.StandardMaterial.CUBEMAP_PARAMETERS;\n    for (i = 0;i < CUBEMAPS.length;i++) {\n      name = CUBEMAPS[i];\n      assetReference = material._assetReferences[name];\n      if (data[name] && !(data[name] instanceof pc.Texture)) {\n        if (!assetReference) {\n          assetReference = new pc.AssetReference(name, materialAsset, assets, {load:this._onCubemapLoad, add:this._onCubemapAdd, remove:this._onCubemapRemove}, this);\n          material._assetReferences[name] = assetReference;\n        }\n        if (pathMapping) {\n          assetReference.url = data[name];\n        } else {\n          assetReference.id = data[name];\n        }\n        if (assetReference.asset) {\n          if (assetReference.asset.resource) {\n            this._assignCubemap(name, materialAsset, assetReference.asset.resources);\n          }\n          assets.load(assetReference.asset);\n        }\n      }\n    }\n    this._parser.initialize(material, data);\n  }});\n  return {MaterialHandler:MaterialHandler};\n}());\nObject.assign(pc, function() {\n  var ModelHandler = function(device, defaultMaterial) {\n    this._device = device;\n    this._parsers = [];\n    this._defaultMaterial = defaultMaterial;\n    this.retryRequests = false;\n    this.addParser(new pc.JsonModelParser(this._device), function(url, data) {\n      return pc.path.getExtension(url) === \".json\";\n    });\n  };\n  Object.assign(ModelHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    var options = {retry:this.retryRequests};\n    if (url.load.startsWith(\"blob:\")) {\n      options.responseType = pc.Http.ResponseType.JSON;\n    }\n    pc.http.get(url.load, options, function(err, response) {\n      if (!callback) {\n        return;\n      }\n      if (!err) {\n        callback(null, response);\n      } else {\n        callback(pc.string.format(\"Error loading model: {0} [{1}]\", url.original, err));\n      }\n    });\n  }, open:function(url, data) {\n    for (var i = 0;i < this._parsers.length;i++) {\n      var p = this._parsers[i];\n      if (p.decider(url, data)) {\n        return p.parser.parse(data);\n      }\n    }\n    logWARNING(pc.string.format(\"No model parser found for: {0}\", url));\n    return null;\n  }, patch:function(asset, assets) {\n    if (!asset.resource) {\n      return;\n    }\n    var data = asset.data;\n    var self = this;\n    asset.resource.meshInstances.forEach(function(meshInstance, i) {\n      if (data.mapping) {\n        var handleMaterial = function(asset) {\n          if (asset.resource) {\n            meshInstance.material = asset.resource;\n          } else {\n            asset.once(\"load\", handleMaterial);\n            assets.load(asset);\n          }\n          asset.once(\"remove\", function(asset) {\n            if (meshInstance.material === asset.resource) {\n              meshInstance.material = self._defaultMaterial;\n            }\n          });\n        };\n        if (!data.mapping[i]) {\n          meshInstance.material = self._defaultMaterial;\n          return;\n        }\n        var id = data.mapping[i].material;\n        var url = data.mapping[i].path;\n        var material;\n        if (id !== undefined) {\n          if (!id) {\n            meshInstance.material = self._defaultMaterial;\n          } else {\n            material = assets.get(id);\n            if (material) {\n              handleMaterial(material);\n            } else {\n              assets.once(\"add:\" + id, handleMaterial);\n            }\n          }\n        } else {\n          if (url) {\n            var fileUrl = asset.getFileUrl();\n            var dirUrl = pc.path.getDirectory(fileUrl);\n            var path = pc.path.join(dirUrl, data.mapping[i].path);\n            material = assets.getByUrl(path);\n            if (material) {\n              handleMaterial(material);\n            } else {\n              assets.once(\"add:url:\" + path, handleMaterial);\n            }\n          }\n        }\n      }\n    });\n  }, addParser:function(parser, decider) {\n    this._parsers.push({parser:parser, decider:decider});\n  }});\n  return {ModelHandler:ModelHandler};\n}());\nObject.assign(pc, function() {\n  var ScriptHandler = function(app) {\n    this._app = app;\n    this._scripts = {};\n    this._cache = {};\n  };\n  ScriptHandler._types = [];\n  ScriptHandler._push = function(Type) {\n    if (pc.script.legacy && ScriptHandler._types.length > 0) {\n      console.assert(\"Script Ordering Error. Contact support@playcanvas.com\");\n    } else {\n      ScriptHandler._types.push(Type);\n    }\n  };\n  Object.assign(ScriptHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    var self = this;\n    pc.script.app = this._app;\n    this._loadScript(url.original, function(err, url, extra) {\n      if (!err) {\n        if (pc.script.legacy) {\n          var Type = null;\n          if (ScriptHandler._types.length) {\n            Type = ScriptHandler._types.pop();\n          }\n          if (Type) {\n            this._scripts[url] = Type;\n          } else {\n            Type = null;\n          }\n          callback(null, Type, extra);\n        } else {\n          var obj = {};\n          for (var i = 0;i < ScriptHandler._types.length;i++) {\n            obj[ScriptHandler._types[i].name] = ScriptHandler._types[i];\n          }\n          ScriptHandler._types.length = 0;\n          callback(null, obj, extra);\n          delete self._loader._cache[url + \"script\"];\n        }\n      } else {\n        callback(err);\n      }\n    }.bind(this));\n  }, open:function(url, data) {\n    return data;\n  }, patch:function(asset, assets) {\n  }, _loadScript:function(url, callback) {\n    var head = document.head;\n    var element = document.createElement(\"script\");\n    this._cache[url] = element;\n    element.async = false;\n    element.addEventListener(\"error\", function(e) {\n      callback(pc.string.format(\"Script: {0} failed to load\", e.target.src));\n    }, false);\n    var done = false;\n    element.onload = element.onreadystatechange = function() {\n      if (!done && (!this.readyState || (this.readyState == \"loaded\" || this.readyState == \"complete\"))) {\n        done = true;\n        callback(null, url, element);\n      }\n    };\n    element.src = url;\n    head.appendChild(element);\n  }});\n  return {ScriptHandler:ScriptHandler};\n}());\nObject.assign(pc, function() {\n  var TextHandler = function() {\n    this.retryRequests = false;\n  };\n  Object.assign(TextHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    pc.http.get(url.load, {retry:this.retryRequests}, function(err, response) {\n      if (!err) {\n        callback(null, response);\n      } else {\n        callback(pc.string.format(\"Error loading text resource: {0} [{1}]\", url.original, err));\n      }\n    });\n  }, open:function(url, data) {\n    return data;\n  }, patch:function(asset, assets) {\n  }});\n  return {TextHandler:TextHandler};\n}());\nObject.assign(pc, function() {\n  var BinaryHandler = function() {\n    this.retryRequests = false;\n  };\n  Object.assign(BinaryHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    pc.http.get(url.load, {responseType:pc.Http.ResponseType.ARRAY_BUFFER, retry:this.retryRequests}, function(err, response) {\n      if (!err) {\n        callback(null, response);\n      } else {\n        callback(pc.string.format(\"Error loading binary resource: {0} [{1}]\", url.original, err));\n      }\n    });\n  }, open:function(url, data) {\n    return data;\n  }, patch:function(asset, assets) {\n  }});\n  return {BinaryHandler:BinaryHandler};\n}());\nObject.assign(pc, function() {\n  var DDSD_CAPS = 1;\n  var DDSD_HEIGHT = 2;\n  var DDSD_WIDTH = 4;\n  var DDSD_PITCH = 8;\n  var DDSD_PIXELFORMAT = 4096;\n  var DDSD_MIPMAPCOUNT = 131072;\n  var DDSD_LINEARSIZE = 524288;\n  var DDSD_DEPTH = 8388608;\n  var DDSCAPS2_CUBEMAP = 512;\n  var DDSCAPS2_CUBEMAP_POSITIVEX = 1024;\n  var DDSCAPS2_CUBEMAP_NEGATIVEX = 2048;\n  var DDSCAPS2_CUBEMAP_POSITIVEY = 4096;\n  var DDSCAPS2_CUBEMAP_NEGATIVEY = 8192;\n  var DDSCAPS2_CUBEMAP_POSITIVEZ = 16384;\n  var DDSCAPS2_CUBEMAP_NEGATIVEZ = 32768;\n  var DDS_CUBEMAP_ALLFACES = DDSCAPS2_CUBEMAP | DDSCAPS2_CUBEMAP_POSITIVEX | DDSCAPS2_CUBEMAP_NEGATIVEX | DDSCAPS2_CUBEMAP_POSITIVEY | DDSCAPS2_CUBEMAP_NEGATIVEY | DDSCAPS2_CUBEMAP_POSITIVEZ | DDSCAPS2_CUBEMAP_NEGATIVEZ;\n  var DDPF_ALPHAPIXELS = 1;\n  var DDPF_ALPHA = 2;\n  var DDPF_FOURCC = 4;\n  var DDPF_RGB = 64;\n  var DDPF_YUV = 512;\n  var DDPF_LUMINANCE = 131072;\n  var makeFourCC = function(str) {\n    return str.charCodeAt(0) + (str.charCodeAt(1) << 8) + (str.charCodeAt(2) << 16) + (str.charCodeAt(3) << 24);\n  };\n  var DDS_MAGIC = makeFourCC(\"DDS \");\n  var FCC_DXT1 = makeFourCC(\"DXT1\");\n  var FCC_DXT5 = makeFourCC(\"DXT5\");\n  var FCC_DX10 = makeFourCC(\"DX10\");\n  var FCC_FP32 = 116;\n  var FCC_ETC1 = makeFourCC(\"ETC1\");\n  var FCC_PVRTC_2BPP_RGB_1 = makeFourCC(\"P231\");\n  var FCC_PVRTC_2BPP_RGBA_1 = makeFourCC(\"P241\");\n  var FCC_PVRTC_4BPP_RGB_1 = makeFourCC(\"P431\");\n  var FCC_PVRTC_4BPP_RGBA_1 = makeFourCC(\"P441\");\n  var fccToFormat = {};\n  fccToFormat[FCC_FP32] = pc.PIXELFORMAT_RGBA32F;\n  fccToFormat[FCC_DXT1] = pc.PIXELFORMAT_DXT1;\n  fccToFormat[FCC_DXT5] = pc.PIXELFORMAT_DXT5;\n  fccToFormat[FCC_ETC1] = pc.PIXELFORMAT_ETC1;\n  fccToFormat[FCC_PVRTC_2BPP_RGB_1] = pc.PIXELFORMAT_PVRTC_2BPP_RGB_1;\n  fccToFormat[FCC_PVRTC_2BPP_RGBA_1] = pc.PIXELFORMAT_PVRTC_2BPP_RGBA_1;\n  fccToFormat[FCC_PVRTC_4BPP_RGB_1] = pc.PIXELFORMAT_PVRTC_4BPP_RGB_1;\n  fccToFormat[FCC_PVRTC_4BPP_RGBA_1] = pc.PIXELFORMAT_PVRTC_4BPP_RGBA_1;\n  var DdsParser = function(arrayBuffer) {\n    var headerU32 = new Uint32Array(arrayBuffer, 0, 32);\n    var magic = headerU32[0];\n    if (magic !== DDS_MAGIC) {\n      return null;\n    }\n    var header = {size:headerU32[1], flags:headerU32[2], height:headerU32[3], width:headerU32[4], pitchOrLinearSize:headerU32[5], depth:headerU32[6], mipMapCount:Math.max(headerU32[7], 1), ddspf:{size:headerU32[19], flags:headerU32[20], fourCc:headerU32[21], rgbBitCount:headerU32[22], rBitMask:headerU32[23], gBitMask:headerU32[24], bBitMask:headerU32[25], aBitMask:headerU32[26]}, caps:headerU32[27], caps2:headerU32[28], caps3:headerU32[29], caps4:headerU32[30]};\n    if (header.size !== 124) {\n      return null;\n    }\n    var offset = 4 + header.size;\n    var isFcc = header.ddspf.flags & DDPF_FOURCC;\n    var fcc = header.ddspf.fourCc;\n    if (isFcc && fcc === FCC_DX10) {\n      headerU32 = new Uint32Array(arrayBuffer, 128, 5);\n      offset += 20;\n    }\n    var isCubeMap = header.caps2 === DDS_CUBEMAP_ALLFACES;\n    var numFaces = isCubeMap ? 6 : 1;\n    var numMips = header.flags & DDSD_MIPMAPCOUNT ? header.mipMapCount : 1;\n    var levels = [];\n    if (isCubeMap) {\n      for (var mipCnt = 0;mipCnt < numMips;mipCnt++) {\n        levels.push([]);\n      }\n    }\n    for (var face = 0;face < numFaces;face++) {\n      var mipWidth = header.width;\n      var mipHeight = header.height;\n      for (var mip = 0;mip < numMips;mip++) {\n        var mipSize;\n        if (fcc === FCC_DXT1 || fcc === FCC_DXT5 || fcc === FCC_ETC1) {\n          var bytesPerBlock = fcc === FCC_DXT5 ? 16 : 8;\n          mipSize = Math.floor((mipWidth + 3) / 4) * Math.floor((mipHeight + 3) / 4) * bytesPerBlock;\n        } else {\n          if (fcc === FCC_PVRTC_2BPP_RGB_1 || fcc === FCC_PVRTC_2BPP_RGBA_1) {\n            mipSize = Math.max(mipWidth, 16) * Math.max(mipHeight, 8) / 4;\n          } else {\n            if (fcc === FCC_PVRTC_4BPP_RGB_1 || fcc === FCC_PVRTC_4BPP_RGBA_1) {\n              mipSize = Math.max(mipWidth, 8) * Math.max(mipHeight, 8) / 2;\n            } else {\n              if (header.ddspf.rgbBitCount === 32) {\n                mipSize = mipWidth * mipHeight * 4;\n              } else {\n                return null;\n              }\n            }\n          }\n        }\n        var mipData = fcc === FCC_FP32 ? new Float32Array(arrayBuffer, offset, mipSize) : new Uint8Array(arrayBuffer, offset, mipSize);\n        if (isCubeMap) {\n          levels[mip][face] = mipData;\n        } else {\n          levels.push(mipData);\n        }\n        offset += fcc === FCC_FP32 ? mipSize * 4 : mipSize;\n        mipWidth = Math.max(mipWidth * 0.5, 1);\n        mipHeight = Math.max(mipHeight * 0.5, 1);\n      }\n    }\n    this.format = fccToFormat[fcc] || pc.PIXELFORMAT_R8_G8_B8_A8;\n    this.width = header.width;\n    this.height = header.height;\n    this.levels = levels;\n    this.cubemap = isCubeMap;\n  };\n  return {DdsParser:DdsParser};\n}());\nObject.assign(pc, function() {\n  var IDENTIFIER = [1481919403, 3140563232, 169478669];\n  var KNOWN_FORMATS = {33776:pc.PIXELFORMAT_DXT1, 33778:pc.PIXELFORMAT_DXT3, 33779:pc.PIXELFORMAT_DXT5, 36196:pc.PIXELFORMAT_ETC1, 37492:pc.PIXELFORMAT_ETC2_RGB, 37496:pc.PIXELFORMAT_ETC2_RGBA, 35840:pc.PIXELFORMAT_PVRTC_4BPP_RGB_1, 35841:pc.PIXELFORMAT_PVRTC_2BPP_RGB_1, 35842:pc.PIXELFORMAT_PVRTC_4BPP_RGBA_1, 35843:pc.PIXELFORMAT_PVRTC_2BPP_RGBA_1};\n  var KtxParser = function(arrayBuffer) {\n    var headerU32 = new Uint32Array(arrayBuffer, 0, 16);\n    if (IDENTIFIER[0] !== headerU32[0] || IDENTIFIER[1] !== headerU32[1] || IDENTIFIER[2] !== headerU32[2]) {\n      return null;\n    }\n    var header = {endianness:headerU32[3], glType:headerU32[4], glTypeSize:headerU32[5], glFormat:headerU32[6], glInternalFormat:headerU32[7], glBaseInternalFormat:headerU32[8], pixelWidth:headerU32[9], pixelHeight:headerU32[10], pixelDepth:headerU32[11], numberOfArrayElements:headerU32[12], numberOfFaces:headerU32[13], numberOfMipmapLevels:headerU32[14], bytesOfKeyValueData:headerU32[15]};\n    if (header.pixelDepth > 1) {\n      return null;\n    }\n    if (header.numberOfArrayElements > 1) {\n      return null;\n    }\n    if (header.glFormat !== 0) {\n      return null;\n    }\n    if (!KNOWN_FORMATS[header.glInternalFormat]) {\n      return null;\n    }\n    var offset = 16 * 4 + header.bytesOfKeyValueData;\n    var levels = [];\n    var isCubeMap = false;\n    for (var mipmapLevel = 0;mipmapLevel < (header.numberOfMipmapLevels || 1);mipmapLevel++) {\n      var imageSizeInBytes = (new Uint32Array(arrayBuffer.slice(offset, offset + 4)))[0];\n      offset += 4;\n      var faceSizeInBytes = imageSizeInBytes / (header.numberOfFaces || 1);\n      if (header.numberOfFaces > 1) {\n        isCubeMap = true;\n        levels.push([]);\n      }\n      for (var face = 0;face < header.numberOfFaces;face++) {\n        var mipData = new Uint8Array(arrayBuffer, offset, faceSizeInBytes);\n        if (header.numberOfFaces > 1) {\n          levels[mipmapLevel].push(mipData);\n        } else {\n          levels.push(mipData);\n        }\n        offset += faceSizeInBytes;\n      }\n      offset += 3 - (offset + 3) % 4;\n    }\n    this.format = KNOWN_FORMATS[header.glInternalFormat];\n    this.width = header.pixelWidth;\n    this.height = header.pixelHeight;\n    this.levels = levels;\n    this.cubemap = isCubeMap;\n  };\n  return {KtxParser:KtxParser};\n}());\nObject.assign(pc, function() {\n  var JSON_ADDRESS_MODE = {\"repeat\":pc.ADDRESS_REPEAT, \"clamp\":pc.ADDRESS_CLAMP_TO_EDGE, \"mirror\":pc.ADDRESS_MIRRORED_REPEAT};\n  var JSON_FILTER_MODE = {\"nearest\":pc.FILTER_NEAREST, \"linear\":pc.FILTER_LINEAR, \"nearest_mip_nearest\":pc.FILTER_NEAREST_MIPMAP_NEAREST, \"linear_mip_nearest\":pc.FILTER_LINEAR_MIPMAP_NEAREST, \"nearest_mip_linear\":pc.FILTER_NEAREST_MIPMAP_LINEAR, \"linear_mip_linear\":pc.FILTER_LINEAR_MIPMAP_LINEAR};\n  function arrayBufferCopy(src, dst, dstByteOffset, numBytes) {\n    var i;\n    var dst32Offset = dstByteOffset / 4;\n    var tail = numBytes % 4;\n    var src32 = new Uint32Array(src.buffer, 0, (numBytes - tail) / 4);\n    var dst32 = new Uint32Array(dst.buffer);\n    for (i = 0;i < src32.length;i++) {\n      dst32[dst32Offset + i] = src32[i];\n    }\n    for (i = numBytes - tail;i < numBytes;i++) {\n      dst[dstByteOffset + i] = src[i];\n    }\n  }\n  var _legacyDdsLoader = function(url, data, graphicsDevice) {\n    var ext = pc.path.getExtension(url).toLowerCase();\n    if (ext === \".crn\") {\n      var srcSize = data.byteLength;\n      var bytes = new Uint8Array(data);\n      var src = Module._malloc(srcSize);\n      arrayBufferCopy(bytes, Module.HEAPU8, src, srcSize);\n      var dst = Module._crn_decompress_get_data(src, srcSize);\n      var dstSize = Module._crn_decompress_get_size(src, srcSize);\n      data = Module.HEAPU8.buffer.slice(dst, dst + dstSize);\n    }\n    var header = new Uint32Array(data, 0, 128 / 4);\n    var width = header[4];\n    var height = header[3];\n    var mips = Math.max(header[7], 1);\n    var isFourCc = header[20] === 4;\n    var fcc = header[21];\n    var bpp = header[22];\n    var isCubemap = header[28] === 65024;\n    var FCC_DXT1 = 827611204;\n    var FCC_DXT5 = 894720068;\n    var FCC_FP32 = 116;\n    var FCC_ETC1 = 826496069;\n    var FCC_PVRTC_2BPP_RGB_1 = 825438800;\n    var FCC_PVRTC_2BPP_RGBA_1 = 825504336;\n    var FCC_PVRTC_4BPP_RGB_1 = 825439312;\n    var FCC_PVRTC_4BPP_RGBA_1 = 825504848;\n    var compressed = false;\n    var floating = false;\n    var etc1 = false;\n    var pvrtc2 = false;\n    var pvrtc4 = false;\n    var format = null;\n    var texture;\n    if (isFourCc) {\n      if (fcc === FCC_DXT1) {\n        format = pc.PIXELFORMAT_DXT1;\n        compressed = true;\n      } else {\n        if (fcc === FCC_DXT5) {\n          format = pc.PIXELFORMAT_DXT5;\n          compressed = true;\n        } else {\n          if (fcc === FCC_FP32) {\n            format = pc.PIXELFORMAT_RGBA32F;\n            floating = true;\n          } else {\n            if (fcc === FCC_ETC1) {\n              format = pc.PIXELFORMAT_ETC1;\n              compressed = true;\n              etc1 = true;\n            } else {\n              if (fcc === FCC_PVRTC_2BPP_RGB_1 || fcc === FCC_PVRTC_2BPP_RGBA_1) {\n                format = fcc === FCC_PVRTC_2BPP_RGB_1 ? pc.PIXELFORMAT_PVRTC_2BPP_RGB_1 : pc.PIXELFORMAT_PVRTC_2BPP_RGBA_1;\n                compressed = true;\n                pvrtc2 = true;\n              } else {\n                if (fcc === FCC_PVRTC_4BPP_RGB_1 || fcc === FCC_PVRTC_4BPP_RGBA_1) {\n                  format = fcc === FCC_PVRTC_4BPP_RGB_1 ? pc.PIXELFORMAT_PVRTC_4BPP_RGB_1 : pc.PIXELFORMAT_PVRTC_4BPP_RGBA_1;\n                  compressed = true;\n                  pvrtc4 = true;\n                }\n              }\n            }\n          }\n        }\n      }\n    } else {\n      if (bpp === 32) {\n        format = pc.PIXELFORMAT_R8_G8_B8_A8;\n      }\n    }\n    if (!format) {\n      texture = new pc.Texture(graphicsDevice, {width:4, height:4, format:pc.PIXELFORMAT_R8_G8_B8});\n      texture.name = \"dds-legacy-empty\";\n      return texture;\n    }\n    var texOptions = {width:width, height:height, format:format, cubemap:isCubemap};\n    texture = new pc.Texture(graphicsDevice, texOptions);\n    if (isCubemap) {\n      texture.addressU = pc.ADDRESS_CLAMP_TO_EDGE;\n      texture.addressV = pc.ADDRESS_CLAMP_TO_EDGE;\n    }\n    var offset = 128;\n    var faces = isCubemap ? 6 : 1;\n    var mipSize;\n    var DXT_BLOCK_WIDTH = 4;\n    var DXT_BLOCK_HEIGHT = 4;\n    var blockSize = fcc === FCC_DXT1 ? 8 : 16;\n    var numBlocksAcross, numBlocksDown, numBlocks;\n    for (var face = 0;face < faces;face++) {\n      var mipWidth = width;\n      var mipHeight = height;\n      for (var i = 0;i < mips;i++) {\n        if (compressed) {\n          if (etc1) {\n            mipSize = Math.floor((mipWidth + 3) / 4) * Math.floor((mipHeight + 3) / 4) * 8;\n          } else {\n            if (pvrtc2) {\n              mipSize = Math.max(mipWidth, 16) * Math.max(mipHeight, 8) / 4;\n            } else {\n              if (pvrtc4) {\n                mipSize = Math.max(mipWidth, 8) * Math.max(mipHeight, 8) / 2;\n              } else {\n                numBlocksAcross = Math.floor((mipWidth + DXT_BLOCK_WIDTH - 1) / DXT_BLOCK_WIDTH);\n                numBlocksDown = Math.floor((mipHeight + DXT_BLOCK_HEIGHT - 1) / DXT_BLOCK_HEIGHT);\n                numBlocks = numBlocksAcross * numBlocksDown;\n                mipSize = numBlocks * blockSize;\n              }\n            }\n          }\n        } else {\n          mipSize = mipWidth * mipHeight * 4;\n        }\n        var mipBuff = floating ? new Float32Array(data, offset, mipSize) : new Uint8Array(data, offset, mipSize);\n        if (!isCubemap) {\n          texture._levels[i] = mipBuff;\n        } else {\n          if (!texture._levels[i]) {\n            texture._levels[i] = [];\n          }\n          texture._levels[i][face] = mipBuff;\n        }\n        offset += floating ? mipSize * 4 : mipSize;\n        mipWidth = Math.max(mipWidth * 0.5, 1);\n        mipHeight = Math.max(mipHeight * 0.5, 1);\n      }\n    }\n    texture.name = url;\n    texture.upload();\n    return texture;\n  };\n  var _completePartialMipmapChain = function(texture) {\n    var requiredMipLevels = Math.log2(Math.max(texture._width, texture._height)) + 1;\n    var isHtmlElement = function(object) {\n      return object instanceof HTMLCanvasElement || object instanceof HTMLImageElement || object instanceof HTMLVideoElement;\n    };\n    if (!(texture._format === pc.PIXELFORMAT_R8_G8_B8_A8 || texture._format === pc.PIXELFORMAT_RGBA32F) || texture._volume || texture._compressed || texture._levels.length === 1 || texture._levels.length === requiredMipLevels || isHtmlElement(texture._cubemap ? texture._levels[0][0] : texture._levels[0])) {\n      return;\n    }\n    var downsample = function(width, height, data) {\n      var sampledWidth = Math.max(1, width >> 1);\n      var sampledHeight = Math.max(1, height >> 1);\n      var sampledData = new data.constructor(sampledWidth * sampledHeight * 4);\n      var xs = Math.floor(width / sampledWidth);\n      var ys = Math.floor(height / sampledHeight);\n      var xsys = xs * ys;\n      for (var y = 0;y < sampledHeight;++y) {\n        for (var x = 0;x < sampledWidth;++x) {\n          for (var e = 0;e < 4;++e) {\n            var sum = 0;\n            for (var sy = 0;sy < ys;++sy) {\n              for (var sx = 0;sx < xs;++sx) {\n                sum += data[(x * xs + sx + (y * ys + sy) * width) * 4 + e];\n              }\n            }\n            sampledData[(x + y * sampledWidth) * 4 + e] = sum / xsys;\n          }\n        }\n      }\n      return sampledData;\n    };\n    for (var level = texture._levels.length;level < requiredMipLevels;++level) {\n      var width = Math.max(1, texture._width >> level - 1);\n      var height = Math.max(1, texture._height >> level - 1);\n      if (texture._cubemap) {\n        var mips = [];\n        for (var face = 0;face < 6;++face) {\n          mips.push(downsample(width, height, texture._levels[level - 1][face]));\n        }\n        texture._levels.push(mips);\n      } else {\n        texture._levels.push(downsample(width, height, texture._levels[level - 1]));\n      }\n    }\n    texture._levelsUpdated = texture._cubemap ? [[true, true, true, true, true, true]] : [true];\n  };\n  var TextureHandler = function(device, assets, loader) {\n    this._device = device;\n    this._assets = assets;\n    this._loader = loader;\n    this.crossOrigin = undefined;\n    if (assets.prefix) {\n      this.crossOrigin = \"anonymous\";\n    }\n    this.retryRequests = false;\n  };\n  Object.assign(TextureHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    var self = this;\n    var options;\n    var urlWithoutParams = url.original.indexOf(\"?\") >= 0 ? url.original.split(\"?\")[0] : url.original;\n    var ext = pc.path.getExtension(urlWithoutParams).toLowerCase();\n    if (ext === \".dds\" || ext === \".ktx\") {\n      options = {cache:true, responseType:\"arraybuffer\", retry:this.retryRequests};\n      pc.http.get(url.load, options, callback);\n    } else {\n      if (ext === \".basis\") {\n        options = {cache:true, responseType:\"arraybuffer\", retry:this.retryRequests};\n        pc.http.get(url.load, options, function(err, result) {\n          if (err) {\n            callback(err, result);\n          } else {\n            pc.basisTranscode(url.load, result, callback);\n          }\n        });\n      } else {\n        if (ext === \".jpg\" || ext === \".jpeg\" || ext === \".gif\" || ext === \".png\") {\n          var crossOrigin;\n          if (self.crossOrigin !== undefined && pc.ABSOLUTE_URL.test(url.original)) {\n            crossOrigin = self.crossOrigin;\n          }\n          self._loadImage(url.load, url.original, crossOrigin, callback);\n        } else {\n          var blobStart = urlWithoutParams.indexOf(\"blob:\");\n          if (blobStart >= 0) {\n            urlWithoutParams = urlWithoutParams.substr(blobStart);\n            url = urlWithoutParams;\n            self._loadImage(url, url, null, callback);\n          } else {\n            setTimeout(function() {\n              callback(pc.string.format(\"Error loading Texture: format not supported: '{0}'\", ext));\n            }, 0);\n          }\n        }\n      }\n    }\n  }, _loadImage:function(url, originalUrl, crossOrigin, callback) {\n    var image = new Image;\n    if (crossOrigin) {\n      image.crossOrigin = crossOrigin;\n    }\n    var retries = 0;\n    var maxRetries = 5;\n    var retryTimeout;\n    var retryRequests = this.retryRequests;\n    image.onload = function() {\n      callback(null, image);\n    };\n    image.onerror = function() {\n      if (retryTimeout) {\n        return;\n      }\n      if (retryRequests && ++retries <= maxRetries) {\n        var retryDelay = Math.pow(2, retries) * 100;\n        console.log(pc.string.format(\"Error loading Texture from: '{0}' - Retrying in {1}ms...\", originalUrl, retryDelay));\n        var idx = url.indexOf(\"?\");\n        var separator = idx >= 0 ? \"&\" : \"?\";\n        retryTimeout = setTimeout(function() {\n          image.src = url + separator + \"retry=\" + Date.now();\n          retryTimeout = null;\n        }, retryDelay);\n      } else {\n        callback(pc.string.format(\"Error loading Texture from: '{0}'\", originalUrl));\n      }\n    };\n    image.src = url;\n  }, open:function(url, data) {\n    if (!url) {\n      return;\n    }\n    var texture;\n    var ext = pc.path.getExtension(url).toLowerCase();\n    var format = null;\n    if (data instanceof Image || data instanceof HTMLImageElement) {\n      var img = data;\n      format = ext === \".jpg\" || ext === \".jpeg\" ? pc.PIXELFORMAT_R8_G8_B8 : pc.PIXELFORMAT_R8_G8_B8_A8;\n      texture = new pc.Texture(this._device, {width:img.width, height:img.height, format:format});\n      texture.name = url;\n      texture.setSource(img);\n    } else {\n      if (ext === \".dds\") {\n        texture = _legacyDdsLoader(url, data, this._device);\n      } else {\n        var textureData;\n        if (ext === \".basis\") {\n          textureData = data;\n        } else {\n          if (data instanceof ArrayBuffer) {\n            switch(ext) {\n              case \".dds\":\n                textureData = new pc.DdsParser(data);\n                break;\n              case \".ktx\":\n                textureData = new pc.KtxParser(data);\n                break;\n              case \".pvr\":\n                console.warn(\"PVR container not supported.\");\n                break;\n            }\n          }\n        }\n        if (!textureData) {\n          texture = new pc.Texture(this._device, {width:4, height:4, format:pc.PIXELFORMAT_R8_G8_B8});\n          texture.name = \"unsupported-empty\";\n          return texture;\n        }\n        texture = new pc.Texture(this._device, {addressU:textureData.cubemap ? pc.ADDRESS_CLAMP_TO_EDGE : pc.ADDRESS_REPEAT, addressV:textureData.cubemap ? pc.ADDRESS_CLAMP_TO_EDGE : pc.ADDRESS_REPEAT, width:textureData.width, height:textureData.height, format:textureData.format, cubemap:textureData.cubemap, levels:textureData.levels});\n        texture.name = url;\n        texture.upload();\n      }\n    }\n    _completePartialMipmapChain(texture);\n    return texture;\n  }, patch:function(asset, assets) {\n    var texture = asset.resource;\n    if (!texture) {\n      return;\n    }\n    if (texture.name !== asset.name) {\n      texture.name = asset.name;\n    }\n    if (asset.data.hasOwnProperty(\"minfilter\") && texture.minFilter !== JSON_FILTER_MODE[asset.data.minfilter]) {\n      texture.minFilter = JSON_FILTER_MODE[asset.data.minfilter];\n    }\n    if (asset.data.hasOwnProperty(\"magfilter\") && texture.magFilter !== JSON_FILTER_MODE[asset.data.magfilter]) {\n      texture.magFilter = JSON_FILTER_MODE[asset.data.magfilter];\n    }\n    if (asset.data.hasOwnProperty(\"addressu\") && texture.addressU !== JSON_ADDRESS_MODE[asset.data.addressu]) {\n      texture.addressU = JSON_ADDRESS_MODE[asset.data.addressu];\n    }\n    if (asset.data.hasOwnProperty(\"addressv\") && texture.addressV !== JSON_ADDRESS_MODE[asset.data.addressv]) {\n      texture.addressV = JSON_ADDRESS_MODE[asset.data.addressv];\n    }\n    if (asset.data.hasOwnProperty(\"mipmaps\") && texture.mipmaps !== asset.data.mipmaps) {\n      texture.mipmaps = asset.data.mipmaps;\n    }\n    if (asset.data.hasOwnProperty(\"anisotropy\") && texture.anisotropy !== asset.data.anisotropy) {\n      texture.anisotropy = asset.data.anisotropy;\n    }\n    var rgbm = !!asset.data.rgbm;\n    if (asset.data.hasOwnProperty(\"rgbm\") && texture.rgbm !== rgbm) {\n      texture.rgbm = rgbm;\n    }\n  }});\n  return {TextureHandler:TextureHandler};\n}());\nObject.assign(pc, function() {\n  var HtmlHandler = function() {\n    this.retryRequests = false;\n  };\n  Object.assign(HtmlHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    pc.http.get(url.load, {retry:this.retryRequests}, function(err, response) {\n      if (!err) {\n        callback(null, response);\n      } else {\n        callback(pc.string.format(\"Error loading html resource: {0} [{1}]\", url.original, err));\n      }\n    });\n  }, open:function(url, data) {\n    return data;\n  }, patch:function(asset, assets) {\n  }});\n  return {HtmlHandler:HtmlHandler};\n}());\nObject.assign(pc, function() {\n  var CssHandler = function() {\n    this.retryRequests = false;\n  };\n  Object.assign(CssHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    pc.http.get(url.load, {retry:this.retryRequests}, function(err, response) {\n      if (!err) {\n        callback(null, response);\n      } else {\n        callback(pc.string.format(\"Error loading css resource: {0} [{1}]\", url.original, err));\n      }\n    });\n  }, open:function(url, data) {\n    return data;\n  }, patch:function(asset, assets) {\n  }});\n  var createStyle = function(cssString) {\n    var result = document.createElement(\"style\");\n    result.type = \"text/css\";\n    if (result.styleSheet) {\n      result.styleSheet.cssText = cssString;\n    } else {\n      result.appendChild(document.createTextNode(cssString));\n    }\n    return result;\n  };\n  return {CssHandler:CssHandler, createStyle:createStyle};\n}());\nObject.assign(pc, function() {\n  var ShaderHandler = function() {\n    this.retryRequests = false;\n  };\n  Object.assign(ShaderHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    pc.http.get(url.load, {retry:this.retryRequests}, function(err, response) {\n      if (!err) {\n        callback(null, response);\n      } else {\n        callback(pc.string.format(\"Error loading shader resource: {0} [{1}]\", url.original, err));\n      }\n    });\n  }, open:function(url, data) {\n    return data;\n  }, patch:function(asset, assets) {\n  }});\n  return {ShaderHandler:ShaderHandler};\n}());\nObject.assign(pc, function() {\n  var SceneHandler = function(app) {\n    this._app = app;\n    this.retryRequests = false;\n  };\n  Object.assign(SceneHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    var assets = this._app.assets;\n    pc.http.get(url.load, {retry:this.retryRequests}, function(err, response) {\n      if (!err) {\n        pc.TemplateUtils.waitForTemplatesInScene(response, assets, callback);\n      } else {\n        var errMsg = \"Error while loading scene \" + url.original;\n        if (err.message) {\n          errMsg += \": \" + err.message;\n          if (err.stack) {\n            errMsg += \"\\n\" + err.stack;\n          }\n        } else {\n          errMsg += \": \" + err;\n        }\n        callback(errMsg);\n      }\n    });\n  }, open:function(url, data) {\n    this._app.systems.script.preloading = true;\n    var parser = new pc.SceneParser(this._app, false);\n    var parent = parser.parse(data);\n    var scene = this._app.scene;\n    scene.root = parent;\n    this._app.applySceneSettings(data.settings);\n    this._app.systems.script.preloading = false;\n    return scene;\n  }, patch:function(asset, assets) {\n  }});\n  return {SceneHandler:SceneHandler};\n}());\nObject.assign(pc, function() {\n  var HierarchyHandler = function(app) {\n    this._app = app;\n    this.retryRequests = false;\n  };\n  Object.assign(HierarchyHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    var assets = this._app.assets;\n    pc.http.get(url.load, {retry:this.retryRequests}, function(err, response) {\n      if (!err) {\n        pc.TemplateUtils.waitForTemplatesInScene(response, assets, callback);\n      } else {\n        var errMsg = \"Error while loading scene \" + url.original;\n        if (err.message) {\n          errMsg += \": \" + err.message;\n          if (err.stack) {\n            errMsg += \"\\n\" + err.stack;\n          }\n        } else {\n          errMsg += \": \" + err;\n        }\n        callback(errMsg);\n      }\n    });\n  }, open:function(url, data) {\n    this._app.systems.script.preloading = true;\n    var parser = new pc.SceneParser(this._app, false);\n    var parent = parser.parse(data);\n    this._app.systems.script.preloading = false;\n    return parent;\n  }});\n  return {HierarchyHandler:HierarchyHandler};\n}());\nObject.assign(pc, function() {\n  var SceneSettingsHandler = function(app) {\n    this._app = app;\n    this.retryRequests = false;\n  };\n  Object.assign(SceneSettingsHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    pc.http.get(url.load, {retry:this.retryRequests}, function(err, response) {\n      if (!err) {\n        callback(null, response);\n      } else {\n        var errMsg = \"Error while loading scene settings \" + url.original;\n        if (err.message) {\n          errMsg += \": \" + err.message;\n          if (err.stack) {\n            errMsg += \"\\n\" + err.stack;\n          }\n        } else {\n          errMsg += \": \" + err;\n        }\n        callback(errMsg);\n      }\n    });\n  }, open:function(url, data) {\n    return data.settings;\n  }});\n  return {SceneSettingsHandler:SceneSettingsHandler};\n}());\nObject.assign(pc, function() {\n  var TemplateHandler = function(app) {\n    this._app = app;\n  };\n  Object.assign(TemplateHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    var assets = this._app.assets;\n    pc.http.get(url.load, function(err, response) {\n      if (err) {\n        callback(\"Error requesting template: \" + url.original);\n      } else {\n        pc.TemplateUtils.waitForTemplateAssets(response.entities, assets, callback, response);\n      }\n    });\n  }, open:function(url, data) {\n    return new pc.Template(this._app, data);\n  }});\n  return {TemplateHandler:TemplateHandler};\n}());\nObject.assign(pc, function() {\n  var FolderHandler = function() {\n  };\n  Object.assign(FolderHandler.prototype, {load:function(url, callback) {\n    callback(null, null);\n  }, open:function(url, data) {\n    return data;\n  }});\n  return {FolderHandler:FolderHandler};\n}());\nObject.assign(pc, function() {\n  function upgradeDataSchema(data) {\n    if (data.version < 3) {\n      if (data.version < 2) {\n        data.info.maps = data.info.maps || [{width:data.info.width, height:data.info.height}];\n      }\n      data.chars = Object.keys(data.chars || {}).reduce(function(newChars, key) {\n        var existing = data.chars[key];\n        var newKey = existing.letter !== undefined ? existing.letter : pc.string.fromCodePoint(key);\n        if (data.version < 2) {\n          existing.map = existing.map || 0;\n        }\n        newChars[newKey] = existing;\n        return newChars;\n      }, {});\n      data.version = 3;\n    }\n    return data;\n  }\n  var FontHandler = function(loader) {\n    this._loader = loader;\n    this.retryRequests = false;\n  };\n  Object.assign(FontHandler.prototype, {load:function(url, callback, asset) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    var self = this;\n    if (pc.path.getExtension(url.original) === \".json\") {\n      pc.http.get(url.load, {retry:this.retryRequests}, function(err, response) {\n        var data = upgradeDataSchema(response);\n        if (!err) {\n          self._loadTextures(url.original.replace(\".json\", \".png\"), data, function(err, textures) {\n            if (err) {\n              return callback(err);\n            }\n            callback(null, {data:data, textures:textures});\n          });\n        } else {\n          callback(pc.string.format(\"Error loading font resource: {0} [{1}]\", url.original, err));\n        }\n      });\n    } else {\n      if (asset && asset.data) {\n        asset.data = upgradeDataSchema(asset.data);\n      }\n      this._loadTextures(url.original, asset && asset.data, callback);\n    }\n  }, _loadTextures:function(url, data, callback) {\n    var numTextures = data.info.maps.length;\n    var numLoaded = 0;\n    var error = null;\n    var textures = new Array(numTextures);\n    var loader = this._loader;\n    var loadTexture = function(index) {\n      var onLoaded = function(err, texture) {\n        if (error) {\n          return;\n        }\n        if (err) {\n          error = err;\n          return callback(err);\n        }\n        texture.upload();\n        textures[index] = texture;\n        numLoaded++;\n        if (numLoaded === numTextures) {\n          callback(null, textures);\n        }\n      };\n      if (index === 0) {\n        loader.load(url, \"texture\", onLoaded);\n      } else {\n        loader.load(url.replace(\".png\", index + \".png\"), \"texture\", onLoaded);\n      }\n    };\n    for (var i = 0;i < numTextures;i++) {\n      loadTexture(i);\n    }\n  }, open:function(url, data, asset) {\n    var font;\n    if (data.textures) {\n      font = new pc.Font(data.textures, data.data);\n    } else {\n      font = new pc.Font(data, null);\n    }\n    return font;\n  }, patch:function(asset, assets) {\n    var font = asset.resource;\n    if (!font.data && asset.data) {\n      font.data = asset.data;\n    } else {\n      if (!asset.data && font.data) {\n        asset.data = font.data;\n      }\n    }\n    if (asset.data) {\n      asset.data = upgradeDataSchema(asset.data);\n    }\n  }});\n  return {FontHandler:FontHandler};\n}());\nObject.assign(pc, function() {\n  var JSON_ADDRESS_MODE = {\"repeat\":pc.ADDRESS_REPEAT, \"clamp\":pc.ADDRESS_CLAMP_TO_EDGE, \"mirror\":pc.ADDRESS_MIRRORED_REPEAT};\n  var JSON_FILTER_MODE = {\"nearest\":pc.FILTER_NEAREST, \"linear\":pc.FILTER_LINEAR, \"nearest_mip_nearest\":pc.FILTER_NEAREST_MIPMAP_NEAREST, \"linear_mip_nearest\":pc.FILTER_LINEAR_MIPMAP_NEAREST, \"nearest_mip_linear\":pc.FILTER_NEAREST_MIPMAP_LINEAR, \"linear_mip_linear\":pc.FILTER_LINEAR_MIPMAP_LINEAR};\n  var regexFrame = /^data\\.frames\\.(\\d+)$/;\n  var TextureAtlasHandler = function(loader) {\n    this._loader = loader;\n    this.retryRequests = false;\n  };\n  Object.assign(TextureAtlasHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    var self = this;\n    var handler = this._loader.getHandler(\"texture\");\n    if (pc.path.getExtension(url.original) === \".json\") {\n      pc.http.get(url.load, {retry:this.retryRequests}, function(err, response) {\n        if (!err) {\n          var textureUrl = url.original.replace(\".json\", \".png\");\n          self._loader.load(textureUrl, \"texture\", function(err, texture) {\n            if (err) {\n              callback(err);\n            } else {\n              callback(null, {data:response, texture:texture});\n            }\n          });\n        } else {\n          callback(err);\n        }\n      });\n    } else {\n      return handler.load(url, callback);\n    }\n  }, open:function(url, data) {\n    var resource = new pc.TextureAtlas;\n    if (data.texture && data.data) {\n      resource.texture = data.texture;\n      resource.__data = data.data;\n    } else {\n      var handler = this._loader.getHandler(\"texture\");\n      var texture = handler.open(url, data);\n      if (!texture) {\n        return null;\n      }\n      resource.texture = texture;\n    }\n    return resource;\n  }, patch:function(asset, assets) {\n    if (asset.resource.__data) {\n      if (asset.resource.__data.minfilter !== undefined) {\n        asset.data.minfilter = asset.resource.__data.minfilter;\n      }\n      if (asset.resource.__data.magfilter !== undefined) {\n        asset.data.magfilter = asset.resource.__data.magfilter;\n      }\n      if (asset.resource.__data.addressu !== undefined) {\n        asset.data.addressu = asset.resource.__data.addressu;\n      }\n      if (asset.resource.__data.addressv !== undefined) {\n        asset.data.addressv = asset.resource.__data.addressv;\n      }\n      if (asset.resource.__data.mipmaps !== undefined) {\n        asset.data.mipmaps = asset.resource.__data.mipmaps;\n      }\n      if (asset.resource.__data.anisotropy !== undefined) {\n        asset.data.anisotropy = asset.resource.__data.anisotropy;\n      }\n      if (asset.resource.__data.rgbm !== undefined) {\n        asset.data.rgbm = !!asset.resource.__data.rgbm;\n      }\n      asset.data.frames = asset.resource.__data.frames;\n      delete asset.resource.__data;\n    }\n    var texture = asset.resource.texture;\n    if (texture) {\n      texture.name = asset.name;\n      if (asset.data.hasOwnProperty(\"minfilter\") && texture.minFilter !== JSON_FILTER_MODE[asset.data.minfilter]) {\n        texture.minFilter = JSON_FILTER_MODE[asset.data.minfilter];\n      }\n      if (asset.data.hasOwnProperty(\"magfilter\") && texture.magFilter !== JSON_FILTER_MODE[asset.data.magfilter]) {\n        texture.magFilter = JSON_FILTER_MODE[asset.data.magfilter];\n      }\n      if (asset.data.hasOwnProperty(\"addressu\") && texture.addressU !== JSON_ADDRESS_MODE[asset.data.addressu]) {\n        texture.addressU = JSON_ADDRESS_MODE[asset.data.addressu];\n      }\n      if (asset.data.hasOwnProperty(\"addressv\") && texture.addressV !== JSON_ADDRESS_MODE[asset.data.addressv]) {\n        texture.addressV = JSON_ADDRESS_MODE[asset.data.addressv];\n      }\n      if (asset.data.hasOwnProperty(\"mipmaps\") && texture.mipmaps !== asset.data.mipmaps) {\n        texture.mipmaps = asset.data.mipmaps;\n      }\n      if (asset.data.hasOwnProperty(\"anisotropy\") && texture.anisotropy !== asset.data.anisotropy) {\n        texture.anisotropy = asset.data.anisotropy;\n      }\n      var rgbm = !!asset.data.rgbm;\n      if (asset.data.hasOwnProperty(\"rgbm\") && texture.rgbm !== rgbm) {\n        texture.rgbm = rgbm;\n      }\n    }\n    asset.resource.texture = texture;\n    var frames = {};\n    for (var key in asset.data.frames) {\n      var frame = asset.data.frames[key];\n      frames[key] = {rect:new pc.Vec4(frame.rect), pivot:new pc.Vec2(frame.pivot), border:new pc.Vec4(frame.border)};\n    }\n    asset.resource.frames = frames;\n    asset.off(\"change\", this._onAssetChange, this);\n    asset.on(\"change\", this._onAssetChange, this);\n  }, _onAssetChange:function(asset, attribute, value) {\n    var frame;\n    if (attribute === \"data\" || attribute === \"data.frames\") {\n      var frames = {};\n      for (var key in value.frames) {\n        frame = value.frames[key];\n        frames[key] = {rect:new pc.Vec4(frame.rect), pivot:new pc.Vec2(frame.pivot), border:new pc.Vec4(frame.border)};\n      }\n      asset.resource.frames = frames;\n    } else {\n      var match = attribute.match(regexFrame);\n      if (match) {\n        var frameKey = match[1];\n        if (value) {\n          if (!asset.resource.frames[frameKey]) {\n            asset.resource.frames[frameKey] = {rect:new pc.Vec4(value.rect), pivot:new pc.Vec2(value.pivot), border:new pc.Vec4(value.border)};\n          } else {\n            frame = asset.resource.frames[frameKey];\n            frame.rect.set(value.rect[0], value.rect[1], value.rect[2], value.rect[3]);\n            frame.pivot.set(value.pivot[0], value.pivot[1]);\n            frame.border.set(value.border[0], value.border[1], value.border[2], value.border[3]);\n          }\n          asset.resource.fire(\"set:frame\", frameKey, asset.resource.frames[frameKey]);\n        } else {\n          if (asset.resource.frames[frameKey]) {\n            delete asset.resource.frames[frameKey];\n            asset.resource.fire(\"remove:frame\", frameKey);\n          }\n        }\n      }\n    }\n  }});\n  return {TextureAtlasHandler:TextureAtlasHandler};\n}());\nObject.assign(pc, function() {\n  var SpriteHandler = function(assets, device) {\n    this._assets = assets;\n    this._device = device;\n    this.retryRequests = false;\n  };\n  var onTextureAtlasLoaded = function(atlasAsset) {\n    var spriteAsset = this;\n    if (spriteAsset.resource) {\n      spriteAsset.resource.atlas = atlasAsset.resource;\n    }\n  };\n  var onTextureAtlasAdded = function(atlasAsset) {\n    var spriteAsset = this;\n    spriteAsset.registry.load(atlasAsset);\n  };\n  Object.assign(SpriteHandler.prototype, {load:function(url, callback) {\n    if (typeof url === \"string\") {\n      url = {load:url, original:url};\n    }\n    if (pc.path.getExtension(url.original) === \".json\") {\n      pc.http.get(url.load, {retry:this.retryRequests}, function(err, response) {\n        if (!err) {\n          callback(null, response);\n        } else {\n          callback(err);\n        }\n      });\n    }\n  }, open:function(url, data) {\n    var sprite = new pc.Sprite(this._device);\n    if (url) {\n      sprite.__data = data;\n    }\n    return sprite;\n  }, patch:function(asset, assets) {\n    var sprite = asset.resource;\n    if (sprite.__data) {\n      asset.data.pixelsPerUnit = sprite.__data.pixelsPerUnit;\n      asset.data.renderMode = sprite.__data.renderMode;\n      asset.data.frameKeys = sprite.__data.frameKeys;\n      if (sprite.__data.textureAtlasAsset) {\n        var atlas = assets.getByUrl(sprite.__data.textureAtlasAsset);\n        if (atlas) {\n          asset.data.textureAtlasAsset = atlas.id;\n        } else {\n          console.warn(\"Could not find textureatlas with url: \" + sprite.__data.textureAtlasAsset);\n        }\n      }\n    }\n    sprite.startUpdate();\n    sprite.renderMode = asset.data.renderMode;\n    sprite.pixelsPerUnit = asset.data.pixelsPerUnit;\n    sprite.frameKeys = asset.data.frameKeys;\n    this._updateAtlas(asset);\n    sprite.endUpdate();\n    asset.off(\"change\", this._onAssetChange, this);\n    asset.on(\"change\", this._onAssetChange, this);\n  }, _updateAtlas:function(asset) {\n    var sprite = asset.resource;\n    if (!asset.data.textureAtlasAsset) {\n      sprite.atlas = null;\n      return;\n    }\n    this._assets.off(\"load:\" + asset.data.textureAtlasAsset, onTextureAtlasLoaded, asset);\n    this._assets.on(\"load:\" + asset.data.textureAtlasAsset, onTextureAtlasLoaded, asset);\n    var atlasAsset = this._assets.get(asset.data.textureAtlasAsset);\n    if (atlasAsset && atlasAsset.resource) {\n      sprite.atlas = atlasAsset.resource;\n    } else {\n      if (!atlasAsset) {\n        this._assets.off(\"add:\" + asset.data.textureAtlasAsset, onTextureAtlasAdded, asset);\n        this._assets.on(\"add:\" + asset.data.textureAtlasAsset, onTextureAtlasAdded, asset);\n      } else {\n        this._assets.load(atlasAsset);\n      }\n    }\n  }, _onAssetChange:function(asset, attribute, value, oldValue) {\n    if (attribute === \"data\") {\n      if (value && value.textureAtlasAsset && oldValue && value.textureAtlasAsset !== oldValue.textureAtlasAsset) {\n        this._assets.off(\"load:\" + oldValue.textureAtlasAsset, onTextureAtlasLoaded, asset);\n        this._assets.off(\"add:\" + oldValue.textureAtlasAsset, onTextureAtlasAdded, asset);\n      }\n    }\n  }});\n  return {SpriteHandler:SpriteHandler};\n}());\nObject.assign(pc, function() {\n  var JSON_PRIMITIVE_TYPE = {\"points\":pc.PRIMITIVE_POINTS, \"lines\":pc.PRIMITIVE_LINES, \"lineloop\":pc.PRIMITIVE_LINELOOP, \"linestrip\":pc.PRIMITIVE_LINESTRIP, \"triangles\":pc.PRIMITIVE_TRIANGLES, \"trianglestrip\":pc.PRIMITIVE_TRISTRIP, \"trianglefan\":pc.PRIMITIVE_TRIFAN};\n  var JSON_VERTEX_ELEMENT_TYPE = {\"int8\":pc.TYPE_INT8, \"uint8\":pc.TYPE_UINT8, \"int16\":pc.TYPE_INT16, \"uint16\":pc.TYPE_UINT16, \"int32\":pc.TYPE_INT32, \"uint32\":pc.TYPE_UINT32, \"float32\":pc.TYPE_FLOAT32};\n  var JsonModelParser = function(device) {\n    this._device = device;\n    this._defaultMaterial = pc.getDefaultMaterial();\n  };\n  Object.assign(JsonModelParser.prototype, {parse:function(data) {\n    var modelData = data.model;\n    if (!modelData) {\n      return null;\n    }\n    if (modelData.version <= 1) {\n      return null;\n    }\n    var nodes = this._parseNodes(data);\n    var skins = this._parseSkins(data, nodes);\n    var morphs = this._parseMorphs(data, nodes);\n    var vertexBuffers = this._parseVertexBuffers(data);\n    var indices = this._parseIndexBuffers(data, vertexBuffers);\n    var meshes = this._parseMeshes(data, skins.skins, morphs.morphs, vertexBuffers, indices.buffer, indices.data);\n    this._initMorphs(data, morphs.morphs, vertexBuffers, meshes);\n    var meshInstances = this._parseMeshInstances(data, nodes, meshes, skins.skins, skins.instances, morphs.morphs, morphs.instances);\n    var model = new pc.Model;\n    model.graph = nodes[0];\n    model.meshInstances = meshInstances;\n    model.skinInstances = skins.instances;\n    model.morphInstances = morphs.instances;\n    model.getGraph().syncHierarchy();\n    return model;\n  }, _parseNodes:function(data) {\n    var modelData = data.model;\n    var nodes = [];\n    var i;\n    for (i = 0;i < modelData.nodes.length;i++) {\n      var nodeData = modelData.nodes[i];\n      var node = new pc.GraphNode(nodeData.name);\n      node.setLocalPosition(nodeData.position[0], nodeData.position[1], nodeData.position[2]);\n      node.setLocalEulerAngles(nodeData.rotation[0], nodeData.rotation[1], nodeData.rotation[2]);\n      node.setLocalScale(nodeData.scale[0], nodeData.scale[1], nodeData.scale[2]);\n      node.scaleCompensation = !!nodeData.scaleCompensation;\n      nodes.push(node);\n    }\n    for (i = 1;i < modelData.parents.length;i++) {\n      nodes[modelData.parents[i]].addChild(nodes[i]);\n    }\n    return nodes;\n  }, _parseSkins:function(data, nodes) {\n    var modelData = data.model;\n    var skins = [];\n    var skinInstances = [];\n    var i, j;\n    if (!this._device.supportsBoneTextures && modelData.skins.length > 0) {\n      var boneLimit = this._device.getBoneLimit();\n      pc.partitionSkin(modelData, null, boneLimit);\n    }\n    for (i = 0;i < modelData.skins.length;i++) {\n      var skinData = modelData.skins[i];\n      var inverseBindMatrices = [];\n      for (j = 0;j < skinData.inverseBindMatrices.length;j++) {\n        var ibm = skinData.inverseBindMatrices[j];\n        inverseBindMatrices[j] = (new pc.Mat4).set(ibm);\n      }\n      var skin = new pc.Skin(this._device, inverseBindMatrices, skinData.boneNames);\n      skins.push(skin);\n      var skinInstance = new pc.SkinInstance(skin);\n      var bones = [];\n      for (j = 0;j < skin.boneNames.length;j++) {\n        var boneName = skin.boneNames[j];\n        var bone = nodes[0].findByName(boneName);\n        bones.push(bone);\n      }\n      skinInstance.bones = bones;\n      skinInstances.push(skinInstance);\n    }\n    return {skins:skins, instances:skinInstances};\n  }, _parseMorphs:function(data, nodes) {\n    var modelData = data.model;\n    var morphs = [];\n    var morphInstances = [];\n    var i, j;\n    var targets, morphTarget, morphTargetArray;\n    if (modelData.morphs) {\n      for (i = 0;i < modelData.morphs.length;i++) {\n        targets = modelData.morphs[i].targets;\n        morphTargetArray = [];\n        for (j = 0;j < targets.length;j++) {\n          var targetAabb = targets[j].aabb;\n          var min = targetAabb.min;\n          var max = targetAabb.max;\n          var aabb = new pc.BoundingBox(new pc.Vec3((max[0] + min[0]) * 0.5, (max[1] + min[1]) * 0.5, (max[2] + min[2]) * 0.5), new pc.Vec3((max[0] - min[0]) * 0.5, (max[1] - min[1]) * 0.5, (max[2] - min[2]) * 0.5));\n          morphTarget = new pc.MorphTarget({indices:targets[j].indices, deltaPositions:targets[j].deltaPositions, deltaNormals:targets[j].deltaNormals, name:targets[j].name, aabb:aabb});\n          morphTargetArray.push(morphTarget);\n        }\n        var morph = new pc.Morph(morphTargetArray);\n        morphs.push(morph);\n        var morphInstance = new pc.MorphInstance(morph);\n        morphInstances.push(morphInstance);\n      }\n    }\n    return {morphs:morphs, instances:morphInstances};\n  }, _calculateTangentsMorphTarget:function(positions, normals, uvs, indices, tan1, tan2, mtIndices, tangents) {\n    var sdirx, sdiry, sdirz;\n    var tdirx, tdiry, tdirz;\n    var v1x, v1y, v1z;\n    var v2x, v2y, v2z;\n    var v3x, v3y, v3z;\n    var w1x, w1y;\n    var w2x, w2y;\n    var w3x, w3y;\n    var t1x, t1y, t1z;\n    var t2x, t2y, t2z;\n    var nx, ny, nz;\n    var triangleCount;\n    var i1, i2, i3;\n    var x1, x2, y1, y2, z1, z2, s1, s2, t1, t2, r;\n    var i, j;\n    var area, ndott, mtIndexCount, len;\n    triangleCount = indices.length / 3;\n    area = 0.0;\n    for (i = 0;i < triangleCount;i++) {\n      i1 = indices[i * 3];\n      i2 = indices[i * 3 + 1];\n      i3 = indices[i * 3 + 2];\n      v1x = positions[i1 * 3];\n      v1y = positions[i1 * 3 + 1];\n      v1z = positions[i1 * 3 + 2];\n      v2x = positions[i2 * 3];\n      v2y = positions[i2 * 3 + 1];\n      v2z = positions[i2 * 3 + 2];\n      v3x = positions[i3 * 3];\n      v3y = positions[i3 * 3 + 1];\n      v3z = positions[i3 * 3 + 2];\n      w1x = uvs[i1 * 2];\n      w1y = uvs[i1 * 2 + 1];\n      w2x = uvs[i2 * 2];\n      w2y = uvs[i2 * 2 + 1];\n      w3x = uvs[i3 * 2];\n      w3y = uvs[i3 * 2 + 1];\n      x1 = v2x - v1x;\n      x2 = v3x - v1x;\n      y1 = v2y - v1y;\n      y2 = v3y - v1y;\n      z1 = v2z - v1z;\n      z2 = v3z - v1z;\n      s1 = w2x - w1x;\n      s2 = w3x - w1x;\n      t1 = w2y - w1y;\n      t2 = w3y - w1y;\n      area = s1 * t2 - s2 * t1;\n      if (area == 0.0) {\n        sdirx = 0;\n        sdiry = 1;\n        sdirz = 0;\n        tdirx = 1;\n        tdiry = 0;\n        tdirz = 0;\n      } else {\n        r = 1.0 / area;\n        sdirx = (t2 * x1 - t1 * x2) * r;\n        sdiry = (t2 * y1 - t1 * y2) * r;\n        sdirz = (t2 * z1 - t1 * z2) * r;\n        tdirx = (s1 * x2 - s2 * x1) * r;\n        tdiry = (s1 * y2 - s2 * y1) * r;\n        tdirz = (s1 * z2 - s2 * z1) * r;\n      }\n      tan1[i1 * 3 + 0] += sdirx;\n      tan1[i1 * 3 + 1] += sdiry;\n      tan1[i1 * 3 + 2] += sdirz;\n      tan1[i2 * 3 + 0] += sdirx;\n      tan1[i2 * 3 + 1] += sdiry;\n      tan1[i2 * 3 + 2] += sdirz;\n      tan1[i3 * 3 + 0] += sdirx;\n      tan1[i3 * 3 + 1] += sdiry;\n      tan1[i3 * 3 + 2] += sdirz;\n      tan2[i1 * 3 + 0] += tdirx;\n      tan2[i1 * 3 + 1] += tdiry;\n      tan2[i1 * 3 + 2] += tdirz;\n      tan2[i2 * 3 + 0] += tdirx;\n      tan2[i2 * 3 + 1] += tdiry;\n      tan2[i2 * 3 + 2] += tdirz;\n      tan2[i3 * 3 + 0] += tdirx;\n      tan2[i3 * 3 + 1] += tdiry;\n      tan2[i3 * 3 + 2] += tdirz;\n    }\n    mtIndexCount = mtIndices.length;\n    for (j = 0;j < mtIndexCount;j++) {\n      i = mtIndices[j];\n      nx = normals[i * 3];\n      ny = normals[i * 3 + 1];\n      nz = normals[i * 3 + 2];\n      t1x = tan1[i * 3];\n      t1y = tan1[i * 3 + 1];\n      t1z = tan1[i * 3 + 2];\n      t2x = tan2[i * 3];\n      t2y = tan2[i * 3 + 1];\n      t2z = tan2[i * 3 + 2];\n      ndott = nx * t1x + ny * t1y + nz * t1z;\n      v1x = nx * ndott;\n      v1y = ny * ndott;\n      v1z = nz * ndott;\n      v2x = ny * t1z - t1y * nz;\n      v2y = nz * t1x - t1z * nx;\n      v2z = nx * t1y - t1x * ny;\n      t1x -= v1x;\n      t1y -= v1y;\n      t1z -= v1z;\n      len = 1.0 / Math.sqrt(t1x * t1x + t1y * t1y + t1z * t1z);\n      t1x *= len;\n      t1y *= len;\n      t1z *= len;\n      tangents[i * 4] = t1x;\n      tangents[i * 4 + 1] = t1y;\n      tangents[i * 4 + 2] = t1z;\n      tangents[i * 4 + 3] = v2x * t2x + v2y * t2y + v2z * t2z < 0.0 ? -1.0 : 1.0;\n    }\n    return tangents;\n  }, _initMorphs:function(data, morphs, vertexBuffers, meshes) {\n    var modelData = data.model;\n    var i, j;\n    var target, k, l, index;\n    var triA, triB, triC;\n    var flagged;\n    var basePos;\n    var baseNorm;\n    var baseUv;\n    var numVerts;\n    var numIndices;\n    var tpos, tnorm;\n    var vertexData;\n    var mtTriIndices = [];\n    var processed = [];\n    var vid;\n    for (i = 0;i < meshes.length;i++) {\n      vid = modelData.meshes[i].vertices;\n      if (processed[vid]) {\n        continue;\n      }\n      vertexData = modelData.vertices[vid];\n      if (!vertexData.tangent) {\n        continue;\n      }\n      var tangents = new Float32Array(vertexData.tangent.data);\n      processed[vid] = true;\n      if (vertexData.position && vertexData.normal && vertexData.texCoord0) {\n        var indices = [];\n        for (j = 0;j < modelData.meshes.length;j++) {\n          if (modelData.meshes[j].vertices === vid) {\n            indices = indices.concat(modelData.meshes[j].indices);\n          }\n        }\n        basePos = vertexData.position.data;\n        baseNorm = vertexData.normal.data;\n        baseUv = vertexData.texCoord0.data;\n        numVerts = basePos.length / 3;\n        numIndices = indices.length;\n        var targetTangents = new Float32Array(numVerts * 4);\n        var tan1 = new Float32Array(numVerts * 3);\n        var tan2 = new Float32Array(numVerts * 3);\n        tpos = new Float32Array(numVerts * 3);\n        tpos.set(basePos);\n        tnorm = new Float32Array(numVerts * 3);\n        tnorm.set(baseNorm);\n        for (j = 0;j < morphs.length;j++) {\n          if (modelData.meshes[i].morph !== j) {\n            continue;\n          }\n          for (k = 0;k < morphs[j]._targets.length;k++) {\n            target = morphs[j]._targets[k];\n            var mtIndices = target.indices;\n            var numMtIndices = mtIndices.length;\n            if (numMtIndices === 0) {\n              continue;\n            }\n            target.deltaTangents = new Float32Array(numMtIndices * 4);\n            if (!flagged || flagged.length < numVerts) {\n              flagged = new Uint8Array(numVerts);\n            } else {\n              for (l = 0;l < numVerts;l++) {\n                flagged[l] = 0;\n              }\n            }\n            for (l = 0;l < numMtIndices;l++) {\n              index = mtIndices[l];\n              flagged[index] = 1;\n            }\n            var numMtTriIndices = 0;\n            for (l = 0;l < numIndices;l += 3) {\n              triA = indices[l];\n              triB = indices[l + 1];\n              triC = indices[l + 2];\n              if (flagged[triA] || flagged[triB] || flagged[triC]) {\n                mtTriIndices[numMtTriIndices] = triA;\n                mtTriIndices[numMtTriIndices + 1] = triB;\n                mtTriIndices[numMtTriIndices + 2] = triC;\n                numMtTriIndices += 3;\n              }\n            }\n            mtTriIndices.length = numMtTriIndices;\n            var deltaPos = target.deltaPositions;\n            var deltaNorm = target.deltaNormals;\n            for (l = 0;l < numMtIndices;l++) {\n              index = mtIndices[l];\n              tpos[index * 3] += deltaPos[l * 3];\n              tpos[index * 3 + 1] += deltaPos[l * 3 + 1];\n              tpos[index * 3 + 2] += deltaPos[l * 3 + 2];\n              tnorm[index * 3] += deltaNorm[l * 3];\n              tnorm[index * 3 + 1] += deltaNorm[l * 3 + 1];\n              tnorm[index * 3 + 2] += deltaNorm[l * 3 + 2];\n            }\n            this._calculateTangentsMorphTarget(tpos, tnorm, baseUv, mtTriIndices, tan1, tan2, mtIndices, targetTangents);\n            var deltaTangents = target.deltaTangents;\n            for (l = 0;l < numMtIndices;l++) {\n              index = mtIndices[l];\n              deltaTangents[l * 4] = targetTangents[l * 4] - tangents[index * 4];\n              deltaTangents[l * 4 + 1] = targetTangents[l * 4 + 1] - tangents[index * 4 + 1];\n              deltaTangents[l * 4 + 2] = targetTangents[l * 4 + 2] - tangents[index * 4 + 2];\n              deltaTangents[l * 4 + 3] = targetTangents[l * 4 + 3] - tangents[index * 4 + 3];\n            }\n            if (k === morphs[j]._targets.length - 1) {\n              continue;\n            }\n            for (l = 0;l < numIndices;l += 3) {\n              triA = indices[l];\n              triB = indices[l + 1];\n              triC = indices[l + 2];\n              tan1[triA * 3 + 0] = 0;\n              tan1[triA * 3 + 1] = 0;\n              tan1[triA * 3 + 2] = 0;\n              tan1[triB * 3 + 0] = 0;\n              tan1[triB * 3 + 1] = 0;\n              tan1[triB * 3 + 2] = 0;\n              tan1[triC * 3 + 0] = 0;\n              tan1[triC * 3 + 1] = 0;\n              tan1[triC * 3 + 2] = 0;\n              tan2[triA * 3 + 0] = 0;\n              tan2[triA * 3 + 1] = 0;\n              tan2[triA * 3 + 2] = 0;\n              tan2[triB * 3 + 0] = 0;\n              tan2[triB * 3 + 1] = 0;\n              tan2[triB * 3 + 2] = 0;\n              tan2[triC * 3 + 0] = 0;\n              tan2[triC * 3 + 1] = 0;\n              tan2[triC * 3 + 2] = 0;\n            }\n            for (l = 0;l < numMtIndices;l++) {\n              index = target.indices[l];\n              tpos[index * 3] = basePos[index * 3];\n              tpos[index * 3 + 1] = basePos[index * 3 + 1];\n              tpos[index * 3 + 2] = basePos[index * 3 + 2];\n              tnorm[index * 3] = baseNorm[index * 3];\n              tnorm[index * 3 + 1] = baseNorm[index * 3 + 1];\n              tnorm[index * 3 + 2] = baseNorm[index * 3 + 2];\n            }\n          }\n        }\n      }\n    }\n  }, _parseVertexBuffers:function(data) {\n    var modelData = data.model;\n    var vertexBuffers = [];\n    var attribute, attributeName;\n    var attributeMap = {position:pc.SEMANTIC_POSITION, normal:pc.SEMANTIC_NORMAL, tangent:pc.SEMANTIC_TANGENT, blendWeight:pc.SEMANTIC_BLENDWEIGHT, blendIndices:pc.SEMANTIC_BLENDINDICES, color:pc.SEMANTIC_COLOR, texCoord0:pc.SEMANTIC_TEXCOORD0, texCoord1:pc.SEMANTIC_TEXCOORD1, texCoord2:pc.SEMANTIC_TEXCOORD2, texCoord3:pc.SEMANTIC_TEXCOORD3, texCoord4:pc.SEMANTIC_TEXCOORD4, texCoord5:pc.SEMANTIC_TEXCOORD5, texCoord6:pc.SEMANTIC_TEXCOORD6, texCoord7:pc.SEMANTIC_TEXCOORD7};\n    var i, j;\n    for (i = 0;i < modelData.vertices.length;i++) {\n      var vertexData = modelData.vertices[i];\n      var formatDesc = [];\n      for (attributeName in vertexData) {\n        attribute = vertexData[attributeName];\n        formatDesc.push({semantic:attributeMap[attributeName], components:attribute.components, type:JSON_VERTEX_ELEMENT_TYPE[attribute.type], normalize:attributeMap[attributeName] === pc.SEMANTIC_COLOR});\n      }\n      var vertexFormat = new pc.VertexFormat(this._device, formatDesc);\n      var numVertices = vertexData.position.data.length / vertexData.position.components;\n      var vertexBuffer = new pc.VertexBuffer(this._device, vertexFormat, numVertices);\n      var iterator = new pc.VertexIterator(vertexBuffer);\n      for (j = 0;j < numVertices;j++) {\n        for (attributeName in vertexData) {\n          attribute = vertexData[attributeName];\n          switch(attribute.components) {\n            case 1:\n              iterator.element[attributeMap[attributeName]].set(attribute.data[j]);\n              break;\n            case 2:\n              iterator.element[attributeMap[attributeName]].set(attribute.data[j * 2], attribute.data[j * 2 + 1]);\n              break;\n            case 3:\n              iterator.element[attributeMap[attributeName]].set(attribute.data[j * 3], attribute.data[j * 3 + 1], attribute.data[j * 3 + 2]);\n              break;\n            case 4:\n              iterator.element[attributeMap[attributeName]].set(attribute.data[j * 4], attribute.data[j * 4 + 1], attribute.data[j * 4 + 2], attribute.data[j * 4 + 3]);\n              break;\n          }\n        }\n        iterator.next();\n      }\n      iterator.end();\n      vertexBuffers.push(vertexBuffer);\n    }\n    return vertexBuffers;\n  }, _parseIndexBuffers:function(data, vertexBuffers) {\n    var modelData = data.model;\n    var indexBuffer = null;\n    var indexData = null;\n    var i;\n    var numIndices = 0;\n    for (i = 0;i < modelData.meshes.length;i++) {\n      var meshData = modelData.meshes[i];\n      if (meshData.indices !== undefined) {\n        numIndices += meshData.indices.length;\n      }\n    }\n    var maxVerts = 0;\n    for (i = 0;i < vertexBuffers.length;i++) {\n      maxVerts = Math.max(maxVerts, vertexBuffers[i].numVertices);\n    }\n    if (numIndices > 0) {\n      if (maxVerts > 65535 && this._device.extUintElement) {\n        indexBuffer = new pc.IndexBuffer(this._device, pc.INDEXFORMAT_UINT32, numIndices);\n        indexData = new Uint32Array(indexBuffer.lock());\n      } else {\n        indexBuffer = new pc.IndexBuffer(this._device, pc.INDEXFORMAT_UINT16, numIndices);\n        indexData = new Uint16Array(indexBuffer.lock());\n      }\n    }\n    return {buffer:indexBuffer, data:indexData};\n  }, _parseMeshes:function(data, skins, morphs, vertexBuffers, indexBuffer, indexData) {\n    var modelData = data.model;\n    var meshes = [];\n    var indexBase = 0;\n    var i;\n    for (i = 0;i < modelData.meshes.length;i++) {\n      var meshData = modelData.meshes[i];\n      var meshAabb = meshData.aabb;\n      var min = meshAabb.min;\n      var max = meshAabb.max;\n      var aabb = new pc.BoundingBox(new pc.Vec3((max[0] + min[0]) * 0.5, (max[1] + min[1]) * 0.5, (max[2] + min[2]) * 0.5), new pc.Vec3((max[0] - min[0]) * 0.5, (max[1] - min[1]) * 0.5, (max[2] - min[2]) * 0.5));\n      var indexed = meshData.indices !== undefined;\n      var mesh = new pc.Mesh;\n      mesh.vertexBuffer = vertexBuffers[meshData.vertices];\n      mesh.indexBuffer[0] = indexed ? indexBuffer : null;\n      mesh.primitive[0].type = JSON_PRIMITIVE_TYPE[meshData.type];\n      mesh.primitive[0].base = indexed ? meshData.base + indexBase : meshData.base;\n      mesh.primitive[0].count = meshData.count;\n      mesh.primitive[0].indexed = indexed;\n      mesh.skin = meshData.skin !== undefined ? skins[meshData.skin] : null;\n      mesh.morph = meshData.morph !== undefined ? morphs[meshData.morph] : null;\n      mesh.aabb = aabb;\n      if (indexed) {\n        indexData.set(meshData.indices, indexBase);\n        indexBase += meshData.indices.length;\n      }\n      meshes.push(mesh);\n    }\n    if (indexBuffer !== null) {\n      indexBuffer.unlock();\n    }\n    return meshes;\n  }, _parseMeshInstances:function(data, nodes, meshes, skins, skinInstances, morphs, morphInstances) {\n    var modelData = data.model;\n    var meshInstances = [];\n    var i;\n    for (i = 0;i < modelData.meshInstances.length;i++) {\n      var meshInstanceData = modelData.meshInstances[i];\n      var node = nodes[meshInstanceData.node];\n      var mesh = meshes[meshInstanceData.mesh];\n      var meshInstance = new pc.MeshInstance(node, mesh, this._defaultMaterial);\n      if (mesh.skin) {\n        var skinIndex = skins.indexOf(mesh.skin);\n        meshInstance.skinInstance = skinInstances[skinIndex];\n      }\n      if (mesh.morph) {\n        var morphIndex = morphs.indexOf(mesh.morph);\n        meshInstance.morphInstance = morphInstances[morphIndex];\n      }\n      meshInstances.push(meshInstance);\n    }\n    return meshInstances;\n  }});\n  return {JsonModelParser:JsonModelParser};\n}());\nObject.assign(pc, function() {\n  var SceneParser = function(app, isTemplate) {\n    this._app = app;\n    this._isTemplate = isTemplate;\n  };\n  Object.assign(SceneParser.prototype, {parse:function(data) {\n    var entities = {};\n    var id, i;\n    var parent = null;\n    if (data.collapsedInstances) {\n      this._addCollapsedToEntities(this._app, data);\n    }\n    for (id in data.entities) {\n      entities[id] = this._createEntity(data.entities[id]);\n      if (data.entities[id].parent === null) {\n        parent = entities[id];\n      }\n    }\n    for (id in data.entities) {\n      var l = data.entities[id].children.length;\n      for (i = 0;i < l;i++) {\n        var resource_id = data.entities[id].children[i];\n        if (entities[resource_id]) {\n          entities[id].addChild(entities[resource_id]);\n        }\n      }\n    }\n    this._openComponentData(parent, data.entities);\n    return parent;\n  }, _createEntity:function(data) {\n    var entity = new pc.Entity;\n    var p = data.position;\n    var r = data.rotation;\n    var s = data.scale;\n    entity.name = data.name;\n    entity.setGuid(data.resource_id);\n    entity.setLocalPosition(p[0], p[1], p[2]);\n    entity.setLocalEulerAngles(r[0], r[1], r[2]);\n    entity.setLocalScale(s[0], s[1], s[2]);\n    entity._enabled = data.enabled !== undefined ? data.enabled : true;\n    if (!this._isTemplate) {\n      entity._enabledInHierarchy = entity._enabled;\n    }\n    entity.template = data.template;\n    if (data.tags) {\n      for (var i = 0;i < data.tags.length;i++) {\n        entity.tags.add(data.tags[i]);\n      }\n    }\n    if (data.labels) {\n      data.labels.forEach(function(label) {\n        entity.addLabel(label);\n      });\n    }\n    return entity;\n  }, _openComponentData:function(entity, entities) {\n    var systemsList = this._app.systems.list;\n    var i, len = systemsList.length;\n    var entityData = entities[entity.getGuid()];\n    for (i = 0;i < len;i++) {\n      var system = systemsList[i];\n      var componentData = entityData.components[system.id];\n      if (componentData) {\n        system.addComponent(entity, componentData);\n      }\n    }\n    len = entityData.children.length;\n    var children = entity._children;\n    for (i = 0;i < len;i++) {\n      children[i] = this._openComponentData(children[i], entities);\n    }\n    return entity;\n  }, _addCollapsedToEntities:function(app, data) {\n    data.collapsedInstances.forEach(function(h) {\n      var expanded = pc.TemplateUtils.expandTemplateEntities(app, h.instanceEntities);\n      Object.assign(data.entities, expanded);\n    });\n  }});\n  return {SceneParser:SceneParser};\n}());\nObject.assign(pc, function() {\n  var JsonStandardMaterialParser = function() {\n    this._validator = null;\n  };\n  JsonStandardMaterialParser.prototype.parse = function(input) {\n    var migrated = this.migrate(input);\n    var validated = this._validate(migrated);\n    var material = new pc.StandardMaterial;\n    this.initialize(material, validated);\n    return material;\n  };\n  JsonStandardMaterialParser.prototype.initialize = function(material, data) {\n    if (!data.validated) {\n      if (!this._validator) {\n        this._validator = new pc.StandardMaterialValidator;\n      }\n      this._validator.validate(data);\n    }\n    if (data.chunks) {\n      material.chunks.copy(data.chunks);\n    }\n    for (var key in data) {\n      var type = pc.StandardMaterial.PARAMETER_TYPES[key];\n      var value = data[key];\n      if (type === \"vec2\") {\n        material[key] = new pc.Vec2(value[0], value[1]);\n      } else {\n        if (type === \"rgb\") {\n          material[key] = new pc.Color(value[0], value[1], value[2]);\n        } else {\n          if (type === \"texture\") {\n            if (value instanceof pc.Texture) {\n              material[key] = value;\n            } else {\n              if (material[key] instanceof pc.Texture && typeof value === \"number\" && value > 0) {\n              } else {\n                material[key] = null;\n              }\n            }\n          } else {\n            if (type === \"cubemap\") {\n              if (value instanceof pc.Texture) {\n                material[key] = value;\n              } else {\n                if (material[key] instanceof pc.Texture && typeof value === \"number\" && value > 0) {\n                } else {\n                  material[key] = null;\n                }\n              }\n            } else {\n              if (type === \"boundingbox\") {\n                var center = new pc.Vec3(value.center[0], value.center[1], value.center[2]);\n                var halfExtents = new pc.Vec3(value.halfExtents[0], value.halfExtents[1], value.halfExtents[2]);\n                material[key] = new pc.BoundingBox(center, halfExtents);\n              } else {\n                material[key] = data[key];\n              }\n            }\n          }\n        }\n      }\n    }\n    material.update();\n  };\n  JsonStandardMaterialParser.prototype.migrate = function(data) {\n    if (data.shadingModel === undefined) {\n      if (data.shader === \"blinn\") {\n        data.shadingModel = pc.SPECULAR_BLINN;\n      } else {\n        data.shadingModel = pc.SPECULAR_PHONG;\n      }\n    }\n    if (data.shader) {\n      delete data.shader;\n    }\n    if (data.mapping_format) {\n      data.mappingFormat = data.mapping_format;\n      delete data.mapping_format;\n    }\n    var i;\n    var RENAMED_PROPERTIES = [[\"bumpMapFactor\", \"bumpiness\"], [\"aoUvSet\", \"aoMapUv\"], [\"aoMapVertexColor\", \"aoVertexColor\"], [\"diffuseMapVertexColor\", \"diffuseVertexColor\"], [\"emissiveMapVertexColor\", \"emissiveVertexColor\"], [\"specularMapVertexColor\", \"specularVertexColor\"], [\"metalnessMapVertexColor\", \"metalnessVertexColor\"], [\"opacityMapVertexColor\", \"opacityVertexColor\"], [\"glossMapVertexColor\", \"glossVertexColor\"], [\"lightMapVertexColor\", \"lightVertexColor\"], [\"diffuseMapTint\", \"diffuseTint\"], \n    [\"specularMapTint\", \"specularTint\"], [\"emissiveMapTint\", \"emissiveTint\"], [\"metalnessMapTint\", \"metalnessTint\"]];\n    for (i = 0;i < RENAMED_PROPERTIES.length;i++) {\n      var _old = RENAMED_PROPERTIES[i][0];\n      var _new = RENAMED_PROPERTIES[i][1];\n      if (data[_old] !== undefined && !(data[_new] !== undefined)) {\n        data[_new] = data[_old];\n        delete data[_old];\n      }\n    }\n    var DEPRECATED_PROPERTIES = [\"fresnelFactor\", \"shadowSampleType\"];\n    for (i = 0;i < DEPRECATED_PROPERTIES.length;i++) {\n      var name = DEPRECATED_PROPERTIES[i];\n      if (data.hasOwnProperty(name)) {\n        delete data[name];\n      }\n    }\n    return data;\n  };\n  JsonStandardMaterialParser.prototype._validate = function(data) {\n    if (!this._validator) {\n      this._validator = new pc.StandardMaterialValidator;\n    }\n    this._validator.validate(data);\n    return data;\n  };\n  return {JsonStandardMaterialParser:JsonStandardMaterialParser};\n}());\nObject.assign(pc, function() {\n  var BASIS_FORMAT = {cTFETC1:0, cTFETC2:1, cTFBC1:2, cTFBC3:3, cTFPVRTC1_4_RGB:8, cTFPVRTC1_4_RGBA:9, cTFASTC_4x4:10, cTFATC_RGB:11, cTFATC_RGBA_INTERPOLATED_ALPHA:12, cTFRGB565:14, cTFRGBA4444:16};\n  var opaqueMapping = {astc:BASIS_FORMAT.cTFASTC_4x4, dxt:BASIS_FORMAT.cTFBC1, etc2:BASIS_FORMAT.cTFETC1, etc1:BASIS_FORMAT.cTFETC1, pvr:BASIS_FORMAT.cTFPVRTC1_4_RGB, atc:BASIS_FORMAT.cTFATC_RGB, none:BASIS_FORMAT.cTFRGB565};\n  var alphaMapping = {astc:BASIS_FORMAT.cTFASTC_4x4, dxt:BASIS_FORMAT.cTFBC3, etc2:BASIS_FORMAT.cTFETC2, etc1:BASIS_FORMAT.cTFRGBA4444, pvr:BASIS_FORMAT.cTFPVRTC1_4_RGBA, atc:BASIS_FORMAT.cTFATC_RGBA_INTERPOLATED_ALPHA, none:BASIS_FORMAT.cTFRGBA4444};\n  var basisToEngineMapping = {};\n  basisToEngineMapping[BASIS_FORMAT.cTFETC1] = pc.PIXELFORMAT_ETC1;\n  basisToEngineMapping[BASIS_FORMAT.cTFETC2] = pc.PIXELFORMAT_ETC2_RGBA;\n  basisToEngineMapping[BASIS_FORMAT.cTFBC1] = pc.PIXELFORMAT_DXT1;\n  basisToEngineMapping[BASIS_FORMAT.cTFBC3] = pc.PIXELFORMAT_DXT5;\n  basisToEngineMapping[BASIS_FORMAT.cTFPVRTC1_4_RGB] = pc.PIXELFORMAT_PVRTC_4BPP_RGB_1;\n  basisToEngineMapping[BASIS_FORMAT.cTFPVRTC1_4_RGBA] = pc.PIXELFORMAT_PVRTC_4BPP_RGBA_1;\n  basisToEngineMapping[BASIS_FORMAT.cTFASTC_4x4] = pc.PIXELFORMAT_ASTC_4x4;\n  basisToEngineMapping[BASIS_FORMAT.cTFATC_RGB] = pc.PIXELFORMAT_ATC_RGB;\n  basisToEngineMapping[BASIS_FORMAT.cTFATC_RGBA_INTERPOLATED_ALPHA] = pc.PIXELFORMAT_ATC_RGBA;\n  basisToEngineMapping[BASIS_FORMAT.cTFRGB565] = pc.PIXELFORMAT_R5_G6_B5;\n  basisToEngineMapping[BASIS_FORMAT.cTFRGBA4444] = pc.PIXELFORMAT_R4_G4_B4_A4;\n  var BasisWorker = function() {\n    var transcode = function(basis, url, format, data) {\n      var funcStart = performance.now();\n      var basisFile = new basis.BasisFile(new Uint8Array(data));\n      var width = basisFile.getImageWidth(0, 0);\n      var height = basisFile.getImageHeight(0, 0);\n      var images = basisFile.getNumImages();\n      var levels = basisFile.getNumLevels(0);\n      var hasAlpha = !!basisFile.getHasAlpha();\n      if (!width || !height || !images || !levels) {\n        basisFile.close();\n        basisFile[\"delete\"]();\n        throw new Error(\"Invalid image dimensions url=\" + url);\n      }\n      var basisFormat = hasAlpha ? alphaMapping[format] : opaqueMapping[format];\n      if (!basisFile.startTranscoding()) {\n        basisFile.close();\n        basisFile[\"delete\"]();\n        throw new Error(\"Failed to start transcoding url=\" + url);\n      }\n      var levelData = [];\n      for (var mip = 0;mip < levels;++mip) {\n        var dstSize = basisFile.getImageTranscodedSizeInBytes(0, mip, basisFormat);\n        var dst = new Uint8Array(dstSize);\n        if (!basisFile.transcodeImage(dst, 0, mip, basisFormat, 1, 0)) {\n          basisFile.close();\n          basisFile[\"delete\"]();\n          throw new Error(\"Failed to transcode image url=\" + url);\n        }\n        var i;\n        if (basisFormat === 14 || basisFormat === 16) {\n          var dst16 = new Uint16Array(dstSize / 2);\n          for (i = 0;i < dstSize / 2;++i) {\n            dst16[i] = dst[i * 2] + dst[i * 2 + 1] * 256;\n          }\n          dst = dst16;\n        }\n        levelData.push(dst);\n      }\n      basisFile.close();\n      basisFile[\"delete\"]();\n      return {format:basisToEngineMapping[basisFormat], width:width + 3 & ~3, height:height + 3 & ~3, levels:levelData, cubemap:false, mipmaps:true, transcodeTime:performance.now() - funcStart, url:url};\n    };\n    var basis = null;\n    var queue = [];\n    var workerTranscode = function(url, format, data) {\n      if (basis) {\n        try {\n          var result = transcode(basis, url, format, data);\n          result.levels = result.levels.map(function(v) {\n            return v.buffer;\n          });\n          self.postMessage({url:url, data:result}, result.levels);\n        } catch (err) {\n          self.postMessage({url:url, err:err});\n        }\n      } else {\n        queue.push([url, data]);\n      }\n    };\n    var workerInit = function(basisModule) {\n      var instantiateWasmFunc = function(imports, successCallback) {\n        WebAssembly.instantiate(basisModule, imports).then(function(result) {\n          successCallback(result);\n        });\n        return {};\n      };\n      self.BASIS(basisModule ? {instantiateWasm:instantiateWasmFunc} : null).then(function(instance) {\n        basis = instance;\n        basis.initializeBasis();\n        for (var i = 0;i < queue.length;++i) {\n          workerTranscode(queue[i][0], queue[i][1]);\n        }\n        queue = null;\n      });\n    };\n    self.onmessage = function(message) {\n      var data = message.data;\n      switch(data.type) {\n        case \"init\":\n          workerInit(data.module);\n          break;\n        case \"transcode\":\n          workerTranscode(data.url, data.format, data.data);\n          break;\n      }\n    };\n  };\n  var worker = null;\n  var callbacks = {};\n  var format = null;\n  var wasmSupported = function() {\n    try {\n      if (typeof WebAssembly === \"object\" && typeof WebAssembly.instantiate === \"function\") {\n        var module = new WebAssembly.Module(Uint8Array.of(0, 97, 115, 109, 1, 0, 0, 0));\n        if (module instanceof WebAssembly.Module) {\n          return new WebAssembly.Instance(module) instanceof WebAssembly.Instance;\n        }\n      }\n    } catch (e) {\n    }\n    return false;\n  }();\n  var handleWorkerResponse = function(message) {\n    var url = message.data.url;\n    var err = message.data.err;\n    var data = message.data.data;\n    var callback = callbacks[url];\n    if (!callback) {\n      console.error(\"internal logical error encountered in basis transcoder\");\n      return;\n    }\n    var i;\n    if (err) {\n      for (i = 0;i < callback.length;++i) {\n        callback[i](err);\n      }\n      return;\n    }\n    if (data.format === pc.PIXELFORMAT_R5_G6_B5 || data.format === pc.PIXELFORMAT_R4_G4_B4_A4) {\n      data.levels = data.levels.map(function(v) {\n        return new Uint16Array(v);\n      });\n    } else {\n      data.levels = data.levels.map(function(v) {\n        return new Uint8Array(v);\n      });\n    }\n    for (i = 0;i < callback.length;++i) {\n      callback[i](null, data);\n    }\n  };\n  var basisInitialize = function(basisCode, basisModule, callback) {\n    var code = [\"/* basis.js */\", basisCode, \"/* mappings */\", \"var opaqueMapping=\" + JSON.stringify(opaqueMapping) + \";\", \"var alphaMapping=\" + JSON.stringify(alphaMapping) + \";\", \"var basisToEngineMapping=\" + JSON.stringify(basisToEngineMapping) + \";\", \" /* worker */\", \"(\" + BasisWorker.toString() + \")()\\n\\n\"].join(\"\\n\");\n    var blob = new Blob([code], {type:\"application/javascript\"});\n    var url = URL.createObjectURL(blob);\n    worker = new Worker(url);\n    worker.addEventListener(\"message\", handleWorkerResponse);\n    worker.postMessage({type:\"init\", module:basisModule});\n    if (callback) {\n      callback();\n    }\n  };\n  var basisDownload = function(glueUrl, wasmUrl, fallbackUrl, callback) {\n    if (wasmSupported) {\n      var glueCode = null;\n      var compiledModule = null;\n      var downloadCompleted = function() {\n        if (glueCode && compiledModule) {\n          basisInitialize(glueCode, compiledModule, callback);\n        }\n      };\n      WebAssembly.compileStreaming(fetch(wasmUrl)).then(function(result) {\n        compiledModule = result;\n        downloadCompleted();\n      });\n      pc.http.get(glueUrl, {cache:true, responseType:\"text\", retry:false}, function(err, result) {\n        glueCode = result;\n        downloadCompleted();\n      });\n    } else {\n      pc.http.get(fallbackUrl, {cache:true, responseType:\"text\", retry:false}, function(err, result) {\n        if (result) {\n          basisInitialize(result, null, callback);\n        }\n      });\n    }\n  };\n  var selectTextureCompressionFormat = function(device) {\n    if (device.extCompressedTextureASTC) {\n      return \"astc\";\n    } else {\n      if (device.extCompressedTextureS3TC) {\n        return \"dxt\";\n      } else {\n        if (device.extCompressedTextureETC) {\n          return \"etc2\";\n        } else {\n          if (device.extCompressedTextureETC1) {\n            return \"etc1\";\n          } else {\n            if (device.extCompressedTexturePVRTC) {\n              return \"pvr\";\n            } else {\n              if (device.extCompressedTextureATC) {\n                return \"atc\";\n              }\n            }\n          }\n        }\n      }\n    }\n    return \"none\";\n  };\n  var basisTranscode = function(url, data, callback) {\n    if (!worker) {\n      console.error(\"call pc.basisInitialize before loading basis textures\");\n      return;\n    }\n    if (!callbacks.hasOwnProperty(url)) {\n      if (!format) {\n        format = selectTextureCompressionFormat(pc.app.graphicsDevice);\n      }\n      callbacks[url] = [callback];\n      worker.postMessage({type:\"transcode\", url:url, format:format, data:data}, [data]);\n    } else {\n      callbacks[url].push(callback);\n    }\n  };\n  return {basisInitialize:basisInitialize, basisDownload:basisDownload, basisTranscode:basisTranscode};\n}());\nObject.assign(pc, function() {\n  var assetIdCounter = -1;\n  var ABSOLUTE_URL = new RegExp(\"^\" + \"\\\\s*\" + \"(?:\" + \"(?:\" + \"[a-z]+[a-z0-9\\\\-\\\\+\\\\.]*\" + \":\" + \")?\" + \"//\" + \"|\" + \"data:\" + \")\", \"i\");\n  var VARIANT_SUPPORT = {pvr:\"extCompressedTexturePVRTC\", dxt:\"extCompressedTextureS3TC\", etc2:\"extCompressedTextureETC\", etc1:\"extCompressedTextureETC1\", basis:\"canvas\"};\n  var VARIANT_DEFAULT_PRIORITY = [\"pvr\", \"dxt\", \"etc2\", \"etc1\", \"basis\"];\n  var Asset = function(name, type, file, data) {\n    pc.EventHandler.call(this);\n    this._id = assetIdCounter--;\n    this.name = name || \"\";\n    this.type = type;\n    this.tags = new pc.Tags(this);\n    this._preload = false;\n    this.variants = new pc.AssetVariants(this);\n    this._file = null;\n    this._data = data || {};\n    this._resources = [];\n    this._i18n = {};\n    this.loaded = false;\n    this.loading = false;\n    this.registry = null;\n    if (file) {\n      this.file = file;\n    }\n  };\n  Asset.prototype = Object.create(pc.EventHandler.prototype);\n  Asset.prototype.constructor = Asset;\n  Object.assign(Asset.prototype, {getFileUrl:function() {\n    var file = this.getPreferredFile();\n    if (!file || !file.url) {\n      return null;\n    }\n    var url = file.url;\n    if (this.registry && this.registry.prefix && !ABSOLUTE_URL.test(url)) {\n      url = this.registry.prefix + url;\n    }\n    if (this.type !== \"script\" && file.hash) {\n      var separator = url.indexOf(\"?\") !== -1 ? \"&\" : \"?\";\n      url += separator + \"t=\" + file.hash;\n    }\n    return url;\n  }, getPreferredFile:function() {\n    if (!this.file) {\n      return null;\n    }\n    if (this.type === \"texture\" || this.type === \"textureatlas\" || this.type === \"bundle\") {\n      var app = this.registry._loader._app;\n      var device = app.graphicsDevice;\n      for (var i = 0, len = VARIANT_DEFAULT_PRIORITY.length;i < len;i++) {\n        var variant = VARIANT_DEFAULT_PRIORITY[i];\n        if (!device[VARIANT_SUPPORT[variant]]) {\n          continue;\n        }\n        if (this.file.variants[variant]) {\n          return this.file.variants[variant];\n        }\n        if (app.enableBundles) {\n          var bundles = app.bundles.listBundlesForAsset(this);\n          if (!bundles) {\n            continue;\n          }\n          for (var j = 0, len2 = bundles.length;j < len2;j++) {\n            if (bundles[j].file && bundles[j].file.variants && bundles[j].file.variants[variant]) {\n              return this.file;\n            }\n          }\n        }\n      }\n    }\n    return this.file;\n  }, getLocalizedAssetId:function(locale) {\n    locale = pc.I18n.findAvailableLocale(locale, this._i18n);\n    return this._i18n[locale] || null;\n  }, addLocalizedAssetId:function(locale, assetId) {\n    this._i18n[locale] = assetId;\n    this.fire(\"add:localized\", locale, assetId);\n  }, removeLocalizedAssetId:function(locale) {\n    var assetId = this._i18n[locale];\n    if (assetId) {\n      delete this._i18n[locale];\n      this.fire(\"remove:localized\", locale, assetId);\n    }\n  }, ready:function(callback, scope) {\n    scope = scope || this;\n    if (this.resource) {\n      callback.call(scope, this);\n    } else {\n      this.once(\"load\", function(asset) {\n        callback.call(scope, asset);\n      });\n    }\n  }, reload:function() {\n    if (!this.loaded) {\n      return;\n    }\n    if (this.type === \"cubemap\") {\n      this.registry._loader.patch(this, this.registry);\n    } else {\n      this.loaded = false;\n      this.registry.load(this);\n    }\n  }, unload:function() {\n    if (!this.loaded && !this.resource) {\n      return;\n    }\n    this.fire(\"unload\", this);\n    this.registry.fire(\"unload:\" + this.id, this);\n    if (this.resource && this.resource.destroy) {\n      this.resource.destroy();\n    }\n    this.resource = null;\n    this.loaded = false;\n    if (this.file) {\n      this.registry._loader.clearCache(this.getFileUrl(), this.type);\n    }\n  }});\n  Object.defineProperty(Asset.prototype, \"id\", {get:function() {\n    return this._id;\n  }, set:function(value) {\n    this._id = value;\n  }});\n  Object.defineProperty(Asset.prototype, \"file\", {get:function() {\n    return this._file;\n  }, set:function(value) {\n    var key;\n    var valueAsBool = !!value;\n    var fileAsBool = !!this._file;\n    if (valueAsBool !== fileAsBool || value && this._file && value.hash !== this._file) {\n      if (value) {\n        if (!this._file) {\n          this._file = {};\n        }\n        this._file.url = value.url;\n        this._file.filename = value.filename;\n        this._file.hash = value.hash;\n        this._file.size = value.size;\n        this._file.variants = this.variants;\n        if (value.hasOwnProperty(\"variants\")) {\n          this.variants.clear();\n          if (value.variants) {\n            for (key in value.variants) {\n              if (!value.variants[key]) {\n                continue;\n              }\n              this.variants[key] = value.variants[key];\n            }\n          }\n        }\n        this.fire(\"change\", this, \"file\", this._file, this._file);\n        this.reload();\n      } else {\n        this._file = null;\n        this.variants.clear();\n      }\n    } else {\n      if (value && this._file && value.hasOwnProperty(\"variants\")) {\n        this.variants.clear();\n        if (value.variants) {\n          for (key in value.variants) {\n            if (!value.variants[key]) {\n              continue;\n            }\n            this.variants[key] = value.variants[key];\n          }\n        }\n      }\n    }\n  }});\n  Object.defineProperty(Asset.prototype, \"data\", {get:function() {\n    return this._data;\n  }, set:function(value) {\n    var old = this._data;\n    this._data = value;\n    if (value !== old) {\n      this.fire(\"change\", this, \"data\", value, old);\n      if (this.loaded) {\n        this.registry._loader.patch(this, this.registry);\n      }\n    }\n  }});\n  Object.defineProperty(Asset.prototype, \"resource\", {get:function() {\n    return this._resources[0];\n  }, set:function(value) {\n    var _old = this._resources[0];\n    this._resources[0] = value;\n    this.fire(\"change\", this, \"resource\", value, _old);\n  }});\n  Object.defineProperty(Asset.prototype, \"resources\", {get:function() {\n    return this._resources;\n  }, set:function(value) {\n    var _old = this._resources;\n    this._resources = value;\n    this.fire(\"change\", this, \"resources\", value, _old);\n  }});\n  Object.defineProperty(Asset.prototype, \"preload\", {get:function() {\n    return this._preload;\n  }, set:function(value) {\n    value = !!value;\n    if (this._preload === value) {\n      return;\n    }\n    this._preload = value;\n    if (this._preload && !this.loaded && !this.loading && this.registry) {\n      this.registry.load(this);\n    }\n  }});\n  return {Asset:Asset, ASSET_ANIMATION:\"animation\", ASSET_AUDIO:\"audio\", ASSET_IMAGE:\"image\", ASSET_JSON:\"json\", ASSET_MODEL:\"model\", ASSET_MATERIAL:\"material\", ASSET_TEXT:\"text\", ASSET_TEXTURE:\"texture\", ASSET_CUBEMAP:\"cubemap\", ASSET_SHADER:\"shader\", ASSET_CSS:\"css\", ASSET_HTML:\"html\", ASSET_SCRIPT:\"script\", ABSOLUTE_URL:ABSOLUTE_URL};\n}());\nObject.assign(pc, function() {\n  var properties = [];\n  var AssetVariants = function(asset) {\n    this.asset = asset;\n  };\n  var defineVariantProperty = function(name) {\n    var field = \"_\" + name;\n    properties.push(field);\n    Object.defineProperty(AssetVariants.prototype, name, {get:function() {\n      return this[field] || null;\n    }, set:function(value) {\n      var fieldAsBool = !!this[field];\n      var valueAsBool = !!value;\n      if (fieldAsBool !== valueAsBool || this[field] && value && this[field].hash !== value.hash) {\n        if (value) {\n          this[field] = {url:value.url, filename:value.filename, size:value.size, hash:value.hash, opt:value.opt || 0};\n        } else {\n          this[field] = null;\n        }\n        if (this.asset.file) {\n          this.asset.fire(\"change\", this.asset, \"file\", this.asset._file, this.asset._file);\n          this.asset.reload();\n        }\n      }\n    }});\n  };\n  defineVariantProperty(\"dxt\");\n  defineVariantProperty(\"pvr\");\n  defineVariantProperty(\"etc1\");\n  defineVariantProperty(\"etc2\");\n  defineVariantProperty(\"basis\");\n  AssetVariants.prototype.clear = function() {\n    for (var i = 0;i < properties.length;i++) {\n      this[properties[i]] = null;\n    }\n  };\n  return {AssetVariants:AssetVariants};\n}());\nObject.assign(pc, function() {\n  var AssetRegistry = function(loader) {\n    pc.EventHandler.call(this);\n    this._loader = loader;\n    this._assets = [];\n    this._cache = {};\n    this._names = {};\n    this._tags = new pc.TagsCache(\"_id\");\n    this._urls = {};\n    this.prefix = null;\n  };\n  AssetRegistry.prototype = Object.create(pc.EventHandler.prototype);\n  AssetRegistry.prototype.constructor = AssetRegistry;\n  Object.assign(AssetRegistry.prototype, {list:function(filters) {\n    filters = filters || {};\n    return this._assets.filter(function(asset) {\n      var include = true;\n      if (filters.preload !== undefined) {\n        include = asset.preload === filters.preload;\n      }\n      return include;\n    });\n  }, add:function(asset) {\n    var index = this._assets.push(asset) - 1;\n    var url;\n    this._cache[asset.id] = index;\n    if (!this._names[asset.name]) {\n      this._names[asset.name] = [];\n    }\n    this._names[asset.name].push(index);\n    if (asset.file) {\n      url = asset.file.url;\n      this._urls[url] = index;\n    }\n    asset.registry = this;\n    this._tags.addItem(asset);\n    asset.tags.on(\"add\", this._onTagAdd, this);\n    asset.tags.on(\"remove\", this._onTagRemove, this);\n    this.fire(\"add\", asset);\n    this.fire(\"add:\" + asset.id, asset);\n    if (url) {\n      this.fire(\"add:url:\" + url, asset);\n    }\n    if (asset.preload) {\n      this.load(asset);\n    }\n  }, remove:function(asset) {\n    var idx = this._cache[asset.id];\n    var url = asset.file ? asset.file.url : null;\n    if (idx !== undefined) {\n      this._assets.splice(idx, 1);\n      delete this._cache[asset.id];\n      this._names = {};\n      this._urls = [];\n      for (var i = 0, l = this._assets.length;i < l;i++) {\n        var a = this._assets[i];\n        this._cache[a.id] = i;\n        if (!this._names[a.name]) {\n          this._names[a.name] = [];\n        }\n        this._names[a.name].push(i);\n        if (a.file) {\n          this._urls[a.file.url] = i;\n        }\n      }\n      this._tags.removeItem(asset);\n      asset.tags.off(\"add\", this._onTagAdd, this);\n      asset.tags.off(\"remove\", this._onTagRemove, this);\n      asset.fire(\"remove\", asset);\n      this.fire(\"remove\", asset);\n      this.fire(\"remove:\" + asset.id, asset);\n      if (url) {\n        this.fire(\"remove:url:\" + url, asset);\n      }\n      return true;\n    }\n    return false;\n  }, get:function(id) {\n    var idx = this._cache[id];\n    return this._assets[idx];\n  }, getByUrl:function(url) {\n    var idx = this._urls[url];\n    return this._assets[idx];\n  }, load:function(asset) {\n    if (asset.loading) {\n      return;\n    }\n    var self = this;\n    if (asset.loaded) {\n      if (asset.type === \"cubemap\") {\n        self._loader.patch(asset, this);\n      }\n      return;\n    }\n    var load = !!asset.file;\n    var file = asset.getPreferredFile();\n    var _load = function() {\n      var url = asset.getFileUrl();\n      asset.loading = true;\n      self._loader.load(url, asset.type, function(err, resource, extra) {\n        asset.loaded = true;\n        asset.loading = false;\n        if (err) {\n          self.fire(\"error\", err, asset);\n          self.fire(\"error:\" + asset.id, err, asset);\n          asset.fire(\"error\", err, asset);\n          return;\n        }\n        if (resource instanceof Array) {\n          asset.resources = resource;\n        } else {\n          asset.resource = resource;\n        }\n        if (!pc.script.legacy && asset.type === \"script\") {\n          var loader = self._loader.getHandler(\"script\");\n          if (loader._cache[asset.id] && loader._cache[asset.id].parentNode === document.head) {\n            document.head.removeChild(loader._cache[asset.id]);\n          }\n          loader._cache[asset.id] = extra;\n        }\n        self._loader.patch(asset, self);\n        self.fire(\"load\", asset);\n        self.fire(\"load:\" + asset.id, asset);\n        if (file && file.url) {\n          self.fire(\"load:url:\" + file.url, asset);\n        }\n        asset.fire(\"load\", asset);\n      }, asset);\n    };\n    var _open = function() {\n      var resource = self._loader.open(asset.type, asset.data);\n      if (resource instanceof Array) {\n        asset.resources = resource;\n      } else {\n        asset.resource = resource;\n      }\n      asset.loaded = true;\n      self._loader.patch(asset, self);\n      self.fire(\"load\", asset);\n      self.fire(\"load:\" + asset.id, asset);\n      if (file && file.url) {\n        self.fire(\"load:url:\" + file.url, asset);\n      }\n      asset.fire(\"load\", asset);\n    };\n    if (file && asset.type === \"cubemap\") {\n      load = false;\n      var url = asset.getFileUrl();\n      this._loader.load(url, \"texture\", function(err, texture) {\n        if (!err) {\n          self._loader.patch({resource:texture, type:\"texture\", data:asset.data}, self);\n          asset._dds = texture;\n          _open();\n        } else {\n          self.fire(\"error\", err, asset);\n          self.fire(\"error:\" + asset.id, err, asset);\n          asset.fire(\"error\", err, asset);\n        }\n      });\n    }\n    if (!file) {\n      _open();\n    } else {\n      if (load) {\n        this.fire(\"load:start\", asset);\n        this.fire(\"load:\" + asset.id + \":start\", asset);\n        _load();\n      }\n    }\n  }, loadFromUrl:function(url, type, callback) {\n    var self = this;\n    var name = pc.path.getBasename(url);\n    var file = {url:url};\n    var data = {};\n    var asset = self.getByUrl(url);\n    if (!asset) {\n      asset = new pc.Asset(name, type, file, data);\n      self.add(asset);\n    }\n    if (type === \"model\") {\n      self._loadModel(asset, callback);\n      return;\n    }\n    asset.once(\"load\", function(loadedAsset) {\n      if (type === \"material\") {\n        self._loadTextures([loadedAsset], function(err, textures) {\n          if (err) {\n            callback(err);\n          } else {\n            callback(null, loadedAsset);\n          }\n        });\n      } else {\n        callback(null, loadedAsset);\n      }\n    });\n    asset.once(\"error\", function(err) {\n      callback(err);\n    });\n    self.load(asset);\n  }, _loadModel:function(asset, callback) {\n    var self = this;\n    var url = asset.getFileUrl();\n    var dir = pc.path.getDirectory(url);\n    var basename = pc.path.getBasename(url);\n    var ext = pc.path.getExtension(url);\n    var _loadAsset = function(assetToLoad) {\n      asset.once(\"load\", function(loadedAsset) {\n        callback(null, loadedAsset);\n      });\n      asset.once(\"error\", function(err) {\n        callback(err);\n      });\n      self.load(assetToLoad);\n    };\n    if (ext === \".json\") {\n      var mappingUrl = pc.path.join(dir, basename.replace(\".json\", \".mapping.json\"));\n      this._loader.load(mappingUrl, \"json\", function(err, data) {\n        if (err) {\n          asset.data = {mapping:[]};\n          _loadAsset(asset);\n          return;\n        }\n        self._loadMaterials(dir, data, function(e, materials) {\n          asset.data = data;\n          _loadAsset(asset);\n        });\n      });\n    } else {\n      _loadAsset(asset);\n    }\n  }, _loadMaterials:function(dir, mapping, callback) {\n    var self = this;\n    var i;\n    var count = mapping.mapping.length;\n    var materials = [];\n    var done = function(err, loadedMaterials) {\n      self._loadTextures(loadedMaterials, function(e, textures) {\n        callback(null, loadedMaterials);\n      });\n    };\n    if (count === 0) {\n      callback(null, materials);\n    }\n    var onLoadAsset = function(err, asset) {\n      materials.push(asset);\n      count--;\n      if (count === 0) {\n        done(null, materials);\n      }\n    };\n    for (i = 0;i < mapping.mapping.length;i++) {\n      var path = mapping.mapping[i].path;\n      if (path) {\n        path = pc.path.join(dir, path);\n        self.loadFromUrl(path, \"material\", onLoadAsset);\n      } else {\n        count--;\n      }\n    }\n  }, _loadTextures:function(materialAssets, callback) {\n    var self = this;\n    var i;\n    var used = {};\n    var urls = [];\n    var textures = [];\n    var count = 0;\n    for (i = 0;i < materialAssets.length;i++) {\n      var materialData = materialAssets[i].data;\n      if (materialData.mappingFormat !== \"path\") {\n        console.warn(\"Skipping: \" + materialAssets[i].name + ', material files must be mappingFormat: \"path\" to be loaded from URL');\n        continue;\n      }\n      var url = materialAssets[i].getFileUrl();\n      var dir = pc.path.getDirectory(url);\n      var textureUrl;\n      for (var pi = 0;pi < pc.StandardMaterial.TEXTURE_PARAMETERS.length;pi++) {\n        var paramName = pc.StandardMaterial.TEXTURE_PARAMETERS[pi];\n        if (materialData[paramName]) {\n          var texturePath = materialData[paramName];\n          textureUrl = pc.path.join(dir, texturePath);\n          if (!used[textureUrl]) {\n            used[textureUrl] = true;\n            urls.push(textureUrl);\n            count++;\n          }\n        }\n      }\n    }\n    if (!count) {\n      callback(null, textures);\n      return;\n    }\n    var onLoadAsset = function(err, texture) {\n      textures.push(texture);\n      count--;\n      if (err) {\n        console.error(err);\n      }\n      if (count === 0) {\n        callback(null, textures);\n      }\n    };\n    for (i = 0;i < urls.length;i++) {\n      self.loadFromUrl(urls[i], \"texture\", onLoadAsset);\n    }\n  }, findAll:function(name, type) {\n    var self = this;\n    var idxs = this._names[name];\n    if (idxs) {\n      var assets = idxs.map(function(idx) {\n        return self._assets[idx];\n      });\n      if (type) {\n        return assets.filter(function(asset) {\n          return asset.type === type;\n        });\n      }\n      return assets;\n    }\n    return [];\n  }, _onTagAdd:function(tag, asset) {\n    this._tags.add(tag, asset);\n  }, _onTagRemove:function(tag, asset) {\n    this._tags.remove(tag, asset);\n  }, findByTag:function() {\n    return this._tags.find(arguments);\n  }, filter:function(callback) {\n    var items = [];\n    for (var i = 0, len = this._assets.length;i < len;i++) {\n      if (callback(this._assets[i])) {\n        items.push(this._assets[i]);\n      }\n    }\n    return items;\n  }, find:function(name, type) {\n    var asset = this.findAll(name, type);\n    return asset ? asset[0] : null;\n  }, getAssetById:function(id) {\n    console.warn(\"DEPRECATED: getAssetById() use get() instead\");\n    return this.get(id);\n  }});\n  return {AssetRegistry:AssetRegistry};\n}());\nObject.assign(pc, function() {\n  var AssetReference = function(propertyName, parent, registry, callbacks, scope) {\n    this.propertyName = propertyName;\n    this.parent = parent;\n    this._scope = scope;\n    this._registry = registry;\n    this.id = null;\n    this.url = null;\n    this.asset = null;\n    this._onAssetLoad = callbacks.load;\n    this._onAssetAdd = callbacks.add;\n    this._onAssetRemove = callbacks.remove;\n  };\n  AssetReference.prototype._bind = function() {\n    if (this.id) {\n      if (this._onAssetLoad) {\n        this._registry.on(\"load:\" + this.id, this._onLoad, this);\n      }\n      if (this._onAssetAdd) {\n        this._registry.once(\"add:\" + this.id, this._onAdd, this);\n      }\n      if (this._onAssetRemove) {\n        this._registry.on(\"remove:\" + this.id, this._onRemove, this);\n      }\n    }\n    if (this.url) {\n      if (this._onAssetLoad) {\n        this._registry.on(\"load:url:\" + this.url, this._onLoad, this);\n      }\n      if (this._onAssetAdd) {\n        this._registry.once(\"add:url:\" + this.url, this._onAdd, this);\n      }\n      if (this._onAssetRemove) {\n        this._registry.on(\"remove:url:\" + this.url, this._onRemove, this);\n      }\n    }\n  };\n  AssetReference.prototype._unbind = function() {\n    if (this.id) {\n      if (this._onAssetLoad) {\n        this._registry.off(\"load:\" + this.id, this._onLoad, this);\n      }\n      if (this._onAssetAdd) {\n        this._registry.off(\"add:\" + this.id, this._onAdd, this);\n      }\n      if (this._onAssetRemove) {\n        this._registry.off(\"remove:\" + this.id, this._onRemove, this);\n      }\n    }\n    if (this.url) {\n      if (this._onAssetLoad) {\n        this._registry.off(\"load:\" + this.url, this._onLoad, this);\n      }\n      if (this._onAssetAdd) {\n        this._registry.off(\"add:\" + this.url, this._onAdd, this);\n      }\n      if (this._onAssetRemove) {\n        this._registry.off(\"remove:\" + this.url, this._onRemove, this);\n      }\n    }\n  };\n  AssetReference.prototype._onLoad = function(asset) {\n    this._onAssetLoad.call(this._scope, this.propertyName, this.parent, asset);\n  };\n  AssetReference.prototype._onAdd = function(asset) {\n    this._onAssetAdd.call(this._scope, this.propertyName, this.parent, asset);\n  };\n  AssetReference.prototype._onRemove = function(asset) {\n    this._onAssetRemove.call(this._scope, this.propertyName, this.parent, asset);\n  };\n  Object.defineProperty(AssetReference.prototype, \"id\", {get:function() {\n    return this._id;\n  }, set:function(value) {\n    if (this.url) {\n      throw Error(\"Can't set id and url\");\n    }\n    this._unbind();\n    this._id = value;\n    this.asset = this._registry.get(this._id);\n    this._bind();\n  }});\n  Object.defineProperty(AssetReference.prototype, \"url\", {get:function() {\n    return this._url;\n  }, set:function(value) {\n    if (this.id) {\n      throw Error(\"Can't set id and url\");\n    }\n    this._unbind();\n    this._url = value;\n    this.asset = this._registry.getByUrl(this._url);\n    this._bind();\n  }});\n  return {AssetReference:AssetReference};\n}());\nObject.assign(pc, function() {\n  var LocalizedAsset = function(app) {\n    pc.EventHandler.call(this);\n    this._app = app;\n    app.i18n.on(\"set:locale\", this._onSetLocale, this);\n    this._autoLoad = false;\n    this._disableLocalization = false;\n    this._defaultAsset = null;\n    this._localizedAsset = null;\n  };\n  LocalizedAsset.prototype = Object.create(pc.EventHandler.prototype);\n  LocalizedAsset.prototype.constructor = LocalizedAsset;\n  LocalizedAsset.prototype._bindDefaultAsset = function() {\n    var asset = this._app.assets.get(this._defaultAsset);\n    if (!asset) {\n      this._app.assets.once(\"add:\" + this._defaultAsset, this._onDefaultAssetAdd, this);\n    } else {\n      this._onDefaultAssetAdd(asset);\n    }\n  };\n  LocalizedAsset.prototype._unbindDefaultAsset = function() {\n    if (!this._defaultAsset) {\n      return;\n    }\n    this._app.assets.off(\"add:\" + this._defaultAsset, this._onDefaultAssetAdd, this);\n    var asset = this._app.assets.get(this._defaultAsset);\n    if (!asset) {\n      return;\n    }\n    asset.off(\"add:localized\", this._onLocaleAdd, this);\n    asset.off(\"remove:localized\", this._onLocaleRemove, this);\n    asset.off(\"remove\", this._onDefaultAssetRemove, this);\n  };\n  LocalizedAsset.prototype._onDefaultAssetAdd = function(asset) {\n    if (this._defaultAsset !== asset.id) {\n      return;\n    }\n    asset.on(\"add:localized\", this._onLocaleAdd, this);\n    asset.on(\"remove:localized\", this._onLocaleRemove, this);\n    asset.once(\"remove\", this._onDefaultAssetRemove, this);\n  };\n  LocalizedAsset.prototype._onDefaultAssetRemove = function(asset) {\n    if (this._defaultAsset !== asset.id) {\n      return;\n    }\n    asset.off(\"add:localized\", this._onLocaleAdd, this);\n    asset.off(\"remove:localized\", this._onLocaleAdd, this);\n    this._app.assets.once(\"add:\" + this._defaultAsset, this._onDefaultAssetAdd, this);\n  };\n  LocalizedAsset.prototype._bindLocalizedAsset = function() {\n    if (!this._autoLoad) {\n      return;\n    }\n    var asset = this._app.assets.get(this._localizedAsset);\n    if (!asset) {\n      return;\n    }\n    asset.on(\"load\", this._onLocalizedAssetLoad, this);\n    asset.on(\"change\", this._onLocalizedAssetChange, this);\n    asset.on(\"remove\", this._onLocalizedAssetRemove, this);\n    if (asset.resource) {\n      this._onLocalizedAssetLoad(asset);\n    } else {\n      this._app.assets.load(asset);\n    }\n  };\n  LocalizedAsset.prototype._unbindLocalizedAsset = function() {\n    var asset = this._app.assets.get(this._localizedAsset);\n    if (!asset) {\n      return;\n    }\n    asset.off(\"load\", this._onLocalizedAssetLoad, this);\n    asset.off(\"change\", this._onLocalizedAssetChange, this);\n    asset.off(\"remove\", this._onLocalizedAssetRemove, this);\n  };\n  LocalizedAsset.prototype._onLocalizedAssetAdd = function(asset) {\n    if (this._localizedAsset !== asset.id) {\n      return;\n    }\n    this._bindLocalizedAsset();\n  };\n  LocalizedAsset.prototype._onLocalizedAssetLoad = function(asset) {\n    this.fire(\"load\", asset);\n  };\n  LocalizedAsset.prototype._onLocalizedAssetChange = function(asset, name, newValue, oldValue) {\n    this.fire(\"change\", asset, name, newValue, oldValue);\n  };\n  LocalizedAsset.prototype._onLocalizedAssetRemove = function(asset) {\n    if (this._localizedAsset === asset.id) {\n      this.localizedAsset = this._defaultAsset;\n    }\n    this.fire(\"remove\", asset);\n  };\n  LocalizedAsset.prototype._onLocaleAdd = function(locale, assetId) {\n    if (this._app.i18n.locale !== locale) {\n      return;\n    }\n    this._onSetLocale(locale);\n  };\n  LocalizedAsset.prototype._onLocaleRemove = function(locale, assetId) {\n    if (this._app.i18n.locale !== locale) {\n      return;\n    }\n    this._onSetLocale(locale);\n  };\n  LocalizedAsset.prototype._onSetLocale = function(locale) {\n    if (!this._defaultAsset) {\n      this.localizedAsset = null;\n      return;\n    }\n    var asset = this._app.assets.get(this._defaultAsset);\n    if (!asset || this._disableLocalization) {\n      this.localizedAsset = this._defaultAsset;\n      return;\n    }\n    var localizedAssetId = asset.getLocalizedAssetId(locale);\n    if (!localizedAssetId) {\n      this.localizedAsset = this._defaultAsset;\n      return;\n    }\n    this.localizedAsset = localizedAssetId;\n  };\n  LocalizedAsset.prototype.destroy = function() {\n    this.defaultAsset = null;\n    this._app.i18n.off(\"set:locale\", this._onSetLocale, this);\n    this.off();\n  };\n  Object.defineProperty(LocalizedAsset.prototype, \"defaultAsset\", {get:function() {\n    return this._defaultAsset;\n  }, set:function(value) {\n    var id = value instanceof pc.Asset ? value.id : value;\n    if (this._defaultAsset === id) {\n      return;\n    }\n    if (this._defaultAsset) {\n      this._unbindDefaultAsset();\n    }\n    this._defaultAsset = id;\n    if (this._defaultAsset) {\n      this._bindDefaultAsset();\n    }\n    this._onSetLocale(this._app.i18n.locale);\n  }});\n  Object.defineProperty(LocalizedAsset.prototype, \"localizedAsset\", {get:function() {\n    return this._localizedAsset;\n  }, set:function(value) {\n    var id = value instanceof pc.Asset ? value.id : value;\n    if (this._localizedAsset === id) {\n      return;\n    }\n    if (this._localizedAsset) {\n      this._app.assets.off(\"add:\" + this._localizedAsset, this._onLocalizedAssetAdd, this);\n      this._unbindLocalizedAsset();\n      this._localizedAsset = null;\n    }\n    this._localizedAsset = id;\n    if (this._localizedAsset) {\n      var asset = this._app.assets.get(this._localizedAsset);\n      if (!asset) {\n        this._app.assets.once(\"add:\" + this._localizedAsset, this._onLocalizedAssetAdd, this);\n      } else {\n        this._bindLocalizedAsset();\n      }\n    }\n  }});\n  Object.defineProperty(LocalizedAsset.prototype, \"autoLoad\", {get:function() {\n    return this._autoLoad;\n  }, set:function(value) {\n    if (this._autoLoad === value) {\n      return;\n    }\n    this._autoLoad = value;\n    if (this._autoLoad && this._localizedAsset) {\n      this._unbindLocalizedAsset();\n      this._bindLocalizedAsset();\n    }\n  }});\n  Object.defineProperty(LocalizedAsset.prototype, \"disableLocalization\", {get:function() {\n    return this._disableLocalization;\n  }, set:function(value) {\n    if (this._disableLocalization === value) {\n      return;\n    }\n    this._disableLocalization = value;\n    this._onSetLocale(this._app.i18n.locale);\n  }});\n  return {LocalizedAsset:LocalizedAsset};\n}());\nObject.assign(pc, function() {\n  var AssetListLoader = function(assetList, assetRegistry) {\n    pc.EventHandler.call(this);\n    this._assets = [];\n    this._registry = assetRegistry;\n    this._loaded = false;\n    this._count = 0;\n    this._total = 0;\n    this._failed = [];\n    this._waitingAssets = [];\n    if (assetList.length && assetList[0] instanceof pc.Asset) {\n      this._assets = assetList;\n    } else {\n      for (var i = 0;i < assetList.length;i++) {\n        var asset = assetRegistry.get(assetList[i]);\n        if (asset) {\n          this._assets.push(asset);\n        } else {\n          this._waitForAsset(assetList[i]);\n          this._total++;\n        }\n      }\n    }\n  };\n  AssetListLoader.prototype = Object.create(pc.EventHandler.prototype);\n  AssetListLoader.prototype.constructor = AssetListLoader;\n  AssetListLoader.prototype.destroy = function() {\n    var self = this;\n    this._registry.off(\"load\", this._onLoad);\n    this._registry.off(\"error\", this._onError);\n    this._waitingAssets.forEach(function(id) {\n      self._registry.off(\"add:\" + id, this._onAddAsset);\n    });\n    this.off(\"progress\");\n    this.off(\"load\");\n  };\n  AssetListLoader.prototype.load = function(done, scope) {\n    var i = 0;\n    var l = this._assets.length;\n    var asset;\n    this._count = 0;\n    this._failed = [];\n    this._callback = done;\n    this._scope = scope;\n    this._registry.on(\"load\", this._onLoad, this);\n    this._registry.on(\"error\", this._onError, this);\n    for (i = 0;i < l;i++) {\n      asset = this._assets[i];\n      if (!asset.loading && !asset.loaded) {\n        this._registry.load(asset);\n        this._total++;\n      }\n    }\n  };\n  AssetListLoader.prototype.ready = function(done, scope) {\n    scope = scope || this;\n    if (this._loaded) {\n      done.call(scope, this._assets);\n    } else {\n      this.once(\"load\", function(assets) {\n        done.call(scope, assets);\n      });\n    }\n  };\n  AssetListLoader.prototype._loadingComplete = function() {\n    this._loaded = true;\n    this._registry.off(\"load\", this._onLoad, this);\n    this._registry.off(\"error\", this._onError, this);\n    if (this._failed && this._failed.length) {\n      if (this._callback) {\n        this._callback.call(this._scope, \"Failed to load some assets\", this._failed);\n      }\n      this.fire(\"error\", this._failed);\n    } else {\n      if (this._callback) {\n        this._callback.call(this._scope);\n      }\n      this.fire(\"load\", this._assets);\n    }\n  };\n  AssetListLoader.prototype._onLoad = function(asset) {\n    var self = this;\n    if (this._assets.indexOf(asset) >= 0) {\n      this._count++;\n      this.fire(\"progress\", asset);\n    }\n    if (this._count === this._total) {\n      setTimeout(function() {\n        self._loadingComplete(self._failed);\n      }, 0);\n    }\n  };\n  AssetListLoader.prototype._onError = function(err, asset) {\n    var self = this;\n    if (this._assets.indexOf(asset) >= 0) {\n      this._count++;\n      this._failed.push(asset);\n    }\n    if (this._count === this._total) {\n      setTimeout(function() {\n        self._loadingComplete(self._failed);\n      }, 0);\n    }\n  };\n  AssetListLoader.prototype._onAddAsset = function(asset) {\n    var index = this._waitingAssets.indexOf(asset);\n    if (index >= 0) {\n      this._waitingAssets.splice(index, 1);\n    }\n    this._assets.push(asset);\n    var i;\n    var l = this._assets.length;\n    for (i = 0;i < l;i++) {\n      asset = this._assets[i];\n      if (!asset.loading && !asset.loaded) {\n        this._registry.load(asset);\n      }\n    }\n  };\n  AssetListLoader.prototype._waitForAsset = function(assetId) {\n    this._waitingAssets.push(assetId);\n    this._registry.once(\"add:\" + assetId, this._onAddAsset, this);\n  };\n  return {AssetListLoader:AssetListLoader};\n}());\nObject.assign(pc, function() {\n  return {inherits:function(Self, Super) {\n    var Temp = function() {\n    };\n    var Func = function(arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8) {\n      Super.call(this, arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8);\n      Self.call(this, arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8);\n    };\n    Func._super = Super.prototype;\n    Temp.prototype = Super.prototype;\n    Func.prototype = new Temp;\n    return Func;\n  }};\n}());\npc.anim = {Animation:pc.Animation, Key:pc.Key, Node:pc.Node, Skeleton:pc.Skeleton};\npc.asset = {ASSET_ANIMATION:\"animation\", ASSET_AUDIO:\"audio\", ASSET_IMAGE:\"image\", ASSET_JSON:\"json\", ASSET_MODEL:\"model\", ASSET_MATERIAL:\"material\", ASSET_TEXT:\"text\", ASSET_TEXTURE:\"texture\", ASSET_CUBEMAP:\"cubemap\", ASSET_SCRIPT:\"script\"};\npc.audio = {AudioManager:pc.SoundManager, Channel:pc.Channel, Channel3d:pc.Channel3d, Listener:pc.Listener, Sound:pc.Sound};\npc.fw = {Application:pc.Application, Component:pc.Component, ComponentData:pc.ComponentData, ComponentSystem:pc.ComponentSystem, Entity:pc.Entity, FillMode:{NONE:pc.FILLMODE_NONE, FILL_WINDOW:pc.FILLMODE_FILL_WINDOW, KEEP_ASPECT:pc.FILLMODE_KEEP_ASPECT}, ResolutionMode:{AUTO:pc.RESOLUTION_AUTO, FIXED:pc.RESOLUTION_FIXED}};\nObject.assign(pc.gfx, {drawQuadWithShader:pc.drawQuadWithShader, programlib:pc.programlib, shaderChunks:pc.shaderChunks, ContextCreationError:pc.ContextCreationError, Device:pc.GraphicsDevice, IndexBuffer:pc.IndexBuffer, ProgramLibrary:pc.ProgramLibrary, RenderTarget:pc.RenderTarget, ScopeId:pc.ScopeId, Shader:pc.Shader, ShaderInput:pc.ShaderInput, Texture:pc.Texture, UnsupportedBrowserError:pc.UnsupportedBrowserError, VertexBuffer:pc.VertexBuffer, VertexFormat:pc.VertexFormat, VertexIterator:pc.VertexIterator});\n(function() {\n  function UnsupportedBrowserError(message) {\n    this.name = \"UnsupportedBrowserError\";\n    this.message = message || \"\";\n  }\n  UnsupportedBrowserError.prototype = Error.prototype;\n  function ContextCreationError(message) {\n    this.name = \"ContextCreationError\";\n    this.message = message || \"\";\n  }\n  ContextCreationError.prototype = Error.prototype;\n  pc.ContextCreationError = ContextCreationError;\n  pc.UnsupportedBrowserError = UnsupportedBrowserError;\n})();\nObject.assign(pc.input, {getTouchTargetCoords:pc.getTouchTargetCoords, Controller:pc.Controller, GamePads:pc.GamePads, Keyboard:pc.Keyboard, KeyboardEvent:pc.KeyboardEvent, Mouse:pc.Mouse, MouseEvent:pc.MouseEvent, Touch:pc.Touch, TouchDevice:pc.TouchDevice, TouchEvent:pc.TouchEvent});\npc.math.INV_LOG2 = Math.LOG2E;\npc.math.intToBytes = pc.math.intToBytes32;\npc.math.bytesToInt = pc.math.bytesToInt32;\npc.posteffect = {createFullscreenQuad:pc.createFullscreenQuad, drawFullscreenQuad:pc.drawFullscreenQuad, PostEffect:pc.PostEffect, PostEffectQueue:pc.PostEffectQueue};\nObject.assign(pc.scene, {partitionSkin:pc.partitionSkin, procedural:{calculateTangents:pc.calculateTangents, createMesh:pc.createMesh, createTorus:pc.createTorus, createCylinder:pc.createCylinder, createCapsule:pc.createCapsule, createCone:pc.createCone, createSphere:pc.createSphere, createPlane:pc.createPlane, createBox:pc.createBox}, BasicMaterial:pc.BasicMaterial, DepthMaterial:pc.DepthMaterial, ForwardRenderer:pc.ForwardRenderer, GraphNode:pc.GraphNode, Material:pc.Material, Command:pc.Command, \nMesh:pc.Mesh, MeshInstance:pc.MeshInstance, Model:pc.Model, ParticleEmitter:pc.ParticleEmitter, PhongMaterial:pc.StandardMaterial, Picker:pc.Picker, PickMaterial:pc.PickMaterial, Projection:{ORTHOGRAPHIC:pc.PROJECTION_ORTHOGRAPHIC, PERSPECTIVE:pc.PROJECTION_PERSPECTIVE}, Scene:pc.Scene, Skin:pc.Skin, SkinInstance:pc.SkinInstance});\npc.shape = {Aabb:pc.BoundingBox, Sphere:pc.BoundingSphere, Plane:pc.Plane};\npc.time = {now:pc.now, Timer:pc.Timer};\npc.PhongMaterial = pc.StandardMaterial;\npc.BoundingSphere.prototype.intersectRay = pc.BoundingSphere.prototype.intersectsRay;\npc.ELEMENTTYPE_INT8 = pc.TYPE_INT8;\npc.ELEMENTTYPE_UINT8 = pc.TYPE_UINT8;\npc.ELEMENTTYPE_INT16 = pc.TYPE_INT16;\npc.ELEMENTTYPE_UINT16 = pc.TYPE_UINT16;\npc.ELEMENTTYPE_INT32 = pc.TYPE_INT32;\npc.ELEMENTTYPE_UINT32 = pc.TYPE_UINT32;\npc.ELEMENTTYPE_FLOAT32 = pc.TYPE_FLOAT32;\nObject.defineProperty(pc.shaderChunks, \"transformSkinnedVS\", {get:function() {\n  return \"#define SKIN\\n\" + pc.shaderChunks.transformVS;\n}});\nObject.defineProperty(pc.Vec2.prototype, \"data\", {get:function() {\n  if (!this._data) {\n    this._data = new Float32Array(2);\n  }\n  this._data[0] = this.x;\n  this._data[1] = this.y;\n  return this._data;\n}});\nObject.defineProperty(pc.Vec3.prototype, \"data\", {get:function() {\n  if (!this._data) {\n    this._data = new Float32Array(3);\n  }\n  this._data[0] = this.x;\n  this._data[1] = this.y;\n  this._data[2] = this.z;\n  return this._data;\n}});\nObject.defineProperty(pc.Vec4.prototype, \"data\", {get:function() {\n  if (!this._data) {\n    this._data = new Float32Array(4);\n  }\n  this._data[0] = this.x;\n  this._data[1] = this.y;\n  this._data[2] = this.z;\n  this._data[3] = this.w;\n  return this._data;\n}});\nObject.defineProperty(pc.Color.prototype, \"data\", {get:function() {\n  if (!this._data) {\n    this._data = new Float32Array(4);\n  }\n  this._data[0] = this.r;\n  this._data[1] = this.g;\n  this._data[2] = this.b;\n  this._data[3] = this.a;\n  return this._data;\n}});\nObject.defineProperty(pc.Color.prototype, \"data3\", {get:function() {\n  if (!this._data3) {\n    this._data3 = new Float32Array(3);\n  }\n  this._data3[0] = this.r;\n  this._data3[1] = this.g;\n  this._data3[2] = this.b;\n  return this._data3;\n}});\npc.Material.prototype.getName = function() {\n  return this.name;\n};\npc.Material.prototype.setName = function(name) {\n  this.name = name;\n};\npc.Material.prototype.getShader = function() {\n  return this.shader;\n};\npc.Material.prototype.setShader = function(shader) {\n  this.shader = shader;\n};\npc.GraphNode.prototype._dirtify = function(local) {\n  if (local) {\n    this._dirtifyLocal();\n  } else {\n    this._dirtifyWorld();\n  }\n};\npc.GraphNode.prototype.addLabel = function(label) {\n  this._labels[label] = true;\n};\npc.GraphNode.prototype.getLabels = function() {\n  return Object.keys(this._labels);\n};\npc.GraphNode.prototype.hasLabel = function(label) {\n  return !!this._labels[label];\n};\npc.GraphNode.prototype.removeLabel = function(label) {\n  delete this._labels[label];\n};\npc.GraphNode.prototype.findByLabel = function(label, results) {\n  var i, length = this._children.length;\n  results = results || [];\n  if (this.hasLabel(label)) {\n    results.push(this);\n  }\n  for (i = 0;i < length;++i) {\n    results = this._children[i].findByLabel(label, results);\n  }\n  return results;\n};\npc.GraphNode.prototype.getChildren = function() {\n  return this.children;\n};\npc.GraphNode.prototype.getName = function() {\n  return this.name;\n};\npc.GraphNode.prototype.getPath = function() {\n  return this.path;\n};\npc.GraphNode.prototype.getRoot = function() {\n  return this.root;\n};\npc.GraphNode.prototype.getParent = function() {\n  return this.parent;\n};\npc.GraphNode.prototype.setName = function(name) {\n  this.name = name;\n};\npc.Application.prototype.isFullscreen = function() {\n  return !!document.fullscreenElement;\n};\npc.Application.prototype.enableFullscreen = function(element, success, error) {\n  element = element || this.graphicsDevice.canvas;\n  var s = function() {\n    success();\n    document.removeEventListener(\"fullscreenchange\", s);\n  };\n  var e = function() {\n    error();\n    document.removeEventListener(\"fullscreenerror\", e);\n  };\n  if (success) {\n    document.addEventListener(\"fullscreenchange\", s, false);\n  }\n  if (error) {\n    document.addEventListener(\"fullscreenerror\", e, false);\n  }\n  if (element.requestFullscreen) {\n    element.requestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n  } else {\n    error();\n  }\n};\npc.Application.prototype.disableFullscreen = function(success) {\n  var s = function() {\n    success();\n    document.removeEventListener(\"fullscreenchange\", s);\n  };\n  if (success) {\n    document.addEventListener(\"fullscreenchange\", s, false);\n  }\n  document.exitFullscreen();\n};\npc.RigidBodyComponentSystem.prototype.setGravity = function() {\n  if (arguments.length === 1) {\n    this.gravity.copy(arguments[0]);\n  } else {\n    this.gravity.set(arguments[0], arguments[1], arguments[2]);\n  }\n};\nObject.assign(pc.Application.prototype, function() {\n  var tempGraphNode = new pc.GraphNode;\n  var identityGraphNode = new pc.GraphNode;\n  var meshInstanceArray = [];\n  var _deprecationWarning = false;\n  var ImmediateData = function(device) {\n    this.lineVertexFormat = new pc.VertexFormat(device, [{semantic:pc.SEMANTIC_POSITION, components:3, type:pc.TYPE_FLOAT32}, {semantic:pc.SEMANTIC_COLOR, components:4, type:pc.TYPE_UINT8, normalize:true}]);\n    this.lineBatches = [];\n    this.layers = [];\n    this.layerToBatch = {};\n    this.quadMesh = null;\n    this.cubeLocalPos = null;\n    this.cubeWorldPos = null;\n    this.identityGraphNode = new pc.GraphNode;\n  };\n  ImmediateData.prototype.addLayer = function(layer) {\n    if (this.layers.indexOf(layer) < 0) {\n      this.layers.push(layer);\n    }\n  };\n  ImmediateData.prototype.getLayerIdx = function(layer) {\n    return this.layerToBatch[layer.id];\n  };\n  ImmediateData.prototype.addLayerIdx = function(idx, layer) {\n    this.layerToBatch[layer.id] = idx;\n  };\n  var LineBatch = function() {\n    this.numLinesAllocated = 128;\n    this.vb = null;\n    this.vbRam = null;\n    this.mesh = null;\n    this.linesUsed = 0;\n    this.material = null;\n    this.meshInstance = null;\n    this.layer = null;\n  };\n  Object.assign(LineBatch.prototype, {init:function(device, vertexFormat, layer, linesToAdd) {\n    if (!this.mesh) {\n      this.mesh = new pc.Mesh;\n      this.mesh.primitive[0].type = pc.PRIMITIVE_LINES;\n      this.mesh.primitive[0].base = 0;\n      this.mesh.primitive[0].indexed = false;\n      this.material = new pc.BasicMaterial;\n      this.material.vertexColors = true;\n      this.material.blend = true;\n      this.material.blendType = pc.BLEND_NORMAL;\n      this.material.update();\n    }\n    this.layer = layer;\n    while (this.linesUsed + linesToAdd > this.numLinesAllocated) {\n      if (this.vb) {\n        this.vb.destroy();\n        this.vb = null;\n      }\n      this.numLinesAllocated *= 2;\n    }\n    this.vertexFormat = vertexFormat;\n    if (!this.vb) {\n      this.vb = new pc.VertexBuffer(device, vertexFormat, this.numLinesAllocated * 2, pc.BUFFER_DYNAMIC);\n      this.mesh.vertexBuffer = this.vb;\n      this.vbRam = new DataView(this.vb.lock());\n      if (!this.meshInstance) {\n        identityGraphNode.worldTransform = pc.Mat4.IDENTITY;\n        identityGraphNode._dirtyWorld = identityGraphNode._dirtyNormal = false;\n        this.meshInstance = new pc.MeshInstance(identityGraphNode, this.mesh, this.material);\n        this.meshInstance.cull = false;\n      }\n    }\n  }, addLines:function(position, color) {\n    var multiColor = !!color.length;\n    var offset = this.linesUsed * 2 * this.vertexFormat.size;\n    var clr;\n    for (var i = 0;i < position.length;i++) {\n      this.vbRam.setFloat32(offset, position[i].x, true);\n      offset += 4;\n      this.vbRam.setFloat32(offset, position[i].y, true);\n      offset += 4;\n      this.vbRam.setFloat32(offset, position[i].z, true);\n      offset += 4;\n      clr = multiColor ? color[i] : color;\n      this.vbRam.setUint8(offset, clr.r * 255);\n      offset += 1;\n      this.vbRam.setUint8(offset, clr.g * 255);\n      offset += 1;\n      this.vbRam.setUint8(offset, clr.b * 255);\n      offset += 1;\n      this.vbRam.setUint8(offset, clr.a * 255);\n      offset += 1;\n    }\n    this.linesUsed += position.length / 2;\n  }, finalize:function() {\n    if (this.linesUsed > 0) {\n      this.vb.setData(this.vbRam.buffer);\n      this.mesh.primitive[0].count = this.linesUsed * 2;\n      meshInstanceArray[0] = this.meshInstance;\n      this.layer.addMeshInstances(meshInstanceArray, true);\n      this.linesUsed = 0;\n    }\n  }});\n  function _initImmediate() {\n    if (!this._immediateData) {\n      this._immediateData = new ImmediateData(this.graphicsDevice);\n      this.on(\"prerender\", this._preRenderImmediate, this);\n      this.on(\"postrender\", this._postRenderImmediate, this);\n    }\n  }\n  function _addLines(position, color, options) {\n    if (options.layer === undefined) {\n      options.layer = this.scene.layers.getLayerById(pc.LAYERID_IMMEDIATE);\n    }\n    if (options.depthTest === undefined) {\n      options.depthTest = true;\n    }\n    this._initImmediate();\n    var layer = options.layer;\n    this._immediateData.addLayer(layer);\n    var idx = this._immediateData.getLayerIdx(layer);\n    if (idx === undefined) {\n      var batch = new LineBatch;\n      batch.init(this.graphicsDevice, this._immediateData.lineVertexFormat, layer, position.length / 2);\n      batch.material.depthTest = options.depthTest;\n      if (options.mask) {\n        batch.meshInstance.mask = options.mask;\n      }\n      idx = this._immediateData.lineBatches.push(batch) - 1;\n      this._immediateData.addLayerIdx(idx, layer);\n    } else {\n      this._immediateData.lineBatches[idx].init(this.graphicsDevice, this._immediateData.lineVertexFormat, layer, position.length / 2);\n      this._immediateData.lineBatches[idx].material.depthTest = options.depthTest;\n      if (options.mask) {\n        this._immediateData.lineBatches[idx].meshInstance.mask = options.mask;\n      }\n    }\n    this._immediateData.lineBatches[idx].addLines(position, color);\n  }\n  function renderLine(start, end, color) {\n    var endColor = color;\n    var options;\n    var arg3 = arguments[3];\n    var arg4 = arguments[4];\n    if (arg3 instanceof pc.Color) {\n      endColor = arg3;\n      if (typeof arg4 === \"number\") {\n        if (!_deprecationWarning) {\n          console.warn(\"lineBatch argument is deprecated for renderLine. Use options.layer instead\");\n          _deprecationWarning = true;\n        }\n        if (arg4 === pc.LINEBATCH_OVERLAY) {\n          options = {layer:this.scene.layers.getLayerById(pc.LAYERID_IMMEDIATE), depthTest:false};\n        } else {\n          options = {layer:this.scene.layers.getLayerById(pc.LAYERID_IMMEDIATE), depthTest:true};\n        }\n      } else {\n        options = arg4;\n      }\n    } else {\n      if (typeof arg3 === \"number\") {\n        if (!_deprecationWarning) {\n          console.warn(\"lineBatch argument is deprecated for renderLine. Use options.layer instead\");\n          _deprecationWarning = true;\n        }\n        endColor = color;\n        if (arg3 === pc.LINEBATCH_OVERLAY) {\n          options = {layer:this.scene.layers.getLayerById(pc.LAYERID_IMMEDIATE), depthTest:false};\n        } else {\n          options = {layer:this.scene.layers.getLayerById(pc.LAYERID_IMMEDIATE), depthTest:true};\n        }\n      } else {\n        if (arg3) {\n          options = arg3;\n        } else {\n          options = {layer:this.scene.layers.getLayerById(pc.LAYERID_IMMEDIATE), depthTest:true};\n        }\n      }\n    }\n    this._addLines([start, end], [color, endColor], options);\n  }\n  function renderLines(position, color, options) {\n    if (!options) {\n      options = {layer:this.scene.layers.getLayerById(pc.LAYERID_IMMEDIATE), depthTest:true};\n    } else {\n      if (typeof options === \"number\") {\n        if (!_deprecationWarning) {\n          console.warn(\"lineBatch argument is deprecated for renderLine. Use options.layer instead\");\n          _deprecationWarning = true;\n        }\n        if (options === pc.LINEBATCH_OVERLAY) {\n          options = {layer:this.scene.layers.getLayerById(pc.LAYERID_IMMEDIATE), depthTest:false};\n        } else {\n          options = {layer:this.scene.layers.getLayerById(pc.LAYERID_IMMEDIATE), depthTest:true};\n        }\n      }\n    }\n    var multiColor = !!color.length;\n    if (multiColor) {\n      if (position.length !== color.length) {\n        pc.log.error(\"renderLines: position/color arrays have different lengths\");\n        return;\n      }\n    }\n    if (position.length % 2 !== 0) {\n      pc.log.error(\"renderLines: array length is not divisible by 2\");\n      return;\n    }\n    this._addLines(position, color, options);\n  }\n  function renderWireCube(matrix, color, options) {\n    var i;\n    this._initImmediate();\n    if (!this._immediateData.cubeLocalPos) {\n      var x = 0.5;\n      this._immediateData.cubeLocalPos = [new pc.Vec3(-x, -x, -x), new pc.Vec3(-x, x, -x), new pc.Vec3(x, x, -x), new pc.Vec3(x, -x, -x), new pc.Vec3(-x, -x, x), new pc.Vec3(-x, x, x), new pc.Vec3(x, x, x), new pc.Vec3(x, -x, x)];\n      this._immediateData.cubeWorldPos = [new pc.Vec3, new pc.Vec3, new pc.Vec3, new pc.Vec3, new pc.Vec3, new pc.Vec3, new pc.Vec3, new pc.Vec3];\n    }\n    var cubeLocalPos = this._immediateData.cubeLocalPos;\n    var cubeWorldPos = this._immediateData.cubeWorldPos;\n    for (i = 0;i < 8;i++) {\n      matrix.transformPoint(cubeLocalPos[i], cubeWorldPos[i]);\n    }\n    this.renderLines([cubeWorldPos[0], cubeWorldPos[1], cubeWorldPos[1], cubeWorldPos[2], cubeWorldPos[2], cubeWorldPos[3], cubeWorldPos[3], cubeWorldPos[0], cubeWorldPos[4], cubeWorldPos[5], cubeWorldPos[5], cubeWorldPos[6], cubeWorldPos[6], cubeWorldPos[7], cubeWorldPos[7], cubeWorldPos[4], cubeWorldPos[0], cubeWorldPos[4], cubeWorldPos[1], cubeWorldPos[5], cubeWorldPos[2], cubeWorldPos[6], cubeWorldPos[3], cubeWorldPos[7]], color, options);\n  }\n  function _preRenderImmediate() {\n    for (var i = 0;i < this._immediateData.lineBatches.length;i++) {\n      if (this._immediateData.lineBatches[i]) {\n        this._immediateData.lineBatches[i].finalize();\n      }\n    }\n  }\n  function _postRenderImmediate() {\n    for (var i = 0;i < this._immediateData.layers.length;i++) {\n      this._immediateData.layers[i].clearMeshInstances(true);\n    }\n    this._immediateData.layers.length = 0;\n  }\n  function renderMeshInstance(meshInstance, options) {\n    if (!options) {\n      options = {layer:this.scene.layers.getLayerById(pc.LAYERID_IMMEDIATE)};\n    }\n    this._initImmediate();\n    this._immediateData.addLayer(options.layer);\n    meshInstanceArray[0] = meshInstance;\n    options.layer.addMeshInstances(meshInstanceArray, true);\n  }\n  function renderMesh(mesh, material, matrix, options) {\n    if (!options) {\n      options = {layer:this.scene.layers.getLayerById(pc.LAYERID_IMMEDIATE)};\n    }\n    this._initImmediate();\n    tempGraphNode.worldTransform = matrix;\n    tempGraphNode._dirtyWorld = tempGraphNode._dirtyNormal = false;\n    var instance = new pc.MeshInstance(tempGraphNode, mesh, material);\n    instance.cull = false;\n    if (options.mask) {\n      instance.mask = options.mask;\n    }\n    this._immediateData.addLayer(options.layer);\n    meshInstanceArray[0] = instance;\n    options.layer.addMeshInstances(meshInstanceArray, true);\n  }\n  function renderQuad(matrix, material, options) {\n    if (!options) {\n      options = {layer:this.scene.layers.getLayerById(pc.LAYERID_IMMEDIATE)};\n    }\n    this._initImmediate();\n    if (!this._immediateData.quadMesh) {\n      var format = new pc.VertexFormat(this.graphicsDevice, [{semantic:pc.SEMANTIC_POSITION, components:3, type:pc.TYPE_FLOAT32}]);\n      var quadVb = new pc.VertexBuffer(this.graphicsDevice, format, 4);\n      var iterator = new pc.VertexIterator(quadVb);\n      iterator.element[pc.SEMANTIC_POSITION].set(-0.5, -0.5, 0);\n      iterator.next();\n      iterator.element[pc.SEMANTIC_POSITION].set(0.5, -0.5, 0);\n      iterator.next();\n      iterator.element[pc.SEMANTIC_POSITION].set(-0.5, 0.5, 0);\n      iterator.next();\n      iterator.element[pc.SEMANTIC_POSITION].set(0.5, 0.5, 0);\n      iterator.end();\n      this._immediateData.quadMesh = new pc.Mesh;\n      this._immediateData.quadMesh.vertexBuffer = quadVb;\n      this._immediateData.quadMesh.primitive[0].type = pc.PRIMITIVE_TRISTRIP;\n      this._immediateData.quadMesh.primitive[0].base = 0;\n      this._immediateData.quadMesh.primitive[0].count = 4;\n      this._immediateData.quadMesh.primitive[0].indexed = false;\n    }\n    tempGraphNode.worldTransform = matrix;\n    tempGraphNode._dirtyWorld = tempGraphNode._dirtyNormal = false;\n    var quad = new pc.MeshInstance(tempGraphNode, this._immediateData.quadMesh, material);\n    quad.cull = false;\n    meshInstanceArray[0] = quad;\n    this._immediateData.addLayer(options.layer);\n    options.layer.addMeshInstances(meshInstanceArray, true);\n  }\n  return {renderMeshInstance:renderMeshInstance, renderMesh:renderMesh, renderLine:renderLine, renderLines:renderLines, renderQuad:renderQuad, renderWireCube:renderWireCube, _addLines:_addLines, _initImmediate:_initImmediate, _preRenderImmediate:_preRenderImmediate, _postRenderImmediate:_postRenderImmediate};\n}());\nObject.assign(pc, function() {\n  var maxSize = 2048;\n  var maskBaked = 2;\n  var maskLightmap = 4;\n  var sceneLightmaps = [];\n  var sceneLightmapsNode = [];\n  var lmCamera;\n  var tempVec = new pc.Vec3;\n  var bounds = new pc.BoundingBox;\n  var lightBounds = new pc.BoundingBox;\n  var tempSphere = {};\n  var PASS_COLOR = 0;\n  var PASS_DIR = 1;\n  var passTexName = [\"texture_lightMap\", \"texture_dirLightMap\"];\n  var passMaterial = [];\n  function collectModels(node, nodes, nodesMeshInstances, allNodes) {\n    if (!node.enabled) {\n      return;\n    }\n    var i;\n    if (node.model && node.model.model && node.model.enabled) {\n      if (allNodes) {\n        allNodes.push(node);\n      }\n      if (node.model.lightmapped) {\n        if (nodes) {\n          var hasUv1 = true;\n          var meshInstances = node.model.model.meshInstances;\n          for (i = 0;i < meshInstances.length;i++) {\n            if (!meshInstances[i].mesh.vertexBuffer.format.hasUv1) {\n              hasUv1 = false;\n              break;\n            }\n          }\n          if (hasUv1) {\n            var j;\n            var isInstance;\n            var notInstancedMeshInstances = [];\n            for (i = 0;i < meshInstances.length;i++) {\n              isInstance = false;\n              for (j = 0;j < meshInstances.length;j++) {\n                if (i !== j) {\n                  if (meshInstances[i].mesh === meshInstances[j].mesh) {\n                    isInstance = true;\n                  }\n                }\n              }\n              if (isInstance) {\n                nodes.push(node);\n                nodesMeshInstances.push([meshInstances[i]]);\n              } else {\n                notInstancedMeshInstances.push(meshInstances[i]);\n              }\n            }\n            if (notInstancedMeshInstances.length > 0) {\n              nodes.push(node);\n              nodesMeshInstances.push(notInstancedMeshInstances);\n            }\n          }\n        }\n      }\n    }\n    for (i = 0;i < node._children.length;i++) {\n      collectModels(node._children[i], nodes, nodesMeshInstances, allNodes);\n    }\n  }\n  var Lightmapper = function(device, root, scene, renderer, assets) {\n    this.device = device;\n    this.root = root;\n    this.scene = scene;\n    this.renderer = renderer;\n    this.assets = assets;\n  };\n  Object.assign(Lightmapper.prototype, {destroy:function() {\n    this.device = null;\n    this.root = null;\n    this.scene = null;\n    this.renderer = null;\n    this.assets = null;\n  }, calculateLightmapSize:function(node) {\n    var data, parent;\n    var sizeMult = this.scene.lightmapSizeMultiplier || 16;\n    var scale = tempVec;\n    var area = {x:1, y:1, z:1, uv:1};\n    if (node.model.asset) {\n      data = this.assets.get(node.model.asset).data;\n      if (data.area) {\n        area.x = data.area.x;\n        area.y = data.area.y;\n        area.z = data.area.z;\n        area.uv = data.area.uv;\n      }\n    } else {\n      if (node.model._area) {\n        data = node.model;\n        if (data._area) {\n          area.x = data._area.x;\n          area.y = data._area.y;\n          area.z = data._area.z;\n          area.uv = data._area.uv;\n        }\n      }\n    }\n    var areaMult = node.model.lightmapSizeMultiplier || 1;\n    area.x *= areaMult;\n    area.y *= areaMult;\n    area.z *= areaMult;\n    scale.copy(node.localScale);\n    parent = node._parent;\n    while (parent) {\n      scale.mul(parent.localScale);\n      parent = parent._parent;\n    }\n    scale.x = Math.abs(scale.x);\n    scale.y = Math.abs(scale.y);\n    scale.z = Math.abs(scale.z);\n    var totalArea = area.x * scale.y * scale.z + area.y * scale.x * scale.z + area.z * scale.x * scale.y;\n    totalArea /= area.uv;\n    totalArea = Math.sqrt(totalArea);\n    return Math.min(pc.math.nextPowerOfTwo(totalArea * sizeMult), this.scene.lightmapMaxResolution || maxSize);\n  }, bake:function(nodes, mode) {\n    var i, j;\n    var device = this.device;\n    var scene = this.scene;\n    var passCount = 1;\n    if (mode === undefined) {\n      mode = pc.BAKE_COLORDIR;\n    }\n    if (mode === pc.BAKE_COLORDIR) {\n      passCount = 2;\n    }\n    var pass;\n    var allNodes = [];\n    var nodesMeshInstances = [];\n    if (!nodes) {\n      for (i = 0;i < sceneLightmaps.length;i++) {\n        for (j = 0;j < sceneLightmaps[i].length;j++) {\n          sceneLightmaps[i][j].destroy();\n        }\n      }\n      sceneLightmaps = [];\n      sceneLightmapsNode = [];\n      nodes = [];\n      collectModels(this.root, nodes, nodesMeshInstances, allNodes);\n    } else {\n      var k;\n      for (i = sceneLightmapsNode.length - 1;i >= 0;i--) {\n        for (j = 0;j < nodes.length;j++) {\n          if (sceneLightmapsNode[i] === nodes[j]) {\n            for (k = 0;k < sceneLightmaps[i].length;k++) {\n              sceneLightmaps[i][k].destroy();\n            }\n            sceneLightmaps.splice(i, 1);\n            sceneLightmapsNode.splice(i, 1);\n          }\n        }\n      }\n      var _nodes = [];\n      for (i = 0;i < nodes.length;i++) {\n        collectModels(nodes[i], _nodes, nodesMeshInstances);\n      }\n      nodes = _nodes;\n      collectModels(this.root, null, null, allNodes);\n    }\n    if (nodes.length === 0) {\n      device.fire(\"lightmapper:end\", {timestamp:pc.now(), target:this});\n      return;\n    }\n    var revertStatic = false;\n    if (scene._needsStaticPrepare) {\n      scene._needsStaticPrepare = false;\n      revertStatic = true;\n    }\n    var texSize = [];\n    var lmaps = [[], []];\n    var texPool = {};\n    var size;\n    var tex;\n    var blackTex = new pc.Texture(this.device, {width:4, height:4, format:pc.PIXELFORMAT_R8_G8_B8_A8, rgbm:true});\n    blackTex.name = \"lightmap\";\n    for (i = 0;i < nodes.length;i++) {\n      size = this.calculateLightmapSize(nodes[i]);\n      texSize.push(size);\n      for (pass = 0;pass < passCount;pass++) {\n        tex = new pc.Texture(device, {width:size, height:size, format:pc.PIXELFORMAT_R8_G8_B8_A8, mipmaps:false, rgbm:pass === PASS_COLOR, minFilter:pc.FILTER_NEAREST, magFilter:pc.FILTER_NEAREST});\n        tex.name = \"lightmap\";\n        lmaps[pass].push(tex);\n      }\n      if (!texPool[size]) {\n        var tex2 = new pc.Texture(device, {width:size, height:size, format:pc.PIXELFORMAT_R8_G8_B8_A8, mipmaps:false, rgbm:true, minFilter:pc.FILTER_NEAREST, magFilter:pc.FILTER_NEAREST});\n        tex2.name = \"lightmap\";\n        var targ2 = new pc.RenderTarget(device, tex2, {depth:false});\n        texPool[size] = targ2;\n      }\n    }\n    var activeComp = scene.layers;\n    activeComp._update();\n    var lights = [];\n    var origMask = [];\n    var origShadowMode = [];\n    var origEnabled = [];\n    var sceneLights = activeComp._lights;\n    var mask;\n    for (i = 0;i < sceneLights.length;i++) {\n      if (sceneLights[i]._enabled) {\n        mask = sceneLights[i]._mask;\n        if ((mask & maskLightmap) !== 0) {\n          origMask.push(mask);\n          origShadowMode.push(sceneLights[i].shadowUpdateMode);\n          sceneLights[i]._mask = 4294967295;\n          sceneLights[i].shadowUpdateMode = sceneLights[i]._type === pc.LIGHTTYPE_DIRECTIONAL ? pc.SHADOWUPDATE_REALTIME : pc.SHADOWUPDATE_THISFRAME;\n          lights.push(sceneLights[i]);\n          sceneLights[i].isStatic = false;\n        }\n      }\n      origEnabled.push(sceneLights[i]._enabled);\n      sceneLights[i].enabled = false;\n    }\n    var chunks = pc.shaderChunks;\n    var xformUv1 = \"#define UV1LAYOUT\\n\" + chunks.transformVS;\n    var bakeLmEnd = chunks.bakeLmEndPS;\n    var dilate = chunks.dilatePS;\n    var dilateShader = chunks.createShaderFromCode(device, chunks.fullscreenQuadVS, dilate, \"lmDilate\");\n    var constantTexSource = device.scope.resolve(\"source\");\n    var constantPixelOffset = device.scope.resolve(\"pixelOffset\");\n    var constantBakeDir = device.scope.resolve(\"bakeDir\");\n    var pixelOffset = new Float32Array(2);\n    var drawCalls = activeComp._meshInstances;\n    for (i = 0;i < drawCalls.length;i++) {\n      if (drawCalls[i].node) {\n        drawCalls[i].node.getWorldTransform();\n      }\n    }\n    var origFog = scene.fog;\n    var origAmbientR = scene.ambientLight.r;\n    var origAmbientG = scene.ambientLight.g;\n    var origAmbientB = scene.ambientLight.b;\n    scene.fog = pc.FOG_NONE;\n    scene.ambientLight.set(0, 0, 0);\n    if (!lmCamera) {\n      lmCamera = new pc.Camera;\n      lmCamera._node = new pc.GraphNode;\n      lmCamera.clearColor[0] = 0;\n      lmCamera.clearColor[1] = 0;\n      lmCamera.clearColor[2] = 0;\n      lmCamera.clearColor[3] = 0;\n      lmCamera.clearDepth = 1;\n      lmCamera.clearFlags = pc.CLEARFLAG_COLOR;\n      lmCamera.clearStencil = null;\n      lmCamera.frustumCulling = false;\n    }\n    var node;\n    var lm, rcv, m;\n    var origShaderDefs = [];\n    origShaderDefs.length = sceneLightmapsNode.length;\n    var shaderDefs;\n    for (node = 0;node < allNodes.length;node++) {\n      rcv = allNodes[node].model.model.meshInstances;\n      shaderDefs = [];\n      for (i = 0;i < rcv.length;i++) {\n        shaderDefs.push(rcv[i]._shaderDefs);\n        rcv[i]._shaderDefs &= ~(pc.SHADERDEF_LM | pc.SHADERDEF_DIRLM);\n      }\n      for (i = 0;i < sceneLightmapsNode.length;i++) {\n        if (sceneLightmapsNode[i] === allNodes[node]) {\n          origShaderDefs[i] = shaderDefs;\n          break;\n        }\n      }\n    }\n    var origCastShadows = [];\n    var casters = [];\n    var meshes;\n    for (node = 0;node < allNodes.length;node++) {\n      origCastShadows[node] = allNodes[node].model.castShadows;\n      allNodes[node].model.castShadows = allNodes[node].model.castShadowsLightmap;\n      if (allNodes[node].model.castShadowsLightmap) {\n        meshes = allNodes[node].model.meshInstances;\n        for (i = 0;i < meshes.length;i++) {\n          meshes[i].visibleThisFrame = true;\n          casters.push(meshes[i]);\n        }\n      }\n    }\n    this.renderer.updateCpuSkinMatrices(casters);\n    this.renderer.gpuUpdate(casters);\n    var origMat = [];\n    var nodeBounds = [];\n    var nodeTarg = [[], []];\n    var targ, targTmp, texTmp;\n    var light, shadowCam;\n    var nodeLightCount = [];\n    nodeLightCount.length = nodes.length;\n    var lmMaterial;\n    for (pass = 0;pass < passCount;pass++) {\n      if (!passMaterial[pass]) {\n        lmMaterial = new pc.StandardMaterial;\n        lmMaterial.chunks.transformVS = xformUv1;\n        if (pass === PASS_COLOR) {\n          lmMaterial.chunks.endPS = bakeLmEnd;\n          lmMaterial.ambient = new pc.Color(0, 0, 0);\n          lmMaterial.ambientTint = true;\n          lmMaterial.lightMap = blackTex;\n        } else {\n          lmMaterial.chunks.basePS = chunks.basePS + \"\\nuniform sampler2D texture_dirLightMap;\\nuniform float bakeDir;\\n\";\n          lmMaterial.chunks.endPS = chunks.bakeDirLmEndPS;\n        }\n        lmMaterial.chunks.outputAlphaPS = \"\\n\";\n        lmMaterial.chunks.outputAlphaOpaquePS = \"\\n\";\n        lmMaterial.chunks.outputAlphaPremulPS = \"\\n\";\n        lmMaterial.cull = pc.CULLFACE_NONE;\n        lmMaterial.forceUv1 = true;\n        lmMaterial.update();\n        lmMaterial.updateShader(device, scene);\n        lmMaterial.name = \"lmMaterial\" + pass;\n        passMaterial[pass] = lmMaterial;\n      }\n    }\n    for (node = 0;node < nodes.length;node++) {\n      rcv = nodesMeshInstances[node];\n      nodeLightCount[node] = 0;\n      if (rcv.length > 0) {\n        bounds.copy(rcv[0].aabb);\n        for (i = 0;i < rcv.length;i++) {\n          rcv[i].node.getWorldTransform();\n          bounds.add(rcv[i].aabb);\n        }\n      }\n      var nbounds = new pc.BoundingBox;\n      nbounds.copy(bounds);\n      nodeBounds.push(nbounds);\n      for (i = 0;i < rcv.length;i++) {\n        m = rcv[i];\n        m._shaderDefs &= ~(pc.SHADERDEF_LM | pc.SHADERDEF_DIRLM);\n        m.mask = maskLightmap;\n        m.deleteParameter(\"texture_lightMap\");\n        m.deleteParameter(\"texture_dirLightMap\");\n        m.setParameter(\"texture_lightMap\", m.material.lightMap ? m.material.lightMap : blackTex);\n        m.setParameter(\"texture_dirLightMap\", blackTex);\n      }\n      for (pass = 0;pass < passCount;pass++) {\n        lm = lmaps[pass][node];\n        targ = new pc.RenderTarget(device, lm, {depth:false});\n        nodeTarg[pass].push(targ);\n      }\n    }\n    for (j = 0;j < lights.length;j++) {\n      lights[j].enabled = false;\n    }\n    var lightArray = [[], [], []];\n    var shadersUpdatedOn1stPass = false;\n    var shadowMapRendered;\n    for (i = 0;i < lights.length;i++) {\n      lights[i].enabled = true;\n      shadowMapRendered = false;\n      lights[i]._cacheShadowMap = true;\n      if (lights[i]._type !== pc.LIGHTTYPE_DIRECTIONAL) {\n        lights[i]._node.getWorldTransform();\n        lights[i].getBoundingSphere(tempSphere);\n        lightBounds.center = tempSphere.center;\n        lightBounds.halfExtents.x = tempSphere.radius;\n        lightBounds.halfExtents.y = tempSphere.radius;\n        lightBounds.halfExtents.z = tempSphere.radius;\n      }\n      if (lights[i]._type === pc.LIGHTTYPE_SPOT) {\n        light = lights[i];\n        shadowCam = this.renderer.getShadowCamera(device, light);\n        shadowCam._node.setPosition(light._node.getPosition());\n        shadowCam._node.setRotation(light._node.getRotation());\n        shadowCam._node.rotateLocal(-90, 0, 0);\n        shadowCam.projection = pc.PROJECTION_PERSPECTIVE;\n        shadowCam.nearClip = light.attenuationEnd / 1000;\n        shadowCam.farClip = light.attenuationEnd;\n        shadowCam.aspectRatio = 1;\n        shadowCam.fov = light._outerConeAngle * 2;\n        this.renderer.updateCameraFrustum(shadowCam);\n      }\n      if (nodesMeshInstances.length > 0) {\n        this.renderer.updateShaders(nodesMeshInstances[0]);\n      }\n      for (node = 0;node < nodes.length;node++) {\n        rcv = nodesMeshInstances[node];\n        bounds = nodeBounds[node];\n        if (lights[i]._type === pc.LIGHTTYPE_DIRECTIONAL) {\n          tempVec.copy(bounds.center);\n          tempVec.y += bounds.halfExtents.y;\n          lmCamera._node.setPosition(tempVec);\n          lmCamera._node.setEulerAngles(-90, 0, 0);\n          var frustumSize = Math.max(bounds.halfExtents.x, bounds.halfExtents.z);\n          lmCamera.projection = pc.PROJECTION_ORTHOGRAPHIC;\n          lmCamera.nearClip = 0;\n          lmCamera.farClip = bounds.halfExtents.y * 2;\n          lmCamera.aspectRatio = 1;\n          lmCamera.orthoHeight = frustumSize;\n        } else {\n          if (!lightBounds.intersects(bounds)) {\n            continue;\n          }\n        }\n        if (lights[i]._type === pc.LIGHTTYPE_SPOT) {\n          var nodeVisible = false;\n          for (j = 0;j < rcv.length;j++) {\n            if (this.renderer._isVisible(shadowCam, rcv[j])) {\n              nodeVisible = true;\n              break;\n            }\n          }\n          if (!nodeVisible) {\n            continue;\n          }\n        }\n        if (lights[i]._type === pc.LIGHTTYPE_DIRECTIONAL) {\n          lightArray[pc.LIGHTTYPE_DIRECTIONAL][0] = lights[i];\n          lightArray[pc.LIGHTTYPE_POINT].length = 0;\n          lightArray[pc.LIGHTTYPE_SPOT].length = 0;\n          if (!shadowMapRendered && lights[i].castShadows) {\n            this.renderer.cullDirectionalShadowmap(lights[i], casters, lmCamera, 0);\n            this.renderer.renderShadows(lightArray[pc.LIGHTTYPE_DIRECTIONAL], 0);\n            shadowMapRendered = true;\n          }\n        } else {\n          lightArray[pc.LIGHTTYPE_DIRECTIONAL].length = 0;\n          if (lights[i]._type === pc.LIGHTTYPE_POINT) {\n            lightArray[pc.LIGHTTYPE_POINT][0] = lights[i];\n            lightArray[pc.LIGHTTYPE_SPOT].length = 0;\n            if (!shadowMapRendered && lights[i].castShadows) {\n              this.renderer.cullLocalShadowmap(lights[i], casters);\n              this.renderer.renderShadows(lightArray[pc.LIGHTTYPE_POINT]);\n              shadowMapRendered = true;\n            }\n          } else {\n            lightArray[pc.LIGHTTYPE_POINT].length = 0;\n            lightArray[pc.LIGHTTYPE_SPOT][0] = lights[i];\n            if (!shadowMapRendered && lights[i].castShadows) {\n              this.renderer.cullLocalShadowmap(lights[i], casters);\n              this.renderer.renderShadows(lightArray[pc.LIGHTTYPE_SPOT]);\n              shadowMapRendered = true;\n            }\n          }\n        }\n        for (j = 0;j < rcv.length;j++) {\n          origMat[j] = rcv[j].material;\n        }\n        for (pass = 0;pass < passCount;pass++) {\n          lm = lmaps[pass][node];\n          targ = nodeTarg[pass][node];\n          targTmp = texPool[lm.width];\n          texTmp = targTmp.colorBuffer;\n          if (pass === 0) {\n            shadersUpdatedOn1stPass = scene.updateShaders;\n          } else {\n            if (shadersUpdatedOn1stPass) {\n              scene.updateShaders = true;\n            }\n          }\n          for (j = 0;j < rcv.length;j++) {\n            rcv[j].material = passMaterial[pass];\n          }\n          if (passCount > 1) {\n            this.renderer.updateShaders(rcv);\n          }\n          this.renderer.setCamera(lmCamera, targTmp, true);\n          if (pass === PASS_DIR) {\n            constantBakeDir.setValue(lights[i].bakeDir ? 1 : 0);\n          }\n          this.renderer._forwardTime = 0;\n          this.renderer._shadowMapTime = 0;\n          this.renderer.renderForward(lmCamera, rcv, rcv.length, lightArray, pc.SHADER_FORWARDHDR);\n          lmaps[pass][node] = texTmp;\n          nodeTarg[pass][node] = targTmp;\n          texPool[lm.width] = targ;\n          for (j = 0;j < rcv.length;j++) {\n            m = rcv[j];\n            m.setParameter(passTexName[pass], texTmp);\n            m._shaderDefs |= pc.SHADERDEF_LM;\n          }\n        }\n        nodeLightCount[node]++;\n        for (j = 0;j < rcv.length;j++) {\n          rcv[j].material = origMat[j];\n        }\n      }\n      lights[i].enabled = false;\n      lights[i]._cacheShadowMap = false;\n      if (lights[i]._isCachedShadowMap) {\n        lights[i]._destroyShadowMap();\n      }\n    }\n    var sceneLmaps;\n    for (node = 0;node < nodes.length;node++) {\n      rcv = nodesMeshInstances[node];\n      sceneLmaps = [];\n      for (pass = 0;pass < passCount;pass++) {\n        lm = lmaps[pass][node];\n        targ = nodeTarg[pass][node];\n        targTmp = texPool[lm.width];\n        texTmp = targTmp.colorBuffer;\n        var numDilates2x = 4;\n        pixelOffset[0] = 1 / lm.width;\n        pixelOffset[1] = 1 / lm.height;\n        constantPixelOffset.setValue(pixelOffset);\n        for (i = 0;i < numDilates2x;i++) {\n          constantTexSource.setValue(lm);\n          pc.drawQuadWithShader(device, targTmp, dilateShader);\n          constantTexSource.setValue(texTmp);\n          pc.drawQuadWithShader(device, targ, dilateShader);\n        }\n        for (i = 0;i < rcv.length;i++) {\n          m = rcv[i];\n          m.mask = maskBaked;\n          rcv[i].setParameter(passTexName[pass], lm);\n          if (pass === PASS_DIR) {\n            rcv[i]._shaderDefs |= pc.SHADERDEF_DIRLM;\n          }\n        }\n        sceneLmaps[pass] = lm;\n        if (pass === passCount - 1) {\n          targ.destroy();\n        }\n      }\n      sceneLightmaps.push(sceneLmaps);\n      sceneLightmapsNode.push(nodes[node]);\n    }\n    for (var key in texPool) {\n      if (texPool.hasOwnProperty(key)) {\n        texPool[key].colorBuffer.destroy();\n        texPool[key].destroy();\n      }\n    }\n    for (i = 0;i < sceneLightmaps.length;i++) {\n      for (j = 0;j < sceneLightmaps[i].length;j++) {\n        tex = sceneLightmaps[i][j];\n        tex.minFilter = pc.FILTER_LINEAR;\n        tex.magFilter = pc.FILTER_LINEAR;\n      }\n    }\n    for (node = 0;node < allNodes.length;node++) {\n      allNodes[node].model.castShadows = origCastShadows[node];\n    }\n    for (i = 0;i < origShaderDefs.length;i++) {\n      if (origShaderDefs[i]) {\n        rcv = sceneLightmapsNode[i].model.model.meshInstances;\n        for (j = 0;j < rcv.length;j++) {\n          rcv[j]._shaderDefs |= origShaderDefs[i][j] & (pc.SHADERDEF_LM | pc.SHADERDEF_DIRLM);\n        }\n      }\n    }\n    for (i = 0;i < lights.length;i++) {\n      lights[i]._mask = origMask[i];\n      lights[i].shadowUpdateMode = origShadowMode[i];\n    }\n    for (i = 0;i < sceneLights.length;i++) {\n      sceneLights[i].enabled = origEnabled[i];\n    }\n    scene.fog = origFog;\n    scene.ambientLight.set(origAmbientR, origAmbientG, origAmbientB);\n    if (revertStatic) {\n      scene._needsStaticPrepare = true;\n    }\n  }});\n  return {Lightmapper:Lightmapper};\n}());\nObject.assign(pc, function() {\n  var Batch = function(meshInstances, dynamic, batchGroupId) {\n    this.origMeshInstances = meshInstances;\n    this._aabb = new pc.BoundingBox;\n    this.meshInstance = null;\n    this.model = null;\n    this.dynamic = dynamic;\n    this.batchGroupId = batchGroupId;\n    this.refCounter = 0;\n  };\n  var BatchGroup = function(id, name, dynamic, maxAabbSize, layers) {\n    this.dynamic = dynamic;\n    this.maxAabbSize = maxAabbSize;\n    this.id = id;\n    this.name = name;\n    this.layers = layers === undefined ? [pc.LAYERID_WORLD] : layers;\n    this._ui = false;\n    this._sprite = false;\n    this._obj = {model:[], element:[], sprite:[]};\n  };\n  BatchGroup.MODEL = \"model\";\n  BatchGroup.ELEMENT = \"element\";\n  BatchGroup.SPRITE = \"sprite\";\n  var SkinBatchInstance = function(device, nodes, rootNode) {\n    this.device = device;\n    this.rootNode = rootNode;\n    this._dirty = true;\n    this.bones = nodes;\n    var numBones = nodes.length;\n    if (device.supportsBoneTextures) {\n      var size;\n      if (numBones > 256) {\n        size = 64;\n      } else {\n        if (numBones > 64) {\n          size = 32;\n        } else {\n          if (numBones > 16) {\n            size = 16;\n          } else {\n            size = 8;\n          }\n        }\n      }\n      this.boneTexture = new pc.Texture(device, {width:size, height:size, format:pc.PIXELFORMAT_RGBA32F, mipmaps:false, minFilter:pc.FILTER_NEAREST, magFilter:pc.FILTER_NEAREST});\n      this.boneTexture.name = \"batching\";\n      this.matrixPalette = this.boneTexture.lock();\n    } else {\n      this.matrixPalette = new Float32Array(numBones * 16);\n    }\n  };\n  Object.assign(SkinBatchInstance.prototype, {updateMatrices:function(rootNode) {\n  }, updateMatrixPalette:function() {\n    var pe;\n    var mp = this.matrixPalette;\n    var base;\n    for (var i = this.bones.length - 1;i >= 0;i--) {\n      pe = this.bones[i].getWorldTransform().data;\n      base = i * 16;\n      mp[base] = pe[0];\n      mp[base + 1] = pe[1];\n      mp[base + 2] = pe[2];\n      mp[base + 3] = pe[3];\n      mp[base + 4] = pe[4];\n      mp[base + 5] = pe[5];\n      mp[base + 6] = pe[6];\n      mp[base + 7] = pe[7];\n      mp[base + 8] = pe[8];\n      mp[base + 9] = pe[9];\n      mp[base + 10] = pe[10];\n      mp[base + 11] = pe[11];\n      mp[base + 12] = pe[12];\n      mp[base + 13] = pe[13];\n      mp[base + 14] = pe[14];\n      mp[base + 15] = pe[15];\n    }\n    if (this.device.supportsBoneTextures) {\n      this.boneTexture.lock();\n      this.boneTexture.unlock();\n    }\n  }});\n  var BatchManager = function(device, root, scene) {\n    this.device = device;\n    this.rootNode = root;\n    this.scene = scene;\n    this._init = false;\n    this._batchGroups = {};\n    this._batchGroupCounter = 0;\n    this._batchList = [];\n    this._dirtyGroups = [];\n  };\n  BatchManager.prototype.destroyManager = function() {\n    this.device = null;\n    this.rootNode = null;\n    this.scene = null;\n    this._batchGroups = {};\n    this._batchList = [];\n    this._dirtyGroups = [];\n  };\n  BatchManager.prototype.addGroup = function(name, dynamic, maxAabbSize, id, layers) {\n    if (id === undefined) {\n      id = this._batchGroupCounter;\n      this._batchGroupCounter++;\n    }\n    if (this._batchGroups[id]) {\n      return;\n    }\n    var group;\n    this._batchGroups[id] = group = new pc.BatchGroup(id, name, dynamic, maxAabbSize, layers);\n    return group;\n  };\n  BatchManager.prototype.removeGroup = function(id) {\n    if (!this._batchGroups[id]) {\n      return;\n    }\n    var newBatchList = [];\n    for (var i = 0;i < this._batchList.length;i++) {\n      if (this._batchList[i].batchGroupId !== id) {\n        newBatchList.push(this._batchList[i]);\n        continue;\n      }\n      this.destroy(this._batchList[i]);\n    }\n    this._batchList = newBatchList;\n    this._removeModelsFromBatchGroup(this.rootNode, id);\n    delete this._batchGroups[id];\n  };\n  BatchManager.prototype.markGroupDirty = function(id) {\n    if (this._dirtyGroups.indexOf(id) < 0) {\n      this._dirtyGroups.push(id);\n    }\n  };\n  BatchManager.prototype.getGroupByName = function(name) {\n    var groups = this._batchGroups;\n    for (var group in groups) {\n      if (!groups.hasOwnProperty(group)) {\n        continue;\n      }\n      if (groups[group].name === name) {\n        return groups[group];\n      }\n    }\n    return null;\n  };\n  BatchManager.prototype.getBatches = function(batchGroupId) {\n    var results = [];\n    var len = this._batchList.length;\n    for (var i = 0;i < len;i++) {\n      var batch = this._batchList[i];\n      if (batch.batchGroupId === batchGroupId) {\n        results.push(batch);\n      }\n    }\n    return results;\n  };\n  BatchManager.prototype._removeModelsFromBatchGroup = function(node, id) {\n    if (!node.enabled) {\n      return;\n    }\n    if (node.model && node.model.batchGroupId === id) {\n      node.model.batchGroupId = -1;\n    }\n    if (node.element && node.element.batchGroupId === id) {\n      node.element.batchGroupId = -1;\n    }\n    if (node.sprite && node.sprite.batchGroupId === id) {\n      node.sprite.batchGroupId = -1;\n    }\n    for (var i = 0;i < node._children.length;i++) {\n      this._removeModelsFromBatchGroup(node._children[i], id);\n    }\n  };\n  BatchManager.prototype.insert = function(type, groupId, node) {\n    var group = this._batchGroups[groupId];\n    if (group) {\n      if (group._obj[type].indexOf(node) < 0) {\n        group._obj[type].push(node);\n        this.markGroupDirty(groupId);\n      }\n    } else {\n    }\n  };\n  BatchManager.prototype.remove = function(type, groupId, node) {\n    var group = this._batchGroups[groupId];\n    if (group) {\n      var idx = group._obj[type].indexOf(node);\n      if (idx >= 0) {\n        group._obj[type].splice(idx, 1);\n        this.markGroupDirty(groupId);\n      }\n    } else {\n    }\n  };\n  BatchManager.prototype._extractModel = function(node, arr, group, groupMeshInstances) {\n    if (!node.model || !node.model.model) {\n      return arr;\n    }\n    var i;\n    if (node.model.isStatic) {\n      var drawCalls = this.scene.drawCalls;\n      var nodeMeshInstances = node.model.meshInstances;\n      for (i = 0;i < drawCalls.length;i++) {\n        if (!drawCalls[i]._staticSource) {\n          continue;\n        }\n        if (nodeMeshInstances.indexOf(drawCalls[i]._staticSource) < 0) {\n          continue;\n        }\n        arr.push(drawCalls[i]);\n      }\n      for (i = 0;i < nodeMeshInstances.length;i++) {\n        if (drawCalls.indexOf(nodeMeshInstances[i]) >= 0) {\n          arr.push(nodeMeshInstances[i]);\n        }\n      }\n    } else {\n      arr = groupMeshInstances[node.model.batchGroupId] = arr.concat(node.model.meshInstances);\n    }\n    node.model.removeModelFromLayers(node.model.model);\n    return arr;\n  };\n  BatchManager.prototype._extractElement = function(node, arr, group) {\n    if (!node.element) {\n      return;\n    }\n    var valid = false;\n    if (node.element._text && node.element._text._model.meshInstances.length > 0) {\n      arr.push(node.element._text._model.meshInstances[0]);\n      node.element.removeModelFromLayers(node.element._text._model);\n      valid = true;\n    } else {\n      if (node.element._image) {\n        arr.push(node.element._image._renderable.meshInstance);\n        node.element.removeModelFromLayers(node.element._image._renderable.model);\n        if (node.element._image._renderable.unmaskMeshInstance) {\n          arr.push(node.element._image._renderable.unmaskMeshInstance);\n          if (!node.element._image._renderable.unmaskMeshInstance.stencilFront || !node.element._image._renderable.unmaskMeshInstance.stencilBack) {\n            node.element._dirtifyMask();\n            node.element._onPrerender();\n          }\n        }\n        valid = true;\n      }\n    }\n    if (valid) {\n      group._ui = true;\n    }\n  };\n  BatchManager.prototype._collectAndRemoveModels = function(groupMeshInstances, groupIds) {\n    var node, group, arr, id;\n    for (var g = 0;g < groupIds.length;g++) {\n      id = groupIds[g];\n      group = this._batchGroups[id];\n      if (!group) {\n        continue;\n      }\n      arr = groupMeshInstances[id];\n      if (!arr) {\n        arr = groupMeshInstances[id] = [];\n      }\n      for (var m = 0;m < group._obj.model.length;m++) {\n        arr = this._extractModel(group._obj.model[m], arr, group, groupMeshInstances);\n      }\n      for (var e = 0;e < group._obj.element.length;e++) {\n        this._extractElement(group._obj.element[e], arr, group);\n      }\n      for (var s = 0;s < group._obj.sprite.length;s++) {\n        node = group._obj.sprite[s];\n        if (node.sprite && node.sprite._meshInstance && (group.dynamic || node.sprite.sprite._renderMode === pc.SPRITE_RENDERMODE_SIMPLE)) {\n          arr.push(node.sprite._meshInstance);\n          node.sprite.removeModelFromLayers();\n          group._sprite = true;\n          node.sprite._batchGroup = group;\n        }\n      }\n    }\n  };\n  BatchManager.prototype.generate = function(groupIds) {\n    var i, j;\n    var groupMeshInstances = {};\n    if (!groupIds) {\n      groupIds = Object.keys(this._batchGroups);\n    }\n    var newBatchList = [];\n    for (i = 0;i < this._batchList.length;i++) {\n      if (groupIds.indexOf(this._batchList[i].batchGroupId) < 0) {\n        newBatchList.push(this._batchList[i]);\n        continue;\n      }\n      this.destroy(this._batchList[i]);\n    }\n    this._batchList = newBatchList;\n    this._collectAndRemoveModels(groupMeshInstances, groupIds);\n    if (groupIds === this._dirtyGroups) {\n      this._dirtyGroups.length = 0;\n    } else {\n      var newDirtyGroups = [];\n      for (i = 0;i < this._dirtyGroups.length;i++) {\n        if (groupIds.indexOf(this._dirtyGroups[i]) < 0) {\n          newDirtyGroups.push(this._dirtyGroups[i]);\n        }\n      }\n      this._dirtyGroups = newDirtyGroups;\n    }\n    var group, lists, groupData, batch;\n    for (var groupId in groupMeshInstances) {\n      if (!groupMeshInstances.hasOwnProperty(groupId)) {\n        continue;\n      }\n      group = groupMeshInstances[groupId];\n      groupData = this._batchGroups[groupId];\n      if (!groupData) {\n        continue;\n      }\n      lists = this.prepare(group, groupData.dynamic, groupData.maxAabbSize, groupData._ui || groupData._sprite);\n      for (i = 0;i < lists.length;i++) {\n        batch = this.create(lists[i], groupData.dynamic, parseInt(groupId, 10));\n        if (!batch) {\n          continue;\n        }\n        for (j = 0;j < groupData.layers.length;j++) {\n          var layer = this.scene.layers.getLayerById(groupData.layers[j]);\n          if (layer) {\n            layer.addMeshInstances(batch.model.meshInstances);\n          }\n        }\n      }\n    }\n  };\n  function paramsIdentical(a, b) {\n    if (a && !b) {\n      return false;\n    }\n    if (!a && b) {\n      return false;\n    }\n    a = a.data;\n    b = b.data;\n    if (a === b) {\n      return true;\n    }\n    if (a instanceof Float32Array && b instanceof Float32Array) {\n      if (a.length !== b.length) {\n        return false;\n      }\n      for (var i = 0;i < a.length;i++) {\n        if (a[i] !== b[i]) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n  function equalParamSets(params1, params2) {\n    var param;\n    for (param in params1) {\n      if (params1.hasOwnProperty(param) && !paramsIdentical(params1[param], params2[param])) {\n        return false;\n      }\n    }\n    for (param in params2) {\n      if (params2.hasOwnProperty(param) && !paramsIdentical(params2[param], params1[param])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  function equalLightLists(lightList1, lightList2) {\n    var k;\n    for (k = 0;k < lightList1.length;k++) {\n      if (lightList2.indexOf(lightList1[k]) < 0) {\n        return false;\n      }\n    }\n    for (k = 0;k < lightList2.length;k++) {\n      if (lightList1.indexOf(lightList2[k]) < 0) {\n        return false;\n      }\n    }\n    return true;\n  }\n  var worldMatX = new pc.Vec3;\n  var worldMatY = new pc.Vec3;\n  var worldMatZ = new pc.Vec3;\n  function getScaleSign(mi) {\n    var wt = mi.node.worldTransform;\n    wt.getX(worldMatX);\n    wt.getY(worldMatY);\n    wt.getZ(worldMatZ);\n    worldMatX.cross(worldMatX, worldMatY);\n    return worldMatX.dot(worldMatZ) >= 0 ? 1 : -1;\n  }\n  BatchManager.prototype.prepare = function(meshInstances, dynamic, maxAabbSize, translucent) {\n    if (meshInstances.length === 0) {\n      return [];\n    }\n    if (maxAabbSize === undefined) {\n      maxAabbSize = Number.POSITIVE_INFINITY;\n    }\n    var halfMaxAabbSize = maxAabbSize * 0.5;\n    var maxInstanceCount = this.device.supportsBoneTextures ? 1024 : this.device.boneLimit;\n    var i;\n    var material, layer, vertCount, params, lightList, defs, stencil, staticLights, scaleSign, drawOrder;\n    var aabb = new pc.BoundingBox;\n    var testAabb = new pc.BoundingBox;\n    var skipTranslucentAabb = null;\n    var lists = [];\n    var j = 0;\n    if (translucent) {\n      meshInstances.sort(function(a, b) {\n        return a.drawOrder - b.drawOrder;\n      });\n    }\n    var meshInstancesLeftA = meshInstances;\n    var meshInstancesLeftB;\n    var skipMesh = translucent ? function(mi) {\n      if (skipTranslucentAabb) {\n        skipTranslucentAabb.add(mi.aabb);\n      } else {\n        skipTranslucentAabb = mi.aabb.clone();\n      }\n      meshInstancesLeftB.push(mi);\n    } : function(mi) {\n      meshInstancesLeftB.push(mi);\n    };\n    var mi, sf;\n    while (meshInstancesLeftA.length > 0) {\n      lists[j] = [meshInstancesLeftA[0]];\n      meshInstancesLeftB = [];\n      material = meshInstancesLeftA[0].material;\n      layer = meshInstancesLeftA[0].layer;\n      defs = meshInstancesLeftA[0]._shaderDefs;\n      params = meshInstancesLeftA[0].parameters;\n      stencil = meshInstancesLeftA[0].stencilFront;\n      lightList = meshInstancesLeftA[0]._staticLightList;\n      vertCount = meshInstancesLeftA[0].mesh.vertexBuffer.getNumVertices();\n      drawOrder = meshInstancesLeftA[0].drawOrder;\n      aabb.copy(meshInstancesLeftA[0].aabb);\n      scaleSign = getScaleSign(meshInstancesLeftA[0]);\n      skipTranslucentAabb = null;\n      for (i = 1;i < meshInstancesLeftA.length;i++) {\n        mi = meshInstancesLeftA[i];\n        if (dynamic && lists[j].length >= maxInstanceCount) {\n          meshInstancesLeftB = meshInstancesLeftB.concat(meshInstancesLeftA.slice(i));\n          break;\n        }\n        if (material !== mi.material || layer !== mi.layer || defs !== mi._shaderDefs || vertCount + mi.mesh.vertexBuffer.getNumVertices() > 65535) {\n          skipMesh(mi);\n          continue;\n        }\n        testAabb.copy(aabb);\n        testAabb.add(mi.aabb);\n        if (testAabb.halfExtents.x > halfMaxAabbSize || testAabb.halfExtents.y > halfMaxAabbSize || testAabb.halfExtents.z > halfMaxAabbSize) {\n          skipMesh(mi);\n          continue;\n        }\n        if (stencil) {\n          if (!(sf = mi.stencilFront) || stencil.func != sf.func || stencil.zpass != sf.zpass) {\n            skipMesh(mi);\n            continue;\n          }\n        }\n        if (scaleSign != getScaleSign(mi)) {\n          skipMesh(mi);\n          continue;\n        }\n        if (!equalParamSets(params, mi.parameters)) {\n          skipMesh(mi);\n          continue;\n        }\n        staticLights = mi._staticLightList;\n        if (lightList && staticLights) {\n          if (!equalLightLists(lightList, staticLights)) {\n            skipMesh(mi);\n            continue;\n          }\n        } else {\n          if (lightList || staticLights) {\n            skipMesh(mi);\n            continue;\n          }\n        }\n        if (translucent && skipTranslucentAabb && skipTranslucentAabb.intersects(mi.aabb) && mi.drawOrder !== drawOrder) {\n          skipMesh(mi);\n          continue;\n        }\n        aabb.add(mi.aabb);\n        vertCount += mi.mesh.vertexBuffer.getNumVertices();\n        lists[j].push(mi);\n      }\n      j++;\n      meshInstancesLeftA = meshInstancesLeftB;\n    }\n    return lists;\n  };\n  BatchManager.prototype.create = function(meshInstances, dynamic, batchGroupId) {\n    if (!this._init) {\n      var boneLimit = \"#define BONE_LIMIT \" + this.device.getBoneLimit() + \"\\n\";\n      this.transformVS = boneLimit + \"#define DYNAMICBATCH\\n\" + pc.shaderChunks.transformVS;\n      this.skinTexVS = pc.shaderChunks.skinBatchTexVS;\n      this.skinConstVS = pc.shaderChunks.skinBatchConstVS;\n      this.vertexFormats = {};\n      this._init = true;\n    }\n    var i, j;\n    var material = null;\n    var mesh, elems, numVerts, vertSize;\n    var hasPos, hasNormal, hasUv, hasUv2, hasTangent, hasColor;\n    var batchNumVerts = 0;\n    var batchNumIndices = 0;\n    var visibleMeshInstanceCount = 0;\n    for (i = 0;i < meshInstances.length;i++) {\n      if (!meshInstances[i].visible) {\n        continue;\n      }\n      visibleMeshInstanceCount++;\n      if (!material) {\n        material = meshInstances[i].material;\n      } else {\n        if (material !== meshInstances[i].material) {\n          return;\n        }\n      }\n      mesh = meshInstances[i].mesh;\n      elems = mesh.vertexBuffer.format.elements;\n      numVerts = mesh.vertexBuffer.numVertices;\n      batchNumVerts += numVerts;\n      for (j = 0;j < elems.length;j++) {\n        if (elems[j].name === pc.SEMANTIC_POSITION) {\n          hasPos = true;\n        } else {\n          if (elems[j].name === pc.SEMANTIC_NORMAL) {\n            hasNormal = true;\n          } else {\n            if (elems[j].name === pc.SEMANTIC_TEXCOORD0) {\n              hasUv = true;\n            } else {\n              if (elems[j].name === pc.SEMANTIC_TEXCOORD1) {\n                hasUv2 = true;\n              } else {\n                if (elems[j].name === pc.SEMANTIC_TANGENT) {\n                  hasTangent = true;\n                } else {\n                  if (elems[j].name === pc.SEMANTIC_COLOR) {\n                    hasColor = true;\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n      batchNumIndices += mesh.primitive[0].indexed ? mesh.primitive[0].count : mesh.primitive[0].count === 4 ? 6 : 0;\n    }\n    if (!visibleMeshInstanceCount) {\n      return;\n    }\n    if (!hasPos) {\n      return;\n    }\n    var batch = new pc.Batch(meshInstances, dynamic, batchGroupId);\n    this._batchList.push(batch);\n    var entityIndexSizeF = dynamic ? 1 : 0;\n    var batchVertSizeF = 3 + (hasNormal ? 3 : 0) + (hasUv ? 2 : 0) + (hasUv2 ? 2 : 0) + (hasTangent ? 4 : 0) + (hasColor ? 1 : 0) + entityIndexSizeF;\n    var batchOffsetNF = 3;\n    var batchOffsetUF = hasNormal ? 3 * 2 : 3;\n    var batchOffsetU2F = (hasNormal ? 3 * 2 : 3) + (hasUv ? 2 : 0);\n    var batchOffsetTF = (hasNormal ? 3 * 2 : 3) + (hasUv ? 2 : 0) + (hasUv2 ? 2 : 0);\n    var batchOffsetCF = (hasNormal ? 3 * 2 : 3) + (hasUv ? 2 : 0) + (hasUv2 ? 2 : 0) + (hasTangent ? 4 : 0);\n    var batchOffsetEF = (hasNormal ? 3 * 2 : 3) + (hasUv ? 2 : 0) + (hasUv2 ? 2 : 0) + (hasTangent ? 4 : 0) + (hasColor ? 1 : 0);\n    var arrayBuffer = new ArrayBuffer(batchNumVerts * batchVertSizeF * 4);\n    var batchData = new Float32Array(arrayBuffer);\n    var batchData8 = new Uint8Array(arrayBuffer);\n    var indexBuffer = new pc.IndexBuffer(this.device, pc.INDEXFORMAT_UINT16, batchNumIndices, pc.BUFFER_STATIC);\n    var batchIndexData = new Uint16Array(indexBuffer.lock());\n    var vertSizeF;\n    var data, data8, indexBase, numIndices, indexData;\n    var verticesOffset = 0;\n    var indexOffset = 0;\n    var vbOffset = 0;\n    var offsetPF, offsetNF, offsetUF, offsetU2F, offsetTF, offsetCF;\n    var transform, vec = new pc.Vec3;\n    for (i = 0;i < meshInstances.length;i++) {\n      if (!meshInstances[i].visible) {\n        continue;\n      }\n      mesh = meshInstances[i].mesh;\n      elems = mesh.vertexBuffer.format.elements;\n      numVerts = mesh.vertexBuffer.numVertices;\n      vertSize = mesh.vertexBuffer.format.size;\n      vertSizeF = vertSize / 4;\n      for (j = 0;j < elems.length;j++) {\n        if (elems[j].name === pc.SEMANTIC_POSITION) {\n          offsetPF = elems[j].offset / 4;\n        } else {\n          if (elems[j].name === pc.SEMANTIC_NORMAL) {\n            offsetNF = elems[j].offset / 4;\n          } else {\n            if (elems[j].name === pc.SEMANTIC_TEXCOORD0) {\n              offsetUF = elems[j].offset / 4;\n            } else {\n              if (elems[j].name === pc.SEMANTIC_TEXCOORD1) {\n                offsetU2F = elems[j].offset / 4;\n              } else {\n                if (elems[j].name === pc.SEMANTIC_TANGENT) {\n                  offsetTF = elems[j].offset / 4;\n                } else {\n                  if (elems[j].name === pc.SEMANTIC_COLOR) {\n                    offsetCF = elems[j].offset / 4;\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n      data = new Float32Array(mesh.vertexBuffer.storage);\n      data8 = new Uint8Array(mesh.vertexBuffer.storage);\n      transform = meshInstances[i].node.getWorldTransform();\n      for (j = 0;j < numVerts;j++) {\n        vec.set(data[j * vertSizeF + offsetPF], data[j * vertSizeF + offsetPF + 1], data[j * vertSizeF + offsetPF + 2]);\n        if (!dynamic) {\n          transform.transformPoint(vec, vec);\n        }\n        batchData[j * batchVertSizeF + vbOffset] = vec.x;\n        batchData[j * batchVertSizeF + vbOffset + 1] = vec.y;\n        batchData[j * batchVertSizeF + vbOffset + 2] = vec.z;\n        if (hasNormal) {\n          vec.set(data[j * vertSizeF + offsetNF], data[j * vertSizeF + offsetNF + 1], data[j * vertSizeF + offsetNF + 2]);\n          if (!dynamic) {\n            transform.transformVector(vec, vec);\n          }\n          batchData[j * batchVertSizeF + vbOffset + batchOffsetNF] = vec.x;\n          batchData[j * batchVertSizeF + vbOffset + batchOffsetNF + 1] = vec.y;\n          batchData[j * batchVertSizeF + vbOffset + batchOffsetNF + 2] = vec.z;\n        }\n        if (hasUv) {\n          batchData[j * batchVertSizeF + vbOffset + batchOffsetUF] = data[j * vertSizeF + offsetUF];\n          batchData[j * batchVertSizeF + vbOffset + batchOffsetUF + 1] = data[j * vertSizeF + offsetUF + 1];\n        }\n        if (hasUv2) {\n          batchData[j * batchVertSizeF + vbOffset + batchOffsetU2F] = data[j * vertSizeF + offsetU2F];\n          batchData[j * batchVertSizeF + vbOffset + batchOffsetU2F + 1] = data[j * vertSizeF + offsetU2F + 1];\n        }\n        if (hasTangent) {\n          vec.set(data[j * vertSizeF + offsetTF], data[j * vertSizeF + offsetTF + 1], data[j * vertSizeF + offsetTF + 2]);\n          if (!dynamic) {\n            transform.transformVector(vec, vec);\n          }\n          batchData[j * batchVertSizeF + vbOffset + batchOffsetTF] = vec.x;\n          batchData[j * batchVertSizeF + vbOffset + batchOffsetTF + 1] = vec.y;\n          batchData[j * batchVertSizeF + vbOffset + batchOffsetTF + 2] = vec.z;\n          batchData[j * batchVertSizeF + vbOffset + batchOffsetTF + 3] = data[j * vertSizeF + offsetTF + 3];\n        }\n        if (hasColor) {\n          batchData8[j * batchVertSizeF * 4 + vbOffset * 4 + batchOffsetCF * 4] = data8[j * vertSizeF * 4 + offsetCF * 4];\n          batchData8[j * batchVertSizeF * 4 + vbOffset * 4 + batchOffsetCF * 4 + 1] = data8[j * vertSizeF * 4 + offsetCF * 4 + 1];\n          batchData8[j * batchVertSizeF * 4 + vbOffset * 4 + batchOffsetCF * 4 + 2] = data8[j * vertSizeF * 4 + offsetCF * 4 + 2];\n          batchData8[j * batchVertSizeF * 4 + vbOffset * 4 + batchOffsetCF * 4 + 3] = data8[j * vertSizeF * 4 + offsetCF * 4 + 3];\n        }\n        if (dynamic) {\n          batchData[j * batchVertSizeF + batchOffsetEF + vbOffset] = i;\n        }\n      }\n      indexBase = mesh.primitive[0].base;\n      numIndices = mesh.primitive[0].count;\n      if (mesh.primitive[0].indexed) {\n        indexData = new Uint16Array(mesh.indexBuffer[0].storage);\n      } else {\n        if (numIndices === 4) {\n          indexBase = 0;\n          numIndices = 6;\n          indexData = [0, 1, 3, 2, 3, 1];\n        } else {\n          numIndices = 0;\n          continue;\n        }\n      }\n      for (j = 0;j < numIndices;j++) {\n        batchIndexData[j + indexOffset] = indexData[indexBase + j] + verticesOffset;\n      }\n      indexOffset += numIndices;\n      verticesOffset += numVerts;\n      vbOffset = verticesOffset * batchVertSizeF;\n    }\n    var vertexFormatId = 0;\n    if (hasNormal) {\n      vertexFormatId |= 1 << 1;\n    }\n    if (hasUv) {\n      vertexFormatId |= 1 << 2;\n    }\n    if (hasUv2) {\n      vertexFormatId |= 1 << 3;\n    }\n    if (hasTangent) {\n      vertexFormatId |= 1 << 4;\n    }\n    if (hasColor) {\n      vertexFormatId |= 1 << 5;\n    }\n    if (dynamic) {\n      vertexFormatId |= 1 << 6;\n    }\n    var vertexFormat = this.vertexFormats[vertexFormatId];\n    if (!vertexFormat) {\n      var formatDesc = [];\n      formatDesc.push({semantic:pc.SEMANTIC_POSITION, components:3, type:pc.ELEMENTTYPE_FLOAT32, normalize:false});\n      if (hasNormal) {\n        formatDesc.push({semantic:pc.SEMANTIC_NORMAL, components:3, type:pc.ELEMENTTYPE_FLOAT32, normalize:false});\n      }\n      if (hasUv) {\n        formatDesc.push({semantic:pc.SEMANTIC_TEXCOORD0, components:2, type:pc.ELEMENTTYPE_FLOAT32, normalize:false});\n      }\n      if (hasUv2) {\n        formatDesc.push({semantic:pc.SEMANTIC_TEXCOORD1, components:2, type:pc.ELEMENTTYPE_FLOAT32, normalize:false});\n      }\n      if (hasTangent) {\n        formatDesc.push({semantic:pc.SEMANTIC_TANGENT, components:4, type:pc.ELEMENTTYPE_FLOAT32, normalize:false});\n      }\n      if (hasColor) {\n        formatDesc.push({semantic:pc.SEMANTIC_COLOR, components:4, type:pc.ELEMENTTYPE_UINT8, normalize:true});\n      }\n      if (dynamic) {\n        formatDesc.push({semantic:pc.SEMANTIC_BLENDINDICES, components:1, type:pc.ELEMENTTYPE_FLOAT32, normalize:false});\n      }\n      vertexFormat = this.vertexFormats[vertexFormatId] = new pc.VertexFormat(this.device, formatDesc);\n    }\n    var vertexBuffer = new pc.VertexBuffer(this.device, vertexFormat, batchNumVerts, pc.BUFFER_STATIC, batchData.buffer);\n    indexBuffer.unlock();\n    mesh = new pc.Mesh;\n    mesh.vertexBuffer = vertexBuffer;\n    mesh.indexBuffer[0] = indexBuffer;\n    mesh.primitive[0].type = pc.PRIMITIVE_TRIANGLES;\n    mesh.primitive[0].base = 0;\n    mesh.primitive[0].count = batchNumIndices;\n    mesh.primitive[0].indexed = true;\n    mesh.cull = false;\n    if (dynamic) {\n      material = material.clone();\n      material.chunks.transformVS = this.transformVS;\n      material.chunks.skinTexVS = this.skinTexVS;\n      material.chunks.skinConstVS = this.skinConstVS;\n      material.update();\n    }\n    var meshInstance = new pc.MeshInstance(this.rootNode, mesh, material);\n    meshInstance.castShadow = batch.origMeshInstances[0].castShadow;\n    meshInstance.parameters = batch.origMeshInstances[0].parameters;\n    meshInstance.isStatic = batch.origMeshInstances[0].isStatic;\n    meshInstance.cull = batch.origMeshInstances[0].cull;\n    meshInstance.layer = batch.origMeshInstances[0].layer;\n    meshInstance._staticLightList = batch.origMeshInstances[0]._staticLightList;\n    meshInstance._shaderDefs = batch.origMeshInstances[0]._shaderDefs;\n    if (dynamic) {\n      var nodes = [];\n      for (i = 0;i < batch.origMeshInstances.length;i++) {\n        nodes.push(batch.origMeshInstances[i].node);\n      }\n      meshInstance.skinInstance = new SkinBatchInstance(this.device, nodes, this.rootNode);\n    }\n    meshInstance._updateAabb = false;\n    meshInstance.drawOrder = batch.origMeshInstances[0].drawOrder;\n    meshInstance.stencilFront = batch.origMeshInstances[0].stencilFront;\n    meshInstance.stencilBack = batch.origMeshInstances[0].stencilBack;\n    meshInstance.flipFaces = getScaleSign(batch.origMeshInstances[0]) < 0;\n    batch.meshInstance = meshInstance;\n    this.update(batch);\n    var newModel = new pc.Model;\n    newModel.meshInstances = [batch.meshInstance];\n    newModel.castShadows = batch.origMeshInstances[0].castShadows;\n    batch.model = newModel;\n    return batch;\n  };\n  BatchManager.prototype.update = function(batch) {\n    batch._aabb.copy(batch.origMeshInstances[0].aabb);\n    for (var i = 1;i < batch.origMeshInstances.length;i++) {\n      batch._aabb.add(batch.origMeshInstances[i].aabb);\n    }\n    batch.meshInstance.aabb = batch._aabb;\n    batch._aabb._radiusVer = -1;\n    batch.meshInstance._aabbVer = 0;\n  };\n  BatchManager.prototype.updateAll = function() {\n    if (this._dirtyGroups.length > 0) {\n      this.generate(this._dirtyGroups);\n    }\n    for (var i = 0;i < this._batchList.length;i++) {\n      if (!this._batchList[i].dynamic) {\n        continue;\n      }\n      this.update(this._batchList[i]);\n    }\n  };\n  BatchManager.prototype.clone = function(batch, clonedMeshInstances) {\n    var batch2 = new pc.Batch(clonedMeshInstances, batch.dynamic, batch.batchGroupId);\n    this._batchList.push(batch2);\n    var nodes = [];\n    for (var i = 0;i < clonedMeshInstances.length;i++) {\n      nodes.push(clonedMeshInstances[i].node);\n    }\n    batch2.meshInstance = new pc.MeshInstance(batch.meshInstance.node, batch.meshInstance.mesh, batch.meshInstance.material);\n    batch2.meshInstance._updateAabb = false;\n    batch2.meshInstance.parameters = clonedMeshInstances[0].parameters;\n    batch2.meshInstance.isStatic = clonedMeshInstances[0].isStatic;\n    batch2.meshInstance.cull = clonedMeshInstances[0].cull;\n    batch2.meshInstance.layer = clonedMeshInstances[0].layer;\n    batch2.meshInstance._staticLightList = clonedMeshInstances[0]._staticLightList;\n    if (batch.dynamic) {\n      batch2.meshInstance.skinInstance = new SkinBatchInstance(this.device, nodes, this.rootNode);\n    }\n    batch2.meshInstance.castShadow = batch.meshInstance.castShadow;\n    batch2.meshInstance._shader = batch.meshInstance._shader;\n    var newModel = new pc.Model;\n    newModel.meshInstances = [batch2.meshInstance];\n    newModel.castShadows = batch.origMeshInstances[0].castShadows;\n    batch2.model = newModel;\n    return batch2;\n  };\n  BatchManager.prototype.destroy = function(batch) {\n    batch.refCounter = 0;\n    if (!batch.model) {\n      return;\n    }\n    var layers = this._batchGroups[batch.batchGroupId].layers;\n    for (var i = 0;i < layers.length;i++) {\n      var layer = this.scene.layers.getLayerById(layers[i]);\n      if (layer) {\n        layer.removeMeshInstances(batch.model.meshInstances);\n      }\n    }\n    batch.model.destroy();\n  };\n  BatchManager.prototype.decrement = function(batch) {\n    batch.refCounter--;\n    if (batch.refCounter === 0) {\n      this.destroy(batch);\n    }\n  };\n  return {Batch:Batch, BatchGroup:BatchGroup, BatchManager:BatchManager};\n}());\n\n\nreturn pc;\n}));\n\n"]}